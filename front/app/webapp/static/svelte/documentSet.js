(function(){"use strict";function rA(){}const Ja=e=>e;function Wa(e,A){for(const t in A)e[t]=A[t];return e}function lg(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function Ya(e){return e()}function za(){return Object.create(null)}function be(e){e.forEach(Ya)}function Fr(e){return typeof e=="function"}function KA(e,A){return e!=e?A==A:e!==A||e&&typeof e=="object"||typeof e=="function"}let $n;function Je(e,A){return $n||($n=document.createElement("a")),$n.href=A,e===$n.href}function cg(e){return Object.keys(e).length===0}function jn(e,...A){if(e==null)return rA;const t=e.subscribe(...A);return t.unsubscribe?()=>t.unsubscribe():t}function Ee(e){let A;return jn(e,t=>A=t)(),A}function SA(e,A,t){e.$$.on_destroy.push(jn(A,t))}function lt(e,A,t,r){if(e){const n=$a(e,A,t,r);return e[0](n)}}function $a(e,A,t,r){return e[1]&&r?Wa(t.ctx.slice(),e[1](r(A))):t.ctx}function ct(e,A,t,r){if(e[2]&&r){const n=e[2](r(t));if(A.dirty===void 0)return n;if(typeof n=="object"){const i=[],s=Math.max(A.dirty.length,n.length);for(let o=0;o<s;o+=1)i[o]=A.dirty[o]|n[o];return i}return A.dirty|n}return A.dirty}function ut(e,A,t,r,n,i){if(n){const s=$a(A,t,r,i);e.p(s,n)}}function ft(e){if(e.ctx.length>32){const A=[],t=e.ctx.length/32;for(let r=0;r<t;r++)A[r]=-1;return A}return-1}function ug(e){const A={};for(const t in e)A[t]=!0;return A}function qn(e){return e??""}function on(e){return e&&Fr(e.destroy)?e.destroy:rA}const ja=typeof window<"u";let fg=ja?()=>window.performance.now():()=>Date.now(),Ns=ja?e=>requestAnimationFrame(e):rA;const br=new Set;function qa(e){br.forEach(A=>{A.c(e)||(br.delete(A),A.f())}),br.size!==0&&Ns(qa)}function hg(e){let A;return br.size===0&&Ns(qa),{promise:new Promise(t=>{br.add(A={c:e,f:t})}),abort(){br.delete(A)}}}const dg=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function w(e,A){e.appendChild(A)}function Za(e){if(!e)return document;const A=e.getRootNode?e.getRootNode():e.ownerDocument;return A&&A.host?A:e.ownerDocument}function gg(e){const A=Q("style");return Bg(Za(e),A),A.sheet}function Bg(e,A){return w(e.head||e,A),A.sheet}function O(e,A,t){e.insertBefore(A,t||null)}function K(e){e.parentNode&&e.parentNode.removeChild(e)}function Le(e,A){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(A)}function Q(e){return document.createElement(e)}function mt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function sA(e){return document.createTextNode(e)}function N(){return sA(" ")}function Oe(){return sA("")}function yA(e,A,t,r){return e.addEventListener(A,t,r),()=>e.removeEventListener(A,t,r)}function Mt(e){return function(A){return A.preventDefault(),e.call(this,A)}}function m(e,A,t){t==null?e.removeAttribute(A):e.getAttribute(A)!==t&&e.setAttribute(A,t)}function pg(e){return Array.from(e.childNodes)}function PA(e,A){A=""+A,e.data!==A&&(e.data=A)}function Zn(e,A){e.value=A??""}function zA(e,A,t,r){t==null?e.style.removeProperty(A):e.style.setProperty(A,t,r?"important":"")}function Yt(e,A,t){for(let r=0;r<e.options.length;r+=1){const n=e.options[r];if(n.__value===A){n.selected=!0;return}}(!t||A!==void 0)&&(e.selectedIndex=-1)}function Ai(e){const A=e.querySelector(":checked");return A&&A.__value}function $A(e,A,t){e.classList[t?"add":"remove"](A)}function Al(e,A,{bubbles:t=!1,cancelable:r=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t,r,A),n}function ei(e,A){return new e(A)}const ti=new Map;let ri=0;function mg(e){let A=5381,t=e.length;for(;t--;)A=(A<<5)-A^e.charCodeAt(t);return A>>>0}function wg(e,A){const t={stylesheet:gg(A),rules:{}};return ti.set(e,t),t}function el(e,A,t,r,n,i,s,o=0){const a=16.666/r;let l=`{
`;for(let B=0;B<=1;B+=a){const p=A+(t-A)*i(B);l+=B*100+`%{${s(p,1-p)}}
`}const c=l+`100% {${s(t,1-t)}}
}`,f=`__svelte_${mg(c)}_${o}`,u=Za(e),{stylesheet:h,rules:d}=ti.get(u)||wg(u,e);d[f]||(d[f]=!0,h.insertRule(`@keyframes ${f} ${c}`,h.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?`${g}, `:""}${f} ${r}ms linear ${n}ms 1 both`,ri+=1,f}function vg(e,A){const t=(e.style.animation||"").split(", "),r=t.filter(A?i=>i.indexOf(A)<0:i=>i.indexOf("__svelte")===-1),n=t.length-r.length;n&&(e.style.animation=r.join(", "),ri-=n,ri||Cg())}function Cg(){Ns(()=>{ri||(ti.forEach(e=>{const{ownerNode:A}=e.stylesheet;A&&K(A)}),ti.clear())})}let an;function kt(e){an=e}function Er(){if(!an)throw new Error("Function called outside component initialization");return an}function Ir(e){Er().$$.on_mount.push(e)}function Hr(e){Er().$$.on_destroy.push(e)}function ni(){const e=Er();return(A,t,{cancelable:r=!1}={})=>{const n=e.$$.callbacks[A];if(n){const i=Al(A,t,{cancelable:r});return n.slice().forEach(s=>{s.call(e,i)}),!i.defaultPrevented}return!0}}function Sr(e,A){return Er().$$.context.set(e,A),A}function nt(e){return Er().$$.context.get(e)}const xr=[],zt=[];let Lr=[];const tl=[],Qg=Promise.resolve();let Rs=!1;function yg(){Rs||(Rs=!0,Qg.then(Vs))}function it(e){Lr.push(e)}const Ps=new Set;let Mr=0;function Vs(){if(Mr!==0)return;const e=an;do{try{for(;Mr<xr.length;){const A=xr[Mr];Mr++,kt(A),_g(A.$$)}}catch(A){throw xr.length=0,Mr=0,A}for(kt(null),xr.length=0,Mr=0;zt.length;)zt.pop()();for(let A=0;A<Lr.length;A+=1){const t=Lr[A];Ps.has(t)||(Ps.add(t),t())}Lr.length=0}while(xr.length);for(;tl.length;)tl.pop()();Rs=!1,Ps.clear(),kt(e)}function _g(e){if(e.fragment!==null){e.update(),be(e.before_update);const A=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,A),e.after_update.forEach(it)}}function Ug(e){const A=[],t=[];Lr.forEach(r=>e.indexOf(r)===-1?A.push(r):t.push(r)),t.forEach(r=>r()),Lr=A}let ln;function Fg(){return ln||(ln=Promise.resolve(),ln.then(()=>{ln=null})),ln}function Gs(e,A,t){e.dispatchEvent(Al(`${A?"intro":"outro"}${t}`))}const ii=new Set;let Tt;function ZA(){Tt={r:0,c:[],p:Tt}}function Ae(){Tt.r||be(Tt.c),Tt=Tt.p}function P(e,A){e&&e.i&&(ii.delete(e),e.i(A))}function W(e,A,t,r){if(e&&e.o){if(ii.has(e))return;ii.add(e),Tt.c.push(()=>{ii.delete(e),r&&(t&&e.d(1),r())}),e.o(A)}else r&&r()}const bg={duration:0};function $t(e,A,t,r){const n={direction:"both"};let i=A(e,t,n),s=r?0:1,o=null,a=null,l=null;function c(){l&&vg(e,l)}function f(h,d){const g=h.b-s;return d*=Math.abs(g),{a:s,b:h.b,d:g,duration:d,start:h.start,end:h.start+d,group:h.group}}function u(h){const{delay:d=0,duration:g=300,easing:B=Ja,tick:p=rA,css:C}=i||bg,U={start:fg()+d,b:h};h||(U.group=Tt,Tt.r+=1),o||a?a=U:(C&&(c(),l=el(e,s,h,g,d,B,C)),h&&p(0,1),o=f(U,g),it(()=>Gs(e,h,"start")),hg(v=>{if(a&&v>a.start&&(o=f(a,g),a=null,Gs(e,o.b,"start"),C&&(c(),l=el(e,s,o.b,o.duration,0,B,i.css))),o){if(v>=o.end)p(s=o.b,1-s),Gs(e,o.b,"end"),a||(o.b?c():--o.group.r||be(o.group.c)),o=null;else if(v>=o.start){const y=v-o.start;s=o.a+o.d*B(y/o.duration),p(s,1-s)}}return!!(o||a)}))}return{run(h){Fr(i)?Fg().then(()=>{i=i(n),u(h)}):u(h)},end(){c(),o=a=null}}}function Xs(e,A){const t=A.token={};function r(n,i,s,o){if(A.token!==t)return;A.resolved=o;let a=A.ctx;s!==void 0&&(a=a.slice(),a[s]=o);const l=n&&(A.current=n)(a);let c=!1;A.block&&(A.blocks?A.blocks.forEach((f,u)=>{u!==i&&f&&(ZA(),W(f,1,1,()=>{A.blocks[u]===f&&(A.blocks[u]=null)}),Ae())}):A.block.d(1),l.c(),P(l,1),l.m(A.mount(),A.anchor),c=!0),A.block=l,A.blocks&&(A.blocks[i]=l),c&&Vs()}if(lg(e)){const n=Er();if(e.then(i=>{kt(n),r(A.then,1,A.value,i),kt(null)},i=>{if(kt(n),r(A.catch,2,A.error,i),kt(null),!A.hasCatch)throw i}),A.current!==A.pending)return r(A.pending,0),!0}else{if(A.current!==A.then)return r(A.then,1,A.value,e),!0;A.resolved=e}}function rl(e,A,t){const r=A.slice(),{resolved:n}=e;e.current===e.then&&(r[e.value]=n),e.current===e.catch&&(r[e.error]=n),e.block.p(r,t)}function Eg(e,A){e.d(1),A.delete(e.key)}function Js(e,A){W(e,1,1,()=>{A.delete(e.key)})}function si(e,A,t,r,n,i,s,o,a,l,c,f){let u=e.length,h=i.length,d=u;const g={};for(;d--;)g[e[d].key]=d;const B=[],p=new Map,C=new Map,U=[];for(d=h;d--;){const H=f(n,i,d),F=t(H);let b=s.get(F);b?r&&U.push(()=>b.p(H,A)):(b=l(F,H),b.c()),p.set(F,B[d]=b),F in g&&C.set(F,Math.abs(d-g[F]))}const v=new Set,y=new Set;function _(H){P(H,1),H.m(o,c),s.set(H.key,H),c=H.first,h--}for(;u&&h;){const H=B[h-1],F=e[u-1],b=H.key,k=F.key;H===F?(c=H.first,u--,h--):p.has(k)?!s.has(b)||v.has(b)?_(H):y.has(k)?u--:C.get(b)>C.get(k)?(y.add(b),_(H)):(v.add(k),u--):(a(F,s),u--)}for(;u--;){const H=e[u];p.has(H.key)||a(H,s)}for(;h;)_(B[h-1]);return be(U),B}function Ig(e,A){const t={},r={},n={$$scope:1};let i=e.length;for(;i--;){const s=e[i],o=A[i];if(o){for(const a in s)a in o||(r[a]=1);for(const a in o)n[a]||(t[a]=o[a],n[a]=1);e[i]=o}else for(const a in s)n[a]=1}for(const s in r)s in t||(t[s]=void 0);return t}function Hg(e){return typeof e=="object"&&e!==null?e:{}}function BA(e){e&&e.c()}function dA(e,A,t,r){const{fragment:n,after_update:i}=e.$$;n&&n.m(A,t),r||it(()=>{const s=e.$$.on_mount.map(Ya).filter(Fr);e.$$.on_destroy?e.$$.on_destroy.push(...s):be(s),e.$$.on_mount=[]}),i.forEach(it)}function gA(e,A){const t=e.$$;t.fragment!==null&&(Ug(t.after_update),be(t.on_destroy),t.fragment&&t.fragment.d(A),t.on_destroy=t.fragment=null,t.ctx=[])}function Sg(e,A){e.$$.dirty[0]===-1&&(xr.push(e),yg(),e.$$.dirty.fill(0)),e.$$.dirty[A/31|0]|=1<<A%31}function VA(e,A,t,r,n,i,s,o=[-1]){const a=an;kt(e);const l=e.$$={fragment:null,ctx:[],props:i,update:rA,not_equal:n,bound:za(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(A.context||(a?a.$$.context:[])),callbacks:za(),dirty:o,skip_bound:!1,root:A.target||a.$$.root};s&&s(l.root);let c=!1;if(l.ctx=t?t(e,A.props||{},(f,u,...h)=>{const d=h.length?h[0]:u;return l.ctx&&n(l.ctx[f],l.ctx[f]=d)&&(!l.skip_bound&&l.bound[f]&&l.bound[f](d),c&&Sg(e,f)),u}):[],l.update(),c=!0,be(l.before_update),l.fragment=r?r(l.ctx):!1,A.target){if(A.hydrate){const f=pg(A.target);l.fragment&&l.fragment.l(f),f.forEach(K)}else l.fragment&&l.fragment.c();A.intro&&P(e.$$.fragment),dA(e,A.target,A.anchor,A.customElement),Vs()}kt(a)}class GA{$destroy(){gA(this,1),this.$destroy=rA}$on(A,t){if(!Fr(t))return rA;const r=this.$$.callbacks[A]||(this.$$.callbacks[A]=[]);return r.push(t),()=>{const n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(A){this.$$set&&!cg(A)&&(this.$$.skip_bound=!0,this.$$set(A),this.$$.skip_bound=!1)}}const kr=[];function xg(e,A){return{subscribe:kA(e,A).subscribe}}function kA(e,A=rA){let t;const r=new Set;function n(o){if(KA(e,o)&&(e=o,t)){const a=!kr.length;for(const l of r)l[1](),kr.push(l,e);if(a){for(let l=0;l<kr.length;l+=2)kr[l][0](kr[l+1]);kr.length=0}}}function i(o){n(o(e))}function s(o,a=rA){const l=[o,a];return r.add(l),r.size===1&&(t=A(n)||rA),o(e),()=>{r.delete(l),r.size===0&&t&&(t(),t=null)}}return{set:n,update:i,subscribe:s}}function Be(e,A,t){const r=!Array.isArray(e),n=r?[e]:e,i=A.length<2;return xg(t,s=>{let o=!1;const a=[];let l=0,c=rA;const f=()=>{if(l)return;c();const h=A(r?a[0]:a,s);i?s(h):c=Fr(h)?h:rA},u=n.map((h,d)=>jn(h,g=>{a[d]=g,l&=~(1<<d),o&&f()},()=>{l|=1<<d}));return o=!0,f(),function(){be(u),c(),o=!1}})}const J=APP_LANG,wt=APP_NAME;WEBAPP_NAME;const Ws=USER_ID,Ys=IS_SUPERUSER;ADD_PERMISSION;const jt=CSRF_TOKEN;ADDITIONAL_MODULES;const Lg="Region",nl=APP_URL,Mg=SAS_APP_URL;CANTALOUPE_APP_URL,MEDIA_PATH;const kg=PAGE_LEN,oi={Witness:J==="en"?"Witness":"Témoin",Work:J==="en"?"Work":"Œuvre",Series:J==="en"?"Series":"Série d'imprimés",Regions:J==="en"?"Region Extraction":"Extraction d'illustrations"},cn=kA(!1),Tg=kA(""),Dg=e=>typeof e=="string"||e instanceof String;async function zs(e){cn.set(!0);try{return await e()}finally{cn.set(!1)}}function $s(e){return e.match(/\d+/g).toString()}function Kg(e){return parseInt($s(e),10)}function Og(e,A=100){const t=Math.floor(A*.75);return e.length>A?e.slice(0,t)+"..."+e.slice(-A+t):e}function Ng(){return"https://vhs.huma-num.fr"}function Rg(){return Mg??"http://localhost:8888"}function js(e,A){if(typeof window<"u"){const t=parseInt(new URLSearchParams(window.location.search).get(A));if(!isNaN(t))return e.set(t),t}return e.set(1),1}function qs(e,A,t){if(A.set(e),typeof window<"u"){const r=new URL(window.location.href);r.searchParams.set(t,e),window.history.pushState({},"",r)}}function Pg(e=null){return e=e.split("_"),e.length<3?void 0:`${e.slice(0,3).join("_").replace(".jpg","")}.jpg`}function il(e=null){const A=Pg(e);return A===void 0?void 0:`${Ng()}/iiif/2/${A}`}function ht(e=null,A=null,t="full"){if(A=Dg(A)?A.replace(".jpg",""):A,!e)return"https://placehold.co/96x96/png?text=No+image";if(!e.startsWith("wit")){const[i,...s]=e.split("_wit");e=`wit${s}`}const r=il(e);if(r===void 0)return"https://placehold.co/96x96/png?text=No+image";const n=e.split("_");return A||(A=n[n.length-1].includes(",")?n.pop().replace(".jpg",""):"full"),`${r}/${A}/${t}/0/default.jpg`}function Vg(e=null){return`${il(e)}/info.json`}function Gg(e=null,A=1){return`${Rg()}/index.html?iiif-content=${e}&canvas=${A}`}function Ne(e,A=null,t=!1){return new Promise(r=>{if(document.getElementById("msg-modal")){t?document.getElementById("modal-footer").hidden=!1:r(void 0),A&&(document.getElementById("modal-title").innerHTML=A),document.getElementById("modal-msg").innerHTML=e,document.getElementById("hidden-msg-btn").click();const i=document.getElementById("cancel-btn"),s=document.getElementById("ok-btn"),o=document.getElementById("modal-bkg"),a=()=>{i.removeEventListener("click",l),o.removeEventListener("click",l),s.removeEventListener("click",c),document.getElementById("modal-footer").hidden=!0},l=()=>{a(),r(!1)},c=()=>{a(),r(!0)};i.addEventListener("click",l),s.addEventListener("click",c)}else t?r(window.confirm(e)):(window.alert(e),r(void 0))})}function ai(){let e,A,t=(r,n)=>r===n;return{set:r=>{A=e,e=r},setCompareFn:r=>t=r,get:()=>e,getNewAndOld:()=>[e,A],same:()=>t(e,A)}}const Zs=(e,A)=>Array.isArray(e)&&Array.isArray(A)&&e.length===A.length&&e.every((t,r)=>t===A[r]||void 0);function Xg(e){const t=[85,70,60],r=[50,65,40],n=e*137.5%360,i=t[e%t.length],s=r[Math.floor(e/t.length)%r.length];return`hsl(${Math.floor(n)}, ${i}%, ${s}%)`}function sl(e=null){return e<600?1:e<800?2:e<1e3?3:e<1200?4:e<1400?5:e>=1400?6:4}function Ao(e){const A=e.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button-close"),t=()=>e.classList.remove("is-active");A.forEach(n=>n.addEventListener("click",t));const r=n=>{n.key==="Escape"&&e.classList.contains("is-active")&&t()};return document.addEventListener("keydown",r),{destroy(){A.forEach(n=>n.removeEventListener("click",t)),document.removeEventListener("keydown",r)}}}function ol(e){const A=()=>{const t=document.getElementById(e.dataset.target);t==null||t.classList.add("is-active")};return e.addEventListener("click",A),{destroy(){e.removeEventListener("click",A)}}}function Tr(e,A,t="string",r=null){const n={string:s=>{const o=s.get(A);return o!==null?o:null},array:s=>{const o=s.get(A);return o?o.split(",").map(Number).filter(a=>!isNaN(a)):null},set:s=>{const o=s.get(A);return o?new Set(o.split(",").map(Number).filter(a=>!isNaN(a))):null},number:s=>{const o=s.get(A);return o!==null?Number(o):null},boolean:s=>{const o=s.get(A);return o!==null?o==="true":null}},i={string:(s,o)=>o?s.searchParams.set(A,o):s.searchParams.delete(A),array:(s,o)=>{o!=null&&o.length?s.searchParams.set(A,o.join(",")):s.searchParams.delete(A)},set:(s,o)=>{o!=null&&o.size?s.searchParams.set(A,Array.from(o).join(",")):s.searchParams.delete(A)},number:(s,o)=>{o!=null?s.searchParams.set(A,String(o)):s.searchParams.delete(A)},boolean:(s,o)=>o?s.searchParams.set(A,"true"):s.searchParams.delete(A)};if(typeof window<"u"){const s=new URLSearchParams(window.location.search),o=n[t](s);if(o!==null)e.set(o);else if(r!==null){const a=typeof r=="function"?r():r;e.set(a)}return a=>{const l=new URL(window.location);i[t](l,a),window.history.pushState({},"",l)}}return()=>{}}function Jg(e){const A=e-1;return A*A*A+1}function Dr(e,{delay:A=0,duration:t=400,easing:r=Ja}={}){const n=+getComputedStyle(e).opacity;return{delay:A,duration:t,easing:r,css:i=>`opacity: ${i*n}`}}function al(e,{delay:A=0,duration:t=400,easing:r=Jg,axis:n="y"}={}){const i=getComputedStyle(e),s=+i.opacity,o=n==="y"?"height":"width",a=parseFloat(i[o]),l=n==="y"?["top","bottom"]:["left","right"],c=l.map(p=>`${p[0].toUpperCase()}${p.slice(1)}`),f=parseFloat(i[`padding${c[0]}`]),u=parseFloat(i[`padding${c[1]}`]),h=parseFloat(i[`margin${c[0]}`]),d=parseFloat(i[`margin${c[1]}`]),g=parseFloat(i[`border${c[0]}Width`]),B=parseFloat(i[`border${c[1]}Width`]);return{delay:A,duration:t,easing:r,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*s};${o}: ${p*a}px;padding-${l[0]}: ${p*f}px;padding-${l[1]}: ${p*u}px;margin-${l[0]}: ${p*h}px;margin-${l[1]}: ${p*d}px;border-${l[0]}-width: ${p*g}px;border-${l[1]}-width: ${p*B}px;`}}const LH="";function ll(e){let A,t,r;return{c(){A=Q("div"),A.innerHTML='<div class="loader svelte-vizlcg"></div>',m(A,"class","bkg-shade svelte-vizlcg")},m(n,i){O(n,A,i),r=!0},i(n){r||(it(()=>{r&&(t||(t=$t(A,Dr,{duration:150},!0)),t.run(1))}),r=!0)},o(n){t||(t=$t(A,Dr,{duration:150},!1)),t.run(0),r=!1},d(n){n&&K(A),n&&t&&t.end()}}}function Wg(e){let A,t,r=e[0]&&ll();return{c(){r&&r.c(),A=Oe()},m(n,i){r&&r.m(n,i),O(n,A,i),t=!0},p(n,[i]){n[0]?r?i&1&&P(r,1):(r=ll(),r.c(),P(r,1),r.m(A.parentNode,A)):r&&(ZA(),W(r,1,1,()=>{r=null}),Ae())},i(n){t||(P(r),t=!0)},o(n){W(r),t=!1},d(n){r&&r.d(n),n&&K(A)}}}function Yg(e,A,t){let r;return SA(e,cn,n=>t(0,r=n)),[r]}class zg extends GA{constructor(A){super(),VA(this,A,Yg,Wg,KA,{})}}const $g=e=>({}),cl=e=>({});function jg(e){let A,t,r,n,i,s,o,a,l,c,f,u,h,d,g,B,p,C,U,v,y;const _=e[1].content,H=lt(_,e,e[0],cl);return{c(){A=Q("button"),t=N(),r=Q("div"),n=Q("div"),i=N(),s=Q("div"),o=Q("div"),o.innerHTML=`<div class="title is-4 mb-0 media-content"><span id="modal-title" class="mb-0"></span></div>
            <button class="delete media-left" aria-label="close"></button>`,a=N(),l=Q("section"),c=Q("div"),f=N(),u=Q("div"),H&&H.c(),h=N(),d=Q("footer"),g=Q("div"),B=Q("button"),B.textContent=`${J==="en"?"Abort":"Retour"}`,p=N(),C=Q("button"),C.textContent="OK",m(A,"id","hidden-msg-btn"),m(A,"data-target","msg-modal"),A.hidden=!0,m(n,"id","modal-bkg"),m(n,"class","modal-background"),m(o,"class","modal-card-head media mb-0"),m(c,"id","modal-msg"),m(u,"class","py-3"),m(l,"id","modal-body"),m(l,"class","modal-card-body"),m(B,"id","cancel-btn"),m(B,"class","button is-link is-light button-close"),m(C,"id","ok-btn"),m(C,"class","button is-link button-close"),m(g,"class","buttons"),m(d,"id","modal-footer"),m(d,"class","modal-card-foot is-center pt-3"),d.hidden=!0,m(s,"class","modal-content"),m(r,"id","msg-modal"),m(r,"class","modal fade"),m(r,"tabindex","-1"),m(r,"aria-labelledby","selection-modal-label"),m(r,"aria-hidden","true")},m(F,b){O(F,A,b),O(F,t,b),O(F,r,b),w(r,n),w(r,i),w(r,s),w(s,o),w(s,a),w(s,l),w(l,c),w(l,f),w(l,u),H&&H.m(u,null),w(s,h),w(s,d),w(d,g),w(g,B),w(g,p),w(g,C),U=!0,v||(y=[on(ol.call(null,A)),on(Ao.call(null,r))],v=!0)},p(F,[b]){H&&H.p&&(!U||b&1)&&ut(H,_,F,F[0],U?ct(_,F[0],b,$g):ft(F[0]),cl)},i(F){U||(P(H,F),U=!0)},o(F){W(H,F),U=!1},d(F){F&&K(A),F&&K(t),F&&K(r),H&&H.d(F),v=!1,be(y)}}}function qg(e,A,t){let{$$slots:r={},$$scope:n}=A;return e.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,r]}class Zg extends GA{constructor(A){super(),VA(this,A,qg,jg,KA,{})}}const MH="",AB=e=>({activeTab:e&8}),ul=e=>({activeTab:e[3]});function fl(e,A,t){const r=e.slice();return r[11]=A[t][0],r[12]=A[t][1],r}const eB=e=>({activeTab:e&8}),hl=e=>({activeTab:e[3]}),tB=e=>({}),dl=e=>({});function rB(e){let A,t,r=Object.entries(e[2]),n=[];for(let i=0;i<r.length;i+=1)n[i]=gl(fl(e,r,i));return{c(){A=Q("div"),t=Q("ul");for(let i=0;i<n.length;i+=1)n[i].c();m(A,"class","tabs")},m(i,s){O(i,A,s),w(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s&28){r=Object.entries(i[2]);let o;for(o=0;o<r.length;o+=1){const a=fl(i,r,o);n[o]?n[o].p(a,s):(n[o]=gl(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},i:rA,o:rA,d(i){i&&K(A),Le(n,i)}}}function nB(e){let A;const t=e[8].tabs,r=lt(t,e,e[7],hl);return{c(){r&&r.c()},m(n,i){r&&r.m(n,i),A=!0},p(n,i){r&&r.p&&(!A||i&136)&&ut(r,t,n,n[7],A?ct(t,n[7],i,eB):ft(n[7]),hl)},i(n){A||(P(r,n),A=!0)},o(n){W(r,n),A=!1},d(n){r&&r.d(n)}}}function gl(e){let A,t,r=e[12]+"",n,i,s,o;function a(){return e[9](e[11])}return{c(){A=Q("li"),t=Q("a"),n=sA(r),i=N(),m(t,"href",null),$A(A,"is-active",e[3]===e[11])},m(l,c){O(l,A,c),w(A,t),w(t,n),w(A,i),s||(o=yA(t,"click",a),s=!0)},p(l,c){e=l,c&4&&r!==(r=e[12]+"")&&PA(n,r),c&12&&$A(A,"is-active",e[3]===e[11])},d(l){l&&K(A),s=!1,o()}}}function iB(e){let A,t,r,n,i,s,o,a,l,c,f,u,h;A=new zg({});const d=e[8].sidebar,g=lt(d,e,e[7],dl),B=[nB,rB],p=[];function C(y,_){return _&4&&(a=null),y[5].tabs?0:(a==null&&(a=!!Object.keys(y[2]).length),a?1:-1)}~(l=C(e,-1))&&(c=p[l]=B[l](e));const U=e[8].content,v=lt(U,e,e[7],ul);return{c(){BA(A.$$.fragment),t=N(),r=Q("div"),n=Q("aside"),g&&g.c(),i=N(),s=Q("main"),o=Q("nav"),c&&c.c(),f=N(),u=Q("div"),v&&v.c(),m(n,"class","sidebar svelte-jexg"),zA(n,"width",e[0]+"%"),zA(n,"min-height",e[1]),m(o,"id","tabs"),m(o,"class","tabs-bar svelte-jexg"),m(u,"class","content-area pl-5 svelte-jexg"),m(s,"class","main-content svelte-jexg"),zA(s,"width",100-e[0]+"%"),zA(s,"min-height",e[1]),m(r,"class","layout svelte-jexg"),zA(r,"min-height",e[1])},m(y,_){dA(A,y,_),O(y,t,_),O(y,r,_),w(r,n),g&&g.m(n,null),w(r,i),w(r,s),w(s,o),~l&&p[l].m(o,null),w(s,f),w(s,u),v&&v.m(u,null),h=!0},p(y,[_]){g&&g.p&&(!h||_&128)&&ut(g,d,y,y[7],h?ct(d,y[7],_,tB):ft(y[7]),dl),(!h||_&1)&&zA(n,"width",y[0]+"%");let H=l;l=C(y,_),l===H?~l&&p[l].p(y,_):(c&&(ZA(),W(p[H],1,1,()=>{p[H]=null}),Ae()),~l?(c=p[l],c?c.p(y,_):(c=p[l]=B[l](y),c.c()),P(c,1),c.m(o,null)):c=null),v&&v.p&&(!h||_&136)&&ut(v,U,y,y[7],h?ct(U,y[7],_,AB):ft(y[7]),ul),(!h||_&1)&&zA(s,"width",100-y[0]+"%")},i(y){h||(P(A.$$.fragment,y),P(g,y),P(c),P(v,y),h=!0)},o(y){W(A.$$.fragment,y),W(g,y),W(c),W(v,y),h=!1},d(y){gA(A,y),y&&K(t),y&&K(r),g&&g.d(y),~l&&p[l].d(),v&&v.d(y)}}}function sB(e=null){e||(e=document.getElementById("navbar")),document.documentElement.style.setProperty("--top-offset",`${e.offsetHeight}px`)}function oB(e,A,t){let r,{$$slots:n={},$$scope:i}=A;const s=ug(n);let{sidebarWidth:o="25"}=A;const a="90vh";let{tabList:l={}}=A,c=Object.keys(l),{topOffsetElement:f=null}=A;sB(f);function u(d){if(!c.includes(d)){console.warn(`Tab "${d}" is not available.`);return}t(3,r=d);const g=new URL(window.location);g.searchParams.set("tab",d),window.history.pushState({},"",g)}const h=d=>u(d);return e.$$set=d=>{"sidebarWidth"in d&&t(0,o=d.sidebarWidth),"tabList"in d&&t(2,l=d.tabList),"topOffsetElement"in d&&t(6,f=d.topOffsetElement),"$$scope"in d&&t(7,i=d.$$scope)},t(3,r=new URLSearchParams(window.location.search).get("tab")??c[0]??null),[o,a,l,r,u,s,f,i,n,h]}class aB extends GA{constructor(A){super(),VA(this,A,oB,iB,KA,{sidebarWidth:0,layoutHeight:1,tabList:2,topOffsetElement:6})}get layoutHeight(){return this.$$.ctx[1]}}const li={0:{title:J==="en"?"no categorization":"aucune catégorisation",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59">
        <rect x="1" y="0.62" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
    </svg>`},1:{title:J==="en"?"overall visual matches":"correspondances visuelles globales",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 69">
        <rect x="10" y="10.62" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <rect x="1" y="1" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <rect x="10" y="10.62" width="46" height="45.71" rx="4.11" ry="4.11" fill="currentColor" stroke="none"/>
    </svg>`},2:{title:J==="en"?"visual matches on part of the image":"correspondances visuelles sur une partie de l'image",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 71">
        <rect x="12" y="12.43" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <rect x="1" y="0.81" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <path d="M 12 21.43 L 21 12.43" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 12 30 L 30 12.43" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 40 56 L 57 38" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 48.3 56.29 L 57 47" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 12 39 L 39 12" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 12 48 L 48 12" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 13 56 L 57 12" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 31 56 L 57 29" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 21 57 L 57 21" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
    </svg>`},3:{title:J==="en"?"semantic and non-visual matches":"correspondances sémantiques et non-visuelle",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 73">
        <rect x="14" y="14.43" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3" stroke-dasharray="9 9"/>
        <rect x="1" y="0.81" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
    </svg>`},4:{title:J==="en"?"regions without match":"régions sans correspondance",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59">
        <rect x="1" y="0.62" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <path d="M 2.67 54.55 L 55 2" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 54.37 54.05 L 2.72 2.24" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
    </svg>`},5:{title:J==="en"?"user specific category":"correspondances spécifiques à l'utilisateur",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59">
        <rect x="1" y="0.81" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <path d="M 8.69 55.28 C 9.25 44.15 18.08 35.28 28.86 35.28 C 32.5 35.28 36.07 36.3 39.18 38.25 C 44.96 41.85 48.66 48.3 49.02 55.28 Z M 17.85 21.48 C 17.85 15.37 22.79 10.39 28.86 10.39 C 34.92 10.39 39.86 15.37 39.86 21.48 C 39.86 27.59 34.92 32.56 28.86 32.56 C 22.79 32.56 17.85 27.59 17.85 21.48 Z M 40.37 36.34 C 38.43 35.13 36.32 34.25 34.13 33.7 C 38.82 31.64 42.1 26.94 42.1 21.48 C 42.1 14.13 36.16 8.15 28.86 8.15 C 21.55 8.15 15.61 14.13 15.61 21.48 C 15.61 26.95 18.9 31.66 23.6 33.71 C 13.76 36.18 6.41 45.4 6.41 56.4 C 6.41 57.02 6.92 57.52 7.54 57.52 L 50.17 57.52 C 50.79 57.52 51.3 57.02 51.3 56.4 C 51.3 48.23 47.11 40.54 40.37 36.34 Z" fill="currentColor" stroke="none"/>
    </svg>`}};function lB(e){let A,t=li[e[2]].svg+"",r,n,i,s;return{c(){A=Q("span"),m(A,"class",r="tag py-4 "+e[4]+" "+(e[0]?"is-hoverable":"")),m(A,"title",n=li[e[2]].title),$A(A,"is-selected",e[1])},m(o,a){O(o,A,a),A.innerHTML=t,i||(s=[yA(A,"click",e[5]),yA(A,"keyup",null)],i=!0)},p(o,[a]){a&4&&t!==(t=li[o[2]].svg+"")&&(A.innerHTML=t),a&17&&r!==(r="tag py-4 "+o[4]+" "+(o[0]?"is-hoverable":""))&&m(A,"class",r),a&4&&n!==(n=li[o[2]].title)&&m(A,"title",n),a&19&&$A(A,"is-selected",o[1])},i:rA,o:rA,d(o){o&&K(A),i=!1,be(s)}}}function cB(e,A,t){let{selectable:r=!0}=A,{isSelected:n=!1}=A,{category:i}=A,{toggle:s=()=>{}}=A,{padding:o="px-2"}=A;const a=()=>s(i);return e.$$set=l=>{"selectable"in l&&t(0,r=l.selectable),"isSelected"in l&&t(1,n=l.isSelected),"category"in l&&t(2,i=l.category),"toggle"in l&&t(3,s=l.toggle),"padding"in l&&t(4,o=l.padding)},[r,n,i,s,o,a]}class Kr extends GA{constructor(A){super(),VA(this,A,cB,lB,KA,{selectable:0,isSelected:1,category:2,toggle:3,padding:4})}}const WH="";function Bl(e){let A,t,r=e[3].title+"",n,i;return{c(){A=Q("span"),t=Q("a"),n=sA(r),m(t,"href",i=`${nl}/${wt}/witness/${e[3].witnessId}/regions/${e[1]}`),m(t,"target","_blank"),m(A,"class","legend-label svelte-w1sf17")},m(s,o){O(s,A,o),w(A,t),w(t,n)},p(s,o){o&8&&r!==(r=s[3].title+"")&&PA(n,r),o&10&&i!==(i=`${nl}/${wt}/witness/${s[3].witnessId}/regions/${s[1]}`)&&m(t,"href",i)},d(s){s&&K(A)}}}function uB(e){let A,t,r,n,i,s,o,a,l,c=!e[5]&&Bl(e);return{c(){A=Q("div"),t=Q("span"),r=N(),n=Q("span"),o=N(),c&&c.c(),m(t,"class","legend-nb svelte-w1sf17"),m(n,"class","legend-color svelte-w1sf17"),m(n,"aria-label",i=e[3].title),m(n,"title",s=e[3].title),zA(n,"background-color",e[0]?e[3].color:"#999"),m(n,"role","button"),m(n,"tabindex","0"),$A(n,"inactive",!e[0]),$A(n,"clickable",e[4]),m(A,"class","legend-item svelte-w1sf17"),$A(A,"inactive",!e[0])},m(f,u){O(f,A,u),w(A,t),w(A,r),w(A,n),w(A,o),c&&c.m(A,null),a||(l=[yA(n,"click",function(){Fr(e[2])&&e[2].apply(this,arguments)}),yA(n,"keydown",null)],a=!0)},p(f,[u]){e=f,u&8&&i!==(i=e[3].title)&&m(n,"aria-label",i),u&8&&s!==(s=e[3].title)&&m(n,"title",s),u&9&&zA(n,"background-color",e[0]?e[3].color:"#999"),u&1&&$A(n,"inactive",!e[0]),u&16&&$A(n,"clickable",e[4]),e[5]?c&&(c.d(1),c=null):c?c.p(e,u):(c=Bl(e),c.c(),c.m(A,null)),u&1&&$A(A,"inactive",!e[0])},i:rA,o:rA,d(f){f&&K(A),c&&c.d(),a=!1,be(l)}}}function fB(e,A,t){let{isActive:r=!0}=A,{id:n}=A,{toggle:i=()=>{}}=A,{meta:s={title:"Region",color:"#999",witnessId:1}}=A,{clickable:o=!0}=A,{onlyColor:a=!1}=A;return e.$$set=l=>{"isActive"in l&&t(0,r=l.isActive),"id"in l&&t(1,n=l.id),"toggle"in l&&t(2,i=l.toggle),"meta"in l&&t(3,s=l.meta),"clickable"in l&&t(4,o=l.clickable),"onlyColor"in l&&t(5,a=l.onlyColor)},[r,n,i,s,o,a]}class pl extends GA{constructor(A){super(),VA(this,A,fB,uB,KA,{isActive:0,id:1,toggle:2,meta:3,clickable:4,onlyColor:5})}}const YH="";function ml(e,A,t){const r=e.slice();return r[12]=A[t][0],r[13]=A[t][1],r}function hB(e){let A;return{c(){A=Q("span"),A.innerHTML='<i class="fas fa-chevron-down"></i>',m(A,"class","icon is-small")},m(t,r){O(t,A,r)},d(t){t&&K(A)}}}function dB(e){let A;return{c(){A=Q("span"),A.innerHTML='<i class="fas fa-chevron-up"></i>',m(A,"class","icon is-small")},m(t,r){O(t,A,r)},d(t){t&&K(A)}}}function wl(e){let A,t;function r(){return e[10](e[12])}return A=new pl({props:{id:e[12],meta:e[13],isActive:e[0].has(parseInt(e[12])),toggle:r,onlyColor:!e[4]}}),{c(){BA(A.$$.fragment)},m(n,i){dA(A,n,i),t=!0},p(n,i){e=n;const s={};i&32&&(s.id=e[12]),i&32&&(s.meta=e[13]),i&33&&(s.isActive=e[0].has(parseInt(e[12]))),i&34&&(s.toggle=r),i&16&&(s.onlyColor=!e[4]),A.$set(s)},i(n){t||(P(A.$$.fragment,n),t=!0)},o(n){W(A.$$.fragment,n),t=!1},d(n){gA(A,n)}}}function gB(e){let A,t,r,n,i,s,o,a,l,c,f,u,h,d,g,B,p,C,U,v,y,_,H,F,b,k,M;function T(V,G){return V[4]?dB:hB}let L=T(e),E=L(e),R=e[5],S=[];for(let V=0;V<R.length;V+=1)S[V]=wl(ml(e,R,V));const Y=V=>W(S[V],1,1,()=>{S[V]=null});return{c(){A=Q("div"),t=Q("div"),r=Q("div"),n=Q("div"),i=Q("h3"),i.textContent=`${J==="en"?"Visible documents":"Documents visibles"}`,s=N(),o=Q("div"),a=Q("div"),l=Q("p"),c=Q("span"),f=Q("select"),u=Q("option"),u.textContent="ID",h=Q("option"),h.textContent=`${oi.Witness}`,d=Q("option"),d.textContent=`${J==="en"?"Title":"Titre"}`,g=N(),B=Q("p"),p=Q("button"),p.innerHTML='<span class="icon is-small has-text-link pl-2"><i class="fas fa-check"></i></span>',C=N(),U=Q("div"),v=Q("button"),E.c(),H=N(),F=Q("div");for(let V=0;V<S.length;V+=1)S[V].c();m(i,"class","title mb-0"),m(n,"class","level-item"),m(r,"class","level-left"),u.__value="id",u.value=u.__value,h.__value="witnessId",h.value=h.__value,d.__value="title",d.value=d.__value,e[3]===void 0&&it(()=>e[7].call(f)),m(c,"class","select is-small"),m(l,"class","control mb-0"),m(l,"title",J==="en"?"Sort documents by":"Trier les documents par"),m(p,"class","button is-small is-shadowless"),m(B,"class","control"),m(B,"title",J==="en"?"Select all documents":"Sélectionner tous les documents"),m(a,"class","level-item mb-0 field has-addons is-small"),m(v,"class","button is-small is-ghost"),m(v,"aria-label",y=e[4]?"Minify legend":"Expand legend"),m(U,"class","level-item"),m(U,"title",_=e[4]?"Minify legend":"Expand legend"),m(o,"class","level-right"),m(t,"class","level is-mobile mb-3"),m(F,"class","svelte-13ym7ov"),$A(F,"is-condensed",!e[4]),$A(F,"is-expanded",e[4])},m(V,G){O(V,A,G),w(A,t),w(t,r),w(r,n),w(n,i),w(t,s),w(t,o),w(o,a),w(a,l),w(l,c),w(c,f),w(f,u),w(f,h),w(f,d),Yt(f,e[3],!0),w(a,g),w(a,B),w(B,p),w(o,C),w(o,U),w(U,v),E.m(v,null),w(A,H),w(A,F);for(let AA=0;AA<S.length;AA+=1)S[AA]&&S[AA].m(F,null);b=!0,k||(M=[yA(f,"change",e[7]),yA(p,"click",e[8]),yA(v,"click",e[9])],k=!0)},p(V,[G]){if(G&8&&Yt(f,V[3]),L!==(L=T(V))&&(E.d(1),E=L(V),E&&(E.c(),E.m(v,null))),(!b||G&16&&y!==(y=V[4]?"Minify legend":"Expand legend"))&&m(v,"aria-label",y),(!b||G&16&&_!==(_=V[4]?"Minify legend":"Expand legend"))&&m(U,"title",_),G&51){R=V[5];let AA;for(AA=0;AA<R.length;AA+=1){const oA=ml(V,R,AA);S[AA]?(S[AA].p(oA,G),P(S[AA],1)):(S[AA]=wl(oA),S[AA].c(),P(S[AA],1),S[AA].m(F,null))}for(ZA(),AA=R.length;AA<S.length;AA+=1)Y(AA);Ae()}(!b||G&16)&&$A(F,"is-condensed",!V[4]),(!b||G&16)&&$A(F,"is-expanded",V[4])},i(V){if(!b){for(let G=0;G<R.length;G+=1)P(S[G]);b=!0}},o(V){S=S.filter(Boolean);for(let G=0;G<S.length;G+=1)W(S[G]);b=!1},d(V){V&&K(A),E.d(),Le(S,V),k=!1,be(M)}}}function BB(e,A,t){let r,{documentNodes:n}=A,{selectedRegions:i}=A,{toggleRegion:s}=A,{selectAllRegions:o}=A,a=!0,l="id";const c={id:(g,B)=>g[0]-B[0],witnessId:(g,B)=>(g[1].witnessId||0)-(B[1].witnessId||0),title:(g,B)=>(g[1].title||"").localeCompare(B[1].title||"")};function f(){l=Ai(this),t(3,l)}const u=()=>o(),h=()=>t(4,a=!a),d=g=>s(parseInt(g));return e.$$set=g=>{"documentNodes"in g&&t(6,n=g.documentNodes),"selectedRegions"in g&&t(0,i=g.selectedRegions),"toggleRegion"in g&&t(1,s=g.toggleRegion),"selectAllRegions"in g&&t(2,o=g.selectAllRegions)},e.$$.update=()=>{e.$$.dirty&72&&t(5,r=Array.from(n||new Map).sort(c[l]))},[i,s,o,l,a,r,n,f,u,h,d]}class pB extends GA{constructor(A){super(),VA(this,A,BB,gB,KA,{documentNodes:6,selectedRegions:0,toggleRegion:1,selectAllRegions:2})}}var qt;(function(e){e.Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values"})(qt||(qt={}));var We;(function(e){e[e.None=-1]="None",e[e.NoValue=0]="NoValue",e[e.LargeValue=1]="LargeValue",e[e.SmallValue=2]="SmallValue"})(We||(We={}));function mB(e){return ci(e)&&typeof e.from=="function"}function ci(e){return typeof e=="object"&&typeof e.to=="function"}function vl(e){e.parentElement.removeChild(e)}function eo(e){return e!=null}function Cl(e){e.preventDefault()}function wB(e){return e.filter(function(A){return this[A]?!1:this[A]=!0},{})}function vB(e,A){return Math.round(e/A)*A}function CB(e,A){var t=e.getBoundingClientRect(),r=e.ownerDocument,n=r.documentElement,i=_l(r);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(i.x=0),A?t.top+i.y-n.clientTop:t.left+i.x-n.clientLeft}function vt(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Ql(e,A,t){t>0&&(Re(e,A),setTimeout(function(){fi(e,A)},t))}function yl(e){return Math.max(Math.min(e,100),0)}function ui(e){return Array.isArray(e)?e:[e]}function QB(e){e=String(e);var A=e.split(".");return A.length>1?A[1].length:0}function Re(e,A){e.classList&&!/\s/.test(A)?e.classList.add(A):e.className+=" "+A}function fi(e,A){e.classList&&!/\s/.test(A)?e.classList.remove(A):e.className=e.className.replace(new RegExp("(^|\\b)"+A.split(" ").join("|")+"(\\b|$)","gi")," ")}function yB(e,A){return e.classList?e.classList.contains(A):new RegExp("\\b"+A+"\\b").test(e.className)}function _l(e){var A=window.pageXOffset!==void 0,t=(e.compatMode||"")==="CSS1Compat",r=A?window.pageXOffset:t?e.documentElement.scrollLeft:e.body.scrollLeft,n=A?window.pageYOffset:t?e.documentElement.scrollTop:e.body.scrollTop;return{x:r,y:n}}function _B(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function UB(){var e=!1;try{var A=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,A)}catch{}return e}function FB(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function to(e,A){return 100/(A-e)}function ro(e,A,t){return A*100/(e[t+1]-e[t])}function bB(e,A){return ro(e,e[0]<0?A+Math.abs(e[0]):A-e[0],0)}function EB(e,A){return A*(e[1]-e[0])/100+e[0]}function un(e,A){for(var t=1;e>=A[t];)t+=1;return t}function IB(e,A,t){if(t>=e.slice(-1)[0])return 100;var r=un(t,e),n=e[r-1],i=e[r],s=A[r-1],o=A[r];return s+bB([n,i],t)/to(s,o)}function HB(e,A,t){if(t>=100)return e.slice(-1)[0];var r=un(t,A),n=e[r-1],i=e[r],s=A[r-1],o=A[r];return EB([n,i],(t-s)*to(s,o))}function SB(e,A,t,r){if(r===100)return r;var n=un(r,e),i=e[n-1],s=e[n];return t?r-i>(s-i)/2?s:i:A[n-1]?e[n-1]+vB(r-e[n-1],A[n-1]):r}var Ul=function(){function e(A,t,r){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=t;var n,i=[];for(Object.keys(A).forEach(function(s){i.push([ui(A[s]),s])}),i.sort(function(s,o){return s[0][0]-o[0][0]}),n=0;n<i.length;n++)this.handleEntryPoint(i[n][1],i[n][0]);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)this.handleStepPoint(n,this.xNumSteps[n])}return e.prototype.getDistance=function(A){for(var t=[],r=0;r<this.xNumSteps.length-1;r++)t[r]=ro(this.xVal,A,r);return t},e.prototype.getAbsoluteDistance=function(A,t,r){var n=0;if(A<this.xPct[this.xPct.length-1])for(;A>this.xPct[n+1];)n++;else A===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);!r&&A===this.xPct[n+1]&&n++,t===null&&(t=[]);var i,s=1,o=t[n],a=0,l=0,c=0,f=0;for(r?i=(A-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):i=(this.xPct[n+1]-A)/(this.xPct[n+1]-this.xPct[n]);o>0;)a=this.xPct[n+1+f]-this.xPct[n+f],t[n+f]*s+100-i*100>100?(l=a*i,s=(o-100*i)/t[n+f],i=1):(l=t[n+f]*a/100*s,s=0),r?(c=c-l,this.xPct.length+f>=1&&f--):(c=c+l,this.xPct.length-f>=1&&f++),o=t[n+f]*s;return A+c},e.prototype.toStepping=function(A){return A=IB(this.xVal,this.xPct,A),A},e.prototype.fromStepping=function(A){return HB(this.xVal,this.xPct,A)},e.prototype.getStep=function(A){return A=SB(this.xPct,this.xSteps,this.snap,A),A},e.prototype.getDefaultStep=function(A,t,r){var n=un(A,this.xPct);return(A===100||t&&A===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/r},e.prototype.getNearbySteps=function(A){var t=un(A,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var A=this.xNumSteps.map(QB);return Math.max.apply(null,A)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(A){return this.getStep(this.toStepping(A))},e.prototype.handleEntryPoint=function(A,t){var r;if(A==="min"?r=0:A==="max"?r=100:r=parseFloat(A),!vt(r)||!vt(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(r),this.xVal.push(t[0]);var n=Number(t[1]);r?this.xSteps.push(isNaN(n)?!1:n):isNaN(n)||(this.xSteps[0]=n),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(A,t){if(t){if(this.xVal[A]===this.xVal[A+1]){this.xSteps[A]=this.xHighestCompleteStep[A]=this.xVal[A];return}this.xSteps[A]=ro([this.xVal[A],this.xVal[A+1]],t,0)/to(this.xPct[A],this.xPct[A+1]);var r=(this.xVal[A+1]-this.xVal[A])/this.xNumSteps[A],n=Math.ceil(Number(r.toFixed(3))-1),i=this.xVal[A]+this.xNumSteps[A]*n;this.xHighestCompleteStep[A]=i}},e}(),Fl={to:function(e){return e===void 0?"":e.toFixed(2)},from:Number},bl={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},Zt={tooltips:".__tooltips",aria:".__aria"};function xB(e,A){if(!vt(A))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=A}function LB(e,A){if(!vt(A))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=A}function MB(e,A){if(!vt(A))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=A}function kB(e,A){if(!vt(A))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=A}function TB(e,A){if(typeof A!="object"||Array.isArray(A))throw new Error("noUiSlider: 'range' is not an object.");if(A.min===void 0||A.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new Ul(A,e.snap||!1,e.singleStep)}function DB(e,A){if(A=ui(A),!Array.isArray(A)||!A.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=A.length,e.start=A}function KB(e,A){if(typeof A!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=A}function OB(e,A){if(typeof A!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=A}function NB(e,A){if(typeof A!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=A}function El(e,A){var t=[!1],r;if(A==="lower"?A=[!0,!1]:A==="upper"&&(A=[!1,!0]),A===!0||A===!1){for(r=1;r<e.handles;r++)t.push(A);t.push(!1)}else{if(!Array.isArray(A)||!A.length||A.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t=A}e.connect=t}function RB(e,A){switch(A){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Il(e,A){if(!vt(A))throw new Error("noUiSlider: 'margin' option must be numeric.");A!==0&&(e.margin=e.spectrum.getDistance(A))}function PB(e,A){if(!vt(A))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(A),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function VB(e,A){var t;if(!vt(A)&&!Array.isArray(A))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(A)&&!(A.length===2||vt(A[0])||vt(A[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(A!==0){for(Array.isArray(A)||(A=[A,A]),e.padding=[e.spectrum.getDistance(A[0]),e.spectrum.getDistance(A[1])],t=0;t<e.spectrum.xNumSteps.length-1;t++)if(e.padding[0][t]<0||e.padding[1][t]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=A[0]+A[1],n=e.spectrum.xVal[0],i=e.spectrum.xVal[e.spectrum.xVal.length-1];if(r/(i-n)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function GB(e,A){switch(A){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function XB(e,A){if(typeof A!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var t=A.indexOf("tap")>=0,r=A.indexOf("drag")>=0,n=A.indexOf("fixed")>=0,i=A.indexOf("snap")>=0,s=A.indexOf("hover")>=0,o=A.indexOf("unconstrained")>=0,a=A.indexOf("invert-connects")>=0,l=A.indexOf("drag-all")>=0,c=A.indexOf("smooth-steps")>=0;if(n){if(e.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Il(e,e.start[1]-e.start[0])}if(a&&e.handles!==2)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(o&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:t||i,drag:r,dragAll:l,smoothSteps:c,fixed:n,snap:i,hover:s,unconstrained:o,invertConnects:a}}function JB(e,A){if(A!==!1)if(A===!0||ci(A)){e.tooltips=[];for(var t=0;t<e.handles;t++)e.tooltips.push(A)}else{if(A=ui(A),A.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");A.forEach(function(r){if(typeof r!="boolean"&&!ci(r))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),e.tooltips=A}}function WB(e,A){if(A.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=A}function YB(e,A){if(!ci(A))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=A}function zB(e,A){if(!mB(A))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=A}function $B(e,A){if(typeof A!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=A}function jB(e,A){e.documentElement=A}function qB(e,A){if(typeof A!="string"&&A!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=A}function ZB(e,A){if(typeof A!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof e.cssPrefix=="string"?(e.cssClasses={},Object.keys(A).forEach(function(t){e.cssClasses[t]=e.cssPrefix+A[t]})):e.cssClasses=A}function Hl(e){var A={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:Fl,format:Fl},t={step:{r:!1,t:xB},keyboardPageMultiplier:{r:!1,t:LB},keyboardMultiplier:{r:!1,t:MB},keyboardDefaultStep:{r:!1,t:kB},start:{r:!0,t:DB},connect:{r:!0,t:El},direction:{r:!0,t:GB},snap:{r:!1,t:KB},animate:{r:!1,t:OB},animationDuration:{r:!1,t:NB},range:{r:!0,t:TB},orientation:{r:!1,t:RB},margin:{r:!1,t:Il},limit:{r:!1,t:PB},padding:{r:!1,t:VB},behaviour:{r:!0,t:XB},ariaFormat:{r:!1,t:YB},format:{r:!1,t:zB},tooltips:{r:!1,t:JB},keyboardSupport:{r:!0,t:$B},documentElement:{r:!1,t:jB},cssPrefix:{r:!0,t:qB},cssClasses:{r:!0,t:ZB},handleAttributes:{r:!1,t:WB}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:bl,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(t).forEach(function(a){if(!eo(e[a])&&r[a]===void 0){if(t[a].r)throw new Error("noUiSlider: '"+a+"' is required.");return}t[a].t(A,eo(e[a])?e[a]:r[a])}),A.pips=e.pips;var n=document.createElement("div"),i=n.style.msTransform!==void 0,s=n.style.transform!==void 0;A.transformRule=s?"transform":i?"msTransform":"webkitTransform";var o=[["left","top"],["right","bottom"]];return A.style=o[A.dir][A.ort],A}function Ap(e,A,t){var r=_B(),n=FB(),i=n&&UB(),s=e,o,a,l,c,f,u,h=A.spectrum,d=[],g=[],B=[],p=0,C={},U=!1,v=e.ownerDocument,y=A.documentElement||v.documentElement,_=v.body,H=v.dir==="rtl"||A.ort===1?0:100;function F(I,x){var D=v.createElement("div");return x&&Re(D,x),I.appendChild(D),D}function b(I,x){var D=F(I,A.cssClasses.origin),Z=F(D,A.cssClasses.handle);if(F(Z,A.cssClasses.touchArea),Z.setAttribute("data-handle",String(x)),A.keyboardSupport&&(Z.setAttribute("tabindex","0"),Z.addEventListener("keydown",function(nA){return OA(nA,x)})),A.handleAttributes!==void 0){var eA=A.handleAttributes[x];Object.keys(eA).forEach(function(nA){Z.setAttribute(nA,eA[nA])})}return Z.setAttribute("role","slider"),Z.setAttribute("aria-orientation",A.ort?"vertical":"horizontal"),x===0?Re(Z,A.cssClasses.handleLower):x===A.handles-1&&Re(Z,A.cssClasses.handleUpper),D.handle=Z,D}function k(I,x){return x?F(I,A.cssClasses.connect):!1}function M(I,x){a=F(x,A.cssClasses.connects),l=[],c=[],c.push(k(a,I[0]));for(var D=0;D<A.handles;D++)l.push(b(x,D)),B[D]=D,c.push(k(a,I[D+1]))}function T(I){Re(I,A.cssClasses.target),A.dir===0?Re(I,A.cssClasses.ltr):Re(I,A.cssClasses.rtl),A.ort===0?Re(I,A.cssClasses.horizontal):Re(I,A.cssClasses.vertical);var x=getComputedStyle(I).direction;return x==="rtl"?Re(I,A.cssClasses.textDirectionRtl):Re(I,A.cssClasses.textDirectionLtr),F(I,A.cssClasses.base)}function L(I,x){return!A.tooltips||!A.tooltips[x]?!1:F(I.firstChild,A.cssClasses.tooltip)}function E(){return s.hasAttribute("disabled")}function R(I){var x=l[I];return x.hasAttribute("disabled")}function S(I){I!=null?(l[I].setAttribute("disabled",""),l[I].handle.removeAttribute("tabindex")):(s.setAttribute("disabled",""),l.forEach(function(x){x.handle.removeAttribute("tabindex")}))}function Y(I){I!=null?(l[I].removeAttribute("disabled"),l[I].handle.setAttribute("tabindex","0")):(s.removeAttribute("disabled"),l.forEach(function(x){x.removeAttribute("disabled"),x.handle.setAttribute("tabindex","0")}))}function V(){u&&(ue("update"+Zt.tooltips),u.forEach(function(I){I&&vl(I)}),u=null)}function G(){V(),u=l.map(L),pe("update"+Zt.tooltips,function(I,x,D){if(!(!u||!A.tooltips)&&u[x]!==!1){var Z=I[x];A.tooltips[x]!==!0&&(Z=A.tooltips[x].to(D[x])),u[x].innerHTML=Z}})}function AA(){ue("update"+Zt.aria),pe("update"+Zt.aria,function(I,x,D,Z,eA){B.forEach(function(nA){var pA=l[nA],cA=Xe(g,nA,0,!0,!0,!0),ie=Xe(g,nA,100,!0,!0,!0),se=eA[nA],fe=String(A.ariaFormat.to(D[nA]));cA=h.fromStepping(cA).toFixed(1),ie=h.fromStepping(ie).toFixed(1),se=h.fromStepping(se).toFixed(1),pA.children[0].setAttribute("aria-valuemin",cA),pA.children[0].setAttribute("aria-valuemax",ie),pA.children[0].setAttribute("aria-valuenow",se),pA.children[0].setAttribute("aria-valuetext",fe)})})}function oA(I){if(I.mode===qt.Range||I.mode===qt.Steps)return h.xVal;if(I.mode===qt.Count){if(I.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var x=I.values-1,D=100/x,Z=[];x--;)Z[x]=x*D;return Z.push(100),fA(Z,I.stepped)}return I.mode===qt.Positions?fA(I.values,I.stepped):I.mode===qt.Values?I.stepped?I.values.map(function(eA){return h.fromStepping(h.getStep(h.toStepping(eA)))}):I.values:[]}function fA(I,x){return I.map(function(D){return h.fromStepping(x?h.getStep(D):D)})}function mA(I){function x(se,fe){return Number((se+fe).toFixed(7))}var D=oA(I),Z={},eA=h.xVal[0],nA=h.xVal[h.xVal.length-1],pA=!1,cA=!1,ie=0;return D=wB(D.slice().sort(function(se,fe){return se-fe})),D[0]!==eA&&(D.unshift(eA),pA=!0),D[D.length-1]!==nA&&(D.push(nA),cA=!0),D.forEach(function(se,fe){var he,CA,re,hA=se,IA=D[fe+1],HA,tt,rt,Wt,fr,Ur,og,ag=I.mode===qt.Steps;for(ag&&(he=h.xNumSteps[fe]),he||(he=IA-hA),IA===void 0&&(IA=hA),he=Math.max(he,1e-7),CA=hA;CA<=IA;CA=x(CA,he)){for(HA=h.toStepping(CA),tt=HA-ie,fr=tt/(I.density||1),Ur=Math.round(fr),og=tt/Ur,re=1;re<=Ur;re+=1)rt=ie+re*og,Z[rt.toFixed(5)]=[h.fromStepping(rt),0];Wt=D.indexOf(CA)>-1?We.LargeValue:ag?We.SmallValue:We.NoValue,!fe&&pA&&CA!==IA&&(Wt=0),CA===IA&&cA||(Z[HA.toFixed(5)]=[CA,Wt]),ie=HA}}),Z}function lA(I,x,D){var Z,eA,nA=v.createElement("div"),pA=(Z={},Z[We.None]="",Z[We.NoValue]=A.cssClasses.valueNormal,Z[We.LargeValue]=A.cssClasses.valueLarge,Z[We.SmallValue]=A.cssClasses.valueSub,Z),cA=(eA={},eA[We.None]="",eA[We.NoValue]=A.cssClasses.markerNormal,eA[We.LargeValue]=A.cssClasses.markerLarge,eA[We.SmallValue]=A.cssClasses.markerSub,eA),ie=[A.cssClasses.valueHorizontal,A.cssClasses.valueVertical],se=[A.cssClasses.markerHorizontal,A.cssClasses.markerVertical];Re(nA,A.cssClasses.pips),Re(nA,A.ort===0?A.cssClasses.pipsHorizontal:A.cssClasses.pipsVertical);function fe(CA,re){var hA=re===A.cssClasses.value,IA=hA?ie:se,HA=hA?pA:cA;return re+" "+IA[A.ort]+" "+HA[CA]}function he(CA,re,hA){if(hA=x?x(re,hA):hA,hA!==We.None){var IA=F(nA,!1);IA.className=fe(hA,A.cssClasses.marker),IA.style[A.style]=CA+"%",hA>We.NoValue&&(IA=F(nA,!1),IA.className=fe(hA,A.cssClasses.value),IA.setAttribute("data-value",String(re)),IA.style[A.style]=CA+"%",IA.innerHTML=String(D.to(re)))}}return Object.keys(I).forEach(function(CA){he(CA,I[CA][0],I[CA][1])}),nA}function wA(){f&&(vl(f),f=null)}function QA(I){wA();var x=mA(I),D=I.filter,Z=I.format||{to:function(eA){return String(Math.round(eA))}};return f=s.appendChild(lA(x,D,Z)),f}function ne(){var I=o.getBoundingClientRect(),x="offset"+["Width","Height"][A.ort];return A.ort===0?I.width||o[x]:I.height||o[x]}function $(I,x,D,Z){var eA=function(pA){var cA=iA(pA,Z.pageOffset,Z.target||x);if(!cA||E()&&!Z.doNotReject||yB(s,A.cssClasses.tap)&&!Z.doNotReject||I===r.start&&cA.buttons!==void 0&&cA.buttons>1||Z.hover&&cA.buttons)return!1;i||cA.preventDefault(),cA.calcPoint=cA.points[A.ort],D(cA,Z)},nA=[];return I.split(" ").forEach(function(pA){x.addEventListener(pA,eA,i?{passive:!0}:!1),nA.push([pA,eA])}),nA}function iA(I,x,D){var Z=I.type.indexOf("touch")===0,eA=I.type.indexOf("mouse")===0,nA=I.type.indexOf("pointer")===0,pA=0,cA=0;if(I.type.indexOf("MSPointer")===0&&(nA=!0),I.type==="mousedown"&&!I.buttons&&!I.touches)return!1;if(Z){var ie=function(he){var CA=he.target;return CA===D||D.contains(CA)||I.composed&&I.composedPath().shift()===D};if(I.type==="touchstart"){var se=Array.prototype.filter.call(I.touches,ie);if(se.length>1)return!1;pA=se[0].pageX,cA=se[0].pageY}else{var fe=Array.prototype.find.call(I.changedTouches,ie);if(!fe)return!1;pA=fe.pageX,cA=fe.pageY}}return x=x||_l(v),(eA||nA)&&(pA=I.clientX+x.x,cA=I.clientY+x.y),I.pageOffset=x,I.points=[pA,cA],I.cursor=eA||nA,I}function q(I){var x=I-CB(o,A.ort),D=x*100/ne();return D=yl(D),A.dir?100-D:D}function j(I){var x=100,D=!1;return l.forEach(function(Z,eA){if(!R(eA)){var nA=g[eA],pA=Math.abs(nA-I),cA=pA===100&&x===100,ie=pA<x,se=pA<=x&&I>nA;(ie||se||cA)&&(D=eA,x=pA)}}),D}function tA(I,x){I.type==="mouseout"&&I.target.nodeName==="HTML"&&I.relatedTarget===null&&qA(I,x)}function _A(I,x){if(navigator.appVersion.indexOf("MSIE 9")===-1&&I.buttons===0&&x.buttonsProperty!==0)return qA(I,x);var D=(A.dir?-1:1)*(I.calcPoint-x.startCalcPoint),Z=D*100/x.baseSize;Qe(D>0,Z,x.locations,x.handleNumbers,x.connect)}function qA(I,x){x.handle&&(fi(x.handle,A.cssClasses.active),p-=1),x.listeners.forEach(function(D){y.removeEventListener(D[0],D[1])}),p===0&&(fi(s,A.cssClasses.drag),me(),I.cursor&&(_.style.cursor="",_.removeEventListener("selectstart",Cl))),A.events.smoothSteps&&(x.handleNumbers.forEach(function(D){He(D,g[D],!0,!0,!1,!1)}),x.handleNumbers.forEach(function(D){NA("update",D)})),x.handleNumbers.forEach(function(D){NA("change",D),NA("set",D),NA("end",D)})}function ee(I,x){if(!x.handleNumbers.some(R)){var D;if(x.handleNumbers.length===1){var Z=l[x.handleNumbers[0]];D=Z.children[0],p+=1,Re(D,A.cssClasses.active)}I.stopPropagation();var eA=[],nA=$(r.move,y,_A,{target:I.target,handle:D,connect:x.connect,listeners:eA,startCalcPoint:I.calcPoint,baseSize:ne(),pageOffset:I.pageOffset,handleNumbers:x.handleNumbers,buttonsProperty:I.buttons,locations:g.slice()}),pA=$(r.end,y,qA,{target:I.target,handle:D,listeners:eA,doNotReject:!0,handleNumbers:x.handleNumbers}),cA=$("mouseout",y,tA,{target:I.target,handle:D,listeners:eA,doNotReject:!0,handleNumbers:x.handleNumbers});eA.push.apply(eA,nA.concat(pA,cA)),I.cursor&&(_.style.cursor=getComputedStyle(I.target).cursor,l.length>1&&Re(s,A.cssClasses.drag),_.addEventListener("selectstart",Cl,!1)),x.handleNumbers.forEach(function(ie){NA("start",ie)})}}function EA(I){I.stopPropagation();var x=q(I.calcPoint),D=j(x);D!==!1&&(A.events.snap||Ql(s,A.cssClasses.tap,A.animationDuration),He(D,x,!0,!0),me(),NA("slide",D,!0),NA("update",D,!0),A.events.snap?ee(I,{handleNumbers:[D]}):(NA("change",D,!0),NA("set",D,!0)))}function TA(I){var x=q(I.calcPoint),D=h.getStep(x),Z=h.fromStepping(D);Object.keys(C).forEach(function(eA){eA.split(".")[0]==="hover"&&C[eA].forEach(function(nA){nA.call(ge,Z)})})}function OA(I,x){if(E()||R(x))return!1;var D=["Left","Right"],Z=["Down","Up"],eA=["PageDown","PageUp"],nA=["Home","End"];A.dir&&!A.ort?D.reverse():A.ort&&!A.dir&&(Z.reverse(),eA.reverse());var pA=I.key.replace("Arrow",""),cA=pA===eA[0],ie=pA===eA[1],se=pA===Z[0]||pA===D[0]||cA,fe=pA===Z[1]||pA===D[1]||ie,he=pA===nA[0],CA=pA===nA[1];if(!se&&!fe&&!he&&!CA)return!0;I.preventDefault();var re;if(fe||se){var hA=se?0:1,IA=MA(x),HA=IA[hA];if(HA===null)return!1;HA===!1&&(HA=h.getDefaultStep(g[x],se,A.keyboardDefaultStep)),ie||cA?HA*=A.keyboardPageMultiplier:HA*=A.keyboardMultiplier,HA=Math.max(HA,1e-7),HA=(se?-1:1)*HA,re=d[x]+HA}else CA?re=A.spectrum.xVal[A.spectrum.xVal.length-1]:re=A.spectrum.xVal[0];return He(x,h.toStepping(re),!0,!0),NA("slide",x),NA("update",x),NA("change",x),NA("set",x),!1}function te(I){I.fixed||l.forEach(function(x,D){$(r.start,x.children[0],ee,{handleNumbers:[D]})}),I.tap&&$(r.start,o,EA,{}),I.hover&&$(r.move,o,TA,{hover:!0}),I.drag&&c.forEach(function(x,D){if(!(x===!1||D===0||D===c.length-1)){var Z=l[D-1],eA=l[D],nA=[x],pA=[Z,eA],cA=[D-1,D];Re(x,A.cssClasses.draggable),I.fixed&&(nA.push(Z.children[0]),nA.push(eA.children[0])),I.dragAll&&(pA=l,cA=B),nA.forEach(function(ie){$(r.start,ie,ee,{handles:pA,handleNumbers:cA,connect:x})})}})}function pe(I,x){C[I]=C[I]||[],C[I].push(x),I.split(".")[0]==="update"&&l.forEach(function(D,Z){NA("update",Z)})}function ke(I){return I===Zt.aria||I===Zt.tooltips}function ue(I){var x=I&&I.split(".")[0],D=x?I.substring(x.length):I;Object.keys(C).forEach(function(Z){var eA=Z.split(".")[0],nA=Z.substring(eA.length);(!x||x===eA)&&(!D||D===nA)&&(!ke(nA)||D===nA)&&delete C[Z]})}function NA(I,x,D){Object.keys(C).forEach(function(Z){var eA=Z.split(".")[0];I===eA&&C[Z].forEach(function(nA){nA.call(ge,d.map(A.format.to),x,d.slice(),D||!1,g.slice(),ge)})})}function Xe(I,x,D,Z,eA,nA,pA){var cA;return l.length>1&&!A.events.unconstrained&&(Z&&x>0&&(cA=h.getAbsoluteDistance(I[x-1],A.margin,!1),D=Math.max(D,cA)),eA&&x<l.length-1&&(cA=h.getAbsoluteDistance(I[x+1],A.margin,!0),D=Math.min(D,cA))),l.length>1&&A.limit&&(Z&&x>0&&(cA=h.getAbsoluteDistance(I[x-1],A.limit,!1),D=Math.min(D,cA)),eA&&x<l.length-1&&(cA=h.getAbsoluteDistance(I[x+1],A.limit,!0),D=Math.max(D,cA))),A.padding&&(x===0&&(cA=h.getAbsoluteDistance(0,A.padding[0],!1),D=Math.max(D,cA)),x===l.length-1&&(cA=h.getAbsoluteDistance(100,A.padding[1],!0),D=Math.min(D,cA))),pA||(D=h.getStep(D)),D=yl(D),D===I[x]&&!nA?!1:D}function JA(I,x){var D=A.ort;return(D?x:I)+", "+(D?I:x)}function Qe(I,x,D,Z,eA){var nA=D.slice(),pA=Z[0],cA=A.events.smoothSteps,ie=[!I,I],se=[I,!I];Z=Z.slice(),I&&Z.reverse(),Z.length>1?Z.forEach(function(he,CA){var re=Xe(nA,he,nA[he]+x,ie[CA],se[CA],!1,cA);re===!1?x=0:(x=re-nA[he],nA[he]=re)}):ie=se=[!0];var fe=!1;Z.forEach(function(he,CA){fe=He(he,D[he]+x,ie[CA],se[CA],!1,cA)||fe}),fe&&(Z.forEach(function(he){NA("update",he),NA("slide",he)}),eA!=null&&NA("drag",pA))}function WA(I,x){return A.dir?100-I-x:I}function ye(I,x){g[I]=x,d[I]=h.fromStepping(x);var D=WA(x,0)-H,Z="translate("+JA(D+"%","0")+")";if(l[I].style[A.transformRule]=Z,A.events.invertConnects&&g.length>1){var eA=g.every(function(nA,pA,cA){return pA===0||nA>=cA[pA-1]});if(U!==!eA){UA();return}}X(I),X(I+1),U&&(X(I-1),X(I+2))}function me(){B.forEach(function(I){var x=g[I]>50?-1:1,D=3+(l.length+x*I);l[I].style.zIndex=String(D)})}function He(I,x,D,Z,eA,nA){return eA||(x=Xe(g,I,x,D,Z,!1,nA)),x===!1?!1:(ye(I,x),!0)}function X(I){if(c[I]){var x=g.slice();U&&x.sort(function(cA,ie){return cA-ie});var D=0,Z=100;I!==0&&(D=x[I-1]),I!==c.length-1&&(Z=x[I]);var eA=Z-D,nA="translate("+JA(WA(D,eA)+"%","0")+")",pA="scale("+JA(eA/100,"1")+")";c[I].style[A.transformRule]=nA+" "+pA}}function FA(I,x){return I===null||I===!1||I===void 0||(typeof I=="number"&&(I=String(I)),I=A.format.from(I),I!==!1&&(I=h.toStepping(I)),I===!1||isNaN(I))?g[x]:I}function XA(I,x,D){var Z=ui(I),eA=g[0]===void 0;x=x===void 0?!0:x,A.animate&&!eA&&Ql(s,A.cssClasses.tap,A.animationDuration),B.forEach(function(cA){He(cA,FA(Z[cA],cA),!0,!1,D)});var nA=B.length===1?0:1;if(eA&&h.hasNoSize()&&(D=!0,g[0]=0,B.length>1)){var pA=100/(B.length-1);B.forEach(function(cA){g[cA]=cA*pA})}for(;nA<B.length;++nA)B.forEach(function(cA){He(cA,g[cA],!0,!0,D)});me(),B.forEach(function(cA){NA("update",cA),Z[cA]!==null&&x&&NA("set",cA)})}function YA(I){XA(A.start,I)}function ae(I,x,D,Z){if(I=Number(I),!(I>=0&&I<B.length))throw new Error("noUiSlider: invalid handle number, got: "+I);He(I,FA(x,I),!0,!0,Z),NA("update",I),D&&NA("set",I)}function LA(I){if(I===void 0&&(I=!1),I)return d.length===1?d[0]:d.slice(0);var x=d.map(A.format.to);return x.length===1?x[0]:x}function ve(){for(ue(Zt.aria),ue(Zt.tooltips),Object.keys(A.cssClasses).forEach(function(I){fi(s,A.cssClasses[I])});s.firstChild;)s.removeChild(s.firstChild);delete s.noUiSlider}function MA(I){var x=g[I],D=h.getNearbySteps(x),Z=d[I],eA=D.thisStep.step,nA=null;if(A.snap)return[Z-D.stepBefore.startValue||null,D.stepAfter.startValue-Z||null];eA!==!1&&Z+eA>D.stepAfter.startValue&&(eA=D.stepAfter.startValue-Z),Z>D.thisStep.startValue?nA=D.thisStep.step:D.stepBefore.step===!1?nA=!1:nA=Z-D.stepBefore.highestStep,x===100?eA=null:x===0&&(nA=null);var pA=h.countStepDecimals();return eA!==null&&eA!==!1&&(eA=Number(eA.toFixed(pA))),nA!==null&&nA!==!1&&(nA=Number(nA.toFixed(pA))),[nA,eA]}function RA(){return B.map(MA)}function bA(I,x){var D=LA(),Z=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];Z.forEach(function(nA){I[nA]!==void 0&&(t[nA]=I[nA])});var eA=Hl(t);Z.forEach(function(nA){I[nA]!==void 0&&(A[nA]=eA[nA])}),h=eA.spectrum,A.margin=eA.margin,A.limit=eA.limit,A.padding=eA.padding,A.pips?QA(A.pips):wA(),A.tooltips?G():V(),g=[],XA(eo(I.start)?I.start:D,x),I.connect&&z()}function z(){for(;a.firstChild;)a.removeChild(a.firstChild);for(var I=0;I<=A.handles;I++)c[I]=k(a,A.connect[I]),X(I);te({drag:A.events.drag,fixed:!0})}function UA(){U=!U,El(A,A.connect.map(function(I){return!I})),z()}function vA(){o=T(s),M(A.connect,o),te(A.events),XA(A.start),A.pips&&QA(A.pips),A.tooltips&&G(),AA()}vA();var ge={destroy:ve,steps:RA,on:pe,off:ue,get:LA,set:XA,setHandle:ae,reset:YA,disable:S,enable:Y,__moveHandles:function(I,x,D){Qe(I,x,g,D)},options:t,updateOptions:bA,target:s,removePips:wA,removeTooltips:V,getPositions:function(){return g.slice()},getTooltips:function(){return u},getOrigins:function(){return l},pips:QA};return ge}function ep(e,A){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var t=Hl(A),r=Ap(e,t,A);return e.noUiSlider=r,r}const tp={__spectrum:Ul,cssClasses:bl,create:ep},zH="",$H="";function rp(e){let A,t,r;return{c(){A=Q("span"),t=sA(e[0]),m(A,"id",e[3]),m(A,"class",r="tooltip "+e[2]+" "+(e[1]?"display":"")+" svelte-1am23me")},m(n,i){O(n,A,i),w(A,t)},p(n,[i]){i&1&&PA(t,n[0]),i&6&&r!==(r="tooltip "+n[2]+" "+(n[1]?"display":"")+" svelte-1am23me")&&m(A,"class",r)},i:rA,o:rA,d(n){n&&K(A)}}}function np(e,A,t){let r,n,i,s,{tooltipText:o}=A,{targetHtmlId:a}=A;const l=`tooltip-generic-${window.crypto.randomUUID()}`,c=()=>t(1,s=!0),f=()=>t(1,s=!1),u=()=>t(1,s=!s);return Ir(()=>{i=a?document.getElementById(a):document.getElementById(l).parentElement,a&&!i&&(console.error(`TooltipGeneric: element with ID ${a} not found, defaulting to the parent element`),i=document.getElementById(l).targetElement),i.addEventListener("mouseover",c),i.addEventListener("mouseout",f),i.addEventListener("click",u)}),Hr(()=>{i.removeEventListener("mouseover",c),i.removeEventListener("mouseout",f),i.removeEventListener("click",u)}),e.$$set=h=>{"tooltipText"in h&&t(0,o=h.tooltipText),"targetHtmlId"in h&&t(4,a=h.targetHtmlId)},e.$$.update=()=>{e.$$.dirty&33&&t(2,r=n(o))},t(5,n=h=>t(2,r=h.length>100?"tooltip-wide":h.length>20?"tooltip-mid":"tooltip-thin")),i=void 0,t(1,s=!1),[o,s,r,l,a,n]}class hi extends GA{constructor(A){super(),VA(this,A,np,rp,KA,{tooltipText:0,targetHtmlId:4})}}const jH="";function ip(e){let A,t,r,n,i,s,o,a,l,c,f,u,h,d,g,B;return{c(){A=Q("div"),t=Q("span"),r=sA(e[2]),n=sA(" ("),i=sA(e[3]),s=sA(")"),o=N(),a=Q("div"),l=Q("span"),c=sA(e[0]),f=N(),u=Q("div"),h=Q("div"),d=N(),g=Q("span"),B=sA(e[1]),m(l,"class","range-marker svelte-216mtn"),m(h,"class","slider"),m(h,"id",e[4]),m(u,"class","slider-wrapper svelte-216mtn"),m(g,"class","range-marker svelte-216mtn"),m(a,"class","slider-outer-wrapper is-flex flex-direction-row svelte-216mtn")},m(p,C){O(p,A,C),w(A,t),w(t,r),w(t,n),w(t,i),w(t,s),w(A,o),w(A,a),w(a,l),w(l,c),w(a,f),w(a,u),w(u,h),w(a,d),w(a,g),w(g,B)},p(p,[C]){C&4&&PA(r,p[2]),C&8&&PA(i,p[3]),C&1&&PA(c,p[0]),C&2&&PA(B,p[1])},i:rA,o:rA,d(p){p&&K(A)}}}function sp(e,A,t){let r,{minVal:n}=A,{maxVal:i}=A,{start:s}=A,{step:o=void 0}=A,{roundTo:a=2}=A,{title:l=""}=A,{emitOnUpdate:c=!1}=A;const f=ni(),u=`slider-${window.crypto.randomUUID()}`,h=Array.isArray(s)&&s.length===2&&s.every(F=>!isNaN(parseFloat(F))),d=[],g=h?[`noUi-handle-${window.crypto.randomUUID()}`,`noUi-handle-${window.crypto.randomUUID()}`]:[`noUi-handle-${window.crypto.randomUUID()}`],B=ai();B.setCompareFn(h?Zs:(F,b)=>C(F)===C(b)),B.set(s);const p=nt("resetTrigger")||void 0;p==null||p.subscribe(y);const C=F=>Number(F.toFixed(a)),U=(F,b)=>{F=Array.isArray(F)?F.map(C):C(F),t(3,r=F),(b==="set"||b==="update"&&c)&&(B.set(F),B.same()||f("updateSlider",B.get()))};function v(F){d.length&&d.map((b,k)=>b.$set({tooltipText:h?F[k]:F}))}function y(){const F=document.getElementById(u);F!=null&&F.noUiSlider&&F.noUiSlider.reset()}function _(){const F=document.getElementById(u);let b;tp.create(F,{start:s,step:o,connect:h?!0:"lower",range:{min:n,max:i},handleAttributes:g.map(k=>({id:k}))}),F.noUiSlider.on("update",()=>{b=F.noUiSlider.get(!0),U(b,"update")}),F.noUiSlider.on("set",()=>{b=F.noUiSlider.get(!0),U(b,"set")})}function H(){g.map((F,b)=>{d.push(new hi({target:document.getElementById(F),props:h?{tooltipText:r[b]}:{tooltipText:r}}))})}return Ir(()=>{_(),H()}),Hr(()=>{document.getElementById(u)&&(document.getElementById(u).innerHTML="")}),e.$$set=F=>{"minVal"in F&&t(0,n=F.minVal),"maxVal"in F&&t(1,i=F.maxVal),"start"in F&&t(5,s=F.start),"step"in F&&t(6,o=F.step),"roundTo"in F&&t(7,a=F.roundTo),"title"in F&&t(2,l=F.title),"emitOnUpdate"in F&&t(8,c=F.emitOnUpdate)},e.$$.update=()=>{e.$$.dirty&32&&t(3,r=s),e.$$.dirty&8&&v(r)},[n,i,l,r,u,s,o,a,c]}class hr extends GA{constructor(A){super(),VA(this,A,sp,ip,KA,{minVal:0,maxVal:1,start:5,step:6,roundTo:7,title:2,emitOnUpdate:8})}}const op=e=>({}),Sl=e=>({});function xl(e,A,t){const r=e.slice();return r[44]=A[t],r}function Ll(e,A,t){const r=e.slice();return r[47]=A[t],r}function Ml(e,A,t){const r=e.slice();return r[44]=A[t],r}function kl(e,A,t){const r=e.slice();r[52]=A[t];const n=Object.keys(r[28][r[52]]||{});return r[53]=n,r}function Tl(e){var bA;let A,t,r,n=((bA=e[0])==null?void 0:bA.title)+"",i,s,o,a,l,c,f,u,h,d=(e[3].pairs||0)+"",g,B,p,C,U,v,y,_=(e[3].images||0)+"",H,F,b,k,M,T,L,E=(e[4]||0)+"",R,S,Y,V,G,AA,oA,fA,mA,lA,wA,QA,ne,$,iA,q,j,tA,_A,qA,ee,EA,TA,OA,te,pe,ke,ue,NA,Xe,JA,Qe=["Series","Witness","Work"],WA=[];for(let z=0;z<3;z+=1)WA[z]=Dl(kl(e,Qe,z));G=new pB({props:{documentNodes:e[5],selectedRegions:e[6],toggleRegion:e[18],selectAllRegions:e[17]}});let ye=["all","filtered"],me=[];for(let z=0;z<2;z+=1)me[z]=Kl(Ml(e,ye,z));let He=e[29],X=[];for(let z=0;z<He.length;z+=1)X[z]=Ol(Ll(e,He,z));const FA=z=>W(X[z],1,1,()=>{X[z]=null});let XA=["threshold","topk"],YA=[];for(let z=0;z<2;z+=1)YA[z]=Nl(xl(e,XA,z));const ae=[cp,lp],LA=[];function ve(z,UA){return z[7]==="threshold"?0:1}TA=ve(e),OA=LA[TA]=ae[TA](e);const MA=e[35].datavizInfo,RA=lt(MA,e,e[34],Sl);return{c(){A=Q("div"),t=Q("div"),r=Q("h1"),i=sA(n),s=N(),o=Q("div");for(let z=0;z<3;z+=1)WA[z].c();a=N(),l=Q("div"),c=Q("div"),f=Q("p"),f.textContent=`${J==="en"?"Pairs":"Paires"}`,u=N(),h=Q("p"),g=sA(d),B=N(),p=Q("div"),C=Q("div"),U=Q("p"),U.textContent="Images",v=N(),y=Q("p"),H=sA(_),F=N(),b=Q("div"),k=Q("div"),M=Q("p"),M.textContent="Clusters",T=N(),L=Q("p"),R=sA(E),S=N(),Y=Q("hr"),V=N(),BA(G.$$.fragment),AA=N(),oA=Q("hr"),fA=N(),mA=Q("div"),lA=Q("h3"),lA.textContent=`${J==="en"?"Similarity categories":"Catégories de similarité"}`,wA=N(),QA=Q("div");for(let z=0;z<2;z+=1)me[z].c();ne=N(),$=Q("div");for(let z=0;z<X.length;z+=1)X[z].c();iA=N(),q=Q("hr"),j=N(),tA=Q("div"),_A=Q("h3"),_A.textContent=`${J==="en"?"Similarity score":"Score de similarité"}`,qA=N(),ee=Q("div");for(let z=0;z<2;z+=1)YA[z].c();EA=N(),OA.c(),te=N(),pe=Q("hr"),ke=N(),ue=Q("div"),NA=Q("h3"),NA.textContent=`${J==="en"?"Visualisation information":"Informations sur la visualisation"}`,Xe=N(),RA&&RA.c(),m(r,"class","title"),m(f,"class","heading"),m(h,"class","title is-5"),m(l,"class","level-item has-text-centered"),m(U,"class","heading"),m(y,"class","title is-5"),m(p,"class","level-item has-text-centered"),m(M,"class","heading"),m(L,"class","title is-5"),m(b,"class","level-item has-text-centered"),m(o,"class","level"),m(t,"class","pb-2"),m(lA,"class","title"),m(QA,"class","buttons mb-3"),m($,"class","level"),$A($,"is-disabled",e[1]==="all"),m(mA,"class","pt-2"),m(_A,"class","title"),m(ee,"class","buttons mb-3"),m(tA,"class","pt-2"),m(NA,"class","title"),m(ue,"class","py-2"),m(A,"class","content is-small mt-4")},m(z,UA){O(z,A,UA),w(A,t),w(t,r),w(r,i),w(t,s),w(t,o);for(let vA=0;vA<3;vA+=1)WA[vA]&&WA[vA].m(o,null);w(o,a),w(o,l),w(l,c),w(c,f),w(c,u),w(c,h),w(h,g),w(o,B),w(o,p),w(p,C),w(C,U),w(C,v),w(C,y),w(y,H),w(o,F),w(o,b),w(b,k),w(k,M),w(k,T),w(k,L),w(L,R),w(A,S),w(A,Y),w(A,V),dA(G,A,null),w(A,AA),w(A,oA),w(A,fA),w(A,mA),w(mA,lA),w(mA,wA),w(mA,QA);for(let vA=0;vA<2;vA+=1)me[vA]&&me[vA].m(QA,null);w(mA,ne),w(mA,$);for(let vA=0;vA<X.length;vA+=1)X[vA]&&X[vA].m($,null);w(A,iA),w(A,q),w(A,j),w(A,tA),w(tA,_A),w(tA,qA),w(tA,ee);for(let vA=0;vA<2;vA+=1)YA[vA]&&YA[vA].m(ee,null);w(tA,EA),LA[TA].m(tA,null),w(A,te),w(A,pe),w(A,ke),w(A,ue),w(ue,NA),w(ue,Xe),RA&&RA.m(ue,null),JA=!0},p(z,UA){var I;if((!JA||UA[0]&1)&&n!==(n=((I=z[0])==null?void 0:I.title)+"")&&PA(i,n),UA[0]&268435456){Qe=["Series","Witness","Work"];let x;for(x=0;x<3;x+=1){const D=kl(z,Qe,x);WA[x]?WA[x].p(D,UA):(WA[x]=Dl(D),WA[x].c(),WA[x].m(o,a))}for(;x<3;x+=1)WA[x].d(1)}(!JA||UA[0]&8)&&d!==(d=(z[3].pairs||0)+"")&&PA(g,d),(!JA||UA[0]&8)&&_!==(_=(z[3].images||0)+"")&&PA(H,_),(!JA||UA[0]&16)&&E!==(E=(z[4]||0)+"")&&PA(R,E);const vA={};if(UA[0]&32&&(vA.documentNodes=z[5]),UA[0]&64&&(vA.selectedRegions=z[6]),G.$set(vA),UA[0]&1073741826){ye=["all","filtered"];let x;for(x=0;x<2;x+=1){const D=Ml(z,ye,x);me[x]?me[x].p(D,UA):(me[x]=Kl(D),me[x].c(),me[x].m(QA,null))}for(;x<2;x+=1)me[x].d(1)}if(UA[0]&536903694){He=z[29];let x;for(x=0;x<He.length;x+=1){const D=Ll(z,He,x);X[x]?(X[x].p(D,UA),P(X[x],1)):(X[x]=Ol(D),X[x].c(),P(X[x],1),X[x].m($,null))}for(ZA(),x=He.length;x<X.length;x+=1)FA(x);Ae()}if((!JA||UA[0]&2)&&$A($,"is-disabled",z[1]==="all"),UA[0]&128|UA[1]&1){XA=["threshold","topk"];let x;for(x=0;x<2;x+=1){const D=xl(z,XA,x);YA[x]?YA[x].p(D,UA):(YA[x]=Nl(D),YA[x].c(),YA[x].m(ee,null))}for(;x<2;x+=1)YA[x].d(1)}let ge=TA;TA=ve(z),TA===ge?LA[TA].p(z,UA):(ZA(),W(LA[ge],1,1,()=>{LA[ge]=null}),Ae(),OA=LA[TA],OA?OA.p(z,UA):(OA=LA[TA]=ae[TA](z),OA.c()),P(OA,1),OA.m(tA,null)),RA&&RA.p&&(!JA||UA[1]&8)&&ut(RA,MA,z,z[34],JA?ct(MA,z[34],UA,op):ft(z[34]),Sl)},i(z){if(!JA){P(G.$$.fragment,z);for(let UA=0;UA<He.length;UA+=1)P(X[UA]);P(OA),P(RA,z),JA=!0}},o(z){W(G.$$.fragment,z),X=X.filter(Boolean);for(let UA=0;UA<X.length;UA+=1)W(X[UA]);W(OA),W(RA,z),JA=!1},d(z){z&&K(A),Le(WA,z),gA(G),Le(me,z),Le(X,z),Le(YA,z),LA[TA].d(),RA&&RA.d(z)}}}function ap(e){let A,t,r,n=oi[e[52]]+"",i,s,o,a=(e[53].length||0)+"",l;return{c(){A=Q("div"),t=Q("div"),r=Q("p"),i=sA(n),s=N(),o=Q("p"),l=sA(a),m(r,"class","heading"),m(o,"class","title is-5"),m(A,"class","level-item has-text-centered")},m(c,f){O(c,A,f),w(A,t),w(t,r),w(r,i),w(t,s),w(t,o),w(o,l)},p:rA,d(c){c&&K(A)}}}function Dl(e){let A,t=e[53].length>0&&ap(e);return{c(){t&&t.c(),A=Oe()},m(r,n){t&&t.m(r,n),O(r,A,n)},p(r,n){r[53].length>0&&t.p(r,n)},d(r){t&&t.d(r),r&&K(A)}}}function Kl(e){let A,t=e[44]==="all"?J==="en"?"All pairs":"Toutes les paires":J==="en"?"Filter by category":"Filtrer par catégorie",r,n,i,s;function o(){return e[36](e[44])}return{c(){A=Q("button"),r=sA(t),n=N(),m(A,"class","button is-small is-flex-grow-1"),$A(A,"is-link",e[1]===e[44]),$A(A,"is-contrasted",e[1]!==e[44])},m(a,l){O(a,A,l),w(A,r),w(A,n),i||(s=yA(A,"click",o),i=!0)},p(a,l){e=a,l[0]&2&&$A(A,"is-link",e[1]===e[44]),l[0]&2&&$A(A,"is-contrasted",e[1]!==e[44])},d(a){a&&K(A),i=!1,s()}}}function Ol(e){let A,t,r,n,i,s=(e[3].categories[e[47]]||0)+"",o,a,l;return r=new Kr({props:{category:e[47],isSelected:e[2].includes(e[47]),toggle:e[37],selectable:e[1]==="filtered"}}),{c(){A=Q("div"),t=Q("div"),BA(r.$$.fragment),n=N(),i=Q("p"),o=sA(s),a=N(),m(i,"class","is-size-7 mt-1"),m(A,"class","level-item has-text-centered")},m(c,f){O(c,A,f),w(A,t),dA(r,t,null),w(t,n),w(t,i),w(i,o),w(A,a),l=!0},p(c,f){const u={};f[0]&4&&(u.isSelected=c[2].includes(c[47])),f[0]&2&&(u.toggle=c[37]),f[0]&2&&(u.selectable=c[1]==="filtered"),r.$set(u),(!l||f[0]&8)&&s!==(s=(c[3].categories[c[47]]||0)+"")&&PA(o,s)},i(c){l||(P(r.$$.fragment,c),l=!0)},o(c){W(r.$$.fragment,c),l=!1},d(c){c&&K(A),gA(r)}}}function Nl(e){let A,t=e[44]==="threshold"?J==="en"?"Score threshold":"Seuil de score":J==="en"?"Top K pairs":"Top K paires",r,n,i,s;function o(){return e[38](e[44])}return{c(){A=Q("button"),r=sA(t),n=N(),m(A,"class","button is-small is-flex-grow-1"),$A(A,"is-link",e[7]===e[44]),$A(A,"is-contrasted",e[7]!==e[44])},m(a,l){O(a,A,l),w(A,r),w(A,n),i||(s=yA(A,"click",o),i=!0)},p(a,l){e=a,l[0]&128&&$A(A,"is-link",e[7]===e[44]),l[0]&128&&$A(A,"is-contrasted",e[7]!==e[44])},d(a){a&&K(A),i=!1,s()}}}function lp(e){let A,t,r,n,i,s,o,a,l,c,f,u;return r=new hr({props:{minVal:1,maxVal:5,start:e[10]||3,step:1,roundTo:0,title:"K"}}),r.$on("updateSlider",e[40]),{c(){A=Q("div"),t=Q("div"),BA(r.$$.fragment),n=N(),i=Q("div"),s=Q("label"),o=Q("input"),a=N(),l=Q("span"),l.textContent=`${J==="en"?"Mutual top K":"Top K mutuel"}`,m(t,"class","column is-two-thirds pl-4"),o.checked=e[11],m(o,"type","checkbox"),m(o,"class","mr-2"),m(l,"class","is-size-7"),m(s,"class","checkbox mt-3 is-flex is-align-items-center"),m(i,"class","column mt-2"),m(A,"class","columns mt-2")},m(h,d){O(h,A,d),w(A,t),dA(r,t,null),w(A,n),w(A,i),w(i,s),w(s,o),w(s,a),w(s,l),c=!0,f||(u=yA(o,"change",e[41]),f=!0)},p(h,d){const g={};d[0]&1024&&(g.start=h[10]||3),r.$set(g),(!c||d[0]&2048)&&(o.checked=h[11])},i(h){c||(P(r.$$.fragment,h),c=!0)},o(h){W(r.$$.fragment,h),c=!1},d(h){h&&K(A),gA(r),f=!1,u()}}}function cp(e){var r,n;let A,t;return A=new hr({props:{minVal:((r=e[8].scoreRange)==null?void 0:r.min)||0,maxVal:((n=e[8].scoreRange)==null?void 0:n.max)||1,start:e[9],step:.01,roundTo:2,title:J==="en"?"Minimum score":"Score minimum"}}),A.$on("updateSlider",e[39]),{c(){BA(A.$$.fragment)},m(i,s){dA(A,i,s),t=!0},p(i,s){var a,l;const o={};s[0]&256&&(o.minVal=((a=i[8].scoreRange)==null?void 0:a.min)||0),s[0]&256&&(o.maxVal=((l=i[8].scoreRange)==null?void 0:l.max)||1),s[0]&512&&(o.start=i[9]),A.$set(o)},i(i){t||(P(A.$$.fragment,i),t=!0)},o(i){W(A.$$.fragment,i),t=!1},d(i){gA(A,i)}}}function up(e){let A,t,r=e[3]&&Tl(e);return{c(){A=Q("div"),r&&r.c(),m(A,"class","m-4 py-5 px-4")},m(n,i){O(n,A,i),r&&r.m(A,null),t=!0},p(n,i){n[3]?r?(r.p(n,i),i[0]&8&&P(r,1)):(r=Tl(n),r.c(),P(r,1),r.m(A,null)):r&&(ZA(),W(r,1,1,()=>{r=null}),Ae())},i(n){t||(P(r),t=!0)},o(n){W(r),t=!1},d(n){n&&K(A),r&&r.d()}}}function fp(e,A,t){let r,n,i,s,o,a,l,c,f,u,{$$slots:h={},$$scope:d}=A,{docSet:g=null}=A,{documentSetStore:B}=A,{clusterStore:p}=A;const{docSetNumber:C,documentNodes:U,selectedCategories:v,toggleCategory:y,selectedRegions:_,selectAllRegions:H,toggleRegion:F,threshold:b,setThreshold:k,topK:M,setTopK:T,mutualTopK:L,setMutualTopK:E,scoreMode:R,setScoreMode:S,pairStats:Y}=B;SA(e,C,j=>t(3,n=j)),SA(e,U,j=>t(5,s=j)),SA(e,v,j=>t(2,r=j)),SA(e,_,j=>t(6,o=j)),SA(e,b,j=>t(9,c=j)),SA(e,M,j=>t(10,f=j)),SA(e,L,j=>t(11,u=j)),SA(e,R,j=>t(7,a=j)),SA(e,Y,j=>t(8,l=j));const{clusterNb:V,handlePageUpdate:G}=p;SA(e,V,j=>t(4,i=j));const AA=nt("selectedDocuments"),oA=[0,1,2,3,5];let fA="filtered";function mA(j){t(1,fA=j),j==="all"&&r.length!==oA.length&&v.set(oA)}function lA(j){G(1),S(j)}const wA=j=>mA(j),QA=j=>fA==="filtered"?y(j):null,ne=j=>lA(j),$=j=>k(j.detail),iA=j=>T(j.detail),q=()=>E(!u);return e.$$set=j=>{"docSet"in j&&t(0,g=j.docSet),"documentSetStore"in j&&t(32,B=j.documentSetStore),"clusterStore"in j&&t(33,p=j.clusterStore),"$$scope"in j&&t(34,d=j.$$scope)},[g,fA,r,n,i,s,o,a,l,c,f,u,C,U,v,y,_,H,F,b,k,M,T,L,E,R,Y,V,AA,oA,mA,lA,B,p,d,h,wA,QA,ne,$,iA,q]}class hp extends GA{constructor(A){super(),VA(this,A,fp,up,KA,{docSet:0,documentSetStore:32,clusterStore:33},null,[-1,-1])}}function di(e,A){return e==null||A==null?NaN:e<A?-1:e>A?1:e>=A?0:NaN}function dp(e,A){return e==null||A==null?NaN:A<e?-1:A>e?1:A>=e?0:NaN}function Rl(e){let A,t,r;e.length!==2?(A=di,t=(o,a)=>di(e(o),a),r=(o,a)=>e(o)-a):(A=e===di||e===dp?e:gp,t=e,r=e);function n(o,a,l=0,c=o.length){if(l<c){if(A(a,a)!==0)return c;do{const f=l+c>>>1;t(o[f],a)<0?l=f+1:c=f}while(l<c)}return l}function i(o,a,l=0,c=o.length){if(l<c){if(A(a,a)!==0)return c;do{const f=l+c>>>1;t(o[f],a)<=0?l=f+1:c=f}while(l<c)}return l}function s(o,a,l=0,c=o.length){const f=n(o,a,l,c-1);return f>l&&r(o[f-1],a)>-r(o[f],a)?f-1:f}return{left:n,center:s,right:i}}function gp(){return 0}function Bp(e){return e===null?NaN:+e}const pp=Rl(di).right;Rl(Bp).center;const mp=pp;class Pl extends Map{constructor(A,t=Cp){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),A!=null)for(const[r,n]of A)this.set(r,n)}get(A){return super.get(Vl(this,A))}has(A){return super.has(Vl(this,A))}set(A,t){return super.set(wp(this,A),t)}delete(A){return super.delete(vp(this,A))}}function Vl({_intern:e,_key:A},t){const r=A(t);return e.has(r)?e.get(r):t}function wp({_intern:e,_key:A},t){const r=A(t);return e.has(r)?e.get(r):(e.set(r,t),t)}function vp({_intern:e,_key:A},t){const r=A(t);return e.has(r)&&(t=e.get(r),e.delete(r)),t}function Cp(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Qp=Math.sqrt(50),yp=Math.sqrt(10),_p=Math.sqrt(2);function gi(e,A,t){const r=(A-e)/Math.max(0,t),n=Math.floor(Math.log10(r)),i=r/Math.pow(10,n),s=i>=Qp?10:i>=yp?5:i>=_p?2:1;let o,a,l;return n<0?(l=Math.pow(10,-n)/s,o=Math.round(e*l),a=Math.round(A*l),o/l<e&&++o,a/l>A&&--a,l=-l):(l=Math.pow(10,n)*s,o=Math.round(e/l),a=Math.round(A/l),o*l<e&&++o,a*l>A&&--a),a<o&&.5<=t&&t<2?gi(e,A,t*2):[o,a,l]}function Up(e,A,t){if(A=+A,e=+e,t=+t,!(t>0))return[];if(e===A)return[e];const r=A<e,[n,i,s]=r?gi(A,e,t):gi(e,A,t);if(!(i>=n))return[];const o=i-n+1,a=new Array(o);if(r)if(s<0)for(let l=0;l<o;++l)a[l]=(i-l)/-s;else for(let l=0;l<o;++l)a[l]=(i-l)*s;else if(s<0)for(let l=0;l<o;++l)a[l]=(n+l)/-s;else for(let l=0;l<o;++l)a[l]=(n+l)*s;return a}function no(e,A,t){return A=+A,e=+e,t=+t,gi(e,A,t)[2]}function Fp(e,A,t){A=+A,e=+e,t=+t;const r=A<e,n=r?no(A,e,t):no(e,A,t);return(r?-1:1)*(n<0?1/-n:n)}function Bi(e,A,t){e=+e,A=+A,t=(n=arguments.length)<2?(A=e,e=0,1):n<3?1:+t;for(var r=-1,n=Math.max(0,Math.ceil((A-e)/t))|0,i=new Array(n);++r<n;)i[r]=e+r*t;return i}function bp(e){return e}var pi=1,io=2,Gl=3,fn=4,Xl=1e-6;function Ep(e){return"translate("+e+",0)"}function Ip(e){return"translate(0,"+e+")"}function Hp(e){return A=>+e(A)}function Sp(e,A){return A=Math.max(0,e.bandwidth()-A*2)/2,e.round()&&(A=Math.round(A)),t=>+e(t)+A}function xp(){return!this.__axis}function Jl(e,A){var t=[],r=null,n=null,i=6,s=6,o=3,a=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===pi||e===fn?-1:1,c=e===fn||e===io?"x":"y",f=e===pi||e===Gl?Ep:Ip;function u(h){var d=r??(A.ticks?A.ticks.apply(A,t):A.domain()),g=n??(A.tickFormat?A.tickFormat.apply(A,t):bp),B=Math.max(i,0)+o,p=A.range(),C=+p[0]+a,U=+p[p.length-1]+a,v=(A.bandwidth?Sp:Hp)(A.copy(),a),y=h.selection?h.selection():h,_=y.selectAll(".domain").data([null]),H=y.selectAll(".tick").data(d,A).order(),F=H.exit(),b=H.enter().append("g").attr("class","tick"),k=H.select("line"),M=H.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),H=H.merge(b),k=k.merge(b.append("line").attr("stroke","currentColor").attr(c+"2",l*i)),M=M.merge(b.append("text").attr("fill","currentColor").attr(c,l*B).attr("dy",e===pi?"0em":e===Gl?"0.71em":"0.32em")),h!==y&&(_=_.transition(h),H=H.transition(h),k=k.transition(h),M=M.transition(h),F=F.transition(h).attr("opacity",Xl).attr("transform",function(T){return isFinite(T=v(T))?f(T+a):this.getAttribute("transform")}),b.attr("opacity",Xl).attr("transform",function(T){var L=this.parentNode.__axis;return f((L&&isFinite(L=L(T))?L:v(T))+a)})),F.remove(),_.attr("d",e===fn||e===io?s?"M"+l*s+","+C+"H"+a+"V"+U+"H"+l*s:"M"+a+","+C+"V"+U:s?"M"+C+","+l*s+"V"+a+"H"+U+"V"+l*s:"M"+C+","+a+"H"+U),H.attr("opacity",1).attr("transform",function(T){return f(v(T)+a)}),k.attr(c+"2",l*i),M.attr(c,l*B).text(g),y.filter(xp).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===io?"start":e===fn?"end":"middle"),y.each(function(){this.__axis=v})}return u.scale=function(h){return arguments.length?(A=h,u):A},u.ticks=function(){return t=Array.from(arguments),u},u.tickArguments=function(h){return arguments.length?(t=h==null?[]:Array.from(h),u):t.slice()},u.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),u):r&&r.slice()},u.tickFormat=function(h){return arguments.length?(n=h,u):n},u.tickSize=function(h){return arguments.length?(i=s=+h,u):i},u.tickSizeInner=function(h){return arguments.length?(i=+h,u):i},u.tickSizeOuter=function(h){return arguments.length?(s=+h,u):s},u.tickPadding=function(h){return arguments.length?(o=+h,u):o},u.offset=function(h){return arguments.length?(a=+h,u):a},u}function Wl(e){return Jl(pi,e)}function Yl(e){return Jl(fn,e)}var Lp={value:()=>{}};function hn(){for(var e=0,A=arguments.length,t={},r;e<A;++e){if(!(r=arguments[e]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new mi(t)}function mi(e){this._=e}function Mp(e,A){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!A.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}mi.prototype=hn.prototype={constructor:mi,on:function(e,A){var t=this._,r=Mp(e+"",t),n,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((n=(e=r[i]).type)&&(n=kp(t[n],e.name)))return n;return}if(A!=null&&typeof A!="function")throw new Error("invalid callback: "+A);for(;++i<s;)if(n=(e=r[i]).type)t[n]=zl(t[n],e.name,A);else if(A==null)for(n in t)t[n]=zl(t[n],e.name,null);return this},copy:function(){var e={},A=this._;for(var t in A)e[t]=A[t].slice();return new mi(e)},call:function(e,A){if((n=arguments.length-2)>0)for(var t=new Array(n),r=0,n,i;r<n;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,n=i.length;r<n;++r)i[r].value.apply(A,t)},apply:function(e,A,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],n=0,i=r.length;n<i;++n)r[n].value.apply(A,t)}};function kp(e,A){for(var t=0,r=e.length,n;t<r;++t)if((n=e[t]).name===A)return n.value}function zl(e,A,t){for(var r=0,n=e.length;r<n;++r)if(e[r].name===A){e[r]=Lp,e=e.slice(0,r).concat(e.slice(r+1));break}return t!=null&&e.push({name:A,value:t}),e}var so="http://www.w3.org/1999/xhtml";const $l={svg:"http://www.w3.org/2000/svg",xhtml:so,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wi(e){var A=e+="",t=A.indexOf(":");return t>=0&&(A=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),$l.hasOwnProperty(A)?{space:$l[A],local:e}:e}function Tp(e){return function(){var A=this.ownerDocument,t=this.namespaceURI;return t===so&&A.documentElement.namespaceURI===so?A.createElement(e):A.createElementNS(t,e)}}function Dp(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function jl(e){var A=wi(e);return(A.local?Dp:Tp)(A)}function Kp(){}function oo(e){return e==null?Kp:function(){return this.querySelector(e)}}function Op(e){typeof e!="function"&&(e=oo(e));for(var A=this._groups,t=A.length,r=new Array(t),n=0;n<t;++n)for(var i=A[n],s=i.length,o=r[n]=new Array(s),a,l,c=0;c<s;++c)(a=i[c])&&(l=e.call(a,a.__data__,c,i))&&("__data__"in a&&(l.__data__=a.__data__),o[c]=l);return new st(r,this._parents)}function Np(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Rp(){return[]}function ql(e){return e==null?Rp:function(){return this.querySelectorAll(e)}}function Pp(e){return function(){return Np(e.apply(this,arguments))}}function Vp(e){typeof e=="function"?e=Pp(e):e=ql(e);for(var A=this._groups,t=A.length,r=[],n=[],i=0;i<t;++i)for(var s=A[i],o=s.length,a,l=0;l<o;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),n.push(a));return new st(r,n)}function Zl(e){return function(){return this.matches(e)}}function Ac(e){return function(A){return A.matches(e)}}var Gp=Array.prototype.find;function Xp(e){return function(){return Gp.call(this.children,e)}}function Jp(){return this.firstElementChild}function Wp(e){return this.select(e==null?Jp:Xp(typeof e=="function"?e:Ac(e)))}var Yp=Array.prototype.filter;function zp(){return Array.from(this.children)}function $p(e){return function(){return Yp.call(this.children,e)}}function jp(e){return this.selectAll(e==null?zp:$p(typeof e=="function"?e:Ac(e)))}function qp(e){typeof e!="function"&&(e=Zl(e));for(var A=this._groups,t=A.length,r=new Array(t),n=0;n<t;++n)for(var i=A[n],s=i.length,o=r[n]=[],a,l=0;l<s;++l)(a=i[l])&&e.call(a,a.__data__,l,i)&&o.push(a);return new st(r,this._parents)}function ec(e){return new Array(e.length)}function Zp(){return new st(this._enter||this._groups.map(ec),this._parents)}function vi(e,A){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=A}vi.prototype={constructor:vi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,A){return this._parent.insertBefore(e,A)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Am(e){return function(){return e}}function em(e,A,t,r,n,i){for(var s=0,o,a=A.length,l=i.length;s<l;++s)(o=A[s])?(o.__data__=i[s],r[s]=o):t[s]=new vi(e,i[s]);for(;s<a;++s)(o=A[s])&&(n[s]=o)}function tm(e,A,t,r,n,i,s){var o,a,l=new Map,c=A.length,f=i.length,u=new Array(c),h;for(o=0;o<c;++o)(a=A[o])&&(u[o]=h=s.call(a,a.__data__,o,A)+"",l.has(h)?n[o]=a:l.set(h,a));for(o=0;o<f;++o)h=s.call(e,i[o],o,i)+"",(a=l.get(h))?(r[o]=a,a.__data__=i[o],l.delete(h)):t[o]=new vi(e,i[o]);for(o=0;o<c;++o)(a=A[o])&&l.get(u[o])===a&&(n[o]=a)}function rm(e){return e.__data__}function nm(e,A){if(!arguments.length)return Array.from(this,rm);var t=A?tm:em,r=this._parents,n=this._groups;typeof e!="function"&&(e=Am(e));for(var i=n.length,s=new Array(i),o=new Array(i),a=new Array(i),l=0;l<i;++l){var c=r[l],f=n[l],u=f.length,h=im(e.call(c,c&&c.__data__,l,r)),d=h.length,g=o[l]=new Array(d),B=s[l]=new Array(d),p=a[l]=new Array(u);t(c,f,g,B,p,h,A);for(var C=0,U=0,v,y;C<d;++C)if(v=g[C]){for(C>=U&&(U=C+1);!(y=B[U])&&++U<d;);v._next=y||null}}return s=new st(s,r),s._enter=o,s._exit=a,s}function im(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sm(){return new st(this._exit||this._groups.map(ec),this._parents)}function om(e,A,t){var r=this.enter(),n=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),A!=null&&(n=A(n),n&&(n=n.selection())),t==null?i.remove():t(i),r&&n?r.merge(n).order():n}function am(e){for(var A=e.selection?e.selection():e,t=this._groups,r=A._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),a=0;a<s;++a)for(var l=t[a],c=r[a],f=l.length,u=o[a]=new Array(f),h,d=0;d<f;++d)(h=l[d]||c[d])&&(u[d]=h);for(;a<n;++a)o[a]=t[a];return new st(o,this._parents)}function lm(){for(var e=this._groups,A=-1,t=e.length;++A<t;)for(var r=e[A],n=r.length-1,i=r[n],s;--n>=0;)(s=r[n])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function cm(e){e||(e=um);function A(f,u){return f&&u?e(f.__data__,u.__data__):!f-!u}for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i){for(var s=t[i],o=s.length,a=n[i]=new Array(o),l,c=0;c<o;++c)(l=s[c])&&(a[c]=l);a.sort(A)}return new st(n,this._parents).order()}function um(e,A){return e<A?-1:e>A?1:e>=A?0:NaN}function fm(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function hm(){return Array.from(this)}function dm(){for(var e=this._groups,A=0,t=e.length;A<t;++A)for(var r=e[A],n=0,i=r.length;n<i;++n){var s=r[n];if(s)return s}return null}function gm(){let e=0;for(const A of this)++e;return e}function Bm(){return!this.node()}function pm(e){for(var A=this._groups,t=0,r=A.length;t<r;++t)for(var n=A[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&e.call(o,o.__data__,i,n);return this}function mm(e){return function(){this.removeAttribute(e)}}function wm(e){return function(){this.removeAttributeNS(e.space,e.local)}}function vm(e,A){return function(){this.setAttribute(e,A)}}function Cm(e,A){return function(){this.setAttributeNS(e.space,e.local,A)}}function Qm(e,A){return function(){var t=A.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}function ym(e,A){return function(){var t=A.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function _m(e,A){var t=wi(e);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((A==null?t.local?wm:mm:typeof A=="function"?t.local?ym:Qm:t.local?Cm:vm)(t,A))}function tc(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Um(e){return function(){this.style.removeProperty(e)}}function Fm(e,A,t){return function(){this.style.setProperty(e,A,t)}}function bm(e,A,t){return function(){var r=A.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,t)}}function Em(e,A,t){return arguments.length>1?this.each((A==null?Um:typeof A=="function"?bm:Fm)(e,A,t??"")):Or(this.node(),e)}function Or(e,A){return e.style.getPropertyValue(A)||tc(e).getComputedStyle(e,null).getPropertyValue(A)}function Im(e){return function(){delete this[e]}}function Hm(e,A){return function(){this[e]=A}}function Sm(e,A){return function(){var t=A.apply(this,arguments);t==null?delete this[e]:this[e]=t}}function xm(e,A){return arguments.length>1?this.each((A==null?Im:typeof A=="function"?Sm:Hm)(e,A)):this.node()[e]}function rc(e){return e.trim().split(/^|\s+/)}function ao(e){return e.classList||new nc(e)}function nc(e){this._node=e,this._names=rc(e.getAttribute("class")||"")}nc.prototype={add:function(e){var A=this._names.indexOf(e);A<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var A=this._names.indexOf(e);A>=0&&(this._names.splice(A,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ic(e,A){for(var t=ao(e),r=-1,n=A.length;++r<n;)t.add(A[r])}function sc(e,A){for(var t=ao(e),r=-1,n=A.length;++r<n;)t.remove(A[r])}function Lm(e){return function(){ic(this,e)}}function Mm(e){return function(){sc(this,e)}}function km(e,A){return function(){(A.apply(this,arguments)?ic:sc)(this,e)}}function Tm(e,A){var t=rc(e+"");if(arguments.length<2){for(var r=ao(this.node()),n=-1,i=t.length;++n<i;)if(!r.contains(t[n]))return!1;return!0}return this.each((typeof A=="function"?km:A?Lm:Mm)(t,A))}function Dm(){this.textContent=""}function Km(e){return function(){this.textContent=e}}function Om(e){return function(){var A=e.apply(this,arguments);this.textContent=A??""}}function Nm(e){return arguments.length?this.each(e==null?Dm:(typeof e=="function"?Om:Km)(e)):this.node().textContent}function Rm(){this.innerHTML=""}function Pm(e){return function(){this.innerHTML=e}}function Vm(e){return function(){var A=e.apply(this,arguments);this.innerHTML=A??""}}function Gm(e){return arguments.length?this.each(e==null?Rm:(typeof e=="function"?Vm:Pm)(e)):this.node().innerHTML}function Xm(){this.nextSibling&&this.parentNode.appendChild(this)}function Jm(){return this.each(Xm)}function Wm(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ym(){return this.each(Wm)}function zm(e){var A=typeof e=="function"?e:jl(e);return this.select(function(){return this.appendChild(A.apply(this,arguments))})}function $m(){return null}function jm(e,A){var t=typeof e=="function"?e:jl(e),r=A==null?$m:typeof A=="function"?A:oo(A);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function qm(){var e=this.parentNode;e&&e.removeChild(this)}function Zm(){return this.each(qm)}function Aw(){var e=this.cloneNode(!1),A=this.parentNode;return A?A.insertBefore(e,this.nextSibling):e}function ew(){var e=this.cloneNode(!0),A=this.parentNode;return A?A.insertBefore(e,this.nextSibling):e}function tw(e){return this.select(e?ew:Aw)}function rw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function nw(e){return function(A){e.call(this,A,this.__data__)}}function iw(e){return e.trim().split(/^|\s+/).map(function(A){var t="",r=A.indexOf(".");return r>=0&&(t=A.slice(r+1),A=A.slice(0,r)),{type:A,name:t}})}function sw(e){return function(){var A=this.__on;if(A){for(var t=0,r=-1,n=A.length,i;t<n;++t)i=A[t],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):A[++r]=i;++r?A.length=r:delete this.__on}}}function ow(e,A,t){return function(){var r=this.__on,n,i=nw(A);if(r){for(var s=0,o=r.length;s<o;++s)if((n=r[s]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=i,n.options=t),n.value=A;return}}this.addEventListener(e.type,i,t),n={type:e.type,name:e.name,value:A,listener:i,options:t},r?r.push(n):this.__on=[n]}}function aw(e,A,t){var r=iw(e+""),n,i=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var a=0,l=o.length,c;a<l;++a)for(n=0,c=o[a];n<i;++n)if((s=r[n]).type===c.type&&s.name===c.name)return c.value}return}for(o=A?ow:sw,n=0;n<i;++n)this.each(o(r[n],A,t));return this}function oc(e,A,t){var r=tc(e),n=r.CustomEvent;typeof n=="function"?n=new n(A,t):(n=r.document.createEvent("Event"),t?(n.initEvent(A,t.bubbles,t.cancelable),n.detail=t.detail):n.initEvent(A,!1,!1)),e.dispatchEvent(n)}function lw(e,A){return function(){return oc(this,e,A)}}function cw(e,A){return function(){return oc(this,e,A.apply(this,arguments))}}function uw(e,A){return this.each((typeof A=="function"?cw:lw)(e,A))}function*fw(){for(var e=this._groups,A=0,t=e.length;A<t;++A)for(var r=e[A],n=0,i=r.length,s;n<i;++n)(s=r[n])&&(yield s)}var ac=[null];function st(e,A){this._groups=e,this._parents=A}function dn(){return new st([[document.documentElement]],ac)}function hw(){return this}st.prototype=dn.prototype={constructor:st,select:Op,selectAll:Vp,selectChild:Wp,selectChildren:jp,filter:qp,data:nm,enter:Zp,exit:sm,join:om,merge:am,selection:hw,order:lm,sort:cm,call:fm,nodes:hm,node:dm,size:gm,empty:Bm,each:pm,attr:_m,style:Em,property:xm,classed:Tm,text:Nm,html:Gm,raise:Jm,lower:Ym,append:zm,insert:jm,remove:Zm,clone:tw,datum:rw,on:aw,dispatch:uw,[Symbol.iterator]:fw};function Ce(e){return typeof e=="string"?new st([[document.querySelector(e)]],[document.documentElement]):new st([[e]],ac)}function dw(e){let A;for(;A=e.sourceEvent;)e=A;return e}function Se(e,A){if(e=dw(e),A===void 0&&(A=e.currentTarget),A){var t=A.ownerSVGElement||A;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(A.getScreenCTM().inverse()),[r.x,r.y]}if(A.getBoundingClientRect){var n=A.getBoundingClientRect();return[e.clientX-n.left-A.clientLeft,e.clientY-n.top-A.clientTop]}}return[e.pageX,e.pageY]}const gw={passive:!1},gn={capture:!0,passive:!1};function lo(e){e.stopImmediatePropagation()}function Nr(e){e.preventDefault(),e.stopImmediatePropagation()}function lc(e){var A=e.document.documentElement,t=Ce(e).on("dragstart.drag",Nr,gn);"onselectstart"in A?t.on("selectstart.drag",Nr,gn):(A.__noselect=A.style.MozUserSelect,A.style.MozUserSelect="none")}function cc(e,A){var t=e.document.documentElement,r=Ce(e).on("dragstart.drag",null);A&&(r.on("click.drag",Nr,gn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const Ci=e=>()=>e;function co(e,{sourceEvent:A,subject:t,target:r,identifier:n,active:i,x:s,y:o,dx:a,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:A,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:n,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}co.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Bw(e){return!e.ctrlKey&&!e.button}function pw(){return this.parentNode}function mw(e,A){return A??{x:e.x,y:e.y}}function ww(){return navigator.maxTouchPoints||"ontouchstart"in this}function vw(){var e=Bw,A=pw,t=mw,r=ww,n={},i=hn("start","drag","end"),s=0,o,a,l,c,f=0;function u(v){v.on("mousedown.drag",h).filter(r).on("touchstart.drag",B).on("touchmove.drag",p,gw).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(v,y){if(!(c||!e.call(this,v,y))){var _=U(this,A.call(this,v,y),v,y,"mouse");_&&(Ce(v.view).on("mousemove.drag",d,gn).on("mouseup.drag",g,gn),lc(v.view),lo(v),l=!1,o=v.clientX,a=v.clientY,_("start",v))}}function d(v){if(Nr(v),!l){var y=v.clientX-o,_=v.clientY-a;l=y*y+_*_>f}n.mouse("drag",v)}function g(v){Ce(v.view).on("mousemove.drag mouseup.drag",null),cc(v.view,l),Nr(v),n.mouse("end",v)}function B(v,y){if(e.call(this,v,y)){var _=v.changedTouches,H=A.call(this,v,y),F=_.length,b,k;for(b=0;b<F;++b)(k=U(this,H,v,y,_[b].identifier,_[b]))&&(lo(v),k("start",v,_[b]))}}function p(v){var y=v.changedTouches,_=y.length,H,F;for(H=0;H<_;++H)(F=n[y[H].identifier])&&(Nr(v),F("drag",v,y[H]))}function C(v){var y=v.changedTouches,_=y.length,H,F;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),H=0;H<_;++H)(F=n[y[H].identifier])&&(lo(v),F("end",v,y[H]))}function U(v,y,_,H,F,b){var k=i.copy(),M=Se(b||_,y),T,L,E;if((E=t.call(v,new co("beforestart",{sourceEvent:_,target:u,identifier:F,active:s,x:M[0],y:M[1],dx:0,dy:0,dispatch:k}),H))!=null)return T=E.x-M[0]||0,L=E.y-M[1]||0,function R(S,Y,V){var G=M,AA;switch(S){case"start":n[F]=R,AA=s++;break;case"end":delete n[F],--s;case"drag":M=Se(V||Y,y),AA=s;break}k.call(S,v,new co(S,{sourceEvent:Y,subject:E,target:u,identifier:F,active:AA,x:M[0]+T,y:M[1]+L,dx:M[0]-G[0],dy:M[1]-G[1],dispatch:k}),H)}}return u.filter=function(v){return arguments.length?(e=typeof v=="function"?v:Ci(!!v),u):e},u.container=function(v){return arguments.length?(A=typeof v=="function"?v:Ci(v),u):A},u.subject=function(v){return arguments.length?(t=typeof v=="function"?v:Ci(v),u):t},u.touchable=function(v){return arguments.length?(r=typeof v=="function"?v:Ci(!!v),u):r},u.on=function(){var v=i.on.apply(i,arguments);return v===i?u:v},u.clickDistance=function(v){return arguments.length?(f=(v=+v)*v,u):Math.sqrt(f)},u}function uo(e,A,t){e.prototype=A.prototype=t,t.constructor=e}function uc(e,A){var t=Object.create(e.prototype);for(var r in A)t[r]=A[r];return t}function Bn(){}var pn=.7,Qi=1/pn,Rr="\\s*([+-]?\\d+)\\s*",mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ft="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cw=/^#([0-9a-f]{3,8})$/,Qw=new RegExp(`^rgb\\(${Rr},${Rr},${Rr}\\)$`),yw=new RegExp(`^rgb\\(${Ft},${Ft},${Ft}\\)$`),_w=new RegExp(`^rgba\\(${Rr},${Rr},${Rr},${mn}\\)$`),Uw=new RegExp(`^rgba\\(${Ft},${Ft},${Ft},${mn}\\)$`),Fw=new RegExp(`^hsl\\(${mn},${Ft},${Ft}\\)$`),bw=new RegExp(`^hsla\\(${mn},${Ft},${Ft},${mn}\\)$`),fc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uo(Bn,dr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:hc,formatHex:hc,formatHex8:Ew,formatHsl:Iw,formatRgb:dc,toString:dc});function hc(){return this.rgb().formatHex()}function Ew(){return this.rgb().formatHex8()}function Iw(){return wc(this).formatHsl()}function dc(){return this.rgb().formatRgb()}function dr(e){var A,t;return e=(e+"").trim().toLowerCase(),(A=Cw.exec(e))?(t=A[1].length,A=parseInt(A[1],16),t===6?gc(A):t===3?new qe(A>>8&15|A>>4&240,A>>4&15|A&240,(A&15)<<4|A&15,1):t===8?yi(A>>24&255,A>>16&255,A>>8&255,(A&255)/255):t===4?yi(A>>12&15|A>>8&240,A>>8&15|A>>4&240,A>>4&15|A&240,((A&15)<<4|A&15)/255):null):(A=Qw.exec(e))?new qe(A[1],A[2],A[3],1):(A=yw.exec(e))?new qe(A[1]*255/100,A[2]*255/100,A[3]*255/100,1):(A=_w.exec(e))?yi(A[1],A[2],A[3],A[4]):(A=Uw.exec(e))?yi(A[1]*255/100,A[2]*255/100,A[3]*255/100,A[4]):(A=Fw.exec(e))?mc(A[1],A[2]/100,A[3]/100,1):(A=bw.exec(e))?mc(A[1],A[2]/100,A[3]/100,A[4]):fc.hasOwnProperty(e)?gc(fc[e]):e==="transparent"?new qe(NaN,NaN,NaN,0):null}function gc(e){return new qe(e>>16&255,e>>8&255,e&255,1)}function yi(e,A,t,r){return r<=0&&(e=A=t=NaN),new qe(e,A,t,r)}function Hw(e){return e instanceof Bn||(e=dr(e)),e?(e=e.rgb(),new qe(e.r,e.g,e.b,e.opacity)):new qe}function fo(e,A,t,r){return arguments.length===1?Hw(e):new qe(e,A,t,r??1)}function qe(e,A,t,r){this.r=+e,this.g=+A,this.b=+t,this.opacity=+r}uo(qe,fo,uc(Bn,{brighter(e){return e=e==null?Qi:Math.pow(Qi,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pn:Math.pow(pn,e),new qe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qe(gr(this.r),gr(this.g),gr(this.b),_i(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bc,formatHex:Bc,formatHex8:Sw,formatRgb:pc,toString:pc}));function Bc(){return`#${Br(this.r)}${Br(this.g)}${Br(this.b)}`}function Sw(){return`#${Br(this.r)}${Br(this.g)}${Br(this.b)}${Br((isNaN(this.opacity)?1:this.opacity)*255)}`}function pc(){const e=_i(this.opacity);return`${e===1?"rgb(":"rgba("}${gr(this.r)}, ${gr(this.g)}, ${gr(this.b)}${e===1?")":`, ${e})`}`}function _i(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gr(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Br(e){return e=gr(e),(e<16?"0":"")+e.toString(16)}function mc(e,A,t,r){return r<=0?e=A=t=NaN:t<=0||t>=1?e=A=NaN:A<=0&&(e=NaN),new Ct(e,A,t,r)}function wc(e){if(e instanceof Ct)return new Ct(e.h,e.s,e.l,e.opacity);if(e instanceof Bn||(e=dr(e)),!e)return new Ct;if(e instanceof Ct)return e;e=e.rgb();var A=e.r/255,t=e.g/255,r=e.b/255,n=Math.min(A,t,r),i=Math.max(A,t,r),s=NaN,o=i-n,a=(i+n)/2;return o?(A===i?s=(t-r)/o+(t<r)*6:t===i?s=(r-A)/o+2:s=(A-t)/o+4,o/=a<.5?i+n:2-i-n,s*=60):o=a>0&&a<1?0:s,new Ct(s,o,a,e.opacity)}function Ui(e,A,t,r){return arguments.length===1?wc(e):new Ct(e,A,t,r??1)}function Ct(e,A,t,r){this.h=+e,this.s=+A,this.l=+t,this.opacity=+r}uo(Ct,Ui,uc(Bn,{brighter(e){return e=e==null?Qi:Math.pow(Qi,e),new Ct(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pn:Math.pow(pn,e),new Ct(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,A=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*A,n=2*t-r;return new qe(ho(e>=240?e-240:e+120,n,r),ho(e,n,r),ho(e<120?e+240:e-120,n,r),this.opacity)},clamp(){return new Ct(vc(this.h),Fi(this.s),Fi(this.l),_i(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_i(this.opacity);return`${e===1?"hsl(":"hsla("}${vc(this.h)}, ${Fi(this.s)*100}%, ${Fi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vc(e){return e=(e||0)%360,e<0?e+360:e}function Fi(e){return Math.max(0,Math.min(1,e||0))}function ho(e,A,t){return(e<60?A+(t-A)*e/60:e<180?t:e<240?A+(t-A)*(240-e)/60:A)*255}const go=e=>()=>e;function xw(e,A){return function(t){return e+t*A}}function Lw(e,A,t){return e=Math.pow(e,t),A=Math.pow(A,t)-e,t=1/t,function(r){return Math.pow(e+r*A,t)}}function Mw(e){return(e=+e)==1?Cc:function(A,t){return t-A?Lw(A,t,e):go(isNaN(A)?t:A)}}function Cc(e,A){var t=A-e;return t?xw(e,t):go(isNaN(e)?A:e)}const bi=function e(A){var t=Mw(A);function r(n,i){var s=t((n=fo(n)).r,(i=fo(i)).r),o=t(n.g,i.g),a=t(n.b,i.b),l=Cc(n.opacity,i.opacity);return function(c){return n.r=s(c),n.g=o(c),n.b=a(c),n.opacity=l(c),n+""}}return r.gamma=e,r}(1);function kw(e,A){A||(A=[]);var t=e?Math.min(A.length,e.length):0,r=A.slice(),n;return function(i){for(n=0;n<t;++n)r[n]=e[n]*(1-i)+A[n]*i;return r}}function Tw(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Dw(e,A){var t=A?A.length:0,r=e?Math.min(t,e.length):0,n=new Array(r),i=new Array(t),s;for(s=0;s<r;++s)n[s]=mo(e[s],A[s]);for(;s<t;++s)i[s]=A[s];return function(o){for(s=0;s<r;++s)i[s]=n[s](o);return i}}function Kw(e,A){var t=new Date;return e=+e,A=+A,function(r){return t.setTime(e*(1-r)+A*r),t}}function Qt(e,A){return e=+e,A=+A,function(t){return e*(1-t)+A*t}}function Ow(e,A){var t={},r={},n;(e===null||typeof e!="object")&&(e={}),(A===null||typeof A!="object")&&(A={});for(n in A)n in e?t[n]=mo(e[n],A[n]):r[n]=A[n];return function(i){for(n in t)r[n]=t[n](i);return r}}var Bo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,po=new RegExp(Bo.source,"g");function Nw(e){return function(){return e}}function Rw(e){return function(A){return e(A)+""}}function Qc(e,A){var t=Bo.lastIndex=po.lastIndex=0,r,n,i,s=-1,o=[],a=[];for(e=e+"",A=A+"";(r=Bo.exec(e))&&(n=po.exec(A));)(i=n.index)>t&&(i=A.slice(t,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,a.push({i:s,x:Qt(r,n)})),t=po.lastIndex;return t<A.length&&(i=A.slice(t),o[s]?o[s]+=i:o[++s]=i),o.length<2?a[0]?Rw(a[0].x):Nw(A):(A=a.length,function(l){for(var c=0,f;c<A;++c)o[(f=a[c]).i]=f.x(l);return o.join("")})}function mo(e,A){var t=typeof A,r;return A==null||t==="boolean"?go(A):(t==="number"?Qt:t==="string"?(r=dr(A))?(A=r,bi):Qc:A instanceof dr?bi:A instanceof Date?Kw:Tw(A)?kw:Array.isArray(A)?Dw:typeof A.valueOf!="function"&&typeof A.toString!="function"||isNaN(A)?Ow:Qt)(e,A)}function Pw(e,A){return e=+e,A=+A,function(t){return Math.round(e*(1-t)+A*t)}}var yc=180/Math.PI,wo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function _c(e,A,t,r,n,i){var s,o,a;return(s=Math.sqrt(e*e+A*A))&&(e/=s,A/=s),(a=e*t+A*r)&&(t-=e*a,r-=A*a),(o=Math.sqrt(t*t+r*r))&&(t/=o,r/=o,a/=o),e*r<A*t&&(e=-e,A=-A,a=-a,s=-s),{translateX:n,translateY:i,rotate:Math.atan2(A,e)*yc,skewX:Math.atan(a)*yc,scaleX:s,scaleY:o}}var Ei;function Vw(e){const A=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return A.isIdentity?wo:_c(A.a,A.b,A.c,A.d,A.e,A.f)}function Gw(e){return e==null||(Ei||(Ei=document.createElementNS("http://www.w3.org/2000/svg","g")),Ei.setAttribute("transform",e),!(e=Ei.transform.baseVal.consolidate()))?wo:(e=e.matrix,_c(e.a,e.b,e.c,e.d,e.e,e.f))}function Uc(e,A,t,r){function n(l){return l.length?l.pop()+" ":""}function i(l,c,f,u,h,d){if(l!==f||c!==u){var g=h.push("translate(",null,A,null,t);d.push({i:g-4,x:Qt(l,f)},{i:g-2,x:Qt(c,u)})}else(f||u)&&h.push("translate("+f+A+u+t)}function s(l,c,f,u){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),u.push({i:f.push(n(f)+"rotate(",null,r)-2,x:Qt(l,c)})):c&&f.push(n(f)+"rotate("+c+r)}function o(l,c,f,u){l!==c?u.push({i:f.push(n(f)+"skewX(",null,r)-2,x:Qt(l,c)}):c&&f.push(n(f)+"skewX("+c+r)}function a(l,c,f,u,h,d){if(l!==f||c!==u){var g=h.push(n(h)+"scale(",null,",",null,")");d.push({i:g-4,x:Qt(l,f)},{i:g-2,x:Qt(c,u)})}else(f!==1||u!==1)&&h.push(n(h)+"scale("+f+","+u+")")}return function(l,c){var f=[],u=[];return l=e(l),c=e(c),i(l.translateX,l.translateY,c.translateX,c.translateY,f,u),s(l.rotate,c.rotate,f,u),o(l.skewX,c.skewX,f,u),a(l.scaleX,l.scaleY,c.scaleX,c.scaleY,f,u),l=c=null,function(h){for(var d=-1,g=u.length,B;++d<g;)f[(B=u[d]).i]=B.x(h);return f.join("")}}}var Xw=Uc(Vw,"px, ","px)","deg)"),Jw=Uc(Gw,", ",")",")"),Ww=1e-12;function Fc(e){return((e=Math.exp(e))+1/e)/2}function Yw(e){return((e=Math.exp(e))-1/e)/2}function zw(e){return((e=Math.exp(2*e))-1)/(e+1)}const $w=function e(A,t,r){function n(i,s){var o=i[0],a=i[1],l=i[2],c=s[0],f=s[1],u=s[2],h=c-o,d=f-a,g=h*h+d*d,B,p;if(g<Ww)p=Math.log(u/l)/A,B=function(H){return[o+H*h,a+H*d,l*Math.exp(A*H*p)]};else{var C=Math.sqrt(g),U=(u*u-l*l+r*g)/(2*l*t*C),v=(u*u-l*l-r*g)/(2*u*t*C),y=Math.log(Math.sqrt(U*U+1)-U),_=Math.log(Math.sqrt(v*v+1)-v);p=(_-y)/A,B=function(H){var F=H*p,b=Fc(y),k=l/(t*C)*(b*zw(A*F+y)-Yw(y));return[o+k*h,a+k*d,l*b/Fc(A*F+y)]}}return B.duration=p*1e3*A/Math.SQRT2,B}return n.rho=function(i){var s=Math.max(.001,+i),o=s*s,a=o*o;return e(s,o,a)},n}(Math.SQRT2,2,4);var Pr=0,wn=0,vn=0,bc=1e3,Ii,Cn,Hi=0,pr=0,Si=0,Qn=typeof performance=="object"&&performance.now?performance:Date,Ec=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vo(){return pr||(Ec(jw),pr=Qn.now()+Si)}function jw(){pr=0}function xi(){this._call=this._time=this._next=null}xi.prototype=Co.prototype={constructor:xi,restart:function(e,A,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?vo():+t)+(A==null?0:+A),!this._next&&Cn!==this&&(Cn?Cn._next=this:Ii=this,Cn=this),this._call=e,this._time=t,Qo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qo())}};function Co(e,A,t){var r=new xi;return r.restart(e,A,t),r}function qw(){vo(),++Pr;for(var e=Ii,A;e;)(A=pr-e._time)>=0&&e._call.call(void 0,A),e=e._next;--Pr}function Ic(){pr=(Hi=Qn.now())+Si,Pr=wn=0;try{qw()}finally{Pr=0,A0(),pr=0}}function Zw(){var e=Qn.now(),A=e-Hi;A>bc&&(Si-=A,Hi=e)}function A0(){for(var e,A=Ii,t,r=1/0;A;)A._call?(r>A._time&&(r=A._time),e=A,A=A._next):(t=A._next,A._next=null,A=e?e._next=t:Ii=t);Cn=e,Qo(r)}function Qo(e){if(!Pr){wn&&(wn=clearTimeout(wn));var A=e-pr;A>24?(e<1/0&&(wn=setTimeout(Ic,e-Qn.now()-Si)),vn&&(vn=clearInterval(vn))):(vn||(Hi=Qn.now(),vn=setInterval(Zw,bc)),Pr=1,Ec(Ic))}}function Hc(e,A,t){var r=new xi;return A=A==null?0:+A,r.restart(n=>{r.stop(),e(n+A)},A,t),r}var e0=hn("start","end","cancel","interrupt"),t0=[],Sc=0,xc=1,yo=2,Li=3,Lc=4,_o=5,Mi=6;function ki(e,A,t,r,n,i){var s=e.__transition;if(!s)e.__transition={};else if(t in s)return;r0(e,t,{name:A,index:r,group:n,on:e0,tween:t0,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Sc})}function Uo(e,A){var t=yt(e,A);if(t.state>Sc)throw new Error("too late; already scheduled");return t}function bt(e,A){var t=yt(e,A);if(t.state>Li)throw new Error("too late; already running");return t}function yt(e,A){var t=e.__transition;if(!t||!(t=t[A]))throw new Error("transition not found");return t}function r0(e,A,t){var r=e.__transition,n;r[A]=t,t.timer=Co(i,0,t.time);function i(l){t.state=xc,t.timer.restart(s,t.delay,t.time),t.delay<=l&&s(l-t.delay)}function s(l){var c,f,u,h;if(t.state!==xc)return a();for(c in r)if(h=r[c],h.name===t.name){if(h.state===Li)return Hc(s);h.state===Lc?(h.state=Mi,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<A&&(h.state=Mi,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(Hc(function(){t.state===Li&&(t.state=Lc,t.timer.restart(o,t.delay,t.time),o(l))}),t.state=yo,t.on.call("start",e,e.__data__,t.index,t.group),t.state===yo){for(t.state=Li,n=new Array(u=t.tween.length),c=0,f=-1;c<u;++c)(h=t.tween[c].value.call(e,e.__data__,t.index,t.group))&&(n[++f]=h);n.length=f+1}}function o(l){for(var c=l<t.duration?t.ease.call(null,l/t.duration):(t.timer.restart(a),t.state=_o,1),f=-1,u=n.length;++f<u;)n[f].call(e,c);t.state===_o&&(t.on.call("end",e,e.__data__,t.index,t.group),a())}function a(){t.state=Mi,t.timer.stop(),delete r[A];for(var l in r)return;delete e.__transition}}function Ti(e,A){var t=e.__transition,r,n,i=!0,s;if(t){A=A==null?null:A+"";for(s in t){if((r=t[s]).name!==A){i=!1;continue}n=r.state>yo&&r.state<_o,r.state=Mi,r.timer.stop(),r.on.call(n?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete t[s]}i&&delete e.__transition}}function n0(e){return this.each(function(){Ti(this,e)})}function i0(e,A){var t,r;return function(){var n=bt(this,e),i=n.tween;if(i!==t){r=t=i;for(var s=0,o=r.length;s<o;++s)if(r[s].name===A){r=r.slice(),r.splice(s,1);break}}n.tween=r}}function s0(e,A,t){var r,n;if(typeof t!="function")throw new Error;return function(){var i=bt(this,e),s=i.tween;if(s!==r){n=(r=s).slice();for(var o={name:A,value:t},a=0,l=n.length;a<l;++a)if(n[a].name===A){n[a]=o;break}a===l&&n.push(o)}i.tween=n}}function o0(e,A){var t=this._id;if(e+="",arguments.length<2){for(var r=yt(this.node(),t).tween,n=0,i=r.length,s;n<i;++n)if((s=r[n]).name===e)return s.value;return null}return this.each((A==null?i0:s0)(t,e,A))}function Fo(e,A,t){var r=e._id;return e.each(function(){var n=bt(this,r);(n.value||(n.value={}))[A]=t.apply(this,arguments)}),function(n){return yt(n,r).value[A]}}function Mc(e,A){var t;return(typeof A=="number"?Qt:A instanceof dr?bi:(t=dr(A))?(A=t,bi):Qc)(e,A)}function a0(e){return function(){this.removeAttribute(e)}}function l0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function c0(e,A,t){var r,n=t+"",i;return function(){var s=this.getAttribute(e);return s===n?null:s===r?i:i=A(r=s,t)}}function u0(e,A,t){var r,n=t+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===n?null:s===r?i:i=A(r=s,t)}}function f0(e,A,t){var r,n,i;return function(){var s,o=t(this),a;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=o+"",s===a?null:s===r&&a===n?i:(n=a,i=A(r=s,o)))}}function h0(e,A,t){var r,n,i;return function(){var s,o=t(this),a;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=o+"",s===a?null:s===r&&a===n?i:(n=a,i=A(r=s,o)))}}function d0(e,A){var t=wi(e),r=t==="transform"?Jw:Mc;return this.attrTween(e,typeof A=="function"?(t.local?h0:f0)(t,r,Fo(this,"attr."+e,A)):A==null?(t.local?l0:a0)(t):(t.local?u0:c0)(t,r,A))}function g0(e,A){return function(t){this.setAttribute(e,A.call(this,t))}}function B0(e,A){return function(t){this.setAttributeNS(e.space,e.local,A.call(this,t))}}function p0(e,A){var t,r;function n(){var i=A.apply(this,arguments);return i!==r&&(t=(r=i)&&B0(e,i)),t}return n._value=A,n}function m0(e,A){var t,r;function n(){var i=A.apply(this,arguments);return i!==r&&(t=(r=i)&&g0(e,i)),t}return n._value=A,n}function w0(e,A){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(A==null)return this.tween(t,null);if(typeof A!="function")throw new Error;var r=wi(e);return this.tween(t,(r.local?p0:m0)(r,A))}function v0(e,A){return function(){Uo(this,e).delay=+A.apply(this,arguments)}}function C0(e,A){return A=+A,function(){Uo(this,e).delay=A}}function Q0(e){var A=this._id;return arguments.length?this.each((typeof e=="function"?v0:C0)(A,e)):yt(this.node(),A).delay}function y0(e,A){return function(){bt(this,e).duration=+A.apply(this,arguments)}}function _0(e,A){return A=+A,function(){bt(this,e).duration=A}}function U0(e){var A=this._id;return arguments.length?this.each((typeof e=="function"?y0:_0)(A,e)):yt(this.node(),A).duration}function F0(e,A){if(typeof A!="function")throw new Error;return function(){bt(this,e).ease=A}}function b0(e){var A=this._id;return arguments.length?this.each(F0(A,e)):yt(this.node(),A).ease}function E0(e,A){return function(){var t=A.apply(this,arguments);if(typeof t!="function")throw new Error;bt(this,e).ease=t}}function I0(e){if(typeof e!="function")throw new Error;return this.each(E0(this._id,e))}function H0(e){typeof e!="function"&&(e=Zl(e));for(var A=this._groups,t=A.length,r=new Array(t),n=0;n<t;++n)for(var i=A[n],s=i.length,o=r[n]=[],a,l=0;l<s;++l)(a=i[l])&&e.call(a,a.__data__,l,i)&&o.push(a);return new Dt(r,this._parents,this._name,this._id)}function S0(e){if(e._id!==this._id)throw new Error;for(var A=this._groups,t=e._groups,r=A.length,n=t.length,i=Math.min(r,n),s=new Array(r),o=0;o<i;++o)for(var a=A[o],l=t[o],c=a.length,f=s[o]=new Array(c),u,h=0;h<c;++h)(u=a[h]||l[h])&&(f[h]=u);for(;o<r;++o)s[o]=A[o];return new Dt(s,this._parents,this._name,this._id)}function x0(e){return(e+"").trim().split(/^|\s+/).every(function(A){var t=A.indexOf(".");return t>=0&&(A=A.slice(0,t)),!A||A==="start"})}function L0(e,A,t){var r,n,i=x0(A)?Uo:bt;return function(){var s=i(this,e),o=s.on;o!==r&&(n=(r=o).copy()).on(A,t),s.on=n}}function M0(e,A){var t=this._id;return arguments.length<2?yt(this.node(),t).on.on(e):this.each(L0(t,e,A))}function k0(e){return function(){var A=this.parentNode;for(var t in this.__transition)if(+t!==e)return;A&&A.removeChild(this)}}function T0(){return this.on("end.remove",k0(this._id))}function D0(e){var A=this._name,t=this._id;typeof e!="function"&&(e=oo(e));for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s)for(var o=r[s],a=o.length,l=i[s]=new Array(a),c,f,u=0;u<a;++u)(c=o[u])&&(f=e.call(c,c.__data__,u,o))&&("__data__"in c&&(f.__data__=c.__data__),l[u]=f,ki(l[u],A,t,u,l,yt(c,t)));return new Dt(i,this._parents,A,t)}function K0(e){var A=this._name,t=this._id;typeof e!="function"&&(e=ql(e));for(var r=this._groups,n=r.length,i=[],s=[],o=0;o<n;++o)for(var a=r[o],l=a.length,c,f=0;f<l;++f)if(c=a[f]){for(var u=e.call(c,c.__data__,f,a),h,d=yt(c,t),g=0,B=u.length;g<B;++g)(h=u[g])&&ki(h,A,t,g,u,d);i.push(u),s.push(c)}return new Dt(i,s,A,t)}var O0=dn.prototype.constructor;function N0(){return new O0(this._groups,this._parents)}function R0(e,A){var t,r,n;return function(){var i=Or(this,e),s=(this.style.removeProperty(e),Or(this,e));return i===s?null:i===t&&s===r?n:n=A(t=i,r=s)}}function kc(e){return function(){this.style.removeProperty(e)}}function P0(e,A,t){var r,n=t+"",i;return function(){var s=Or(this,e);return s===n?null:s===r?i:i=A(r=s,t)}}function V0(e,A,t){var r,n,i;return function(){var s=Or(this,e),o=t(this),a=o+"";return o==null&&(a=o=(this.style.removeProperty(e),Or(this,e))),s===a?null:s===r&&a===n?i:(n=a,i=A(r=s,o))}}function G0(e,A){var t,r,n,i="style."+A,s="end."+i,o;return function(){var a=bt(this,e),l=a.on,c=a.value[i]==null?o||(o=kc(A)):void 0;(l!==t||n!==c)&&(r=(t=l).copy()).on(s,n=c),a.on=r}}function X0(e,A,t){var r=(e+="")=="transform"?Xw:Mc;return A==null?this.styleTween(e,R0(e,r)).on("end.style."+e,kc(e)):typeof A=="function"?this.styleTween(e,V0(e,r,Fo(this,"style."+e,A))).each(G0(this._id,e)):this.styleTween(e,P0(e,r,A),t).on("end.style."+e,null)}function J0(e,A,t){return function(r){this.style.setProperty(e,A.call(this,r),t)}}function W0(e,A,t){var r,n;function i(){var s=A.apply(this,arguments);return s!==n&&(r=(n=s)&&J0(e,s,t)),r}return i._value=A,i}function Y0(e,A,t){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(A==null)return this.tween(r,null);if(typeof A!="function")throw new Error;return this.tween(r,W0(e,A,t??""))}function z0(e){return function(){this.textContent=e}}function $0(e){return function(){var A=e(this);this.textContent=A??""}}function j0(e){return this.tween("text",typeof e=="function"?$0(Fo(this,"text",e)):z0(e==null?"":e+""))}function q0(e){return function(A){this.textContent=e.call(this,A)}}function Z0(e){var A,t;function r(){var n=e.apply(this,arguments);return n!==t&&(A=(t=n)&&q0(n)),A}return r._value=e,r}function Av(e){var A="text";if(arguments.length<1)return(A=this.tween(A))&&A._value;if(e==null)return this.tween(A,null);if(typeof e!="function")throw new Error;return this.tween(A,Z0(e))}function ev(){for(var e=this._name,A=this._id,t=Tc(),r=this._groups,n=r.length,i=0;i<n;++i)for(var s=r[i],o=s.length,a,l=0;l<o;++l)if(a=s[l]){var c=yt(a,A);ki(a,e,t,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Dt(r,this._parents,e,t)}function tv(){var e,A,t=this,r=t._id,n=t.size();return new Promise(function(i,s){var o={value:s},a={value:function(){--n===0&&i()}};t.each(function(){var l=bt(this,r),c=l.on;c!==e&&(A=(e=c).copy(),A._.cancel.push(o),A._.interrupt.push(o),A._.end.push(a)),l.on=A}),n===0&&i()})}var rv=0;function Dt(e,A,t,r){this._groups=e,this._parents=A,this._name=t,this._id=r}function Tc(){return++rv}var Kt=dn.prototype;Dt.prototype={constructor:Dt,select:D0,selectAll:K0,selectChild:Kt.selectChild,selectChildren:Kt.selectChildren,filter:H0,merge:S0,selection:N0,transition:ev,call:Kt.call,nodes:Kt.nodes,node:Kt.node,size:Kt.size,empty:Kt.empty,each:Kt.each,on:M0,attr:d0,attrTween:w0,style:X0,styleTween:Y0,text:j0,textTween:Av,remove:T0,tween:o0,delay:Q0,duration:U0,ease:b0,easeVarying:I0,end:tv,[Symbol.iterator]:Kt[Symbol.iterator]};function nv(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var iv={time:null,delay:0,duration:250,ease:nv};function sv(e,A){for(var t;!(t=e.__transition)||!(t=t[A]);)if(!(e=e.parentNode))throw new Error(`transition ${A} not found`);return t}function ov(e){var A,t;e instanceof Dt?(A=e._id,e=e._name):(A=Tc(),(t=iv).time=vo(),e=e==null?null:e+"");for(var r=this._groups,n=r.length,i=0;i<n;++i)for(var s=r[i],o=s.length,a,l=0;l<o;++l)(a=s[l])&&ki(a,e,A,l,s,t||sv(a,A));return new Dt(r,this._parents,e,A)}dn.prototype.interrupt=n0,dn.prototype.transition=ov;function Dc(e,A){var t,r=1;e==null&&(e=0),A==null&&(A=0);function n(){var i,s=t.length,o,a=0,l=0;for(i=0;i<s;++i)o=t[i],a+=o.x,l+=o.y;for(a=(a/s-e)*r,l=(l/s-A)*r,i=0;i<s;++i)o=t[i],o.x-=a,o.y-=l}return n.initialize=function(i){t=i},n.x=function(i){return arguments.length?(e=+i,n):e},n.y=function(i){return arguments.length?(A=+i,n):A},n.strength=function(i){return arguments.length?(r=+i,n):r},n}function av(e){const A=+this._x.call(null,e),t=+this._y.call(null,e);return Kc(this.cover(A,t),A,t,e)}function Kc(e,A,t,r){if(isNaN(A)||isNaN(t))return e;var n,i=e._root,s={data:r},o=e._x0,a=e._y0,l=e._x1,c=e._y1,f,u,h,d,g,B,p,C;if(!i)return e._root=s,e;for(;i.length;)if((g=A>=(f=(o+l)/2))?o=f:l=f,(B=t>=(u=(a+c)/2))?a=u:c=u,n=i,!(i=i[p=B<<1|g]))return n[p]=s,e;if(h=+e._x.call(null,i.data),d=+e._y.call(null,i.data),A===h&&t===d)return s.next=i,n?n[p]=s:e._root=s,e;do n=n?n[p]=new Array(4):e._root=new Array(4),(g=A>=(f=(o+l)/2))?o=f:l=f,(B=t>=(u=(a+c)/2))?a=u:c=u;while((p=B<<1|g)===(C=(d>=u)<<1|h>=f));return n[C]=i,n[p]=s,e}function lv(e){var A,t,r=e.length,n,i,s=new Array(r),o=new Array(r),a=1/0,l=1/0,c=-1/0,f=-1/0;for(t=0;t<r;++t)isNaN(n=+this._x.call(null,A=e[t]))||isNaN(i=+this._y.call(null,A))||(s[t]=n,o[t]=i,n<a&&(a=n),n>c&&(c=n),i<l&&(l=i),i>f&&(f=i));if(a>c||l>f)return this;for(this.cover(a,l).cover(c,f),t=0;t<r;++t)Kc(this,s[t],o[t],e[t]);return this}function cv(e,A){if(isNaN(e=+e)||isNaN(A=+A))return this;var t=this._x0,r=this._y0,n=this._x1,i=this._y1;if(isNaN(t))n=(t=Math.floor(e))+1,i=(r=Math.floor(A))+1;else{for(var s=n-t||1,o=this._root,a,l;t>e||e>=n||r>A||A>=i;)switch(l=(A<r)<<1|e<t,a=new Array(4),a[l]=o,o=a,s*=2,l){case 0:n=t+s,i=r+s;break;case 1:t=n-s,i=r+s;break;case 2:n=t+s,r=i-s;break;case 3:t=n-s,r=i-s;break}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._y0=r,this._x1=n,this._y1=i,this}function uv(){var e=[];return this.visit(function(A){if(!A.length)do e.push(A.data);while(A=A.next)}),e}function fv(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ye(e,A,t,r,n){this.node=e,this.x0=A,this.y0=t,this.x1=r,this.y1=n}function hv(e,A,t){var r,n=this._x0,i=this._y0,s,o,a,l,c=this._x1,f=this._y1,u=[],h=this._root,d,g;for(h&&u.push(new Ye(h,n,i,c,f)),t==null?t=1/0:(n=e-t,i=A-t,c=e+t,f=A+t,t*=t);d=u.pop();)if(!(!(h=d.node)||(s=d.x0)>c||(o=d.y0)>f||(a=d.x1)<n||(l=d.y1)<i))if(h.length){var B=(s+a)/2,p=(o+l)/2;u.push(new Ye(h[3],B,p,a,l),new Ye(h[2],s,p,B,l),new Ye(h[1],B,o,a,p),new Ye(h[0],s,o,B,p)),(g=(A>=p)<<1|e>=B)&&(d=u[u.length-1],u[u.length-1]=u[u.length-1-g],u[u.length-1-g]=d)}else{var C=e-+this._x.call(null,h.data),U=A-+this._y.call(null,h.data),v=C*C+U*U;if(v<t){var y=Math.sqrt(t=v);n=e-y,i=A-y,c=e+y,f=A+y,r=h.data}}return r}function dv(e){if(isNaN(c=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var A,t=this._root,r,n,i,s=this._x0,o=this._y0,a=this._x1,l=this._y1,c,f,u,h,d,g,B,p;if(!t)return this;if(t.length)for(;;){if((d=c>=(u=(s+a)/2))?s=u:a=u,(g=f>=(h=(o+l)/2))?o=h:l=h,A=t,!(t=t[B=g<<1|d]))return this;if(!t.length)break;(A[B+1&3]||A[B+2&3]||A[B+3&3])&&(r=A,p=B)}for(;t.data!==e;)if(n=t,!(t=t.next))return this;return(i=t.next)&&delete t.next,n?(i?n.next=i:delete n.next,this):A?(i?A[B]=i:delete A[B],(t=A[0]||A[1]||A[2]||A[3])&&t===(A[3]||A[2]||A[1]||A[0])&&!t.length&&(r?r[p]=t:this._root=t),this):(this._root=i,this)}function gv(e){for(var A=0,t=e.length;A<t;++A)this.remove(e[A]);return this}function Bv(){return this._root}function pv(){var e=0;return this.visit(function(A){if(!A.length)do++e;while(A=A.next)}),e}function mv(e){var A=[],t,r=this._root,n,i,s,o,a;for(r&&A.push(new Ye(r,this._x0,this._y0,this._x1,this._y1));t=A.pop();)if(!e(r=t.node,i=t.x0,s=t.y0,o=t.x1,a=t.y1)&&r.length){var l=(i+o)/2,c=(s+a)/2;(n=r[3])&&A.push(new Ye(n,l,c,o,a)),(n=r[2])&&A.push(new Ye(n,i,c,l,a)),(n=r[1])&&A.push(new Ye(n,l,s,o,c)),(n=r[0])&&A.push(new Ye(n,i,s,l,c))}return this}function wv(e){var A=[],t=[],r;for(this._root&&A.push(new Ye(this._root,this._x0,this._y0,this._x1,this._y1));r=A.pop();){var n=r.node;if(n.length){var i,s=r.x0,o=r.y0,a=r.x1,l=r.y1,c=(s+a)/2,f=(o+l)/2;(i=n[0])&&A.push(new Ye(i,s,o,c,f)),(i=n[1])&&A.push(new Ye(i,c,o,a,f)),(i=n[2])&&A.push(new Ye(i,s,f,c,l)),(i=n[3])&&A.push(new Ye(i,c,f,a,l))}t.push(r)}for(;r=t.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function vv(e){return e[0]}function Cv(e){return arguments.length?(this._x=e,this):this._x}function Qv(e){return e[1]}function yv(e){return arguments.length?(this._y=e,this):this._y}function bo(e,A,t){var r=new Eo(A??vv,t??Qv,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Eo(e,A,t,r,n,i){this._x=e,this._y=A,this._x0=t,this._y0=r,this._x1=n,this._y1=i,this._root=void 0}function Oc(e){for(var A={data:e.data},t=A;e=e.next;)t=t.next={data:e.data};return A}var ze=bo.prototype=Eo.prototype;ze.copy=function(){var e=new Eo(this._x,this._y,this._x0,this._y0,this._x1,this._y1),A=this._root,t,r;if(!A)return e;if(!A.length)return e._root=Oc(A),e;for(t=[{source:A,target:e._root=new Array(4)}];A=t.pop();)for(var n=0;n<4;++n)(r=A.source[n])&&(r.length?t.push({source:r,target:A.target[n]=new Array(4)}):A.target[n]=Oc(r));return e},ze.add=av,ze.addAll=lv,ze.cover=cv,ze.data=uv,ze.extent=fv,ze.find=hv,ze.remove=dv,ze.removeAll=gv,ze.root=Bv,ze.size=pv,ze.visit=mv,ze.visitAfter=wv,ze.x=Cv,ze.y=yv;function $e(e){return function(){return e}}function Ar(e){return(e()-.5)*1e-6}function _v(e){return e.x+e.vx}function Uv(e){return e.y+e.vy}function Nc(e){var A,t,r,n=1,i=1;typeof e!="function"&&(e=$e(e==null?1:+e));function s(){for(var l,c=A.length,f,u,h,d,g,B,p=0;p<i;++p)for(f=bo(A,_v,Uv).visitAfter(o),l=0;l<c;++l)u=A[l],g=t[u.index],B=g*g,h=u.x+u.vx,d=u.y+u.vy,f.visit(C);function C(U,v,y,_,H){var F=U.data,b=U.r,k=g+b;if(F){if(F.index>u.index){var M=h-F.x-F.vx,T=d-F.y-F.vy,L=M*M+T*T;L<k*k&&(M===0&&(M=Ar(r),L+=M*M),T===0&&(T=Ar(r),L+=T*T),L=(k-(L=Math.sqrt(L)))/L*n,u.vx+=(M*=L)*(k=(b*=b)/(B+b)),u.vy+=(T*=L)*k,F.vx-=M*(k=1-k),F.vy-=T*k)}return}return v>h+k||_<h-k||y>d+k||H<d-k}}function o(l){if(l.data)return l.r=t[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function a(){if(A){var l,c=A.length,f;for(t=new Array(c),l=0;l<c;++l)f=A[l],t[f.index]=+e(f,l,A)}}return s.initialize=function(l,c){A=l,r=c,a()},s.iterations=function(l){return arguments.length?(i=+l,s):i},s.strength=function(l){return arguments.length?(n=+l,s):n},s.radius=function(l){return arguments.length?(e=typeof l=="function"?l:$e(+l),a(),s):e},s}function Fv(e){return e.index}function Rc(e,A){var t=e.get(A);if(!t)throw new Error("node not found: "+A);return t}function Pc(e){var A=Fv,t=f,r,n=$e(30),i,s,o,a,l,c=1;e==null&&(e=[]);function f(B){return 1/Math.min(o[B.source.index],o[B.target.index])}function u(B){for(var p=0,C=e.length;p<c;++p)for(var U=0,v,y,_,H,F,b,k;U<C;++U)v=e[U],y=v.source,_=v.target,H=_.x+_.vx-y.x-y.vx||Ar(l),F=_.y+_.vy-y.y-y.vy||Ar(l),b=Math.sqrt(H*H+F*F),b=(b-i[U])/b*B*r[U],H*=b,F*=b,_.vx-=H*(k=a[U]),_.vy-=F*k,y.vx+=H*(k=1-k),y.vy+=F*k}function h(){if(s){var B,p=s.length,C=e.length,U=new Map(s.map((y,_)=>[A(y,_,s),y])),v;for(B=0,o=new Array(p);B<C;++B)v=e[B],v.index=B,typeof v.source!="object"&&(v.source=Rc(U,v.source)),typeof v.target!="object"&&(v.target=Rc(U,v.target)),o[v.source.index]=(o[v.source.index]||0)+1,o[v.target.index]=(o[v.target.index]||0)+1;for(B=0,a=new Array(C);B<C;++B)v=e[B],a[B]=o[v.source.index]/(o[v.source.index]+o[v.target.index]);r=new Array(C),d(),i=new Array(C),g()}}function d(){if(s)for(var B=0,p=e.length;B<p;++B)r[B]=+t(e[B],B,e)}function g(){if(s)for(var B=0,p=e.length;B<p;++B)i[B]=+n(e[B],B,e)}return u.initialize=function(B,p){s=B,l=p,h()},u.links=function(B){return arguments.length?(e=B,h(),u):e},u.id=function(B){return arguments.length?(A=B,u):A},u.iterations=function(B){return arguments.length?(c=+B,u):c},u.strength=function(B){return arguments.length?(t=typeof B=="function"?B:$e(+B),d(),u):t},u.distance=function(B){return arguments.length?(n=typeof B=="function"?B:$e(+B),g(),u):n},u}const bv=1664525,Ev=1013904223,Vc=4294967296;function Iv(){let e=1;return()=>(e=(bv*e+Ev)%Vc)/Vc}function Hv(e){return e.x}function Sv(e){return e.y}var xv=10,Lv=Math.PI*(3-Math.sqrt(5));function Gc(e){var A,t=1,r=.001,n=1-Math.pow(r,1/300),i=0,s=.6,o=new Map,a=Co(f),l=hn("tick","end"),c=Iv();e==null&&(e=[]);function f(){u(),l.call("tick",A),t<r&&(a.stop(),l.call("end",A))}function u(g){var B,p=e.length,C;g===void 0&&(g=1);for(var U=0;U<g;++U)for(t+=(i-t)*n,o.forEach(function(v){v(t)}),B=0;B<p;++B)C=e[B],C.fx==null?C.x+=C.vx*=s:(C.x=C.fx,C.vx=0),C.fy==null?C.y+=C.vy*=s:(C.y=C.fy,C.vy=0);return A}function h(){for(var g=0,B=e.length,p;g<B;++g){if(p=e[g],p.index=g,p.fx!=null&&(p.x=p.fx),p.fy!=null&&(p.y=p.fy),isNaN(p.x)||isNaN(p.y)){var C=xv*Math.sqrt(.5+g),U=g*Lv;p.x=C*Math.cos(U),p.y=C*Math.sin(U)}(isNaN(p.vx)||isNaN(p.vy))&&(p.vx=p.vy=0)}}function d(g){return g.initialize&&g.initialize(e,c),g}return h(),A={tick:u,restart:function(){return a.restart(f),A},stop:function(){return a.stop(),A},nodes:function(g){return arguments.length?(e=g,h(),o.forEach(d),A):e},alpha:function(g){return arguments.length?(t=+g,A):t},alphaMin:function(g){return arguments.length?(r=+g,A):r},alphaDecay:function(g){return arguments.length?(n=+g,A):+n},alphaTarget:function(g){return arguments.length?(i=+g,A):i},velocityDecay:function(g){return arguments.length?(s=1-g,A):1-s},randomSource:function(g){return arguments.length?(c=g,o.forEach(d),A):c},force:function(g,B){return arguments.length>1?(B==null?o.delete(g):o.set(g,d(B)),A):o.get(g)},find:function(g,B,p){var C=0,U=e.length,v,y,_,H,F;for(p==null?p=1/0:p*=p,C=0;C<U;++C)H=e[C],v=g-H.x,y=B-H.y,_=v*v+y*y,_<p&&(F=H,p=_);return F},on:function(g,B){return arguments.length>1?(l.on(g,B),A):l.on(g)}}}function Xc(){var e,A,t,r,n=$e(-30),i,s=1,o=1/0,a=.81;function l(h){var d,g=e.length,B=bo(e,Hv,Sv).visitAfter(f);for(r=h,d=0;d<g;++d)A=e[d],B.visit(u)}function c(){if(e){var h,d=e.length,g;for(i=new Array(d),h=0;h<d;++h)g=e[h],i[g.index]=+n(g,h,e)}}function f(h){var d=0,g,B,p=0,C,U,v;if(h.length){for(C=U=v=0;v<4;++v)(g=h[v])&&(B=Math.abs(g.value))&&(d+=g.value,p+=B,C+=B*g.x,U+=B*g.y);h.x=C/p,h.y=U/p}else{g=h,g.x=g.data.x,g.y=g.data.y;do d+=i[g.data.index];while(g=g.next)}h.value=d}function u(h,d,g,B){if(!h.value)return!0;var p=h.x-A.x,C=h.y-A.y,U=B-d,v=p*p+C*C;if(U*U/a<v)return v<o&&(p===0&&(p=Ar(t),v+=p*p),C===0&&(C=Ar(t),v+=C*C),v<s&&(v=Math.sqrt(s*v)),A.vx+=p*h.value*r/v,A.vy+=C*h.value*r/v),!0;if(h.length||v>=o)return;(h.data!==A||h.next)&&(p===0&&(p=Ar(t),v+=p*p),C===0&&(C=Ar(t),v+=C*C),v<s&&(v=Math.sqrt(s*v)));do h.data!==A&&(U=i[h.data.index]*r/v,A.vx+=p*U,A.vy+=C*U);while(h=h.next)}return l.initialize=function(h,d){e=h,t=d,c()},l.strength=function(h){return arguments.length?(n=typeof h=="function"?h:$e(+h),c(),l):n},l.distanceMin=function(h){return arguments.length?(s=h*h,l):Math.sqrt(s)},l.distanceMax=function(h){return arguments.length?(o=h*h,l):Math.sqrt(o)},l.theta=function(h){return arguments.length?(a=h*h,l):Math.sqrt(a)},l}function Jc(e){var A=$e(.1),t,r,n;typeof e!="function"&&(e=$e(e==null?0:+e));function i(o){for(var a=0,l=t.length,c;a<l;++a)c=t[a],c.vx+=(n[a]-c.x)*r[a]*o}function s(){if(t){var o,a=t.length;for(r=new Array(a),n=new Array(a),o=0;o<a;++o)r[o]=isNaN(n[o]=+e(t[o],o,t))?0:+A(t[o],o,t)}}return i.initialize=function(o){t=o,s()},i.strength=function(o){return arguments.length?(A=typeof o=="function"?o:$e(+o),s(),i):A},i.x=function(o){return arguments.length?(e=typeof o=="function"?o:$e(+o),s(),i):e},i}function Wc(e){var A=$e(.1),t,r,n;typeof e!="function"&&(e=$e(e==null?0:+e));function i(o){for(var a=0,l=t.length,c;a<l;++a)c=t[a],c.vy+=(n[a]-c.y)*r[a]*o}function s(){if(t){var o,a=t.length;for(r=new Array(a),n=new Array(a),o=0;o<a;++o)r[o]=isNaN(n[o]=+e(t[o],o,t))?0:+A(t[o],o,t)}}return i.initialize=function(o){t=o,s()},i.strength=function(o){return arguments.length?(A=typeof o=="function"?o:$e(+o),s(),i):A},i.y=function(o){return arguments.length?(e=typeof o=="function"?o:$e(+o),s(),i):e},i}function Mv(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Di(e,A){if((t=(e=A?e.toExponential(A-1):e.toExponential()).indexOf("e"))<0)return null;var t,r=e.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+e.slice(t+1)]}function Vr(e){return e=Di(Math.abs(e)),e?e[1]:NaN}function kv(e,A){return function(t,r){for(var n=t.length,i=[],s=0,o=e[0],a=0;n>0&&o>0&&(a+o+1>r&&(o=Math.max(1,r-a)),i.push(t.substring(n-=o,n+o)),!((a+=o+1)>r));)o=e[s=(s+1)%e.length];return i.reverse().join(A)}}function Tv(e){return function(A){return A.replace(/[0-9]/g,function(t){return e[+t]})}}var Dv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ki(e){if(!(A=Dv.exec(e)))throw new Error("invalid format: "+e);var A;return new Io({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}Ki.prototype=Io.prototype;function Io(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Io.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Kv(e){A:for(var A=e.length,t=1,r=-1,n;t<A;++t)switch(e[t]){case".":r=n=t;break;case"0":r===0&&(r=t),n=t;break;default:if(!+e[t])break A;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(n+1):e}var Yc;function Ov(e,A){var t=Di(e,A);if(!t)return e+"";var r=t[0],n=t[1],i=n-(Yc=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Di(e,Math.max(0,A+i-1))[0]}function zc(e,A){var t=Di(e,A);if(!t)return e+"";var r=t[0],n=t[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}const $c={"%":(e,A)=>(e*100).toFixed(A),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Mv,e:(e,A)=>e.toExponential(A),f:(e,A)=>e.toFixed(A),g:(e,A)=>e.toPrecision(A),o:e=>Math.round(e).toString(8),p:(e,A)=>zc(e*100,A),r:zc,s:Ov,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function jc(e){return e}var qc=Array.prototype.map,Zc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Nv(e){var A=e.grouping===void 0||e.thousands===void 0?jc:kv(qc.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?jc:Tv(qc.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function l(f){f=Ki(f);var u=f.fill,h=f.align,d=f.sign,g=f.symbol,B=f.zero,p=f.width,C=f.comma,U=f.precision,v=f.trim,y=f.type;y==="n"?(C=!0,y="g"):$c[y]||(U===void 0&&(U=12),v=!0,y="g"),(B||u==="0"&&h==="=")&&(B=!0,u="0",h="=");var _=g==="$"?t:g==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",H=g==="$"?r:/[%p]/.test(y)?s:"",F=$c[y],b=/[defgprs%]/.test(y);U=U===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,U)):Math.max(0,Math.min(20,U));function k(M){var T=_,L=H,E,R,S;if(y==="c")L=F(M)+L,M="";else{M=+M;var Y=M<0||1/M<0;if(M=isNaN(M)?a:F(Math.abs(M),U),v&&(M=Kv(M)),Y&&+M==0&&d!=="+"&&(Y=!1),T=(Y?d==="("?d:o:d==="-"||d==="("?"":d)+T,L=(y==="s"?Zc[8+Yc/3]:"")+L+(Y&&d==="("?")":""),b){for(E=-1,R=M.length;++E<R;)if(S=M.charCodeAt(E),48>S||S>57){L=(S===46?n+M.slice(E+1):M.slice(E))+L,M=M.slice(0,E);break}}}C&&!B&&(M=A(M,1/0));var V=T.length+M.length+L.length,G=V<p?new Array(p-V+1).join(u):"";switch(C&&B&&(M=A(G+M,G.length?p-L.length:1/0),G=""),h){case"<":M=T+M+L+G;break;case"=":M=T+G+M+L;break;case"^":M=G.slice(0,V=G.length>>1)+T+M+L+G.slice(V);break;default:M=G+T+M+L;break}return i(M)}return k.toString=function(){return f+""},k}function c(f,u){var h=l((f=Ki(f),f.type="f",f)),d=Math.max(-8,Math.min(8,Math.floor(Vr(u)/3)))*3,g=Math.pow(10,-d),B=Zc[8+d/3];return function(p){return h(g*p)+B}}return{format:l,formatPrefix:c}}var Oi,Au,eu;Rv({thousands:",",grouping:[3],currency:["$",""]});function Rv(e){return Oi=Nv(e),Au=Oi.format,eu=Oi.formatPrefix,Oi}function Pv(e){return Math.max(0,-Vr(Math.abs(e)))}function Vv(e,A){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vr(A)/3)))*3-Vr(Math.abs(e)))}function Gv(e,A){return e=Math.abs(e),A=Math.abs(A)-e,Math.max(0,Vr(A)-Vr(e))+1}function Ho(e,A){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(A).domain(e);break}return this}const tu=Symbol("implicit");function ru(){var e=new Pl,A=[],t=[],r=tu;function n(i){let s=e.get(i);if(s===void 0){if(r!==tu)return r;e.set(i,s=A.push(i)-1)}return t[s%t.length]}return n.domain=function(i){if(!arguments.length)return A.slice();A=[],e=new Pl;for(const s of i)e.has(s)||e.set(s,A.push(s)-1);return n},n.range=function(i){return arguments.length?(t=Array.from(i),n):t.slice()},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return ru(A,t).unknown(r)},Ho.apply(n,arguments),n}function nu(){var e=ru().unknown(void 0),A=e.domain,t=e.range,r=0,n=1,i,s,o=!1,a=0,l=0,c=.5;delete e.unknown;function f(){var u=A().length,h=n<r,d=h?n:r,g=h?r:n;i=(g-d)/Math.max(1,u-a+l*2),o&&(i=Math.floor(i)),d+=(g-d-i*(u-a))*c,s=i*(1-a),o&&(d=Math.round(d),s=Math.round(s));var B=Bi(u).map(function(p){return d+i*p});return t(h?B.reverse():B)}return e.domain=function(u){return arguments.length?(A(u),f()):A()},e.range=function(u){return arguments.length?([r,n]=u,r=+r,n=+n,f()):[r,n]},e.rangeRound=function(u){return[r,n]=u,r=+r,n=+n,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(u){return arguments.length?(o=!!u,f()):o},e.padding=function(u){return arguments.length?(a=Math.min(1,l=+u),f()):a},e.paddingInner=function(u){return arguments.length?(a=Math.min(1,u),f()):a},e.paddingOuter=function(u){return arguments.length?(l=+u,f()):l},e.align=function(u){return arguments.length?(c=Math.max(0,Math.min(1,u)),f()):c},e.copy=function(){return nu(A(),[r,n]).round(o).paddingInner(a).paddingOuter(l).align(c)},Ho.apply(f(),arguments)}function Xv(e){return function(){return e}}function Jv(e){return+e}var iu=[0,1];function Gr(e){return e}function So(e,A){return(A-=e=+e)?function(t){return(t-e)/A}:Xv(isNaN(A)?NaN:.5)}function Wv(e,A){var t;return e>A&&(t=e,e=A,A=t),function(r){return Math.max(e,Math.min(A,r))}}function Yv(e,A,t){var r=e[0],n=e[1],i=A[0],s=A[1];return n<r?(r=So(n,r),i=t(s,i)):(r=So(r,n),i=t(i,s)),function(o){return i(r(o))}}function zv(e,A,t){var r=Math.min(e.length,A.length)-1,n=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),A=A.slice().reverse());++s<r;)n[s]=So(e[s],e[s+1]),i[s]=t(A[s],A[s+1]);return function(o){var a=mp(e,o,1,r)-1;return i[a](n[a](o))}}function $v(e,A){return A.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jv(){var e=iu,A=iu,t=mo,r,n,i,s=Gr,o,a,l;function c(){var u=Math.min(e.length,A.length);return s!==Gr&&(s=Wv(e[0],e[u-1])),o=u>2?zv:Yv,a=l=null,f}function f(u){return u==null||isNaN(u=+u)?i:(a||(a=o(e.map(r),A,t)))(r(s(u)))}return f.invert=function(u){return s(n((l||(l=o(A,e.map(r),Qt)))(u)))},f.domain=function(u){return arguments.length?(e=Array.from(u,Jv),c()):e.slice()},f.range=function(u){return arguments.length?(A=Array.from(u),c()):A.slice()},f.rangeRound=function(u){return A=Array.from(u),t=Pw,c()},f.clamp=function(u){return arguments.length?(s=u?!0:Gr,c()):s!==Gr},f.interpolate=function(u){return arguments.length?(t=u,c()):t},f.unknown=function(u){return arguments.length?(i=u,f):i},function(u,h){return r=u,n=h,c()}}function qv(){return jv()(Gr,Gr)}function Zv(e,A,t,r){var n=Fp(e,A,t),i;switch(r=Ki(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(A));return r.precision==null&&!isNaN(i=Vv(n,s))&&(r.precision=i),eu(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Gv(n,Math.max(Math.abs(e),Math.abs(A))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Pv(n))&&(r.precision=i-(r.type==="%")*2);break}}return Au(r)}function AC(e){var A=e.domain;return e.ticks=function(t){var r=A();return Up(r[0],r[r.length-1],t??10)},e.tickFormat=function(t,r){var n=A();return Zv(n[0],n[n.length-1],t??10,r)},e.nice=function(t){t==null&&(t=10);var r=A(),n=0,i=r.length-1,s=r[n],o=r[i],a,l,c=10;for(o<s&&(l=s,s=o,o=l,l=n,n=i,i=l);c-- >0;){if(l=no(s,o,t),l===a)return r[n]=s,r[i]=o,A(r);if(l>0)s=Math.floor(s/l)*l,o=Math.ceil(o/l)*l;else if(l<0)s=Math.ceil(s*l)/l,o=Math.floor(o*l)/l;else break;a=l}return e},e}function yn(){var e=qv();return e.copy=function(){return $v(e,yn())},Ho.apply(e,arguments),AC(e)}const Ni=e=>()=>e;function eC(e,{sourceEvent:A,target:t,transform:r,dispatch:n}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:A,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:n}})}function Ot(e,A,t){this.k=e,this.x=A,this.y=t}Ot.prototype={constructor:Ot,scale:function(e){return e===1?this:new Ot(this.k*e,this.x,this.y)},translate:function(e,A){return e===0&A===0?this:new Ot(this.k,this.x+this.k*e,this.y+this.k*A)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xo=new Ot(1,0,0);Ot.prototype;function Lo(e){e.stopImmediatePropagation()}function _n(e){e.preventDefault(),e.stopImmediatePropagation()}function tC(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function rC(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function su(){return this.__zoom||xo}function nC(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function iC(){return navigator.maxTouchPoints||"ontouchstart"in this}function sC(e,A,t){var r=e.invertX(A[0][0])-t[0][0],n=e.invertX(A[1][0])-t[1][0],i=e.invertY(A[0][1])-t[0][1],s=e.invertY(A[1][1])-t[1][1];return e.translate(n>r?(r+n)/2:Math.min(0,r)||Math.max(0,n),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function ou(){var e=tC,A=rC,t=sC,r=nC,n=iC,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,a=$w,l=hn("start","zoom","end"),c,f,u,h=500,d=150,g=0,B=10;function p(E){E.property("__zoom",su).on("wheel.zoom",F,{passive:!1}).on("mousedown.zoom",b).on("dblclick.zoom",k).filter(n).on("touchstart.zoom",M).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(E,R,S,Y){var V=E.selection?E.selection():E;V.property("__zoom",su),E!==V?y(E,R,S,Y):V.interrupt().each(function(){_(this,arguments).event(Y).start().zoom(null,typeof R=="function"?R.apply(this,arguments):R).end()})},p.scaleBy=function(E,R,S,Y){p.scaleTo(E,function(){var V=this.__zoom.k,G=typeof R=="function"?R.apply(this,arguments):R;return V*G},S,Y)},p.scaleTo=function(E,R,S,Y){p.transform(E,function(){var V=A.apply(this,arguments),G=this.__zoom,AA=S==null?v(V):typeof S=="function"?S.apply(this,arguments):S,oA=G.invert(AA),fA=typeof R=="function"?R.apply(this,arguments):R;return t(U(C(G,fA),AA,oA),V,s)},S,Y)},p.translateBy=function(E,R,S,Y){p.transform(E,function(){return t(this.__zoom.translate(typeof R=="function"?R.apply(this,arguments):R,typeof S=="function"?S.apply(this,arguments):S),A.apply(this,arguments),s)},null,Y)},p.translateTo=function(E,R,S,Y,V){p.transform(E,function(){var G=A.apply(this,arguments),AA=this.__zoom,oA=Y==null?v(G):typeof Y=="function"?Y.apply(this,arguments):Y;return t(xo.translate(oA[0],oA[1]).scale(AA.k).translate(typeof R=="function"?-R.apply(this,arguments):-R,typeof S=="function"?-S.apply(this,arguments):-S),G,s)},Y,V)};function C(E,R){return R=Math.max(i[0],Math.min(i[1],R)),R===E.k?E:new Ot(R,E.x,E.y)}function U(E,R,S){var Y=R[0]-S[0]*E.k,V=R[1]-S[1]*E.k;return Y===E.x&&V===E.y?E:new Ot(E.k,Y,V)}function v(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function y(E,R,S,Y){E.on("start.zoom",function(){_(this,arguments).event(Y).start()}).on("interrupt.zoom end.zoom",function(){_(this,arguments).event(Y).end()}).tween("zoom",function(){var V=this,G=arguments,AA=_(V,G).event(Y),oA=A.apply(V,G),fA=S==null?v(oA):typeof S=="function"?S.apply(V,G):S,mA=Math.max(oA[1][0]-oA[0][0],oA[1][1]-oA[0][1]),lA=V.__zoom,wA=typeof R=="function"?R.apply(V,G):R,QA=a(lA.invert(fA).concat(mA/lA.k),wA.invert(fA).concat(mA/wA.k));return function(ne){if(ne===1)ne=wA;else{var $=QA(ne),iA=mA/$[2];ne=new Ot(iA,fA[0]-$[0]*iA,fA[1]-$[1]*iA)}AA.zoom(null,ne)}})}function _(E,R,S){return!S&&E.__zooming||new H(E,R)}function H(E,R){this.that=E,this.args=R,this.active=0,this.sourceEvent=null,this.extent=A.apply(E,R),this.taps=0}H.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,R){return this.mouse&&E!=="mouse"&&(this.mouse[1]=R.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=R.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=R.invert(this.touch1[0])),this.that.__zoom=R,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var R=Ce(this.that).datum();l.call(E,this.that,new eC(E,{sourceEvent:this.sourceEvent,target:p,type:E,transform:this.that.__zoom,dispatch:l}),R)}};function F(E,...R){if(!e.apply(this,arguments))return;var S=_(this,R).event(E),Y=this.__zoom,V=Math.max(i[0],Math.min(i[1],Y.k*Math.pow(2,r.apply(this,arguments)))),G=Se(E);if(S.wheel)(S.mouse[0][0]!==G[0]||S.mouse[0][1]!==G[1])&&(S.mouse[1]=Y.invert(S.mouse[0]=G)),clearTimeout(S.wheel);else{if(Y.k===V)return;S.mouse=[G,Y.invert(G)],Ti(this),S.start()}_n(E),S.wheel=setTimeout(AA,d),S.zoom("mouse",t(U(C(Y,V),S.mouse[0],S.mouse[1]),S.extent,s));function AA(){S.wheel=null,S.end()}}function b(E,...R){if(u||!e.apply(this,arguments))return;var S=E.currentTarget,Y=_(this,R,!0).event(E),V=Ce(E.view).on("mousemove.zoom",fA,!0).on("mouseup.zoom",mA,!0),G=Se(E,S),AA=E.clientX,oA=E.clientY;lc(E.view),Lo(E),Y.mouse=[G,this.__zoom.invert(G)],Ti(this),Y.start();function fA(lA){if(_n(lA),!Y.moved){var wA=lA.clientX-AA,QA=lA.clientY-oA;Y.moved=wA*wA+QA*QA>g}Y.event(lA).zoom("mouse",t(U(Y.that.__zoom,Y.mouse[0]=Se(lA,S),Y.mouse[1]),Y.extent,s))}function mA(lA){V.on("mousemove.zoom mouseup.zoom",null),cc(lA.view,Y.moved),_n(lA),Y.event(lA).end()}}function k(E,...R){if(e.apply(this,arguments)){var S=this.__zoom,Y=Se(E.changedTouches?E.changedTouches[0]:E,this),V=S.invert(Y),G=S.k*(E.shiftKey?.5:2),AA=t(U(C(S,G),Y,V),A.apply(this,R),s);_n(E),o>0?Ce(this).transition().duration(o).call(y,AA,Y,E):Ce(this).call(p.transform,AA,Y,E)}}function M(E,...R){if(e.apply(this,arguments)){var S=E.touches,Y=S.length,V=_(this,R,E.changedTouches.length===Y).event(E),G,AA,oA,fA;for(Lo(E),AA=0;AA<Y;++AA)oA=S[AA],fA=Se(oA,this),fA=[fA,this.__zoom.invert(fA),oA.identifier],V.touch0?!V.touch1&&V.touch0[2]!==fA[2]&&(V.touch1=fA,V.taps=0):(V.touch0=fA,G=!0,V.taps=1+!!c);c&&(c=clearTimeout(c)),G&&(V.taps<2&&(f=fA[0],c=setTimeout(function(){c=null},h)),Ti(this),V.start())}}function T(E,...R){if(this.__zooming){var S=_(this,R).event(E),Y=E.changedTouches,V=Y.length,G,AA,oA,fA;for(_n(E),G=0;G<V;++G)AA=Y[G],oA=Se(AA,this),S.touch0&&S.touch0[2]===AA.identifier?S.touch0[0]=oA:S.touch1&&S.touch1[2]===AA.identifier&&(S.touch1[0]=oA);if(AA=S.that.__zoom,S.touch1){var mA=S.touch0[0],lA=S.touch0[1],wA=S.touch1[0],QA=S.touch1[1],ne=(ne=wA[0]-mA[0])*ne+(ne=wA[1]-mA[1])*ne,$=($=QA[0]-lA[0])*$+($=QA[1]-lA[1])*$;AA=C(AA,Math.sqrt(ne/$)),oA=[(mA[0]+wA[0])/2,(mA[1]+wA[1])/2],fA=[(lA[0]+QA[0])/2,(lA[1]+QA[1])/2]}else if(S.touch0)oA=S.touch0[0],fA=S.touch0[1];else return;S.zoom("touch",t(U(AA,oA,fA),S.extent,s))}}function L(E,...R){if(this.__zooming){var S=_(this,R).event(E),Y=E.changedTouches,V=Y.length,G,AA;for(Lo(E),u&&clearTimeout(u),u=setTimeout(function(){u=null},h),G=0;G<V;++G)AA=Y[G],S.touch0&&S.touch0[2]===AA.identifier?delete S.touch0:S.touch1&&S.touch1[2]===AA.identifier&&delete S.touch1;if(S.touch1&&!S.touch0&&(S.touch0=S.touch1,delete S.touch1),S.touch0)S.touch0[1]=this.__zoom.invert(S.touch0[0]);else if(S.end(),S.taps===2&&(AA=Se(AA,this),Math.hypot(f[0]-AA[0],f[1]-AA[1])<B)){var oA=Ce(this).on("dblclick.zoom");oA&&oA.apply(this,arguments)}}}return p.wheelDelta=function(E){return arguments.length?(r=typeof E=="function"?E:Ni(+E),p):r},p.filter=function(E){return arguments.length?(e=typeof E=="function"?E:Ni(!!E),p):e},p.touchable=function(E){return arguments.length?(n=typeof E=="function"?E:Ni(!!E),p):n},p.extent=function(E){return arguments.length?(A=typeof E=="function"?E:Ni([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),p):A},p.scaleExtent=function(E){return arguments.length?(i[0]=+E[0],i[1]=+E[1],p):[i[0],i[1]]},p.translateExtent=function(E){return arguments.length?(s[0][0]=+E[0][0],s[1][0]=+E[1][0],s[0][1]=+E[0][1],s[1][1]=+E[1][1],p):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},p.constrain=function(E){return arguments.length?(t=E,p):t},p.duration=function(E){return arguments.length?(o=+E,p):o},p.interpolate=function(E){return arguments.length?(a=E,p):a},p.on=function(){var E=l.on.apply(l,arguments);return E===l?p:E},p.clickDistance=function(E){return arguments.length?(g=(E=+E)*E,p):Math.sqrt(g)},p.tapDistance=function(E){return arguments.length?(B=+E,p):B},p}function oC(e,A,t=null,r,n=null){const i=Ce(e);i.selectAll("*").remove();const s=i.node(),o=s.getBoundingClientRect();let a=o.width||800,l=o.height||600;const c=a/2,f=l/2,u=i.append("canvas").attr("class","network-canvas").attr("width",a).attr("height",l).style("width",a+"px").style("height",l+"px").style("cursor","default"),h=u.node().getContext("2d",{alpha:!1});let d=xo;const g=new Set,B={current:null};function p(){const M=s.getBoundingClientRect(),T=M.width||800,L=M.height||600;(T!==a||L!==l)&&(a=T,l=L,u.attr("width",a).attr("height",l).style("width",a+"px").style("height",l+"px"),k())}const C=new ResizeObserver(p);C.observe(s);const U=Gc(A).force("link",Pc(t).id(M=>M.id).distance(M=>M.distance)).force("charge",Xc().strength(-250)).force("center",Dc(c,f).strength(.7)).force("collide",Nc(M=>M.radius+10).strength(.5)).force("x",Jc(c).strength(.025)).force("y",Wc(f).strength(.025)).alphaDecay(.05).velocityDecay(.6);let v=null;U.on("tick",()=>{v||(v=requestAnimationFrame(()=>{k(),v=null}))}),U.tick(100);for(let M=0;M<100;M++)U.tick();U.alphaTarget(0);const y=aC({canvas:u,nodes:A,transform:()=>d,hoveredNode:B,onSelectionChange:(M,T)=>{g.clear(),M.forEach(E=>g.add(E));const L=cC(A,M,T);r(L),k()},render:()=>k()}),_=ou().scaleExtent([.1,10]).filter(M=>!y.isSelectionMode()||M.type==="wheel").on("zoom",({transform:M})=>{d=M,k()});u.call(_);const{dragstarted:H,dragged:F,dragended:b}=lC(u,A,U,()=>d,B,()=>!y.isSelectionMode(),k);y.setupInteractions(u,{start:H,drag:F,end:b});function k(){h.save(),h.fillRect(0,0,a,l),h.translate(d.x,d.y),h.scale(d.k,d.k),h.strokeStyle="#8a8a8a",h.lineWidth=1/d.k,t.forEach(T=>{const L=T.source.x,E=T.source.y,R=T.target.x,S=T.target.y;h.globalAlpha=Math.max(.2,T.strength),h.lineWidth=T.width/d.k,h.beginPath(),h.moveTo(L,E),h.lineTo(R,S),h.stroke()}),h.globalAlpha=1,A.forEach(T=>{const L=g.has(T.id);h.fillStyle=T.color,h.beginPath(),h.arc(T.x,T.y,T.radius,0,2*Math.PI),h.fill(),L&&(h.strokeStyle="#0f2bff",h.lineWidth=3/d.k,h.stroke())});const M=y.getSelectionRect();if(M){h.strokeStyle="#0f2bff",h.fillStyle="rgba(15, 43, 255, 0.2)",h.lineWidth=2/d.k;const T=Math.min(M.x1,M.x2),L=Math.min(M.y1,M.y2),E=Math.abs(M.x2-M.x1),R=Math.abs(M.y2-M.y1);h.fillRect(T,L,E,R),h.strokeRect(T,L,E,R)}h.restore()}return k(),{destroy:()=>{v&&cancelAnimationFrame(v),U.stop(),C.disconnect(),u.remove()},toggleSelectionMode:()=>{const M=y.toggleSelectionMode();return n&&n(M),k(),M}}}function aC(e){const{canvas:A,nodes:t,transform:r,hoveredNode:n,onSelectionChange:i,render:s}=e,o=new Set,a=[];let l=!1,c=null;function f(){return l=!l,A.style("cursor",l?"crosshair":"default"),l}function u(g){if(o.has(g)){o.delete(g);const B=a.indexOf(g);B>-1&&a.splice(B,1)}else o.add(g),a.push(g);i(o,a)}function h(g,B){const p=r(),C=(g-p.x)/p.k,U=(B-p.y)/p.k;for(let v=t.length-1;v>=0;v--){const y=t[v],_=C-y.x,H=U-y.y;if(Math.sqrt(_*_+H*H)<y.radius)return y}return null}function d(g,B){let p=null;g.on("mousedown",function(C){const[U,v]=Se(C),y=h(U,v);if(l){const _=r(),H=(U-_.x)/_.k,F=(v-_.y)/_.k;c={x1:H,y1:F,x2:H,y2:F},s()}else y&&(p=y,B.start(C,y))}),g.on("mousemove",function(C){const[U,v]=Se(C);if(l){if(c){const y=r(),_=(U-y.x)/y.k,H=(v-y.y)/y.k;c.x2=_,c.y2=H,s()}}else if(p)B.drag(C,p,U,v);else{const y=h(U,v);n.current!==y&&(n.current=y,g.style("cursor",y?"pointer":"default"),s())}}),g.on("mouseup",function(C){if(l){if(c){const U=Math.min(c.x1,c.x2),v=Math.min(c.y1,c.y2),y=Math.max(c.x1,c.x2),_=Math.max(c.y1,c.y2);o.clear(),a.length=0;const H=[];t.forEach(F=>{F.x>=U&&F.x<=y&&F.y>=v&&F.y<=_&&H.push({id:F.id,y:F.y})}),H.sort((F,b)=>F.y-b.y),H.forEach(({id:F})=>{o.add(F),a.push(F)}),i(o,a),c=null,s()}}else if(p)B.end(C,p),p=null;else{const[U,v]=Se(C),y=h(U,v);y&&u(y.id)}})}return{toggleSelectionMode:f,isSelectionMode:()=>l,setupInteractions:d,getSelectionRect:()=>c}}function lC(e,A,t,r,n,i,s){let o=null;function a(f,u){i()&&(f.active||t.alphaTarget(.3).restart(),o=u,u.fx=u.x,u.fy=u.y)}function l(f,u,h,d){if(!o||!i())return;const g=r();u.fx=(h-g.x)/g.k,u.fy=(d-g.y)/g.k,s()}function c(f,u){!o||!i()||(f.active||t.alphaTarget(0),u.fx=null,u.fy=null,o=null)}return{dragstarted:a,dragged:l,dragended:c}}function cC(e,A,t){const r=new Map(e.map(n=>[n.id,n]));return t.map(n=>r.get(n)).filter(Boolean)}const au=8,uC=1.5,fC=50,lu=.5,hC=800,dC=600;function gC(e,A,t=null,r=null,n=null){const i=hC/2,s=dC/2,a=Ce(e).append("svg").attr("class","network-svg"),l=a.append("g"),c=l.append("g").selectAll("line").data(t).join("line").attr("class","link").attr("stroke-width",d=>d.width||uC).attr("stroke-opacity",d=>Math.max(.2,d.strength||lu)),f=l.append("g").selectAll("circle").data(A).join("circle").attr("class","node").attr("r",d=>d.radius||au).attr("fill",d=>d.color);f.append("title").text(d=>d.label);const u=Gc(A).force("link",Pc(t).id(d=>d.id).distance(d=>d.distance||fC)).force("charge",Xc().strength(-250)).force("center",Dc(i,s).strength(.7)).force("collide",Nc(d=>(d.radius||au)+10).strength(lu)).force("x",Jc(i).strength(.025)).force("y",Wc(s).strength(.025));let h=null;if(r){h=BC({svg:a,g:l,nodes:A,onSelectionChange:(p,C)=>{f.classed("selected",v=>p.has(v.id));const U=mC(A,p,C);r(U)}}),a.call(ou().scaleExtent([.1,10]).filter(p=>!h.isSelectionMode()||p.type==="wheel").on("zoom",({transform:p})=>l.attr("transform",p)));const{dragstarted:d,dragged:g,dragended:B}=pC(u,c,f);h.setupNodeClick(f),h.setupDrag(f,{start:d,drag:g,end:B})}return{destroy:()=>{u.stop(),a.remove()},toggleSelectionMode:()=>{if(h){const d=h.toggleSelectionMode();return n&&n(d),d}}}}function BC(e){const{svg:A,g:t,nodes:r,onSelectionChange:n,getNodePosition:i=g=>({x:g.x,y:g.y}),getNodeId:s=g=>g.id}=e,o=new Set,a=[];let l=!1;function c(){return l=!l,A.style("cursor",l?"crosshair":"default"),l}function f(g){if(o.has(g)){o.delete(g);const B=a.indexOf(g);B>-1&&a.splice(B,1)}else o.add(g),a.push(g);n(o,a)}function u(){o.clear(),a.length=0,n(o,a)}let h=null,d=null;return A.on("mousedown",function(g){if(!l)return;g.preventDefault();const[B,p]=Se(g,t.node());h={x:B,y:p},d=t.append("rect").attr("class","selection-rect").attr("x",B).attr("y",p).attr("width",0).attr("height",0)}).on("mousemove",function(g){if(!l||!d)return;const[B,p]=Se(g,t.node()),C=B-h.x,U=p-h.y;d.attr("x",C<0?B:h.x).attr("y",U<0?p:h.y).attr("width",Math.abs(C)).attr("height",Math.abs(U))}).on("mouseup",function(g){if(!l||!d)return;const[B,p]=Se(g,t.node()),C=Math.min(h.x,B),U=Math.min(h.y,p),v=Math.max(h.x,B),y=Math.max(h.y,p);o.clear(),a.length=0;const _=[];r.forEach(H=>{const F=i(H);F.x>=C&&F.x<=v&&F.y>=U&&F.y<=y&&_.push({id:s(H),y:F.y})}),_.sort((H,F)=>H.y-F.y),_.forEach(({id:H})=>{o.add(H),a.push(H)}),n(o,a),d.remove(),d=null,h=null}),{toggleSelectionMode:c,toggleNode:f,clearSelection:u,isSelectionMode:()=>l,getSelectedNodes:()=>o,getSelectionOrder:()=>a,setupNodeClick:g=>{g.on("click",function(B,p){B.stopPropagation(),f(s(p))})},setupDrag:(g,B)=>{g.call(vw().filter(()=>!l).on("start",B.start).on("drag",B.drag).on("end",B.end))}}}function pC(e,A,t){e.on("tick",()=>{A.attr("x1",s=>s.source.x).attr("y1",s=>s.source.y).attr("x2",s=>s.target.x).attr("y2",s=>s.target.y),t.attr("cx",s=>s.x).attr("cy",s=>s.y)});function r(s){s.active||e.alphaTarget(.3).restart(),s.subject.fx=s.subject.x,s.subject.fy=s.subject.y}function n(s){s.subject.fx=s.x,s.subject.fy=s.y}function i(s){s.active||e.alphaTarget(0),s.subject.fx=null,s.subject.fy=null}return{dragstarted:r,dragged:n,dragended:i}}function mC(e,A,t){const r=new Map(e.map(n=>[n.id,n]));return t.map(n=>r.get(n)).filter(Boolean)}const wC="modulepreload",vC=function(e){return"/"+e},cu={},Mo=function(A,t,r){return A()};function ko(e){const{type:A,modelName:t,title:r,extractMeta:n=h=>h}=e,i={id:null,type:A,title:r,selected:{}},s=JSON.parse(localStorage.getItem(A))||i,o=kA(s),a=kA(!1);function l(h,d=!1){a.set(d),localStorage.setItem(A,JSON.stringify(h))}function c(){o.update(h=>{if(A!=="documentSet")return console.error("Document set management is the only type currently supported for saving."),h;const d=Object.fromEntries(Object.entries(h.selected).map(([B,p])=>[B,Object.keys(p)])),g=h.id?`${h.id}/edit`:"new";return fetch(`${window.location.origin}/${t}/${g}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":jt},body:JSON.stringify({title:h.title,selection:h,...d})}).then(B=>B.json()).then(B=>{if(!(B!=null&&B.document_set_id))throw new Error("Failed to save");o.update(p=>(p.id=B.document_set_id,p.title=B.document_set_title,l(p,!0),p))}).catch(B=>console.error("Error:",B)),h})}const f=h=>o.update(()=>{const d=h.selection.id?h.selection:{...h.selection,id:h.id};return l(d),d}),u=()=>o.update(()=>{const h={...i,selected:{}};return l(h),h});return{type:A,subscribe:o.subscribe,add:h=>o.update(d=>(d.selected[h.class]={...d.selected[h.class]||{},[h.id]:n(h)},l(d),d)),addAll:h=>o.update(d=>(h.forEach(g=>{d.selected[g.class]={...d.selected[g.class]||{},[g.id]:n(g)}}),l(d),d)),remove:(h,d)=>o.update(g=>{const{[h]:B,...p}=g.selected[d];return g.selected[d]=p,l(g),g}),removeAll:(h,d)=>o.update(g=>(h.forEach(B=>{var p;return(p=g.selected[d])==null?!0:delete p[B]}),l(g),g)),toggle:h=>o.update(d=>{var g;if((g=d.selected[h.class])!=null&&g[h.id]){const{[h.id]:B,...p}=d.selected[h.class];d.selected[h.class]=p}else d.selected[h.class]={...d.selected[h.class]||{},[h.id]:n(h)};return l(d),d}),toggleSet:h=>{Ee(o).id===h.id?u():f(h)},empty:()=>o.update(h=>(h.id=null,h.title=r,h.selected={},l(h,!0),h)),updateTitle:h=>o.update(d=>(d.title=h,l(d,!0),d)),save:c,isSaved:a,selection:o,selectionTitle:Be(o,h=>h.title),isSelected:Be(o,h=>d=>{var g;return((g=h.selected[d.class])==null?void 0:g[d.id])||!1}),selected:Be(o,h=>h.selected),nbSelected:Be(o,h=>Object.values(h.selected).reduce((d,g)=>d+Object.keys(g).length,0)),isSetSelected:Be(o,h=>d=>h.id===d.id)}}ko({type:"documentSet",modelName:"document-set",title:J==="en"?"Document set":"Set de documents",extractMeta:e=>({title:e.title,url:e.url})});const CC=ko({type:"regionsSet",modelName:"regions-set",title:J==="en"?"Regions set":"Set de régions",extractMeta:e=>e});function QC(e){if(!e.startsWith("wit"))return e;const[A,...t]=e.split("_wit");return`wit${t}`}const Ri=ko({type:"clusterSet",modelName:"cluster-set",title:J==="en"?"Selected regions":"Régions sélectionnées",extractMeta:e=>({imgRef:e.id,clusterId:e.clusterId,title:e.title,xywh:e.xywh,img:QC(e.id)})});function yC(){const e=`${window.location.origin}${window.location.pathname}`,A=kA(1),t=kA({}),r=kA({}),n=kA("");js(A,"p");function i(c){n.update(f=>{const u=f===c?"":c;return navigator.clipboard.writeText(u).then(h=>""),u})}const s=(async()=>{try{const c=await fetch(`${e}canvas`);if(!c.ok)return{};const f=await c.json();let u={};return Object.values(f).forEach(h=>{Object.entries(h).forEach(([d,g])=>{u[d]=g})}),t.set(u),f}catch{return{}}})(),o=Be(A,c=>(async()=>{const u=await(await fetch(`${e}canvas?p=${c}`)).json();return r.set(u),u})());function a(c){qs(c,A,"p")}function l(c){t.update(f=>(delete f[c],{...f})),r.update(f=>{for(const u in f)if(f[u][c]){const{[c]:h,...d}=f[u];return f[u]=d,f}return f})}return{currentPage:A,pageRegions:r,allRegions:t,fetchPages:o,fetchAll:s,handlePageUpdate:a,remove:l,clipBoard:n,copyRef:i}}const uu=yC(),ZH="";function _C(e){let A;return{c(){A=mt("path"),m(A,"d","M384 336H192c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16l140.1 0L400 115.9V320c0 8.8-7.2 16-16 16zM192 384H384c35.3 0 64-28.7 64-64V115.9c0-12.7-5.1-24.9-14.1-33.9L366.1 14.1c-9-9-21.2-14.1-33.9-14.1H192c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64zM64 128c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H256c35.3 0 64-28.7 64-64V416H272v32c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192c0-8.8 7.2-16 16-16H96V128H64z"),m(A,"class","svelte-1829hp2")},m(t,r){O(t,A,r)},d(t){t&&K(A)}}}function UC(e){let A;return{c(){A=mt("path"),m(A,"d","M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"),m(A,"class","svelte-1829hp2")},m(t,r){O(t,A,r)},d(t){t&&K(A)}}}function FC(e){let A=J==="en"?"Copy ID":"Copier l'ID",t;return{c(){t=sA(A)},m(r,n){O(r,t,n)},p:rA,d(r){r&&K(t)}}}function bC(e){let A=J==="en"?"Copied!":"Copié !",t;return{c(){t=sA(A)},m(r,n){O(r,t,n)},p:rA,d(r){r&&K(t)}}}function fu(e){let A,t,r;var n=e[7];function i(s){return{props:{mainImgItem:s[1],compareImgItem:s[14]}}}return n&&(A=ei(n,i(e))),{c(){A&&BA(A.$$.fragment),t=Oe()},m(s,o){A&&dA(A,s,o),O(s,t,o),r=!0},p(s,o){const a={};if(o&2&&(a.mainImgItem=s[1]),o&128&&n!==(n=s[7])){if(A){ZA();const l=A;W(l.$$.fragment,1,0,()=>{gA(l,1)}),Ae()}n?(A=ei(n,i(s)),BA(A.$$.fragment),P(A.$$.fragment,1),dA(A,t.parentNode,t)):A=null}else n&&A.$set(a)},i(s){r||(A&&P(A.$$.fragment,s),r=!0)},o(s){A&&W(A.$$.fragment,s),r=!1},d(s){s&&K(t),A&&gA(A,s)}}}function EC(e){let A,t,r,n,i,s,o,a,l,c,f,u,h,d,g,B,p,C,U,v,y,_,H;function F(R,S){return R[8]?UC:_C}let b=F(e),k=b(e);function M(R,S){return R[8]?bC:FC}let T=M(e),L=T(e),E=e[7]&&fu(e);return{c(){A=Q("div"),t=Q("figure"),r=Q("img"),i=N(),s=Q("div"),o=Q("span"),c=N(),f=Q("div"),u=Q("button"),h=mt("svg"),k.c(),d=N(),g=Q("span"),L.c(),p=N(),E&&E.c(),m(r,"class","region-img svelte-1829hp2"),Je(r.src,n=e[9])||m(r,"src",n),m(r,"alt","Extracted region"),m(o,"class","overlay-desc"),m(s,"class","overlay is-center svelte-1829hp2"),m(t,"class",a="image card region-image "+(e[0]?"is-96x96":"")+" svelte-1829hp2"),m(t,"tabindex","-1"),m(t,"style",l=(e[2]==="full"?"height: 100%":`height: ${e[2]}px; min-width: ${e[2]}px`)+"; "+(e[3]?`border: 5px solid ${e[3]};`:"")),m(h,"xmlns","http://www.w3.org/2000/svg"),m(h,"viewBox","0 0 384 512"),m(h,"class","svelte-1829hp2"),m(g,"class","tooltip svelte-1829hp2"),m(u,"class","button tag svelte-1829hp2"),m(u,"style",B=e[6]?"":"display: none;"),m(f,"class","region-btn ml-1 svelte-1829hp2"),m(A,"class",C="region is-center "+(e[5]&&e[11](e[1])?"checked":"")+" svelte-1829hp2"),m(A,"style",U=e[2]==="full"?"height: 100%":"")},m(R,S){O(R,A,S),w(A,t),w(t,r),w(t,i),w(t,s),w(s,o),o.innerHTML=e[10],w(A,c),w(A,f),w(f,u),w(u,h),k.m(h,null),w(u,d),w(u,g),L.m(g,null),w(f,p),E&&E.m(f,null),y=!0,_||(H=[yA(t,"click",e[19]),yA(t,"keyup",IC),yA(u,"click",e[20])],_=!0)},p(R,[S]){e=R,(!y||S&512&&!Je(r.src,n=e[9]))&&m(r,"src",n),(!y||S&1024)&&(o.innerHTML=e[10]),(!y||S&1&&a!==(a="image card region-image "+(e[0]?"is-96x96":"")+" svelte-1829hp2"))&&m(t,"class",a),(!y||S&12&&l!==(l=(e[2]==="full"?"height: 100%":`height: ${e[2]}px; min-width: ${e[2]}px`)+"; "+(e[3]?`border: 5px solid ${e[3]};`:"")))&&m(t,"style",l),b!==(b=F(e))&&(k.d(1),k=b(e),k&&(k.c(),k.m(h,null))),T===(T=M(e))&&L?L.p(e,S):(L.d(1),L=T(e),L&&(L.c(),L.m(g,null))),(!y||S&64&&B!==(B=e[6]?"":"display: none;"))&&m(u,"style",B),e[7]?E?(E.p(e,S),S&128&&P(E,1)):(E=fu(e),E.c(),P(E,1),E.m(f,null)):E&&(ZA(),W(E,1,1,()=>{E=null}),Ae()),(!y||S&2082&&C!==(C="region is-center "+(e[5]&&e[11](e[1])?"checked":"")+" svelte-1829hp2"))&&m(A,"class",C),(!y||S&4&&U!==(U=e[2]==="full"?"height: 100%":""))&&m(A,"style",U)},i(R){y||(P(E),it(()=>{y&&(v||(v=$t(A,Dr,{duration:e[15]},!0)),v.run(1))}),y=!0)},o(R){W(E),v||(v=$t(A,Dr,{duration:e[15]},!1)),v.run(0),y=!1},d(R){R&&K(A),k.d(),L.d(),E&&E.d(),R&&v&&v.end(),_=!1,be(H)}}}const IC=()=>null;function HC(e,A,t){let r,n,i,s,o,{selectionStore:a}=A;a||(a=CC);const{isSelected:l}=a;SA(e,l,b=>t(11,o=b));const{clipBoard:c}=uu;SA(e,c,b=>t(18,s=b));let{item:f}=A,{descPromise:u=void 0}=A,{isSquare:h=!0}=A,{height:d=h?96:140}=A;d==="full"&&(h=!1);let{borderColor:g=null}=A,{toggleSelection:B=a.toggle}=A;const p=nt("qImgMetadata")||void 0,C=nt("isInModal")||!1,U=C?0:500;let v;C||Mo(()=>Promise.resolve().then(()=>cE),void 0).then(b=>t(7,v=b.default));let{selectable:y=!C}=A,{copyable:_=!0}=A;const H=()=>y?B(f):null,F=()=>_?uu.copyRef(f.ref):null;return e.$$set=b=>{"selectionStore"in b&&t(16,a=b.selectionStore),"item"in b&&t(1,f=b.item),"descPromise"in b&&t(17,u=b.descPromise),"isSquare"in b&&t(0,h=b.isSquare),"height"in b&&t(2,d=b.height),"borderColor"in b&&t(3,g=b.borderColor),"toggleSelection"in b&&t(4,B=b.toggleSelection),"selectable"in b&&t(5,y=b.selectable),"copyable"in b&&t(6,_=b.copyable)},e.$$.update=()=>{e.$$.dirty&2&&t(10,r=f.title),e.$$.dirty&131072&&u&&u.then(b=>t(10,r=b)),e.$$.dirty&7&&t(9,n=ht(f.img??f.ref,f.xywh,d==="full"?d:h?`${d},`:`,${d}`)),e.$$.dirty&262146&&t(8,i=f.ref===s)},[h,f,d,g,B,y,_,v,i,n,r,o,l,c,p,U,a,u,s,H,F]}class Xr extends GA{constructor(A){super(),VA(this,A,HC,EC,KA,{selectionStore:16,item:1,descPromise:17,isSquare:0,height:2,borderColor:3,toggleSelection:4,selectable:5,copyable:6})}}const AS="";function hu(e,A,t){const r=e.slice();return r[11]=A[t],r}function du(e,A,t){const r=e.slice();return r[14]=A[t],r}function To(e){const A=e.slice(),t=A[2].get(A[11][A[14]].id);return A[17]=t,A}function gu(e,A,t){const r=e.slice();return r[14]=A[t],r}function Bu(e){let A,t,r,n,i,s,o,a,l,c,f=e[0].regions,u=[];for(let p=0;p<f.length;p+=1)u[p]=pu(gu(e,f,p));const h=p=>W(u[p],1,1,()=>{u[p]=null});let d=e[0].rows,g=[];for(let p=0;p<d.length;p+=1)g[p]=vu(hu(e,d,p));const B=p=>W(g[p],1,1,()=>{g[p]=null});return{c(){A=Q("div"),t=Q("h3"),t.textContent="Aligned Documents",r=N(),n=Q("div"),i=Q("table"),s=Q("thead"),o=Q("tr");for(let p=0;p<u.length;p+=1)u[p].c();a=N(),l=Q("tbody");for(let p=0;p<g.length;p+=1)g[p].c();m(t,"class","title is-5"),m(s,"class","region-header svelte-1hxxzoa"),m(i,"class","table is-fullwidth svelte-1hxxzoa"),m(n,"class","table-container svelte-1hxxzoa"),m(A,"class","box mt-4")},m(p,C){O(p,A,C),w(A,t),w(A,r),w(A,n),w(n,i),w(i,s),w(s,o);for(let U=0;U<u.length;U+=1)u[U]&&u[U].m(o,null);w(i,a),w(i,l);for(let U=0;U<g.length;U+=1)g[U]&&g[U].m(l,null);c=!0},p(p,C){if(C&3){f=p[0].regions;let U;for(U=0;U<f.length;U+=1){const v=gu(p,f,U);u[U]?(u[U].p(v,C),P(u[U],1)):(u[U]=pu(v),u[U].c(),P(u[U],1),u[U].m(o,null))}for(ZA(),U=f.length;U<u.length;U+=1)h(U);Ae()}if(C&77){d=p[0].rows;let U;for(U=0;U<d.length;U+=1){const v=hu(p,d,U);g[U]?(g[U].p(v,C),P(g[U],1)):(g[U]=vu(v),g[U].c(),P(g[U],1),g[U].m(l,null))}for(ZA(),U=d.length;U<g.length;U+=1)B(U);Ae()}},i(p){if(!c){for(let C=0;C<f.length;C+=1)P(u[C]);for(let C=0;C<d.length;C+=1)P(g[C]);c=!0}},o(p){u=u.filter(Boolean);for(let C=0;C<u.length;C+=1)W(u[C]);g=g.filter(Boolean);for(let C=0;C<g.length;C+=1)W(g[C]);c=!1},d(p){p&&K(A),Le(u,p),Le(g,p)}}}function pu(e){let A,t,r,n;return t=new pl({props:{id:e[14],meta:e[1].get(e[14])||{},clickable:!1}}),{c(){A=Q("th"),BA(t.$$.fragment),r=N(),m(A,"class","is-vcentered")},m(i,s){O(i,A,s),dA(t,A,null),w(A,r),n=!0},p(i,s){const o={};s&1&&(o.id=i[14]),s&3&&(o.meta=i[1].get(i[14])||{}),t.$set(o)},i(i){n||(P(t.$$.fragment,i),n=!0)},o(i){W(t.$$.fragment,i),n=!1},d(i){i&&K(A),gA(t)}}}function mu(e){let A,t,r,n,i=e[11][e[14]].page+"",s,o;return A=new Xr({props:{item:e[17],selectable:!1,copyable:!1,borderColor:e[6](e[11][e[14]],e[3]),isSquare:!1}}),{c(){BA(A.$$.fragment),t=N(),r=Q("div"),n=sA("Page "),s=sA(i),m(r,"class","has-text-grey-dark mt-2")},m(a,l){dA(A,a,l),O(a,t,l),O(a,r,l),w(r,n),w(r,s),o=!0},p(a,l){const c={};l&5&&(c.item=a[17]),l&9&&(c.borderColor=a[6](a[11][a[14]],a[3])),A.$set(c),(!o||l&1)&&i!==(i=a[11][a[14]].page+"")&&PA(s,i)},i(a){o||(P(A.$$.fragment,a),o=!0)},o(a){W(A.$$.fragment,a),o=!1},d(a){gA(A,a),a&&K(t),a&&K(r)}}}function wu(e){let A,t,r=e[11][e[14]]&&mu(To(e));return{c(){A=Q("td"),r&&r.c(),m(A,"class","has-text-centered"),zA(A,"vertical-align","top")},m(n,i){O(n,A,i),r&&r.m(A,null),t=!0},p(n,i){n[11][n[14]]?r?(r.p(To(n),i),i&1&&P(r,1)):(r=mu(To(n)),r.c(),P(r,1),r.m(A,null)):r&&(ZA(),W(r,1,1,()=>{r=null}),Ae())},i(n){t||(P(r),t=!0)},o(n){W(r),t=!1},d(n){n&&K(A),r&&r.d()}}}function vu(e){let A,t,r,n=e[0].regions,i=[];for(let o=0;o<n.length;o+=1)i[o]=wu(du(e,n,o));const s=o=>W(i[o],1,1,()=>{i[o]=null});return{c(){A=Q("tr");for(let o=0;o<i.length;o+=1)i[o].c();t=N()},m(o,a){O(o,A,a);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(A,null);w(A,t),r=!0},p(o,a){if(a&77){n=o[0].regions;let l;for(l=0;l<n.length;l+=1){const c=du(o,n,l);i[l]?(i[l].p(c,a),P(i[l],1)):(i[l]=wu(c),i[l].c(),P(i[l],1),i[l].m(A,t))}for(ZA(),l=n.length;l<i.length;l+=1)s(l);Ae()}},i(o){if(!r){for(let a=0;a<n.length;a+=1)P(i[a]);r=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)W(i[a]);r=!1},d(o){o&&K(A),Le(i,o)}}}function SC(e){let A,t,r=e[0]&&Bu(e);return{c(){r&&r.c(),A=Oe()},m(n,i){r&&r.m(n,i),O(n,A,i),t=!0},p(n,[i]){n[0]?r?(r.p(n,i),i&1&&P(r,1)):(r=Bu(n),r.c(),P(r,1),r.m(A.parentNode,A)):r&&(ZA(),W(r,1,1,()=>{r=null}),Ae())},i(n){t||(P(r),t=!0)},o(n){W(r),t=!1},d(n){r&&r.d(n),n&&K(A)}}}function xC(e){let A=0;for(let s=0;s<e.length;s++)A=e.charCodeAt(s)+((A<<5)-A),A=A&A;const r=A*.618033988749895%1*360,n=65+A%20,i=80+A%10;return`hsl(${Math.floor(r)}, ${n}%, ${i}%)`}function LC(e,A,t){let r,n,i,{selectedDocuments:s=[]}=A,{documentSetStore:o}=A;const{buildAlignedImageMatrix:a,documentNodes:l,imageNodes:c}=o;SA(e,l,d=>t(1,n=d)),SA(e,c,d=>t(2,i=d));let f=null;function u(d,g){if(!d)return;const B=d.id;if(g.get(B)!==1)return h.has(B)||h.set(B,xC(B)),h.get(B)}const h=new Map;return e.$$set=d=>{"selectedDocuments"in d&&t(7,s=d.selectedDocuments),"documentSetStore"in d&&t(8,o=d.documentSetStore)},e.$$.update=()=>{if(e.$$.dirty&134)if(s.length>0&&i&&n){const d=s.map(g=>g.id);t(0,f=a(d))}else t(0,f=null);e.$$.dirty&1&&t(3,r=f?(()=>{const d=new Map;return f.rows.forEach(g=>{Object.values(g).forEach(B=>{d.set(B.id,(d.get(B.id)||0)+1)})}),d})():new Map)},[f,n,i,r,l,c,u,s,o]}class MC extends GA{constructor(A){super(),VA(this,A,LC,SC,KA,{selectedDocuments:7,documentSetStore:8})}}const eS="";function Cu(e,A,t){const r=e.slice();return r[15]=A[t],r}function kC(e){let A;return{c(){A=Q("span"),A.innerHTML='<i class="fas fa-crop-alt"></i>',m(A,"class","icon px-4")},m(t,r){O(t,A,r)},d(t){t&&K(A)}}}function TC(e){let A;return{c(){A=Q("span"),A.innerHTML='<i class="fas fa-hand-pointer"></i>',m(A,"class","icon px-4")},m(t,r){O(t,A,r)},d(t){t&&K(A)}}}function Qu(e){let A,t,r,n;const i=[KC,DC],s=[];function o(a,l){return a[0]==="img"?0:a[0]==="doc"?1:-1}return~(A=o(e))&&(t=s[A]=i[A](e)),{c(){t&&t.c(),r=Oe()},m(a,l){~A&&s[A].m(a,l),O(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?~A&&s[A].p(a,l):(t&&(ZA(),W(s[c],1,1,()=>{s[c]=null}),Ae()),~A?(t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),P(t,1),t.m(r.parentNode,r)):t=null)},i(a){n||(P(t),n=!0)},o(a){W(t),n=!1},d(a){~A&&s[A].d(a),a&&K(r)}}}function DC(e){let A,t;return A=new MC({props:{selectedDocuments:e[5],documentSetStore:e[1]}}),{c(){BA(A.$$.fragment)},m(r,n){dA(A,r,n),t=!0},p(r,n){const i={};n&32&&(i.selectedDocuments=r[5]),n&2&&(i.documentSetStore=r[1]),A.$set(i)},i(r){t||(P(A.$$.fragment,r),t=!0)},o(r){W(A.$$.fragment,r),t=!1},d(r){gA(A,r)}}}function KC(e){let A,t,r=J==="en"?"Selected regions":"Régions sélectionnées",n,i,s=e[5].length+"",o,a,l,c,f=[],u=new Map,h,d=e[5];const g=B=>B[15].id;for(let B=0;B<d.length;B+=1){let p=Cu(e,d,B),C=g(p);u.set(C,f[B]=yu(C,p))}return{c(){A=Q("div"),t=Q("h3"),n=sA(r),i=sA(" ("),o=sA(s),a=sA(")"),l=N(),c=Q("div");for(let B=0;B<f.length;B+=1)f[B].c();m(t,"class","title is-5"),m(c,"class","selected-nodes grid is-gap-2 mt-5 svelte-1a3kdxu"),m(A,"class","selected-panel box mt-4 svelte-1a3kdxu")},m(B,p){O(B,A,p),w(A,t),w(t,n),w(t,i),w(t,o),w(t,a),w(A,l),w(A,c);for(let C=0;C<f.length;C+=1)f[C]&&f[C].m(c,null);h=!0},p(B,p){(!h||p&32)&&s!==(s=B[5].length+"")&&PA(o,s),p&32&&(d=B[5],ZA(),f=si(f,p,g,1,B,d,u,c,Js,yu,null,Cu),Ae())},i(B){if(!h){for(let p=0;p<d.length;p+=1)P(f[p]);h=!0}},o(B){for(let p=0;p<f.length;p+=1)W(f[p]);h=!1},d(B){B&&K(A);for(let p=0;p<f.length;p+=1)f[p].d()}}}function yu(e,A){let t,r,n;return r=new Xr({props:{item:A[15],selectable:!1,copyable:!1}}),{key:e,first:null,c(){t=Oe(),BA(r.$$.fragment),this.first=t},m(i,s){O(i,t,s),dA(r,i,s),n=!0},p(i,s){A=i;const o={};s&32&&(o.item=A[15]),r.$set(o)},i(i){n||(P(r.$$.fragment,i),n=!0)},o(i){W(r.$$.fragment,i),n=!1},d(i){i&&K(t),gA(r,i)}}}function OC(e){let A,t,r,n=e[3]?"click":"selection",i,s,o,a,l,c,f,u;function h(p,C){return p[3]?TC:kC}let d=h(e),g=d(e),B=e[5].length>0&&Qu(e);return{c(){A=Q("div"),t=Q("button"),g.c(),r=sA(`
        Switch to `),i=sA(n),s=sA(" mode"),o=N(),a=Q("div"),l=N(),B&&B.c(),m(t,"class","toggle-button button is-small is-link mb-3"),m(a,"class","visualization-container")},m(p,C){O(p,A,C),w(A,t),g.m(t,null),w(t,r),w(t,i),w(t,s),w(A,o),w(A,a),e[9](a),w(A,l),B&&B.m(A,null),c=!0,f||(u=yA(t,"click",e[7]),f=!0)},p(p,[C]){d!==(d=h(p))&&(g.d(1),g=d(p),g&&(g.c(),g.m(t,r))),(!c||C&8)&&n!==(n=p[3]?"click":"selection")&&PA(i,n),p[5].length>0?B?(B.p(p,C),C&32&&P(B,1)):(B=Qu(p),B.c(),P(B,1),B.m(A,null)):B&&(ZA(),W(B,1,1,()=>{B=null}),Ae())},i(p){c||(P(B),c=!0)},o(p){W(B),c=!1},d(p){p&&K(A),g.d(),e[9](null),B&&B.d(),f=!1,u()}}}const NC=1e3;function RC(e,A,t){let r,n,i=rA,s=()=>(i(),i=jn(r,v=>t(8,n=v)),r),o;e.$$.on_destroy.push(()=>i());let{type:a="img"}=A,{documentSetStore:l}=A;const{imageNetwork:c,documentNetwork:f,selectedNodes:u,updateSelectedNodes:h}=l;SA(e,u,v=>t(5,o=v));let d,g,B=!1;function p(){d&&(d.destroy(),h([]));function v(_){h(_)}d=(n.nodes.length<NC?gC:oC)(g,n.nodes,n.links,v,_=>{t(3,B=_)}),t(3,B=a==="img"),B&&d.toggleSelectionMode()}function C(){d&&t(3,B=d.toggleSelectionMode())}Hr(()=>{d==null||d.destroy()});function U(v){zt[v?"unshift":"push"](()=>{g=v,t(2,g)})}return e.$$set=v=>{"type"in v&&t(0,a=v.type),"documentSetStore"in v&&t(1,l=v.documentSetStore)},e.$$.update=()=>{e.$$.dirty&1&&s(t(4,r=a==="img"?c:f)),e.$$.dirty&260&&n&&g&&p()},[a,l,g,B,r,o,u,C,n,U]}class PC extends GA{constructor(A){super(),VA(this,A,RC,OC,KA,{type:0,documentSetStore:1})}}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Do=function(e,A){return Do=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])},Do(e,A)};function _t(e,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");Do(e,A);function t(){this.constructor=e}e.prototype=A===null?Object.create(A):(t.prototype=A.prototype,new t)}var Ko=function(){return Ko=Object.assign||function(A){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(A[i]=t[i])}return A},Ko.apply(this,arguments)};function je(e,A,t,r){function n(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(c){try{l(r.next(c))}catch(f){s(f)}}function a(c){try{l(r.throw(c))}catch(f){s(f)}}function l(c){c.done?i(c.value):n(c.value).then(o,a)}l((r=r.apply(e,A||[])).next())})}function Pe(e,A){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,n,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(c){return a([l,c])}}function a(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,n&&(i=l[0]&2?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,n=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){t.label=l[1];break}if(l[0]===6&&t.label<i[1]){t.label=i[1],i=l;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(l);break}i[2]&&t.ops.pop(),t.trys.pop();continue}l=A.call(e,t)}catch(c){l=[6,c],n=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Pi(e,A,t){if(t||arguments.length===2)for(var r=0,n=A.length,i;r<n;r++)(i||!(r in A))&&(i||(i=Array.prototype.slice.call(A,0,r)),i[r]=A[r]);return e.concat(i||A)}for(var Nt=function(){function e(A,t,r,n){this.left=A,this.top=t,this.width=r,this.height=n}return e.prototype.add=function(A,t,r,n){return new e(this.left+A,this.top+t,this.width+r,this.height+n)},e.fromClientRect=function(A,t){return new e(t.left+A.windowBounds.left,t.top+A.windowBounds.top,t.width,t.height)},e.fromDOMRectList=function(A,t){var r=Array.from(t).find(function(n){return n.width!==0});return r?new e(r.left+A.windowBounds.left,r.top+A.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Vi=function(e,A){return Nt.fromClientRect(e,A.getBoundingClientRect())},VC=function(e){var A=e.body,t=e.documentElement;if(!A||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(A.scrollWidth,t.scrollWidth),Math.max(A.offsetWidth,t.offsetWidth),Math.max(A.clientWidth,t.clientWidth)),n=Math.max(Math.max(A.scrollHeight,t.scrollHeight),Math.max(A.offsetHeight,t.offsetHeight),Math.max(A.clientHeight,t.clientHeight));return new Nt(0,0,r,n)},Gi=function(e){for(var A=[],t=0,r=e.length;t<r;){var n=e.charCodeAt(t++);if(n>=55296&&n<=56319&&t<r){var i=e.charCodeAt(t++);(i&64512)===56320?A.push(((n&1023)<<10)+(i&1023)+65536):(A.push(n),t--)}else A.push(n)}return A},_e=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var r=[],n=-1,i="";++n<t;){var s=e[n];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(n+1===t||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},_u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",GC=typeof Uint8Array>"u"?[]:new Uint8Array(256),Xi=0;Xi<_u.length;Xi++)GC[_u.charCodeAt(Xi)]=Xi;for(var Uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Un=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ji=0;Ji<Uu.length;Ji++)Un[Uu.charCodeAt(Ji)]=Ji;for(var XC=function(e){var A=e.length*.75,t=e.length,r,n=0,i,s,o,a;e[e.length-1]==="="&&(A--,e[e.length-2]==="="&&A--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),c=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<t;r+=4)i=Un[e.charCodeAt(r)],s=Un[e.charCodeAt(r+1)],o=Un[e.charCodeAt(r+2)],a=Un[e.charCodeAt(r+3)],c[n++]=i<<2|s>>4,c[n++]=(s&15)<<4|o>>2,c[n++]=(o&3)<<6|a&63;return l},JC=function(e){for(var A=e.length,t=[],r=0;r<A;r+=2)t.push(e[r+1]<<8|e[r]);return t},WC=function(e){for(var A=e.length,t=[],r=0;r<A;r+=4)t.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return t},mr=5,Oo=6+5,No=2,YC=Oo-mr,Fu=65536>>mr,zC=1<<mr,Ro=zC-1,$C=1024>>mr,jC=Fu+$C,qC=jC,ZC=32,A1=qC+ZC,e1=65536>>Oo,t1=1<<YC,r1=t1-1,bu=function(e,A,t){return e.slice?e.slice(A,t):new Uint16Array(Array.prototype.slice.call(e,A,t))},n1=function(e,A,t){return e.slice?e.slice(A,t):new Uint32Array(Array.prototype.slice.call(e,A,t))},i1=function(e,A){var t=XC(e),r=Array.isArray(t)?WC(t):new Uint32Array(t),n=Array.isArray(t)?JC(t):new Uint16Array(t),i=24,s=bu(n,i/2,r[4]/2),o=r[5]===2?bu(n,(i+r[4])/2):n1(r,Math.ceil((i+r[4])/4));return new s1(r[0],r[1],r[2],r[3],s,o)},s1=function(){function e(A,t,r,n,i,s){this.initialValue=A,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=s}return e.prototype.get=function(A){var t;if(A>=0){if(A<55296||A>56319&&A<=65535)return t=this.index[A>>mr],t=(t<<No)+(A&Ro),this.data[t];if(A<=65535)return t=this.index[Fu+(A-55296>>mr)],t=(t<<No)+(A&Ro),this.data[t];if(A<this.highStart)return t=A1-e1+(A>>Oo),t=this.index[t],t+=A>>mr&r1,t=this.index[t],t=(t<<No)+(A&Ro),this.data[t];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o1=typeof Uint8Array>"u"?[]:new Uint8Array(256),Wi=0;Wi<Eu.length;Wi++)o1[Eu.charCodeAt(Wi)]=Wi;var a1="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",Iu=50,l1=1,Hu=2,Su=3,c1=4,u1=5,xu=7,Lu=8,Mu=9,er=10,Po=11,ku=12,Vo=13,f1=14,Fn=15,Go=16,Yi=17,bn=18,h1=19,Tu=20,Xo=21,En=22,Jo=23,Jr=24,ot=25,In=26,Hn=27,Wr=28,d1=29,wr=30,g1=31,zi=32,$i=33,Wo=34,Yo=35,zo=36,Sn=37,$o=38,ji=39,qi=40,jo=41,Du=42,B1=43,p1=[9001,65288],Ku="!",jA="×",Zi="÷",qo=i1(a1),Rt=[wr,zo],Zo=[l1,Hu,Su,u1],Ou=[er,Lu],Nu=[Hn,In],m1=Zo.concat(Ou),Ru=[$o,ji,qi,Wo,Yo],w1=[Fn,Vo],v1=function(e,A){A===void 0&&(A="strict");var t=[],r=[],n=[];return e.forEach(function(i,s){var o=qo.get(i);if(o>Iu?(n.push(!0),o-=Iu):n.push(!1),["normal","auto","loose"].indexOf(A)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(s),t.push(Go);if(o===c1||o===Po){if(s===0)return r.push(s),t.push(wr);var a=t[s-1];return m1.indexOf(a)===-1?(r.push(r[s-1]),t.push(a)):(r.push(s),t.push(wr))}if(r.push(s),o===g1)return t.push(A==="strict"?Xo:Sn);if(o===Du||o===d1)return t.push(wr);if(o===B1)return i>=131072&&i<=196605||i>=196608&&i<=262141?t.push(Sn):t.push(wr);t.push(o)}),[r,t,n]},Aa=function(e,A,t,r){var n=r[t];if(Array.isArray(e)?e.indexOf(n)!==-1:e===n)for(var i=t;i<=r.length;){i++;var s=r[i];if(s===A)return!0;if(s!==er)break}if(n===er)for(var i=t;i>0;){i--;var o=r[i];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var a=t;a<=r.length;){a++;var s=r[a];if(s===A)return!0;if(s!==er)break}if(o!==er)break}return!1},Pu=function(e,A){for(var t=e;t>=0;){var r=A[t];if(r===er)t--;else return r}return 0},C1=function(e,A,t,r,n){if(t[r]===0)return jA;var i=r-1;if(Array.isArray(n)&&n[i]===!0)return jA;var s=i-1,o=i+1,a=A[i],l=s>=0?A[s]:0,c=A[o];if(a===Hu&&c===Su)return jA;if(Zo.indexOf(a)!==-1)return Ku;if(Zo.indexOf(c)!==-1||Ou.indexOf(c)!==-1)return jA;if(Pu(i,A)===Lu)return Zi;if(qo.get(e[i])===Po||(a===zi||a===$i)&&qo.get(e[o])===Po||a===xu||c===xu||a===Mu||[er,Vo,Fn].indexOf(a)===-1&&c===Mu||[Yi,bn,h1,Jr,Wr].indexOf(c)!==-1||Pu(i,A)===En||Aa(Jo,En,i,A)||Aa([Yi,bn],Xo,i,A)||Aa(ku,ku,i,A))return jA;if(a===er)return Zi;if(a===Jo||c===Jo)return jA;if(c===Go||a===Go)return Zi;if([Vo,Fn,Xo].indexOf(c)!==-1||a===f1||l===zo&&w1.indexOf(a)!==-1||a===Wr&&c===zo||c===Tu||Rt.indexOf(c)!==-1&&a===ot||Rt.indexOf(a)!==-1&&c===ot||a===Hn&&[Sn,zi,$i].indexOf(c)!==-1||[Sn,zi,$i].indexOf(a)!==-1&&c===In||Rt.indexOf(a)!==-1&&Nu.indexOf(c)!==-1||Nu.indexOf(a)!==-1&&Rt.indexOf(c)!==-1||[Hn,In].indexOf(a)!==-1&&(c===ot||[En,Fn].indexOf(c)!==-1&&A[o+1]===ot)||[En,Fn].indexOf(a)!==-1&&c===ot||a===ot&&[ot,Wr,Jr].indexOf(c)!==-1)return jA;if([ot,Wr,Jr,Yi,bn].indexOf(c)!==-1)for(var f=i;f>=0;){var u=A[f];if(u===ot)return jA;if([Wr,Jr].indexOf(u)!==-1)f--;else break}if([Hn,In].indexOf(c)!==-1)for(var f=[Yi,bn].indexOf(a)!==-1?s:i;f>=0;){var u=A[f];if(u===ot)return jA;if([Wr,Jr].indexOf(u)!==-1)f--;else break}if($o===a&&[$o,ji,Wo,Yo].indexOf(c)!==-1||[ji,Wo].indexOf(a)!==-1&&[ji,qi].indexOf(c)!==-1||[qi,Yo].indexOf(a)!==-1&&c===qi||Ru.indexOf(a)!==-1&&[Tu,In].indexOf(c)!==-1||Ru.indexOf(c)!==-1&&a===Hn||Rt.indexOf(a)!==-1&&Rt.indexOf(c)!==-1||a===Jr&&Rt.indexOf(c)!==-1||Rt.concat(ot).indexOf(a)!==-1&&c===En&&p1.indexOf(e[o])===-1||Rt.concat(ot).indexOf(c)!==-1&&a===bn)return jA;if(a===jo&&c===jo){for(var h=t[i],d=1;h>0&&(h--,A[h]===jo);)d++;if(d%2!==0)return jA}return a===zi&&c===$i?jA:Zi},Q1=function(e,A){A||(A={lineBreak:"normal",wordBreak:"normal"});var t=v1(e,A.lineBreak),r=t[0],n=t[1],i=t[2];(A.wordBreak==="break-all"||A.wordBreak==="break-word")&&(n=n.map(function(o){return[ot,wr,Du].indexOf(o)!==-1?Sn:o}));var s=A.wordBreak==="keep-all"?i.map(function(o,a){return o&&e[a]>=19968&&e[a]<=40959}):void 0;return[r,n,s]},y1=function(){function e(A,t,r,n){this.codePoints=A,this.required=t===Ku,this.start=r,this.end=n}return e.prototype.slice=function(){return _e.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),_1=function(e,A){var t=Gi(e),r=Q1(t,A),n=r[0],i=r[1],s=r[2],o=t.length,a=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var c=jA;l<o&&(c=C1(t,i,n,++l,s))===jA;);if(c!==jA||l===o){var f=new y1(t,c,a,l);return a=l,{value:f,done:!1}}return{done:!0,value:null}}}},U1=1,F1=2,xn=4,Vu=8,As=10,Gu=47,Ln=92,b1=9,E1=32,es=34,Mn=61,I1=35,H1=36,S1=37,ts=39,rs=40,kn=41,x1=95,Ze=45,L1=33,M1=60,k1=62,T1=64,D1=91,K1=93,O1=61,N1=123,ns=63,R1=125,Xu=124,P1=126,V1=128,Ju=65533,ea=42,vr=43,G1=44,X1=58,J1=59,Tn=46,W1=0,Y1=8,z1=11,$1=14,j1=31,q1=127,Et=-1,Wu=48,Yu=97,zu=101,Z1=102,AQ=117,eQ=122,$u=65,ju=69,qu=70,tQ=85,rQ=90,Ve=function(e){return e>=Wu&&e<=57},nQ=function(e){return e>=55296&&e<=57343},Yr=function(e){return Ve(e)||e>=$u&&e<=qu||e>=Yu&&e<=Z1},iQ=function(e){return e>=Yu&&e<=eQ},sQ=function(e){return e>=$u&&e<=rQ},oQ=function(e){return iQ(e)||sQ(e)},aQ=function(e){return e>=V1},is=function(e){return e===As||e===b1||e===E1},ss=function(e){return oQ(e)||aQ(e)||e===x1},Zu=function(e){return ss(e)||Ve(e)||e===Ze},lQ=function(e){return e>=W1&&e<=Y1||e===z1||e>=$1&&e<=j1||e===q1},tr=function(e,A){return e!==Ln?!1:A!==As},os=function(e,A,t){return e===Ze?ss(A)||tr(A,t):ss(e)?!0:!!(e===Ln&&tr(e,A))},ta=function(e,A,t){return e===vr||e===Ze?Ve(A)?!0:A===Tn&&Ve(t):Ve(e===Tn?A:e)},cQ=function(e){var A=0,t=1;(e[A]===vr||e[A]===Ze)&&(e[A]===Ze&&(t=-1),A++);for(var r=[];Ve(e[A]);)r.push(e[A++]);var n=r.length?parseInt(_e.apply(void 0,r),10):0;e[A]===Tn&&A++;for(var i=[];Ve(e[A]);)i.push(e[A++]);var s=i.length,o=s?parseInt(_e.apply(void 0,i),10):0;(e[A]===ju||e[A]===zu)&&A++;var a=1;(e[A]===vr||e[A]===Ze)&&(e[A]===Ze&&(a=-1),A++);for(var l=[];Ve(e[A]);)l.push(e[A++]);var c=l.length?parseInt(_e.apply(void 0,l),10):0;return t*(n+o*Math.pow(10,-s))*Math.pow(10,a*c)},uQ={type:2},fQ={type:3},hQ={type:4},dQ={type:13},gQ={type:8},BQ={type:21},pQ={type:9},mQ={type:10},wQ={type:11},vQ={type:12},CQ={type:14},as={type:23},QQ={type:1},yQ={type:25},_Q={type:24},UQ={type:26},FQ={type:27},bQ={type:28},EQ={type:29},IQ={type:31},ra={type:32},Af=function(){function e(){this._value=[]}return e.prototype.write=function(A){this._value=this._value.concat(Gi(A))},e.prototype.read=function(){for(var A=[],t=this.consumeToken();t!==ra;)A.push(t),t=this.consumeToken();return A},e.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case es:return this.consumeStringToken(es);case I1:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);if(Zu(t)||tr(r,n)){var i=os(t,r,n)?F1:U1,s=this.consumeName();return{type:5,value:s,flags:i}}break;case H1:if(this.peekCodePoint(0)===Mn)return this.consumeCodePoint(),dQ;break;case ts:return this.consumeStringToken(ts);case rs:return uQ;case kn:return fQ;case ea:if(this.peekCodePoint(0)===Mn)return this.consumeCodePoint(),CQ;break;case vr:if(ta(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case G1:return hQ;case Ze:var o=A,a=this.peekCodePoint(0),l=this.peekCodePoint(1);if(ta(o,a,l))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(os(o,a,l))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(a===Ze&&l===k1)return this.consumeCodePoint(),this.consumeCodePoint(),_Q;break;case Tn:if(ta(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case Gu:if(this.peekCodePoint(0)===ea)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===ea&&(c=this.consumeCodePoint(),c===Gu))return this.consumeToken();if(c===Et)return this.consumeToken()}break;case X1:return UQ;case J1:return FQ;case M1:if(this.peekCodePoint(0)===L1&&this.peekCodePoint(1)===Ze&&this.peekCodePoint(2)===Ze)return this.consumeCodePoint(),this.consumeCodePoint(),yQ;break;case T1:var f=this.peekCodePoint(0),u=this.peekCodePoint(1),h=this.peekCodePoint(2);if(os(f,u,h)){var s=this.consumeName();return{type:7,value:s}}break;case D1:return bQ;case Ln:if(tr(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case K1:return EQ;case O1:if(this.peekCodePoint(0)===Mn)return this.consumeCodePoint(),gQ;break;case N1:return wQ;case R1:return vQ;case AQ:case tQ:var d=this.peekCodePoint(0),g=this.peekCodePoint(1);return d===vr&&(Yr(g)||g===ns)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case Xu:if(this.peekCodePoint(0)===Mn)return this.consumeCodePoint(),pQ;if(this.peekCodePoint(0)===Xu)return this.consumeCodePoint(),BQ;break;case P1:if(this.peekCodePoint(0)===Mn)return this.consumeCodePoint(),mQ;break;case Et:return ra}return is(A)?(this.consumeWhiteSpace(),IQ):Ve(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):ss(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:6,value:_e(A)}},e.prototype.consumeCodePoint=function(){var A=this._value.shift();return typeof A>"u"?-1:A},e.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},e.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},e.prototype.consumeUnicodeRangeToken=function(){for(var A=[],t=this.consumeCodePoint();Yr(t)&&A.length<6;)A.push(t),t=this.consumeCodePoint();for(var r=!1;t===ns&&A.length<6;)A.push(t),t=this.consumeCodePoint(),r=!0;if(r){var n=parseInt(_e.apply(void 0,A.map(function(a){return a===ns?Wu:a})),16),i=parseInt(_e.apply(void 0,A.map(function(a){return a===ns?qu:a})),16);return{type:30,start:n,end:i}}var s=parseInt(_e.apply(void 0,A),16);if(this.peekCodePoint(0)===Ze&&Yr(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];Yr(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var i=parseInt(_e.apply(void 0,o),16);return{type:30,start:s,end:i}}else return{type:30,start:s,end:s}},e.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return A.toLowerCase()==="url"&&this.peekCodePoint(0)===rs?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===rs?(this.consumeCodePoint(),{type:19,value:A}):{type:20,value:A}},e.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Et)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===ts||t===es){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Et||this.peekCodePoint(0)===kn)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),as)}for(;;){var n=this.consumeCodePoint();if(n===Et||n===kn)return{type:22,value:_e.apply(void 0,A)};if(is(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Et||this.peekCodePoint(0)===kn?(this.consumeCodePoint(),{type:22,value:_e.apply(void 0,A)}):(this.consumeBadUrlRemnants(),as);if(n===es||n===ts||n===rs||lQ(n))return this.consumeBadUrlRemnants(),as;if(n===Ln)if(tr(n,this.peekCodePoint(0)))A.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),as;else A.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;is(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(A===kn||A===Et)return;tr(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(A){for(var t=5e4,r="";A>0;){var n=Math.min(t,A);r+=_e.apply(void 0,this._value.splice(0,n)),A-=n}return this._value.shift(),r},e.prototype.consumeStringToken=function(A){var t="",r=0;do{var n=this._value[r];if(n===Et||n===void 0||n===A)return t+=this.consumeStringSlice(r),{type:0,value:t};if(n===As)return this._value.splice(0,r),QQ;if(n===Ln){var i=this._value[r+1];i!==Et&&i!==void 0&&(i===As?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):tr(n,i)&&(t+=this.consumeStringSlice(r),t+=_e(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var A=[],t=xn,r=this.peekCodePoint(0);for((r===vr||r===Ze)&&A.push(this.consumeCodePoint());Ve(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(r===Tn&&Ve(n))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Vu;Ve(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===ju||r===zu)&&((n===vr||n===Ze)&&Ve(i)||Ve(n)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Vu;Ve(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[cQ(A),t]},e.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),t=A[0],r=A[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),s=this.peekCodePoint(2);if(os(n,i,s)){var o=this.consumeName();return{type:15,number:t,flags:r,unit:o}}return n===S1?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(Yr(A)){for(var t=_e(A);Yr(this.peekCodePoint(0))&&t.length<6;)t+=_e(this.consumeCodePoint());is(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||nQ(r)||r>1114111?Ju:r}return A===Et?Ju:A},e.prototype.consumeName=function(){for(var A="";;){var t=this.consumeCodePoint();if(Zu(t))A+=_e(t);else if(tr(t,this.peekCodePoint(0)))A+=_e(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),A}},e}(),ef=function(){function e(A){this._tokens=A}return e.create=function(A){var t=new Af;return t.write(A),new e(t.read())},e.parseValue=function(A){return e.create(A).parseComponentValue()},e.parseValues=function(A){return e.create(A).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var A=this.consumeToken();A.type===31;)A=this.consumeToken();if(A.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(A);var t=this.consumeComponentValue();do A=this.consumeToken();while(A.type===31);if(A.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var A=[];;){var t=this.consumeComponentValue();if(t.type===32)return A;A.push(t),A.push()}},e.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case 11:case 28:case 2:return this.consumeSimpleBlock(A.type);case 19:return this.consumeFunction(A)}return A},e.prototype.consumeSimpleBlock=function(A){for(var t={type:A,values:[]},r=this.consumeToken();;){if(r.type===32||SQ(r,A))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(A){for(var t={name:A.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var A=this._tokens.shift();return typeof A>"u"?ra:A},e.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},e}(),Dn=function(e){return e.type===15},zr=function(e){return e.type===17},le=function(e){return e.type===20},HQ=function(e){return e.type===0},na=function(e,A){return le(e)&&e.value===A},tf=function(e){return e.type!==31},$r=function(e){return e.type!==31&&e.type!==4},It=function(e){var A=[],t=[];return e.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");A.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&A.push(t),A},SQ=function(e,A){return A===11&&e.type===12||A===28&&e.type===29?!0:A===2&&e.type===3},rr=function(e){return e.type===17||e.type===15},Ie=function(e){return e.type===16||rr(e)},rf=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Te={type:17,number:0,flags:xn},ia={type:16,number:50,flags:xn},nr={type:16,number:100,flags:xn},Kn=function(e,A,t){var r=e[0],n=e[1];return[de(r,A),de(typeof n<"u"?n:r,t)]},de=function(e,A){if(e.type===16)return e.number/100*A;if(Dn(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},nf="deg",sf="grad",of="rad",af="turn",ls={name:"angle",parse:function(e,A){if(A.type===15)switch(A.unit){case nf:return Math.PI*A.number/180;case sf:return Math.PI/200*A.number;case of:return A.number;case af:return Math.PI*2*A.number}throw new Error("Unsupported angle type")}},lf=function(e){return e.type===15&&(e.unit===nf||e.unit===sf||e.unit===of||e.unit===af)},cf=function(e){var A=e.filter(le).map(function(t){return t.value}).join(" ");switch(A){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Te,Te];case"to top":case"bottom":return dt(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Te,nr];case"to right":case"left":return dt(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[nr,nr];case"to bottom":case"top":return dt(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[nr,Te];case"to left":case"right":return dt(270)}return 0},dt=function(e){return Math.PI*e/180},ir={name:"color",parse:function(e,A){if(A.type===18){var t=xQ[A.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+A.name+'"');return t(e,A.values)}if(A.type===5){if(A.value.length===3){var r=A.value.substring(0,1),n=A.value.substring(1,2),i=A.value.substring(2,3);return or(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),1)}if(A.value.length===4){var r=A.value.substring(0,1),n=A.value.substring(1,2),i=A.value.substring(2,3),s=A.value.substring(3,4);return or(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16)/255)}if(A.value.length===6){var r=A.value.substring(0,2),n=A.value.substring(2,4),i=A.value.substring(4,6);return or(parseInt(r,16),parseInt(n,16),parseInt(i,16),1)}if(A.value.length===8){var r=A.value.substring(0,2),n=A.value.substring(2,4),i=A.value.substring(4,6),s=A.value.substring(6,8);return or(parseInt(r,16),parseInt(n,16),parseInt(i,16),parseInt(s,16)/255)}}if(A.type===20){var o=Pt[A.value.toUpperCase()];if(typeof o<"u")return o}return Pt.TRANSPARENT}},sr=function(e){return(255&e)===0},Me=function(e){var A=255&e,t=255&e>>8,r=255&e>>16,n=255&e>>24;return A<255?"rgba("+n+","+r+","+t+","+A/255+")":"rgb("+n+","+r+","+t+")"},or=function(e,A,t,r){return(e<<24|A<<16|t<<8|Math.round(r*255)<<0)>>>0},uf=function(e,A){if(e.type===17)return e.number;if(e.type===16){var t=A===3?1:255;return A===3?e.number/100*t:Math.round(e.number/100*t)}return 0},ff=function(e,A){var t=A.filter($r);if(t.length===3){var r=t.map(uf),n=r[0],i=r[1],s=r[2];return or(n,i,s,1)}if(t.length===4){var o=t.map(uf),n=o[0],i=o[1],s=o[2],a=o[3];return or(n,i,s,a)}return 0};function sa(e,A,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(A-e)*t*6+e:t<1/2?A:t<2/3?(A-e)*6*(2/3-t)+e:e}var hf=function(e,A){var t=A.filter($r),r=t[0],n=t[1],i=t[2],s=t[3],o=(r.type===17?dt(r.number):ls.parse(e,r))/(Math.PI*2),a=Ie(n)?n.number/100:0,l=Ie(i)?i.number/100:0,c=typeof s<"u"&&Ie(s)?de(s,1):1;if(a===0)return or(l*255,l*255,l*255,1);var f=l<=.5?l*(a+1):l+a-l*a,u=l*2-f,h=sa(u,f,o+1/3),d=sa(u,f,o),g=sa(u,f,o-1/3);return or(h*255,d*255,g*255,c)},xQ={hsl:hf,hsla:hf,rgb:ff,rgba:ff},On=function(e,A){return ir.parse(e,ef.create(A).parseComponentValue())},Pt={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},LQ={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,A){return A.map(function(t){if(le(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},MQ={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},cs=function(e,A){var t=ir.parse(e,A[0]),r=A[1];return r&&Ie(r)?{color:t,stop:r}:{color:t,stop:null}},df=function(e,A){var t=e[0],r=e[e.length-1];t.stop===null&&(t.stop=Te),r.stop===null&&(r.stop=nr);for(var n=[],i=0,s=0;s<e.length;s++){var o=e[s].stop;if(o!==null){var a=de(o,A);a>i?n.push(a):n.push(i),i=a}else n.push(null)}for(var l=null,s=0;s<n.length;s++){var c=n[s];if(c===null)l===null&&(l=s);else if(l!==null){for(var f=s-l,u=n[l-1],h=(c-u)/(f+1),d=1;d<=f;d++)n[l+d-1]=h*d;l=null}}return e.map(function(g,B){var p=g.color;return{color:p,stop:Math.max(Math.min(1,n[B]/A),0)}})},kQ=function(e,A,t){var r=A/2,n=t/2,i=de(e[0],A)-r,s=n-de(e[1],t);return(Math.atan2(s,i)+Math.PI*2)%(Math.PI*2)},TQ=function(e,A,t){var r=typeof e=="number"?e:kQ(e,A,t),n=Math.abs(A*Math.sin(r))+Math.abs(t*Math.cos(r)),i=A/2,s=t/2,o=n/2,a=Math.sin(r-Math.PI/2)*o,l=Math.cos(r-Math.PI/2)*o;return[n,i-l,i+l,s-a,s+a]},Ut=function(e,A){return Math.sqrt(e*e+A*A)},gf=function(e,A,t,r,n){var i=[[0,0],[0,A],[e,0],[e,A]];return i.reduce(function(s,o){var a=o[0],l=o[1],c=Ut(t-a,r-l);return(n?c<s.optimumDistance:c>s.optimumDistance)?{optimumCorner:o,optimumDistance:c}:s},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},DQ=function(e,A,t,r,n){var i=0,s=0;switch(e.size){case 0:e.shape===0?i=s=Math.min(Math.abs(A),Math.abs(A-r),Math.abs(t),Math.abs(t-n)):e.shape===1&&(i=Math.min(Math.abs(A),Math.abs(A-r)),s=Math.min(Math.abs(t),Math.abs(t-n)));break;case 2:if(e.shape===0)i=s=Math.min(Ut(A,t),Ut(A,t-n),Ut(A-r,t),Ut(A-r,t-n));else if(e.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-n))/Math.min(Math.abs(A),Math.abs(A-r)),a=gf(r,n,A,t,!0),l=a[0],c=a[1];i=Ut(l-A,(c-t)/o),s=o*i}break;case 1:e.shape===0?i=s=Math.max(Math.abs(A),Math.abs(A-r),Math.abs(t),Math.abs(t-n)):e.shape===1&&(i=Math.max(Math.abs(A),Math.abs(A-r)),s=Math.max(Math.abs(t),Math.abs(t-n)));break;case 3:if(e.shape===0)i=s=Math.max(Ut(A,t),Ut(A,t-n),Ut(A-r,t),Ut(A-r,t-n));else if(e.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-n))/Math.max(Math.abs(A),Math.abs(A-r)),f=gf(r,n,A,t,!1),l=f[0],c=f[1];i=Ut(l-A,(c-t)/o),s=o*i}break}return Array.isArray(e.size)&&(i=de(e.size[0],r),s=e.size.length===2?de(e.size[1],n):i),[i,s]},KQ=function(e,A){var t=dt(180),r=[];return It(A).forEach(function(n,i){if(i===0){var s=n[0];if(s.type===20&&s.value==="to"){t=cf(n);return}else if(lf(s)){t=ls.parse(e,s);return}}var o=cs(e,n);r.push(o)}),{angle:t,stops:r,type:1}},us=function(e,A){var t=dt(180),r=[];return It(A).forEach(function(n,i){if(i===0){var s=n[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){t=cf(n);return}else if(lf(s)){t=(ls.parse(e,s)+dt(270))%dt(360);return}}var o=cs(e,n);r.push(o)}),{angle:t,stops:r,type:1}},OQ=function(e,A){var t=dt(180),r=[],n=1,i=0,s=3,o=[];return It(A).forEach(function(a,l){var c=a[0];if(l===0){if(le(c)&&c.value==="linear"){n=1;return}else if(le(c)&&c.value==="radial"){n=2;return}}if(c.type===18){if(c.name==="from"){var f=ir.parse(e,c.values[0]);r.push({stop:Te,color:f})}else if(c.name==="to"){var f=ir.parse(e,c.values[0]);r.push({stop:nr,color:f})}else if(c.name==="color-stop"){var u=c.values.filter($r);if(u.length===2){var f=ir.parse(e,u[1]),h=u[0];zr(h)&&r.push({stop:{type:16,number:h.number*100,flags:h.flags},color:f})}}}}),n===1?{angle:(t+dt(180))%dt(360),stops:r,type:n}:{size:s,shape:i,stops:r,position:o,type:n}},Bf="closest-side",pf="farthest-side",mf="closest-corner",wf="farthest-corner",vf="circle",Cf="ellipse",Qf="cover",yf="contain",NQ=function(e,A){var t=0,r=3,n=[],i=[];return It(A).forEach(function(s,o){var a=!0;if(o===0){var l=!1;a=s.reduce(function(f,u){if(l)if(le(u))switch(u.value){case"center":return i.push(ia),f;case"top":case"left":return i.push(Te),f;case"right":case"bottom":return i.push(nr),f}else(Ie(u)||rr(u))&&i.push(u);else if(le(u))switch(u.value){case vf:return t=0,!1;case Cf:return t=1,!1;case"at":return l=!0,!1;case Bf:return r=0,!1;case Qf:case pf:return r=1,!1;case yf:case mf:return r=2,!1;case wf:return r=3,!1}else if(rr(u)||Ie(u))return Array.isArray(r)||(r=[]),r.push(u),!1;return f},a)}if(a){var c=cs(e,s);n.push(c)}}),{size:r,shape:t,stops:n,position:i,type:2}},fs=function(e,A){var t=0,r=3,n=[],i=[];return It(A).forEach(function(s,o){var a=!0;if(o===0?a=s.reduce(function(c,f){if(le(f))switch(f.value){case"center":return i.push(ia),!1;case"top":case"left":return i.push(Te),!1;case"right":case"bottom":return i.push(nr),!1}else if(Ie(f)||rr(f))return i.push(f),!1;return c},a):o===1&&(a=s.reduce(function(c,f){if(le(f))switch(f.value){case vf:return t=0,!1;case Cf:return t=1,!1;case yf:case Bf:return r=0,!1;case pf:return r=1,!1;case mf:return r=2,!1;case Qf:case wf:return r=3,!1}else if(rr(f)||Ie(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return c},a)),a){var l=cs(e,s);n.push(l)}}),{size:r,shape:t,stops:n,position:i,type:2}},RQ=function(e){return e.type===1},PQ=function(e){return e.type===2},oa={name:"image",parse:function(e,A){if(A.type===22){var t={url:A.value,type:0};return e.cache.addImage(A.value),t}if(A.type===18){var r=_f[A.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+A.name+'"');return r(e,A.values)}throw new Error("Unsupported image type "+A.type)}};function VQ(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!_f[e.name])}var _f={"linear-gradient":KQ,"-moz-linear-gradient":us,"-ms-linear-gradient":us,"-o-linear-gradient":us,"-webkit-linear-gradient":us,"radial-gradient":NQ,"-moz-radial-gradient":fs,"-ms-radial-gradient":fs,"-o-radial-gradient":fs,"-webkit-radial-gradient":fs,"-webkit-gradient":OQ},GQ={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,A){if(A.length===0)return[];var t=A[0];return t.type===20&&t.value==="none"?[]:A.filter(function(r){return $r(r)&&VQ(r)}).map(function(r){return oa.parse(e,r)})}},XQ={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,A){return A.map(function(t){if(le(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},JQ={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,A){return It(A).map(function(t){return t.filter(Ie)}).map(rf)}},WQ={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,A){return It(A).map(function(t){return t.filter(le).map(function(r){return r.value}).join(" ")}).map(YQ)}},YQ=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},jr;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(jr||(jr={}));var zQ={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,A){return It(A).map(function(t){return t.filter($Q)})}},$Q=function(e){return le(e)||Ie(e)},hs=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},jQ=hs("top"),qQ=hs("right"),ZQ=hs("bottom"),Ay=hs("left"),ds=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(A,t){return rf(t.filter(Ie))}}},ey=ds("top-left"),ty=ds("top-right"),ry=ds("bottom-right"),ny=ds("bottom-left"),gs=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(A,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},iy=gs("top"),sy=gs("right"),oy=gs("bottom"),ay=gs("left"),Bs=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(A,t){return Dn(t)?t.number:0}}},ly=Bs("top"),cy=Bs("right"),uy=Bs("bottom"),fy=Bs("left"),hy={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dy={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,A){switch(A){case"rtl":return 1;case"ltr":default:return 0}}},gy={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,A){return A.filter(le).reduce(function(t,r){return t|By(r.value)},0)}},By=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},py={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},my={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,A){return A.type===20&&A.value==="normal"?0:A.type===17||A.type===15?A.number:0}},ps;(function(e){e.NORMAL="normal",e.STRICT="strict"})(ps||(ps={}));var wy={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"strict":return ps.STRICT;case"normal":default:return ps.NORMAL}}},vy={name:"line-height",initialValue:"normal",prefix:!1,type:4},Uf=function(e,A){return le(e)&&e.value==="normal"?1.2*A:e.type===17?A*e.number:Ie(e)?de(e,A):A},Cy={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,A){return A.type===20&&A.value==="none"?null:oa.parse(e,A)}},Qy={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,A){switch(A){case"inside":return 0;case"outside":default:return 1}}},aa={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},ms=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},yy=ms("top"),_y=ms("right"),Uy=ms("bottom"),Fy=ms("left"),by={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,A){return A.filter(le).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Ey={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"break-word":return"break-word";case"normal":default:return"normal"}}},ws=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Iy=ws("top"),Hy=ws("right"),Sy=ws("bottom"),xy=ws("left"),Ly={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,A){switch(A){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},My={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,A){switch(A){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},ky={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.length===1&&na(A[0],"none")?[]:It(A).map(function(t){for(var r={color:Pt.TRANSPARENT,offsetX:Te,offsetY:Te,blur:Te},n=0,i=0;i<t.length;i++){var s=t[i];rr(s)?(n===0?r.offsetX=s:n===1?r.offsetY=s:r.blur=s,n++):r.color=ir.parse(e,s)}return r})}},Ty={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Dy={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,A){if(A.type===20&&A.value==="none")return null;if(A.type===18){var t=Ny[A.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+A.name+'"');return t(A.values)}return null}},Ky=function(e){var A=e.filter(function(t){return t.type===17}).map(function(t){return t.number});return A.length===6?A:null},Oy=function(e){var A=e.filter(function(a){return a.type===17}).map(function(a){return a.number}),t=A[0],r=A[1];A[2],A[3];var n=A[4],i=A[5];A[6],A[7],A[8],A[9],A[10],A[11];var s=A[12],o=A[13];return A[14],A[15],A.length===16?[t,r,n,i,s,o]:null},Ny={matrix:Ky,matrix3d:Oy},Ff={type:16,number:50,flags:xn},Ry=[Ff,Ff],Py={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,A){var t=A.filter(Ie);return t.length!==2?Ry:[t[0],t[1]]}},Vy={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Nn;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(Nn||(Nn={}));for(var Gy={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"break-all":return Nn.BREAK_ALL;case"keep-all":return Nn.KEEP_ALL;case"normal":default:return Nn.NORMAL}}},Xy={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,A){if(A.type===20)return{auto:!0,order:0};if(zr(A))return{auto:!1,order:A.number};throw new Error("Invalid z-index number parsed")}},bf={name:"time",parse:function(e,A){if(A.type===15)switch(A.unit.toLowerCase()){case"s":return 1e3*A.number;case"ms":return A.number}throw new Error("Unsupported time type")}},Jy={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,A){return zr(A)?A.number:1}},Wy={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Yy={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,A){return A.filter(le).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},zy={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,A){var t=[],r=[];return A.forEach(function(n){switch(n.type){case 20:case 0:t.push(n.value);break;case 17:t.push(n.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},$y={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},jy={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,A){if(zr(A))return A.number;if(le(A))switch(A.value){case"bold":return 700;case"normal":default:return 400}return 400}},qy={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.filter(le).map(function(t){return t.value})}},Zy={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},xe=function(e,A){return(e&A)!==0},A_={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,A){if(A.length===0)return[];var t=A[0];return t.type===20&&t.value==="none"?[]:A}},e_={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(A.length===0)return null;var t=A[0];if(t.type===20&&t.value==="none")return null;for(var r=[],n=A.filter(tf),i=0;i<n.length;i++){var s=n[i],o=n[i+1];if(s.type===20){var a=o&&zr(o)?o.number:1;r.push({counter:s.value,increment:a})}}return r}},t_={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(A.length===0)return[];for(var t=[],r=A.filter(tf),n=0;n<r.length;n++){var i=r[n],s=r[n+1];if(le(i)&&i.value!=="none"){var o=s&&zr(s)?s.number:0;t.push({counter:i.value,reset:o})}}return t}},r_={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,A){return A.filter(Dn).map(function(t){return bf.parse(e,t)})}},n_={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(A.length===0)return null;var t=A[0];if(t.type===20&&t.value==="none")return null;var r=[],n=A.filter(HQ);if(n.length%2!==0)return null;for(var i=0;i<n.length;i+=2){var s=n[i].value,o=n[i+1].value;r.push({open:s,close:o})}return r}},Ef=function(e,A,t){if(!e)return"";var r=e[Math.min(A,e.length-1)];return r?t?r.open:r.close:""},i_={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.length===1&&na(A[0],"none")?[]:It(A).map(function(t){for(var r={color:255,offsetX:Te,offsetY:Te,blur:Te,spread:Te,inset:!1},n=0,i=0;i<t.length;i++){var s=t[i];na(s,"inset")?r.inset=!0:rr(s)?(n===0?r.offsetX=s:n===1?r.offsetY=s:n===2?r.blur=s:r.spread=s,n++):r.color=ir.parse(e,s)}return r})}},s_={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,A){var t=[0,1,2],r=[];return A.filter(le).forEach(function(n){switch(n.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(n){r.indexOf(n)===-1&&r.push(n)}),r}},o_={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},a_={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,A){return Dn(A)?A.number:0}},l_=function(){function e(A,t){var r,n;this.animationDuration=uA(A,r_,t.animationDuration),this.backgroundClip=uA(A,LQ,t.backgroundClip),this.backgroundColor=uA(A,MQ,t.backgroundColor),this.backgroundImage=uA(A,GQ,t.backgroundImage),this.backgroundOrigin=uA(A,XQ,t.backgroundOrigin),this.backgroundPosition=uA(A,JQ,t.backgroundPosition),this.backgroundRepeat=uA(A,WQ,t.backgroundRepeat),this.backgroundSize=uA(A,zQ,t.backgroundSize),this.borderTopColor=uA(A,jQ,t.borderTopColor),this.borderRightColor=uA(A,qQ,t.borderRightColor),this.borderBottomColor=uA(A,ZQ,t.borderBottomColor),this.borderLeftColor=uA(A,Ay,t.borderLeftColor),this.borderTopLeftRadius=uA(A,ey,t.borderTopLeftRadius),this.borderTopRightRadius=uA(A,ty,t.borderTopRightRadius),this.borderBottomRightRadius=uA(A,ry,t.borderBottomRightRadius),this.borderBottomLeftRadius=uA(A,ny,t.borderBottomLeftRadius),this.borderTopStyle=uA(A,iy,t.borderTopStyle),this.borderRightStyle=uA(A,sy,t.borderRightStyle),this.borderBottomStyle=uA(A,oy,t.borderBottomStyle),this.borderLeftStyle=uA(A,ay,t.borderLeftStyle),this.borderTopWidth=uA(A,ly,t.borderTopWidth),this.borderRightWidth=uA(A,cy,t.borderRightWidth),this.borderBottomWidth=uA(A,uy,t.borderBottomWidth),this.borderLeftWidth=uA(A,fy,t.borderLeftWidth),this.boxShadow=uA(A,i_,t.boxShadow),this.color=uA(A,hy,t.color),this.direction=uA(A,dy,t.direction),this.display=uA(A,gy,t.display),this.float=uA(A,py,t.cssFloat),this.fontFamily=uA(A,zy,t.fontFamily),this.fontSize=uA(A,$y,t.fontSize),this.fontStyle=uA(A,Zy,t.fontStyle),this.fontVariant=uA(A,qy,t.fontVariant),this.fontWeight=uA(A,jy,t.fontWeight),this.letterSpacing=uA(A,my,t.letterSpacing),this.lineBreak=uA(A,wy,t.lineBreak),this.lineHeight=uA(A,vy,t.lineHeight),this.listStyleImage=uA(A,Cy,t.listStyleImage),this.listStylePosition=uA(A,Qy,t.listStylePosition),this.listStyleType=uA(A,aa,t.listStyleType),this.marginTop=uA(A,yy,t.marginTop),this.marginRight=uA(A,_y,t.marginRight),this.marginBottom=uA(A,Uy,t.marginBottom),this.marginLeft=uA(A,Fy,t.marginLeft),this.opacity=uA(A,Jy,t.opacity);var i=uA(A,by,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=uA(A,Ey,t.overflowWrap),this.paddingTop=uA(A,Iy,t.paddingTop),this.paddingRight=uA(A,Hy,t.paddingRight),this.paddingBottom=uA(A,Sy,t.paddingBottom),this.paddingLeft=uA(A,xy,t.paddingLeft),this.paintOrder=uA(A,s_,t.paintOrder),this.position=uA(A,My,t.position),this.textAlign=uA(A,Ly,t.textAlign),this.textDecorationColor=uA(A,Wy,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=uA(A,Yy,(n=t.textDecorationLine)!==null&&n!==void 0?n:t.textDecoration),this.textShadow=uA(A,ky,t.textShadow),this.textTransform=uA(A,Ty,t.textTransform),this.transform=uA(A,Dy,t.transform),this.transformOrigin=uA(A,Py,t.transformOrigin),this.visibility=uA(A,Vy,t.visibility),this.webkitTextStrokeColor=uA(A,o_,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=uA(A,a_,t.webkitTextStrokeWidth),this.wordBreak=uA(A,Gy,t.wordBreak),this.zIndex=uA(A,Xy,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return sr(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return xe(this.display,4)||xe(this.display,33554432)||xe(this.display,268435456)||xe(this.display,536870912)||xe(this.display,67108864)||xe(this.display,134217728)},e}(),c_=function(){function e(A,t){this.content=uA(A,A_,t.content),this.quotes=uA(A,n_,t.quotes)}return e}(),If=function(){function e(A,t){this.counterIncrement=uA(A,e_,t.counterIncrement),this.counterReset=uA(A,t_,t.counterReset)}return e}(),uA=function(e,A,t){var r=new Af,n=t!==null&&typeof t<"u"?t.toString():A.initialValue;r.write(n);var i=new ef(r.read());switch(A.type){case 2:var s=i.parseComponentValue();return A.parse(e,le(s)?s.value:A.initialValue);case 0:return A.parse(e,i.parseComponentValue());case 1:return A.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(A.format){case"angle":return ls.parse(e,i.parseComponentValue());case"color":return ir.parse(e,i.parseComponentValue());case"image":return oa.parse(e,i.parseComponentValue());case"length":var o=i.parseComponentValue();return rr(o)?o:Te;case"length-percentage":var a=i.parseComponentValue();return Ie(a)?a:Te;case"time":return bf.parse(e,i.parseComponentValue())}break}},u_="data-html2canvas-debug",f_=function(e){var A=e.getAttribute(u_);switch(A){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},la=function(e,A){var t=f_(e);return t===1||A===t},Ht=function(){function e(A,t){if(this.context=A,this.textNodes=[],this.elements=[],this.flags=0,la(t,3))debugger;this.styles=new l_(A,window.getComputedStyle(t,null)),ya(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=Vi(this.context,t),la(t,4)&&(this.flags|=16)}return e}(),h_="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Hf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rn=typeof Uint8Array>"u"?[]:new Uint8Array(256),vs=0;vs<Hf.length;vs++)Rn[Hf.charCodeAt(vs)]=vs;for(var d_=function(e){var A=e.length*.75,t=e.length,r,n=0,i,s,o,a;e[e.length-1]==="="&&(A--,e[e.length-2]==="="&&A--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),c=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<t;r+=4)i=Rn[e.charCodeAt(r)],s=Rn[e.charCodeAt(r+1)],o=Rn[e.charCodeAt(r+2)],a=Rn[e.charCodeAt(r+3)],c[n++]=i<<2|s>>4,c[n++]=(s&15)<<4|o>>2,c[n++]=(o&3)<<6|a&63;return l},g_=function(e){for(var A=e.length,t=[],r=0;r<A;r+=2)t.push(e[r+1]<<8|e[r]);return t},B_=function(e){for(var A=e.length,t=[],r=0;r<A;r+=4)t.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return t},Cr=5,ca=6+5,ua=2,p_=ca-Cr,Sf=65536>>Cr,m_=1<<Cr,fa=m_-1,w_=1024>>Cr,v_=Sf+w_,C_=v_,Q_=32,y_=C_+Q_,__=65536>>ca,U_=1<<p_,F_=U_-1,xf=function(e,A,t){return e.slice?e.slice(A,t):new Uint16Array(Array.prototype.slice.call(e,A,t))},b_=function(e,A,t){return e.slice?e.slice(A,t):new Uint32Array(Array.prototype.slice.call(e,A,t))},E_=function(e,A){var t=d_(e),r=Array.isArray(t)?B_(t):new Uint32Array(t),n=Array.isArray(t)?g_(t):new Uint16Array(t),i=24,s=xf(n,i/2,r[4]/2),o=r[5]===2?xf(n,(i+r[4])/2):b_(r,Math.ceil((i+r[4])/4));return new I_(r[0],r[1],r[2],r[3],s,o)},I_=function(){function e(A,t,r,n,i,s){this.initialValue=A,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=s}return e.prototype.get=function(A){var t;if(A>=0){if(A<55296||A>56319&&A<=65535)return t=this.index[A>>Cr],t=(t<<ua)+(A&fa),this.data[t];if(A<=65535)return t=this.index[Sf+(A-55296>>Cr)],t=(t<<ua)+(A&fa),this.data[t];if(A<this.highStart)return t=y_-__+(A>>ca),t=this.index[t],t+=A>>Cr&F_,t=this.index[t],t=(t<<ua)+(A&fa),this.data[t];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Lf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",H_=typeof Uint8Array>"u"?[]:new Uint8Array(256),Cs=0;Cs<Lf.length;Cs++)H_[Lf.charCodeAt(Cs)]=Cs;var S_=1,ha=2,da=3,Mf=4,kf=5,x_=7,Tf=8,ga=9,Ba=10,Df=11,Kf=12,Of=13,Nf=14,pa=15,L_=function(e){for(var A=[],t=0,r=e.length;t<r;){var n=e.charCodeAt(t++);if(n>=55296&&n<=56319&&t<r){var i=e.charCodeAt(t++);(i&64512)===56320?A.push(((n&1023)<<10)+(i&1023)+65536):(A.push(n),t--)}else A.push(n)}return A},M_=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var r=[],n=-1,i="";++n<t;){var s=e[n];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(n+1===t||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},k_=E_(h_),gt="×",ma="÷",T_=function(e){return k_.get(e)},D_=function(e,A,t){var r=t-2,n=A[r],i=A[t-1],s=A[t];if(i===ha&&s===da)return gt;if(i===ha||i===da||i===Mf||s===ha||s===da||s===Mf)return ma;if(i===Tf&&[Tf,ga,Df,Kf].indexOf(s)!==-1||(i===Df||i===ga)&&(s===ga||s===Ba)||(i===Kf||i===Ba)&&s===Ba||s===Of||s===kf||s===x_||i===S_)return gt;if(i===Of&&s===Nf){for(;n===kf;)n=A[--r];if(n===Nf)return gt}if(i===pa&&s===pa){for(var o=0;n===pa;)o++,n=A[--r];if(o%2===0)return gt}return ma},K_=function(e){var A=L_(e),t=A.length,r=0,n=0,i=A.map(T_);return{next:function(){if(r>=t)return{done:!0,value:null};for(var s=gt;r<t&&(s=D_(A,i,++r))===gt;);if(s!==gt||r===t){var o=M_.apply(null,A.slice(n,r));return n=r,{value:o,done:!1}}return{done:!0,value:null}}}},O_=function(e){for(var A=K_(e),t=[],r;!(r=A.next()).done;)r.value&&t.push(r.value.slice());return t},N_=function(e){var A=123;if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=A+"px",r.style.display="block",e.body.appendChild(r),t.selectNode(r);var n=t.getBoundingClientRect(),i=Math.round(n.height);if(e.body.removeChild(r),i===A)return!0}}return!1},R_=function(e){var A=e.createElement("boundtest");A.style.width="50px",A.style.display="block",A.style.fontSize="12px",A.style.letterSpacing="0px",A.style.wordSpacing="0px",e.body.appendChild(A);var t=e.createRange();A.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=A.firstChild,n=Gi(r.data).map(function(a){return _e(a)}),i=0,s={},o=n.every(function(a,l){t.setStart(r,i),t.setEnd(r,i+a.length);var c=t.getBoundingClientRect();i+=a.length;var f=c.x>s.x||c.y>s.y;return s=c,l===0?!0:f});return e.body.removeChild(A),o},P_=function(){return typeof new Image().crossOrigin<"u"},V_=function(){return typeof new XMLHttpRequest().responseType=="string"},G_=function(e){var A=new Image,t=e.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;A.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(A,0,0),t.toDataURL()}catch{return!1}return!0},Rf=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},X_=function(e){var A=e.createElement("canvas"),t=100;A.width=t,A.height=t;var r=A.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var n=new Image,i=A.toDataURL();n.src=i;var s=wa(t,t,0,0,n);return r.fillStyle="red",r.fillRect(0,0,t,t),Pf(s).then(function(o){r.drawImage(o,0,0);var a=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var l=e.createElement("div");return l.style.backgroundImage="url("+i+")",l.style.height=t+"px",Rf(a)?Pf(wa(t,t,0,0,l)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),Rf(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},wa=function(e,A,t,r,n){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return s.setAttributeNS(null,"width",e.toString()),s.setAttributeNS(null,"height",A.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(n),s},Pf=function(e){return new Promise(function(A,t){var r=new Image;r.onload=function(){return A(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},De={get SUPPORT_RANGE_BOUNDS(){var e=N_(document);return Object.defineProperty(De,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=De.SUPPORT_RANGE_BOUNDS&&R_(document);return Object.defineProperty(De,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=G_(document);return Object.defineProperty(De,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?X_(document):Promise.resolve(!1);return Object.defineProperty(De,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=P_();return Object.defineProperty(De,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=V_();return Object.defineProperty(De,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(De,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(De,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Pn=function(){function e(A,t){this.text=A,this.bounds=t}return e}(),J_=function(e,A,t,r){var n=z_(A,t),i=[],s=0;return n.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(De.SUPPORT_RANGE_BOUNDS){var a=Vf(r,s,o.length).getClientRects();if(a.length>1){var l=va(o),c=0;l.forEach(function(u){i.push(new Pn(u,Nt.fromDOMRectList(e,Vf(r,c+s,u.length).getClientRects()))),c+=u.length})}else i.push(new Pn(o,Nt.fromDOMRectList(e,a)))}else{var f=r.splitText(o.length);i.push(new Pn(o,W_(e,r))),r=f}else De.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));s+=o.length}),i},W_=function(e,A){var t=A.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(A.cloneNode(!0));var n=A.parentNode;if(n){n.replaceChild(r,A);var i=Vi(e,r);return r.firstChild&&n.replaceChild(r.firstChild,r),i}}return Nt.EMPTY},Vf=function(e,A,t){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var n=r.createRange();return n.setStart(e,A),n.setEnd(e,A+t),n},va=function(e){if(De.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(A.segment(e)).map(function(t){return t.segment})}return O_(e)},Y_=function(e,A){if(De.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return j_(e,A)},z_=function(e,A){return A.letterSpacing!==0?va(e):Y_(e,A)},$_=[32,160,4961,65792,65793,4153,4241],j_=function(e,A){for(var t=_1(e,{lineBreak:A.lineBreak,wordBreak:A.overflowWrap==="break-word"?"break-word":A.wordBreak}),r=[],n,i=function(){if(n.value){var s=n.value.slice(),o=Gi(s),a="";o.forEach(function(l){$_.indexOf(l)===-1?a+=_e(l):(a.length&&r.push(a),r.push(_e(l)),a="")}),a.length&&r.push(a)}};!(n=t.next()).done;)i();return r},q_=function(){function e(A,t,r){this.text=Z_(t.data,r.textTransform),this.textBounds=J_(A,this.text,r,t)}return e}(),Z_=function(e,A){switch(A){case 1:return e.toLowerCase();case 3:return e.replace(AU,eU);case 2:return e.toUpperCase();default:return e}},AU=/(^|\s|:|-|\(|\))([a-z])/g,eU=function(e,A,t){return e.length>0?A+t.toUpperCase():e},Gf=function(e){_t(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.src=r.currentSrc||r.src,n.intrinsicWidth=r.naturalWidth,n.intrinsicHeight=r.naturalHeight,n.context.cache.addImage(n.src),n}return A}(Ht),Xf=function(e){_t(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.canvas=r,n.intrinsicWidth=r.width,n.intrinsicHeight=r.height,n}return A}(Ht),Jf=function(e){_t(A,e);function A(t,r){var n=e.call(this,t,r)||this,i=new XMLSerializer,s=Vi(t,r);return r.setAttribute("width",s.width+"px"),r.setAttribute("height",s.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),n.intrinsicWidth=r.width.baseVal.value,n.intrinsicHeight=r.height.baseVal.value,n.context.cache.addImage(n.svg),n}return A}(Ht),Wf=function(e){_t(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return A}(Ht),Ca=function(e){_t(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.start=r.start,n.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,n}return A}(Ht),tU=[{type:15,flags:0,unit:"px",number:3}],rU=[{type:16,flags:0,number:50}],nU=function(e){return e.width>e.height?new Nt(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new Nt(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},iU=function(e){var A=e.type===sU?new Array(e.value.length+1).join("•"):e.value;return A.length===0?e.placeholder||"":A},Qs="checkbox",ys="radio",sU="password",Yf=707406591,Qa=function(e){_t(A,e);function A(t,r){var n=e.call(this,t,r)||this;switch(n.type=r.type.toLowerCase(),n.checked=r.checked,n.value=iU(r),(n.type===Qs||n.type===ys)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=nU(n.bounds)),n.type){case Qs:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=tU;break;case ys:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=rU;break}return n}return A}(Ht),zf=function(e){_t(A,e);function A(t,r){var n=e.call(this,t,r)||this,i=r.options[r.selectedIndex||0];return n.value=i&&i.text||"",n}return A}(Ht),$f=function(e){_t(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return A}(Ht),jf=function(e){_t(A,e);function A(t,r){var n=e.call(this,t,r)||this;n.src=r.src,n.width=parseInt(r.width,10)||0,n.height=parseInt(r.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){n.tree=Zf(t,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?On(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Pt.TRANSPARENT,s=r.contentWindow.document.body?On(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):Pt.TRANSPARENT;n.backgroundColor=sr(i)?sr(s)?n.styles.backgroundColor:s:i}}catch{}return n}return A}(Ht),oU=["OL","UL","MENU"],_s=function(e,A,t,r){for(var n=A.firstChild,i=void 0;n;n=i)if(i=n.nextSibling,Ah(n)&&n.data.trim().length>0)t.textNodes.push(new q_(e,n,t.styles));else if(qr(n))if(sh(n)&&n.assignedNodes)n.assignedNodes().forEach(function(o){return _s(e,o,t,r)});else{var s=qf(e,n);s.styles.isVisible()&&(aU(n,s,r)?s.flags|=4:lU(s.styles)&&(s.flags|=2),oU.indexOf(n.tagName)!==-1&&(s.flags|=8),t.elements.push(s),n.slot,n.shadowRoot?_s(e,n.shadowRoot,s,r):!Fs(n)&&!eh(n)&&!bs(n)&&_s(e,n,s,r))}},qf=function(e,A){return Ua(A)?new Gf(e,A):th(A)?new Xf(e,A):eh(A)?new Jf(e,A):cU(A)?new Wf(e,A):uU(A)?new Ca(e,A):fU(A)?new Qa(e,A):bs(A)?new zf(e,A):Fs(A)?new $f(e,A):nh(A)?new jf(e,A):new Ht(e,A)},Zf=function(e,A){var t=qf(e,A);return t.flags|=4,_s(e,A,t,t),t},aU=function(e,A,t){return A.styles.isPositionedWithZIndex()||A.styles.opacity<1||A.styles.isTransformed()||_a(e)&&t.styles.isTransparent()},lU=function(e){return e.isPositioned()||e.isFloating()},Ah=function(e){return e.nodeType===Node.TEXT_NODE},qr=function(e){return e.nodeType===Node.ELEMENT_NODE},ya=function(e){return qr(e)&&typeof e.style<"u"&&!Us(e)},Us=function(e){return typeof e.className=="object"},cU=function(e){return e.tagName==="LI"},uU=function(e){return e.tagName==="OL"},fU=function(e){return e.tagName==="INPUT"},hU=function(e){return e.tagName==="HTML"},eh=function(e){return e.tagName==="svg"},_a=function(e){return e.tagName==="BODY"},th=function(e){return e.tagName==="CANVAS"},rh=function(e){return e.tagName==="VIDEO"},Ua=function(e){return e.tagName==="IMG"},nh=function(e){return e.tagName==="IFRAME"},ih=function(e){return e.tagName==="STYLE"},dU=function(e){return e.tagName==="SCRIPT"},Fs=function(e){return e.tagName==="TEXTAREA"},bs=function(e){return e.tagName==="SELECT"},sh=function(e){return e.tagName==="SLOT"},oh=function(e){return e.tagName.indexOf("-")>0},gU=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(A){var t=this.counters[A];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(A){var t=this.counters[A];return t||[]},e.prototype.pop=function(A){var t=this;A.forEach(function(r){return t.counters[r].pop()})},e.prototype.parse=function(A){var t=this,r=A.counterIncrement,n=A.counterReset,i=!0;r!==null&&r.forEach(function(o){var a=t.counters[o.counter];a&&o.increment!==0&&(i=!1,a.length||a.push(1),a[Math.max(0,a.length-1)]+=o.increment)});var s=[];return i&&n.forEach(function(o){var a=t.counters[o.counter];s.push(o.counter),a||(a=t.counters[o.counter]=[]),a.push(o.reset)}),s},e}(),ah={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},lh={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},BU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},pU={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Zr=function(e,A,t,r,n,i){return e<A||e>t?Gn(e,n,i.length>0):r.integers.reduce(function(s,o,a){for(;e>=o;)e-=o,s+=r.values[a];return s},"")+i},ch=function(e,A,t,r){var n="";do t||e--,n=r(e)+n,e/=A;while(e*A>=A);return n},Ue=function(e,A,t,r,n){var i=t-A+1;return(e<0?"-":"")+(ch(Math.abs(e),i,r,function(s){return _e(Math.floor(s%i)+A)})+n)},Qr=function(e,A,t){t===void 0&&(t=". ");var r=A.length;return ch(Math.abs(e),r,!1,function(n){return A[Math.floor(n%r)]})+t},An=1,ar=2,lr=4,Vn=8,Vt=function(e,A,t,r,n,i){if(e<-9999||e>9999)return Gn(e,4,n.length>0);var s=Math.abs(e),o=n;if(s===0)return A[0]+o;for(var a=0;s>0&&a<=4;a++){var l=s%10;l===0&&xe(i,An)&&o!==""?o=A[l]+o:l>1||l===1&&a===0||l===1&&a===1&&xe(i,ar)||l===1&&a===1&&xe(i,lr)&&e>100||l===1&&a>1&&xe(i,Vn)?o=A[l]+(a>0?t[a-1]:"")+o:l===1&&a>0&&(o=t[a-1]+o),s=Math.floor(s/10)}return(e<0?r:"")+o},uh="十百千萬",fh="拾佰仟萬",hh="マイナス",Fa="마이너스",Gn=function(e,A,t){var r=t?". ":"",n=t?"、":"",i=t?", ":"",s=t?" ":"";switch(A){case 0:return"•"+s;case 1:return"◦"+s;case 2:return"◾"+s;case 5:var o=Ue(e,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Qr(e,"〇一二三四五六七八九",n);case 6:return Zr(e,1,3999,ah,3,r).toLowerCase();case 7:return Zr(e,1,3999,ah,3,r);case 8:return Ue(e,945,969,!1,r);case 9:return Ue(e,97,122,!1,r);case 10:return Ue(e,65,90,!1,r);case 11:return Ue(e,1632,1641,!0,r);case 12:case 49:return Zr(e,1,9999,lh,3,r);case 35:return Zr(e,1,9999,lh,3,r).toLowerCase();case 13:return Ue(e,2534,2543,!0,r);case 14:case 30:return Ue(e,6112,6121,!0,r);case 15:return Qr(e,"子丑寅卯辰巳午未申酉戌亥",n);case 16:return Qr(e,"甲乙丙丁戊己庚辛壬癸",n);case 17:case 48:return Vt(e,"零一二三四五六七八九",uh,"負",n,ar|lr|Vn);case 47:return Vt(e,"零壹貳參肆伍陸柒捌玖",fh,"負",n,An|ar|lr|Vn);case 42:return Vt(e,"零一二三四五六七八九",uh,"负",n,ar|lr|Vn);case 41:return Vt(e,"零壹贰叁肆伍陆柒捌玖",fh,"负",n,An|ar|lr|Vn);case 26:return Vt(e,"〇一二三四五六七八九","十百千万",hh,n,0);case 25:return Vt(e,"零壱弐参四伍六七八九","拾百千万",hh,n,An|ar|lr);case 31:return Vt(e,"영일이삼사오육칠팔구","십백천만",Fa,i,An|ar|lr);case 33:return Vt(e,"零一二三四五六七八九","十百千萬",Fa,i,0);case 32:return Vt(e,"零壹貳參四五六七八九","拾百千",Fa,i,An|ar|lr);case 18:return Ue(e,2406,2415,!0,r);case 20:return Zr(e,1,19999,pU,3,r);case 21:return Ue(e,2790,2799,!0,r);case 22:return Ue(e,2662,2671,!0,r);case 22:return Zr(e,1,10999,BU,3,r);case 23:return Qr(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Qr(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Ue(e,3302,3311,!0,r);case 28:return Qr(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",n);case 29:return Qr(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",n);case 34:return Ue(e,3792,3801,!0,r);case 37:return Ue(e,6160,6169,!0,r);case 38:return Ue(e,4160,4169,!0,r);case 39:return Ue(e,2918,2927,!0,r);case 40:return Ue(e,1776,1785,!0,r);case 43:return Ue(e,3046,3055,!0,r);case 44:return Ue(e,3174,3183,!0,r);case 45:return Ue(e,3664,3673,!0,r);case 46:return Ue(e,3872,3881,!0,r);case 3:default:return Ue(e,48,57,!0,r)}},dh="data-html2canvas-ignore",gh=function(){function e(A,t,r){if(this.context=A,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new gU,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(A,t){var r=this,n=mU(A,t);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var i=A.defaultView.pageXOffset,s=A.defaultView.pageYOffset,o=n.contentWindow,a=o.document,l=CU(n).then(function(){return je(r,void 0,void 0,function(){var c,f;return Pe(this,function(u){switch(u.label){case 0:return this.scrolledElements.forEach(UU),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),c=this.options.onclone,f=this.clonedReferenceElement,typeof f>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:u.sent(),u.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,vU(a)]:[3,4];case 3:u.sent(),u.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(a,f)}).then(function(){return n})]:[2,n]}})})});return a.open(),a.write(yU(document.doctype)+"<html></html>"),_U(this.referenceElement.ownerDocument,i,s),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),l},e.prototype.createElementClone=function(A){if(la(A,2))debugger;if(th(A))return this.createCanvasClone(A);if(rh(A))return this.createVideoClone(A);if(ih(A))return this.createStyleClone(A);var t=A.cloneNode(!1);return Ua(t)&&(Ua(A)&&A.currentSrc&&A.currentSrc!==A.src&&(t.src=A.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),oh(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(A){var t=document.createElement("html2canvascustomelement");return ba(A.style,t),t},e.prototype.createStyleClone=function(A){try{var t=A.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(i,s){return s&&typeof s.cssText=="string"?i+s.cssText:i},""),n=A.cloneNode(!1);return n.textContent=r,n}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return A.cloneNode(!1)},e.prototype.createCanvasClone=function(A){var t;if(this.options.inlineImages&&A.ownerDocument){var r=A.ownerDocument.createElement("img");try{return r.src=A.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",A)}}var n=A.cloneNode(!1);try{n.width=A.width,n.height=A.height;var i=A.getContext("2d"),s=n.getContext("2d");if(s)if(!this.options.allowTaint&&i)s.putImageData(i.getImageData(0,0,A.width,A.height),0,0);else{var o=(t=A.getContext("webgl2"))!==null&&t!==void 0?t:A.getContext("webgl");if(o){var a=o.getContextAttributes();(a==null?void 0:a.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",A)}s.drawImage(A,0,0)}return n}catch{this.context.logger.info("Unable to clone canvas as it is tainted",A)}return n},e.prototype.createVideoClone=function(A){var t=A.ownerDocument.createElement("canvas");t.width=A.offsetWidth,t.height=A.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(A,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",A)}var n=A.ownerDocument.createElement("canvas");return n.width=A.offsetWidth,n.height=A.offsetHeight,n},e.prototype.appendChildNode=function(A,t,r){(!qr(t)||!dU(t)&&!t.hasAttribute(dh)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!qr(t)||!ih(t))&&A.appendChild(this.cloneNode(t,r))},e.prototype.cloneChildNodes=function(A,t,r){for(var n=this,i=A.shadowRoot?A.shadowRoot.firstChild:A.firstChild;i;i=i.nextSibling)if(qr(i)&&sh(i)&&typeof i.assignedNodes=="function"){var s=i.assignedNodes();s.length&&s.forEach(function(o){return n.appendChildNode(t,o,r)})}else this.appendChildNode(t,i,r)},e.prototype.cloneNode=function(A,t){if(Ah(A))return document.createTextNode(A.data);if(!A.ownerDocument)return A.cloneNode(!1);var r=A.ownerDocument.defaultView;if(r&&qr(A)&&(ya(A)||Us(A))){var n=this.createElementClone(A);n.style.transitionProperty="none";var i=r.getComputedStyle(A),s=r.getComputedStyle(A,":before"),o=r.getComputedStyle(A,":after");this.referenceElement===A&&ya(n)&&(this.clonedReferenceElement=n),_a(n)&&EU(n);var a=this.counters.parse(new If(this.context,i)),l=this.resolvePseudoContent(A,n,s,Xn.BEFORE);oh(A)&&(t=!0),rh(A)||this.cloneChildNodes(A,n,t),l&&n.insertBefore(l,n.firstChild);var c=this.resolvePseudoContent(A,n,o,Xn.AFTER);return c&&n.appendChild(c),this.counters.pop(a),(i&&(this.options.copyStyles||Us(A))&&!nh(A)||t)&&ba(i,n),(A.scrollTop!==0||A.scrollLeft!==0)&&this.scrolledElements.push([n,A.scrollLeft,A.scrollTop]),(Fs(A)||bs(A))&&(Fs(n)||bs(n))&&(n.value=A.value),n}return A.cloneNode(!1)},e.prototype.resolvePseudoContent=function(A,t,r,n){var i=this;if(r){var s=r.content,o=t.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||r.display==="none")){this.counters.parse(new If(this.context,r));var a=new c_(this.context,r),l=o.createElement("html2canvaspseudoelement");ba(r,l),a.content.forEach(function(f){if(f.type===0)l.appendChild(o.createTextNode(f.value));else if(f.type===22){var u=o.createElement("img");u.src=f.value,u.style.opacity="1",l.appendChild(u)}else if(f.type===18){if(f.name==="attr"){var h=f.values.filter(le);h.length&&l.appendChild(o.createTextNode(A.getAttribute(h[0].value)||""))}else if(f.name==="counter"){var d=f.values.filter($r),g=d[0],B=d[1];if(g&&le(g)){var p=i.counters.getCounterValue(g.value),C=B&&le(B)?aa.parse(i.context,B.value):3;l.appendChild(o.createTextNode(Gn(p,C,!1)))}}else if(f.name==="counters"){var U=f.values.filter($r),g=U[0],v=U[1],B=U[2];if(g&&le(g)){var y=i.counters.getCounterValues(g.value),_=B&&le(B)?aa.parse(i.context,B.value):3,H=v&&v.type===0?v.value:"",F=y.map(function(M){return Gn(M,_,!1)}).join(H);l.appendChild(o.createTextNode(F))}}}else if(f.type===20)switch(f.value){case"open-quote":l.appendChild(o.createTextNode(Ef(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(Ef(a.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(f.value))}}),l.className=Ea+" "+Ia;var c=n===Xn.BEFORE?" "+Ea:" "+Ia;return Us(t)?t.className.baseValue+=c:t.className+=c,l}}},e.destroy=function(A){return A.parentNode?(A.parentNode.removeChild(A),!0):!1},e}(),Xn;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Xn||(Xn={}));var mU=function(e,A){var t=e.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=A.width.toString(),t.height=A.height.toString(),t.scrolling="no",t.setAttribute(dh,"true"),e.body.appendChild(t),t},wU=function(e){return new Promise(function(A){if(e.complete){A();return}if(!e.src){A();return}e.onload=A,e.onerror=A})},vU=function(e){return Promise.all([].slice.call(e.images,0).map(wU))},CU=function(e){return new Promise(function(A,t){var r=e.contentWindow;if(!r)return t("No window assigned for iframe");var n=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var i=setInterval(function(){n.body.childNodes.length>0&&n.readyState==="complete"&&(clearInterval(i),A(e))},50)}})},QU=["all","d","content"],ba=function(e,A){for(var t=e.length-1;t>=0;t--){var r=e.item(t);QU.indexOf(r)===-1&&A.style.setProperty(r,e.getPropertyValue(r))}return A},yU=function(e){var A="";return e&&(A+="<!DOCTYPE ",e.name&&(A+=e.name),e.internalSubset&&(A+=e.internalSubset),e.publicId&&(A+='"'+e.publicId+'"'),e.systemId&&(A+='"'+e.systemId+'"'),A+=">"),A},_U=function(e,A,t){e&&e.defaultView&&(A!==e.defaultView.pageXOffset||t!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(A,t)},UU=function(e){var A=e[0],t=e[1],r=e[2];A.scrollLeft=t,A.scrollTop=r},FU=":before",bU=":after",Ea="___html2canvas___pseudoelement_before",Ia="___html2canvas___pseudoelement_after",Bh=`{
    content: "" !important;
    display: none !important;
}`,EU=function(e){IU(e,"."+Ea+FU+Bh+`
         .`+Ia+bU+Bh)},IU=function(e,A){var t=e.ownerDocument;if(t){var r=t.createElement("style");r.textContent=A,e.appendChild(r)}},ph=function(){function e(){}return e.getOrigin=function(A){var t=e._link;return t?(t.href=A,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},e.isSameOrigin=function(A){return e.getOrigin(A)===e._origin},e.setContext=function(A){e._link=A.document.createElement("a"),e._origin=e.getOrigin(A.location.href)},e._origin="about:blank",e}(),HU=function(){function e(A,t){this.context=A,this._options=t,this._cache={}}return e.prototype.addImage=function(A){var t=Promise.resolve();return this.has(A)||(Sa(A)||MU(A))&&(this._cache[A]=this.loadImage(A)).catch(function(){}),t},e.prototype.match=function(A){return this._cache[A]},e.prototype.loadImage=function(A){return je(this,void 0,void 0,function(){var t,r,n,i,s=this;return Pe(this,function(o){switch(o.label){case 0:return t=ph.isSameOrigin(A),r=!Ha(A)&&this._options.useCORS===!0&&De.SUPPORT_CORS_IMAGES&&!t,n=!Ha(A)&&!t&&!Sa(A)&&typeof this._options.proxy=="string"&&De.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!Ha(A)&&!Sa(A)&&!n&&!r?[2]:(i=A,n?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+A.substring(0,256)),[4,new Promise(function(a,l){var c=new Image;c.onload=function(){return a(c)},c.onerror=l,(kU(i)||r)&&(c.crossOrigin="anonymous"),c.src=i,c.complete===!0&&setTimeout(function(){return a(c)},500),s._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(A){return typeof this._cache[A]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(A){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var n=A.substring(0,256);return new Promise(function(i,s){var o=De.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(a.status===200)if(o==="text")i(a.response);else{var f=new FileReader;f.addEventListener("load",function(){return i(f.result)},!1),f.addEventListener("error",function(u){return s(u)},!1),f.readAsDataURL(a.response)}else s("Failed to proxy resource "+n+" with status code "+a.status)},a.onerror=s;var l=r.indexOf("?")>-1?"&":"?";if(a.open("GET",""+r+l+"url="+encodeURIComponent(A)+"&responseType="+o),o!=="text"&&a instanceof XMLHttpRequest&&(a.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;a.timeout=c,a.ontimeout=function(){return s("Timed out ("+c+"ms) proxying "+n)}}a.send()})},e}(),SU=/^data:image\/svg\+xml/i,xU=/^data:image\/.*;base64,/i,LU=/^data:image\/.*/i,MU=function(e){return De.SUPPORT_SVG_DRAWING||!TU(e)},Ha=function(e){return LU.test(e)},kU=function(e){return xU.test(e)},Sa=function(e){return e.substr(0,4)==="blob"},TU=function(e){return e.substr(-3).toLowerCase()==="svg"||SU.test(e)},aA=function(){function e(A,t){this.type=0,this.x=A,this.y=t}return e.prototype.add=function(A,t){return new e(this.x+A,this.y+t)},e}(),en=function(e,A,t){return new aA(e.x+(A.x-e.x)*t,e.y+(A.y-e.y)*t)},Es=function(){function e(A,t,r,n){this.type=1,this.start=A,this.startControl=t,this.endControl=r,this.end=n}return e.prototype.subdivide=function(A,t){var r=en(this.start,this.startControl,A),n=en(this.startControl,this.endControl,A),i=en(this.endControl,this.end,A),s=en(r,n,A),o=en(n,i,A),a=en(s,o,A);return t?new e(this.start,r,s,a):new e(a,o,i,this.end)},e.prototype.add=function(A,t){return new e(this.start.add(A,t),this.startControl.add(A,t),this.endControl.add(A,t),this.end.add(A,t))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Bt=function(e){return e.type===1},DU=function(){function e(A){var t=A.styles,r=A.bounds,n=Kn(t.borderTopLeftRadius,r.width,r.height),i=n[0],s=n[1],o=Kn(t.borderTopRightRadius,r.width,r.height),a=o[0],l=o[1],c=Kn(t.borderBottomRightRadius,r.width,r.height),f=c[0],u=c[1],h=Kn(t.borderBottomLeftRadius,r.width,r.height),d=h[0],g=h[1],B=[];B.push((i+a)/r.width),B.push((d+f)/r.width),B.push((s+g)/r.height),B.push((l+u)/r.height);var p=Math.max.apply(Math,B);p>1&&(i/=p,s/=p,a/=p,l/=p,f/=p,u/=p,d/=p,g/=p);var C=r.width-a,U=r.height-u,v=r.width-f,y=r.height-g,_=t.borderTopWidth,H=t.borderRightWidth,F=t.borderBottomWidth,b=t.borderLeftWidth,k=de(t.paddingTop,A.bounds.width),M=de(t.paddingRight,A.bounds.width),T=de(t.paddingBottom,A.bounds.width),L=de(t.paddingLeft,A.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||s>0?we(r.left+b/3,r.top+_/3,i-b/3,s-_/3,oe.TOP_LEFT):new aA(r.left+b/3,r.top+_/3),this.topRightBorderDoubleOuterBox=i>0||s>0?we(r.left+C,r.top+_/3,a-H/3,l-_/3,oe.TOP_RIGHT):new aA(r.left+r.width-H/3,r.top+_/3),this.bottomRightBorderDoubleOuterBox=f>0||u>0?we(r.left+v,r.top+U,f-H/3,u-F/3,oe.BOTTOM_RIGHT):new aA(r.left+r.width-H/3,r.top+r.height-F/3),this.bottomLeftBorderDoubleOuterBox=d>0||g>0?we(r.left+b/3,r.top+y,d-b/3,g-F/3,oe.BOTTOM_LEFT):new aA(r.left+b/3,r.top+r.height-F/3),this.topLeftBorderDoubleInnerBox=i>0||s>0?we(r.left+b*2/3,r.top+_*2/3,i-b*2/3,s-_*2/3,oe.TOP_LEFT):new aA(r.left+b*2/3,r.top+_*2/3),this.topRightBorderDoubleInnerBox=i>0||s>0?we(r.left+C,r.top+_*2/3,a-H*2/3,l-_*2/3,oe.TOP_RIGHT):new aA(r.left+r.width-H*2/3,r.top+_*2/3),this.bottomRightBorderDoubleInnerBox=f>0||u>0?we(r.left+v,r.top+U,f-H*2/3,u-F*2/3,oe.BOTTOM_RIGHT):new aA(r.left+r.width-H*2/3,r.top+r.height-F*2/3),this.bottomLeftBorderDoubleInnerBox=d>0||g>0?we(r.left+b*2/3,r.top+y,d-b*2/3,g-F*2/3,oe.BOTTOM_LEFT):new aA(r.left+b*2/3,r.top+r.height-F*2/3),this.topLeftBorderStroke=i>0||s>0?we(r.left+b/2,r.top+_/2,i-b/2,s-_/2,oe.TOP_LEFT):new aA(r.left+b/2,r.top+_/2),this.topRightBorderStroke=i>0||s>0?we(r.left+C,r.top+_/2,a-H/2,l-_/2,oe.TOP_RIGHT):new aA(r.left+r.width-H/2,r.top+_/2),this.bottomRightBorderStroke=f>0||u>0?we(r.left+v,r.top+U,f-H/2,u-F/2,oe.BOTTOM_RIGHT):new aA(r.left+r.width-H/2,r.top+r.height-F/2),this.bottomLeftBorderStroke=d>0||g>0?we(r.left+b/2,r.top+y,d-b/2,g-F/2,oe.BOTTOM_LEFT):new aA(r.left+b/2,r.top+r.height-F/2),this.topLeftBorderBox=i>0||s>0?we(r.left,r.top,i,s,oe.TOP_LEFT):new aA(r.left,r.top),this.topRightBorderBox=a>0||l>0?we(r.left+C,r.top,a,l,oe.TOP_RIGHT):new aA(r.left+r.width,r.top),this.bottomRightBorderBox=f>0||u>0?we(r.left+v,r.top+U,f,u,oe.BOTTOM_RIGHT):new aA(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=d>0||g>0?we(r.left,r.top+y,d,g,oe.BOTTOM_LEFT):new aA(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||s>0?we(r.left+b,r.top+_,Math.max(0,i-b),Math.max(0,s-_),oe.TOP_LEFT):new aA(r.left+b,r.top+_),this.topRightPaddingBox=a>0||l>0?we(r.left+Math.min(C,r.width-H),r.top+_,C>r.width+H?0:Math.max(0,a-H),Math.max(0,l-_),oe.TOP_RIGHT):new aA(r.left+r.width-H,r.top+_),this.bottomRightPaddingBox=f>0||u>0?we(r.left+Math.min(v,r.width-b),r.top+Math.min(U,r.height-F),Math.max(0,f-H),Math.max(0,u-F),oe.BOTTOM_RIGHT):new aA(r.left+r.width-H,r.top+r.height-F),this.bottomLeftPaddingBox=d>0||g>0?we(r.left+b,r.top+Math.min(y,r.height-F),Math.max(0,d-b),Math.max(0,g-F),oe.BOTTOM_LEFT):new aA(r.left+b,r.top+r.height-F),this.topLeftContentBox=i>0||s>0?we(r.left+b+L,r.top+_+k,Math.max(0,i-(b+L)),Math.max(0,s-(_+k)),oe.TOP_LEFT):new aA(r.left+b+L,r.top+_+k),this.topRightContentBox=a>0||l>0?we(r.left+Math.min(C,r.width+b+L),r.top+_+k,C>r.width+b+L?0:a-b+L,l-(_+k),oe.TOP_RIGHT):new aA(r.left+r.width-(H+M),r.top+_+k),this.bottomRightContentBox=f>0||u>0?we(r.left+Math.min(v,r.width-(b+L)),r.top+Math.min(U,r.height+_+k),Math.max(0,f-(H+M)),u-(F+T),oe.BOTTOM_RIGHT):new aA(r.left+r.width-(H+M),r.top+r.height-(F+T)),this.bottomLeftContentBox=d>0||g>0?we(r.left+b+L,r.top+y,Math.max(0,d-(b+L)),g-(F+T),oe.BOTTOM_LEFT):new aA(r.left+b+L,r.top+r.height-(F+T))}return e}(),oe;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(oe||(oe={}));var we=function(e,A,t,r,n){var i=4*((Math.sqrt(2)-1)/3),s=t*i,o=r*i,a=e+t,l=A+r;switch(n){case oe.TOP_LEFT:return new Es(new aA(e,l),new aA(e,l-o),new aA(a-s,A),new aA(a,A));case oe.TOP_RIGHT:return new Es(new aA(e,A),new aA(e+s,A),new aA(a,l-o),new aA(a,l));case oe.BOTTOM_RIGHT:return new Es(new aA(a,A),new aA(a,A+o),new aA(e+s,l),new aA(e,l));case oe.BOTTOM_LEFT:default:return new Es(new aA(a,l),new aA(a-s,l),new aA(e,A+o),new aA(e,A))}},Is=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},KU=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Hs=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},OU=function(){function e(A,t,r){this.offsetX=A,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return e}(),Ss=function(){function e(A,t){this.path=A,this.target=t,this.type=1}return e}(),NU=function(){function e(A){this.opacity=A,this.type=2,this.target=6}return e}(),RU=function(e){return e.type===0},mh=function(e){return e.type===1},PU=function(e){return e.type===2},wh=function(e,A){return e.length===A.length?e.some(function(t,r){return t===A[r]}):!1},VU=function(e,A,t,r,n){return e.map(function(i,s){switch(s){case 0:return i.add(A,t);case 1:return i.add(A+r,t);case 2:return i.add(A+r,t+n);case 3:return i.add(A,t+n)}return i})},vh=function(){function e(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Ch=function(){function e(A,t){if(this.container=A,this.parent=t,this.effects=[],this.curves=new DU(this.container),this.container.styles.opacity<1&&this.effects.push(new NU(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new OU(r,n,i))}if(this.container.styles.overflowX!==0){var s=Is(this.curves),o=Hs(this.curves);wh(s,o)?this.effects.push(new Ss(s,6)):(this.effects.push(new Ss(s,2)),this.effects.push(new Ss(o,4)))}}return e.prototype.getEffects=function(A){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,n=this.effects.slice(0);r;){var i=r.effects.filter(function(a){return!mh(a)});if(t||r.container.styles.position!==0||!r.parent){if(n.unshift.apply(n,i),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var s=Is(r.curves),o=Hs(r.curves);wh(s,o)||n.unshift(new Ss(o,6))}}else n.unshift.apply(n,i);r=r.parent}return n.filter(function(a){return xe(a.target,A)})},e}(),xa=function(e,A,t,r){e.container.elements.forEach(function(n){var i=xe(n.flags,4),s=xe(n.flags,2),o=new Ch(n,e);xe(n.styles.display,2048)&&r.push(o);var a=xe(n.flags,8)?[]:r;if(i||s){var l=i||n.styles.isPositioned()?t:A,c=new vh(o);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var f=n.styles.zIndex.order;if(f<0){var u=0;l.negativeZIndex.some(function(d,g){return f>d.element.container.styles.zIndex.order?(u=g,!1):u>0}),l.negativeZIndex.splice(u,0,c)}else if(f>0){var h=0;l.positiveZIndex.some(function(d,g){return f>=d.element.container.styles.zIndex.order?(h=g+1,!1):h>0}),l.positiveZIndex.splice(h,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else n.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);xa(o,c,i?c:t,a)}else n.styles.isInlineLevel()?A.inlineLevel.push(o):A.nonInlineLevel.push(o),xa(o,A,t,a);xe(n.flags,8)&&Qh(n,a)})},Qh=function(e,A){for(var t=e instanceof Ca?e.start:1,r=e instanceof Ca?e.reversed:!1,n=0;n<A.length;n++){var i=A[n];i.container instanceof Wf&&typeof i.container.value=="number"&&i.container.value!==0&&(t=i.container.value),i.listValue=Gn(t,i.container.styles.listStyleType,!0),t+=r?-1:1}},GU=function(e){var A=new Ch(e,null),t=new vh(A),r=[];return xa(A,t,t,r),Qh(A.container,r),t},yh=function(e,A){switch(A){case 0:return pt(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return pt(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return pt(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return pt(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},XU=function(e,A){switch(A){case 0:return pt(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return pt(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return pt(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return pt(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},JU=function(e,A){switch(A){case 0:return pt(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return pt(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return pt(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return pt(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},WU=function(e,A){switch(A){case 0:return xs(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return xs(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return xs(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return xs(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},xs=function(e,A){var t=[];return Bt(e)?t.push(e.subdivide(.5,!1)):t.push(e),Bt(A)?t.push(A.subdivide(.5,!0)):t.push(A),t},pt=function(e,A,t,r){var n=[];return Bt(e)?n.push(e.subdivide(.5,!1)):n.push(e),Bt(t)?n.push(t.subdivide(.5,!0)):n.push(t),Bt(r)?n.push(r.subdivide(.5,!0).reverse()):n.push(r),Bt(A)?n.push(A.subdivide(.5,!1).reverse()):n.push(A),n},_h=function(e){var A=e.bounds,t=e.styles;return A.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},Ls=function(e){var A=e.styles,t=e.bounds,r=de(A.paddingLeft,t.width),n=de(A.paddingRight,t.width),i=de(A.paddingTop,t.width),s=de(A.paddingBottom,t.width);return t.add(r+A.borderLeftWidth,i+A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth+r+n),-(A.borderTopWidth+A.borderBottomWidth+i+s))},YU=function(e,A){return e===0?A.bounds:e===2?Ls(A):_h(A)},zU=function(e,A){return e===0?A.bounds:e===2?Ls(A):_h(A)},La=function(e,A,t){var r=YU(rn(e.styles.backgroundOrigin,A),e),n=zU(rn(e.styles.backgroundClip,A),e),i=$U(rn(e.styles.backgroundSize,A),t,r),s=i[0],o=i[1],a=Kn(rn(e.styles.backgroundPosition,A),r.width-s,r.height-o),l=jU(rn(e.styles.backgroundRepeat,A),a,i,r,n),c=Math.round(r.left+a[0]),f=Math.round(r.top+a[1]);return[l,c,f,s,o]},tn=function(e){return le(e)&&e.value===jr.AUTO},Ms=function(e){return typeof e=="number"},$U=function(e,A,t){var r=A[0],n=A[1],i=A[2],s=e[0],o=e[1];if(!s)return[0,0];if(Ie(s)&&o&&Ie(o))return[de(s,t.width),de(o,t.height)];var a=Ms(i);if(le(s)&&(s.value===jr.CONTAIN||s.value===jr.COVER)){if(Ms(i)){var l=t.width/t.height;return l<i!=(s.value===jr.COVER)?[t.width,t.width/i]:[t.height*i,t.height]}return[t.width,t.height]}var c=Ms(r),f=Ms(n),u=c||f;if(tn(s)&&(!o||tn(o))){if(c&&f)return[r,n];if(!a&&!u)return[t.width,t.height];if(u&&a){var h=c?r:n*i,d=f?n:r/i;return[h,d]}var g=c?r:t.width,B=f?n:t.height;return[g,B]}if(a){var p=0,C=0;return Ie(s)?p=de(s,t.width):Ie(o)&&(C=de(o,t.height)),tn(s)?p=C*i:(!o||tn(o))&&(C=p/i),[p,C]}var U=null,v=null;if(Ie(s)?U=de(s,t.width):o&&Ie(o)&&(v=de(o,t.height)),U!==null&&(!o||tn(o))&&(v=c&&f?U/r*n:t.height),v!==null&&tn(s)&&(U=c&&f?v/n*r:t.width),U!==null&&v!==null)return[U,v];throw new Error("Unable to calculate background-size for element")},rn=function(e,A){var t=e[A];return typeof t>"u"?e[0]:t},jU=function(e,A,t,r,n){var i=A[0],s=A[1],o=t[0],a=t[1];switch(e){case 2:return[new aA(Math.round(r.left),Math.round(r.top+s)),new aA(Math.round(r.left+r.width),Math.round(r.top+s)),new aA(Math.round(r.left+r.width),Math.round(a+r.top+s)),new aA(Math.round(r.left),Math.round(a+r.top+s))];case 3:return[new aA(Math.round(r.left+i),Math.round(r.top)),new aA(Math.round(r.left+i+o),Math.round(r.top)),new aA(Math.round(r.left+i+o),Math.round(r.height+r.top)),new aA(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new aA(Math.round(r.left+i),Math.round(r.top+s)),new aA(Math.round(r.left+i+o),Math.round(r.top+s)),new aA(Math.round(r.left+i+o),Math.round(r.top+s+a)),new aA(Math.round(r.left+i),Math.round(r.top+s+a))];default:return[new aA(Math.round(n.left),Math.round(n.top)),new aA(Math.round(n.left+n.width),Math.round(n.top)),new aA(Math.round(n.left+n.width),Math.round(n.height+n.top)),new aA(Math.round(n.left),Math.round(n.height+n.top))]}},qU="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Uh="Hidden Text",ZU=function(){function e(A){this._data={},this._document=A}return e.prototype.parseMetrics=function(A,t){var r=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),s=this._document.body;r.style.visibility="hidden",r.style.fontFamily=A,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",s.appendChild(r),n.src=qU,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=A,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Uh)),r.appendChild(i),r.appendChild(n);var o=n.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(Uh)),r.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-r.offsetTop+2;return s.removeChild(r),{baseline:o,middle:a}},e.prototype.getMetrics=function(A,t){var r=A+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(A,t)),this._data[r]},e}(),Fh=function(){function e(A,t){this.context=A,this.options=t}return e}(),AF=1e4,eF=function(e){_t(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n._activeEffects=[],n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),r.canvas||(n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px"),n.fontMetrics=new ZU(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),n}return A.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(n){return r.applyEffect(n)})},A.prototype.applyEffect=function(t){this.ctx.save(),PU(t)&&(this.ctx.globalAlpha=t.opacity),RU(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),mh(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},A.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},A.prototype.renderStack=function(t){return je(this,void 0,void 0,function(){var r;return Pe(this,function(n){switch(n.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},A.prototype.renderNode=function(t){return je(this,void 0,void 0,function(){return Pe(this,function(r){switch(r.label){case 0:if(xe(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},A.prototype.renderTextWithLetterSpacing=function(t,r,n){var i=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+n);else{var s=va(t.text);s.reduce(function(o,a){return i.ctx.fillText(a,o,t.bounds.top+n),o+i.ctx.measureText(a).width},t.bounds.left)}},A.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),n=sF(t.fontFamily).join(", "),i=Dn(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,i,n].join(" "),n,i]},A.prototype.renderTextNode=function(t,r){return je(this,void 0,void 0,function(){var n,i,s,o,a,l,c,f,u=this;return Pe(this,function(h){return n=this.createFontStyle(r),i=n[0],s=n[1],o=n[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(s,o),l=a.baseline,c=a.middle,f=r.paintOrder,t.textBounds.forEach(function(d){f.forEach(function(g){switch(g){case 0:u.ctx.fillStyle=Me(r.color),u.renderTextWithLetterSpacing(d,r.letterSpacing,l);var B=r.textShadow;B.length&&d.text.trim().length&&(B.slice(0).reverse().forEach(function(p){u.ctx.shadowColor=Me(p.color),u.ctx.shadowOffsetX=p.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=p.offsetY.number*u.options.scale,u.ctx.shadowBlur=p.blur.number,u.renderTextWithLetterSpacing(d,r.letterSpacing,l)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),r.textDecorationLine.length&&(u.ctx.fillStyle=Me(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(p){switch(p){case 1:u.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top+l),d.bounds.width,1);break;case 2:u.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top),d.bounds.width,1);break;case 3:u.ctx.fillRect(d.bounds.left,Math.ceil(d.bounds.top+c),d.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&d.text.trim().length&&(u.ctx.strokeStyle=Me(r.webkitTextStrokeColor),u.ctx.lineWidth=r.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(d.text,d.bounds.left,d.bounds.top+l)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter";break}})}),[2]})})},A.prototype.renderReplacedElement=function(t,r,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=Ls(t),s=Hs(r);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},A.prototype.renderNodeContent=function(t){return je(this,void 0,void 0,function(){var r,n,i,s,o,a,C,C,l,c,f,u,v,h,d,y,g,B,p,C,U,v,y;return Pe(this,function(_){switch(_.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,n=t.curves,i=r.styles,s=0,o=r.textNodes,_.label=1;case 1:return s<o.length?(a=o[s],[4,this.renderTextNode(a,i)]):[3,4];case 2:_.sent(),_.label=3;case 3:return s++,[3,1];case 4:if(!(r instanceof Gf))return[3,8];_.label=5;case 5:return _.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return C=_.sent(),this.renderReplacedElement(r,n,C),[3,8];case 7:return _.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof Xf&&this.renderReplacedElement(r,n,r.canvas),!(r instanceof Jf))return[3,12];_.label=9;case 9:return _.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return C=_.sent(),this.renderReplacedElement(r,n,C),[3,12];case 11:return _.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof jf&&r.tree?(l=new A(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,l.render(r.tree)]):[3,14];case 13:c=_.sent(),r.width&&r.height&&this.ctx.drawImage(c,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),_.label=14;case 14:if(r instanceof Qa&&(f=Math.min(r.bounds.width,r.bounds.height),r.type===Qs?r.checked&&(this.ctx.save(),this.path([new aA(r.bounds.left+f*.39363,r.bounds.top+f*.79),new aA(r.bounds.left+f*.16,r.bounds.top+f*.5549),new aA(r.bounds.left+f*.27347,r.bounds.top+f*.44071),new aA(r.bounds.left+f*.39694,r.bounds.top+f*.5649),new aA(r.bounds.left+f*.72983,r.bounds.top+f*.23),new aA(r.bounds.left+f*.84,r.bounds.top+f*.34085),new aA(r.bounds.left+f*.39363,r.bounds.top+f*.79)]),this.ctx.fillStyle=Me(Yf),this.ctx.fill(),this.ctx.restore()):r.type===ys&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+f/2,r.bounds.top+f/2,f/4,0,Math.PI*2,!0),this.ctx.fillStyle=Me(Yf),this.ctx.fill(),this.ctx.restore())),tF(r)&&r.value.length){switch(u=this.createFontStyle(i),v=u[0],h=u[1],d=this.fontMetrics.getMetrics(v,h).baseline,this.ctx.font=v,this.ctx.fillStyle=Me(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=nF(r.styles.textAlign),y=Ls(r),g=0,r.styles.textAlign){case 1:g+=y.width/2;break;case 2:g+=y.width;break}B=y.add(g,0,0,-y.height/2+1),this.ctx.save(),this.path([new aA(y.left,y.top),new aA(y.left+y.width,y.top),new aA(y.left+y.width,y.top+y.height),new aA(y.left,y.top+y.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Pn(r.value,B),i.letterSpacing,d),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!xe(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(p=r.styles.listStyleImage,p.type!==0)return[3,18];C=void 0,U=p.url,_.label=15;case 15:return _.trys.push([15,17,,18]),[4,this.context.cache.match(U)];case 16:return C=_.sent(),this.ctx.drawImage(C,r.bounds.left-(C.width+10),r.bounds.top),[3,18];case 17:return _.sent(),this.context.logger.error("Error loading list-style-image "+U),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(v=this.createFontStyle(i)[0],this.ctx.font=v,this.ctx.fillStyle=Me(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",y=new Nt(r.bounds.left,r.bounds.top+de(r.styles.paddingTop,r.bounds.width),r.bounds.width,Uf(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Pn(t.listValue,y),i.letterSpacing,Uf(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),_.label=20;case 20:return[2]}})})},A.prototype.renderStackContent=function(t){return je(this,void 0,void 0,function(){var r,n,p,i,s,p,o,a,p,l,c,p,f,u,p,h,d,p,g,B,p;return Pe(this,function(C){switch(C.label){case 0:if(xe(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:C.sent(),r=0,n=t.negativeZIndex,C.label=2;case 2:return r<n.length?(p=n[r],[4,this.renderStack(p)]):[3,5];case 3:C.sent(),C.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:C.sent(),i=0,s=t.nonInlineLevel,C.label=7;case 7:return i<s.length?(p=s[i],[4,this.renderNode(p)]):[3,10];case 8:C.sent(),C.label=9;case 9:return i++,[3,7];case 10:o=0,a=t.nonPositionedFloats,C.label=11;case 11:return o<a.length?(p=a[o],[4,this.renderStack(p)]):[3,14];case 12:C.sent(),C.label=13;case 13:return o++,[3,11];case 14:l=0,c=t.nonPositionedInlineLevel,C.label=15;case 15:return l<c.length?(p=c[l],[4,this.renderStack(p)]):[3,18];case 16:C.sent(),C.label=17;case 17:return l++,[3,15];case 18:f=0,u=t.inlineLevel,C.label=19;case 19:return f<u.length?(p=u[f],[4,this.renderNode(p)]):[3,22];case 20:C.sent(),C.label=21;case 21:return f++,[3,19];case 22:h=0,d=t.zeroOrAutoZIndexOrTransformedOrOpacity,C.label=23;case 23:return h<d.length?(p=d[h],[4,this.renderStack(p)]):[3,26];case 24:C.sent(),C.label=25;case 25:return h++,[3,23];case 26:g=0,B=t.positiveZIndex,C.label=27;case 27:return g<B.length?(p=B[g],[4,this.renderStack(p)]):[3,30];case 28:C.sent(),C.label=29;case 29:return g++,[3,27];case 30:return[2]}})})},A.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},A.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},A.prototype.formatPath=function(t){var r=this;t.forEach(function(n,i){var s=Bt(n)?n.start:n;i===0?r.ctx.moveTo(s.x,s.y):r.ctx.lineTo(s.x,s.y),Bt(n)&&r.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},A.prototype.renderRepeat=function(t,r,n,i){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},A.prototype.resizeImage=function(t,r,n){var i;if(t.width===r&&t.height===n)return t;var s=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=s.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,n);var a=o.getContext("2d");return a.drawImage(t,0,0,t.width,t.height,0,0,r,n),o},A.prototype.renderBackgroundImage=function(t){return je(this,void 0,void 0,function(){var r,n,i,s,o,a;return Pe(this,function(l){switch(l.label){case 0:r=t.styles.backgroundImage.length-1,n=function(c){var f,u,h,k,S,Y,L,E,F,d,k,S,Y,L,E,g,B,p,C,U,v,y,_,H,F,b,k,M,T,L,E,R,S,Y,V,G,AA,oA,fA,mA,lA,wA;return Pe(this,function(QA){switch(QA.label){case 0:if(c.type!==0)return[3,5];f=void 0,u=c.url,QA.label=1;case 1:return QA.trys.push([1,3,,4]),[4,i.context.cache.match(u)];case 2:return f=QA.sent(),[3,4];case 3:return QA.sent(),i.context.logger.error("Error loading background-image "+u),[3,4];case 4:return f&&(h=La(t,r,[f.width,f.height,f.width/f.height]),k=h[0],S=h[1],Y=h[2],L=h[3],E=h[4],F=i.ctx.createPattern(i.resizeImage(f,L,E),"repeat"),i.renderRepeat(k,F,S,Y)),[3,6];case 5:RQ(c)?(d=La(t,r,[null,null,null]),k=d[0],S=d[1],Y=d[2],L=d[3],E=d[4],g=TQ(c.angle,L,E),B=g[0],p=g[1],C=g[2],U=g[3],v=g[4],y=document.createElement("canvas"),y.width=L,y.height=E,_=y.getContext("2d"),H=_.createLinearGradient(p,U,C,v),df(c.stops,B).forEach(function(ne){return H.addColorStop(ne.stop,Me(ne.color))}),_.fillStyle=H,_.fillRect(0,0,L,E),L>0&&E>0&&(F=i.ctx.createPattern(y,"repeat"),i.renderRepeat(k,F,S,Y))):PQ(c)&&(b=La(t,r,[null,null,null]),k=b[0],M=b[1],T=b[2],L=b[3],E=b[4],R=c.position.length===0?[ia]:c.position,S=de(R[0],L),Y=de(R[R.length-1],E),V=DQ(c,S,Y,L,E),G=V[0],AA=V[1],G>0&&AA>0&&(oA=i.ctx.createRadialGradient(M+S,T+Y,0,M+S,T+Y,G),df(c.stops,G*2).forEach(function(ne){return oA.addColorStop(ne.stop,Me(ne.color))}),i.path(k),i.ctx.fillStyle=oA,G!==AA?(fA=t.bounds.left+.5*t.bounds.width,mA=t.bounds.top+.5*t.bounds.height,lA=AA/G,wA=1/lA,i.ctx.save(),i.ctx.translate(fA,mA),i.ctx.transform(1,0,0,lA,0,0),i.ctx.translate(-fA,-mA),i.ctx.fillRect(M,wA*(T-mA)+mA,L,E*wA),i.ctx.restore()):i.ctx.fill())),QA.label=6;case 6:return r--,[2]}})},i=this,s=0,o=t.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return s<o.length?(a=o[s],[5,n(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},A.prototype.renderSolidBorder=function(t,r,n){return je(this,void 0,void 0,function(){return Pe(this,function(i){return this.path(yh(n,r)),this.ctx.fillStyle=Me(t),this.ctx.fill(),[2]})})},A.prototype.renderDoubleBorder=function(t,r,n,i){return je(this,void 0,void 0,function(){var s,o;return Pe(this,function(a){switch(a.label){case 0:return r<3?[4,this.renderSolidBorder(t,n,i)]:[3,2];case 1:return a.sent(),[2];case 2:return s=XU(i,n),this.path(s),this.ctx.fillStyle=Me(t),this.ctx.fill(),o=JU(i,n),this.path(o),this.ctx.fill(),[2]}})})},A.prototype.renderNodeBackgroundAndBorders=function(t){return je(this,void 0,void 0,function(){var r,n,i,s,o,a,l,c,f=this;return Pe(this,function(u){switch(u.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,n=!sr(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],s=rF(rn(r.backgroundClip,0),t.curves),n||r.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),sr(r.backgroundColor)||(this.ctx.fillStyle=Me(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:u.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(h){f.ctx.save();var d=Is(t.curves),g=h.inset?0:AF,B=VU(d,-g+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(f.path(d),f.ctx.clip(),f.mask(B)):(f.mask(d),f.ctx.clip(),f.path(B)),f.ctx.shadowOffsetX=h.offsetX.number+g,f.ctx.shadowOffsetY=h.offsetY.number,f.ctx.shadowColor=Me(h.color),f.ctx.shadowBlur=h.blur.number,f.ctx.fillStyle=h.inset?Me(h.color):"rgba(0,0,0,1)",f.ctx.fill(),f.ctx.restore()}),u.label=2;case 2:o=0,a=0,l=i,u.label=3;case 3:return a<l.length?(c=l[a],c.style!==0&&!sr(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return u.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,3)];case 6:return u.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,t.curves)];case 8:return u.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,t.curves)];case 10:u.sent(),u.label=11;case 11:o++,u.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},A.prototype.renderDashedDottedBorder=function(t,r,n,i,s){return je(this,void 0,void 0,function(){var o,a,l,c,f,u,h,d,g,B,p,C,U,v,y,_,y,_;return Pe(this,function(H){return this.ctx.save(),o=WU(i,n),a=yh(i,n),s===2&&(this.path(a),this.ctx.clip()),Bt(a[0])?(l=a[0].start.x,c=a[0].start.y):(l=a[0].x,c=a[0].y),Bt(a[1])?(f=a[1].end.x,u=a[1].end.y):(f=a[1].x,u=a[1].y),n===0||n===2?h=Math.abs(l-f):h=Math.abs(c-u),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(a.slice(0,2)),d=r<3?r*3:r*2,g=r<3?r*2:r,s===3&&(d=r,g=r),B=!0,h<=d*2?B=!1:h<=d*2+g?(p=h/(2*d+g),d*=p,g*=p):(C=Math.floor((h+g)/(d+g)),U=(h-C*d)/(C-1),v=(h-(C+1)*d)/C,g=v<=0||Math.abs(g-U)<Math.abs(g-v)?U:v),B&&(s===3?this.ctx.setLineDash([0,d+g]):this.ctx.setLineDash([d,g])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Me(t),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(Bt(a[0])&&(y=a[3],_=a[0],this.ctx.beginPath(),this.formatPath([new aA(y.end.x,y.end.y),new aA(_.start.x,_.start.y)]),this.ctx.stroke()),Bt(a[1])&&(y=a[1],_=a[2],this.ctx.beginPath(),this.formatPath([new aA(y.end.x,y.end.y),new aA(_.start.x,_.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},A.prototype.render=function(t){return je(this,void 0,void 0,function(){var r;return Pe(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Me(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=GU(t),[4,this.renderStack(r)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},A}(Fh),tF=function(e){return e instanceof $f||e instanceof zf?!0:e instanceof Qa&&e.type!==ys&&e.type!==Qs},rF=function(e,A){switch(e){case 0:return Is(A);case 2:return KU(A);case 1:default:return Hs(A)}},nF=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},iF=["-apple-system","system-ui"],sF=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(A){return iF.indexOf(A)===-1}):e},oF=function(e){_t(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=r,n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),n}return A.prototype.render=function(t){return je(this,void 0,void 0,function(){var r,n;return Pe(this,function(i){switch(i.label){case 0:return r=wa(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,aF(r)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Me(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},A}(Fh),aF=function(e){return new Promise(function(A,t){var r=new Image;r.onload=function(){A(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},lF=function(){function e(A){var t=A.id,r=A.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Pi([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Pi([this.id,this.getTime()+"ms"],A))},e.prototype.warn=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Pi([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},e.prototype.error=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Pi([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},e.instances={},e}(),cF=function(){function e(A,t){var r;this.windowBounds=t,this.instanceName="#"+e.instanceCount++,this.logger=new lF({id:this.instanceName,enabled:A.logging}),this.cache=(r=A.cache)!==null&&r!==void 0?r:new HU(this,A)}return e.instanceCount=1,e}(),uF=function(e,A){return A===void 0&&(A={}),fF(e,A)};typeof window<"u"&&ph.setContext(window);var fF=function(e,A){return je(void 0,void 0,void 0,function(){var t,r,n,i,s,o,a,l,c,f,u,h,d,g,B,p,C,U,v,y,H,_,H,F,b,k,M,T,L,E,R,S,Y,V,G,AA,oA,fA,mA,lA;return Pe(this,function(wA){switch(wA.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=e.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return n={allowTaint:(F=A.allowTaint)!==null&&F!==void 0?F:!1,imageTimeout:(b=A.imageTimeout)!==null&&b!==void 0?b:15e3,proxy:A.proxy,useCORS:(k=A.useCORS)!==null&&k!==void 0?k:!1},i=Ko({logging:(M=A.logging)!==null&&M!==void 0?M:!0,cache:A.cache},n),s={windowWidth:(T=A.windowWidth)!==null&&T!==void 0?T:r.innerWidth,windowHeight:(L=A.windowHeight)!==null&&L!==void 0?L:r.innerHeight,scrollX:(E=A.scrollX)!==null&&E!==void 0?E:r.pageXOffset,scrollY:(R=A.scrollY)!==null&&R!==void 0?R:r.pageYOffset},o=new Nt(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),a=new cF(i,o),l=(S=A.foreignObjectRendering)!==null&&S!==void 0?S:!1,c={allowTaint:(Y=A.allowTaint)!==null&&Y!==void 0?Y:!1,onclone:A.onclone,ignoreElements:A.ignoreElements,inlineImages:l,copyStyles:l},a.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),f=new gh(a,e,c),u=f.clonedReferenceElement,u?[4,f.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=wA.sent(),d=_a(u)||hU(u)?VC(u.ownerDocument):Vi(a,u),g=d.width,B=d.height,p=d.left,C=d.top,U=hF(a,u,A.backgroundColor),v={canvas:A.canvas,backgroundColor:U,scale:(G=(V=A.scale)!==null&&V!==void 0?V:r.devicePixelRatio)!==null&&G!==void 0?G:1,x:((AA=A.x)!==null&&AA!==void 0?AA:0)+p,y:((oA=A.y)!==null&&oA!==void 0?oA:0)+C,width:(fA=A.width)!==null&&fA!==void 0?fA:Math.ceil(g),height:(mA=A.height)!==null&&mA!==void 0?mA:Math.ceil(B)},l?(a.logger.debug("Document cloned, using foreign object rendering"),H=new oF(a,v),[4,H.render(u)]):[3,3];case 2:return y=wA.sent(),[3,5];case 3:return a.logger.debug("Document cloned, element located at "+p+","+C+" with size "+g+"x"+B+" using computed rendering"),a.logger.debug("Starting DOM parsing"),_=Zf(a,u),U===_.styles.backgroundColor&&(_.styles.backgroundColor=Pt.TRANSPARENT),a.logger.debug("Starting renderer for element at "+v.x+","+v.y+" with size "+v.width+"x"+v.height),H=new eF(a,v),[4,H.render(_)];case 4:y=wA.sent(),wA.label=5;case 5:return(!((lA=A.removeContainer)!==null&&lA!==void 0)||lA)&&(gh.destroy(h)||a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),a.logger.debug("Finished rendering"),[2,y]}})})},hF=function(e,A,t){var r=A.ownerDocument,n=r.documentElement?On(e,getComputedStyle(r.documentElement).backgroundColor):Pt.TRANSPARENT,i=r.body?On(e,getComputedStyle(r.body).backgroundColor):Pt.TRANSPARENT,s=typeof t=="string"?On(e,t):t===null?Pt.TRANSPARENT:4294967295;return A===r.documentElement?sr(n)?sr(i)?s:i:n:s};function dF(e){let A,t,r,n;return{c(){A=Q("button"),t=Q("span"),t.innerHTML='<i class="fas fa-download"></i>',m(t,"class","icon is-small p-0"),m(A,"class","tag is-link"),m(A,"title",J==="en"?"Download as PNG":"Télécharger en PNG")},m(i,s){O(i,A,s),w(A,t),r||(n=yA(A,"click",e[0]),r=!0)},p:rA,i:rA,o:rA,d(i){i&&K(A),r=!1,n()}}}function gF(e){for(;e&&e!==document.body;){const A=getComputedStyle(e);if(/(auto|scroll|hidden)/.test(A.overflow+A.overflowX+A.overflowY))return e;e=e.parentElement}return null}function BF(e,A,t){let{targetId:r}=A,{filename:n="export.png"}=A;async function i(){await zs(async()=>{const s=document.getElementById(r);if(!s)return;const o=gF(s),a=o?{overflow:o.style.overflow,maxHeight:o.style.maxHeight,height:o.style.height}:null;try{o&&(o.style.overflow="visible",o.style.maxHeight="none",o.style.height="auto");const l=await uF(s,{backgroundColor:null,scale:2,logging:!1,useCORS:!0,scrollX:0,scrollY:0}),c=document.createElement("a");c.download=n,c.href=l.toDataURL("image/png"),c.click()}catch(l){await Ne(`Error generating PNG: ${l}`,J==="en"?"Error":"Erreur")}finally{o&&a&&(o.style.overflow=a.overflow,o.style.maxHeight=a.maxHeight,o.style.height=a.height)}})}return e.$$set=s=>{"targetId"in s&&t(1,r=s.targetId),"filename"in s&&t(2,n=s.filename)},[i,r,n]}class bh extends GA{constructor(A){super(),VA(this,A,BF,dF,KA,{targetId:1,filename:2})}}const tS="",{Map:pF}=dg;function Eh(e,A,t){const r=e.slice();return r[64]=A[t],r[66]=t,r}function Ih(e,A,t){const r=e.slice();return r[64]=A[t],r[68]=t,r}function Hh(e,A,t){const r=e.slice();return r[69]=A[t],r}function Sh(e,A,t){const r=e.slice();return r[72]=A[t],r}function mF(e){let A,t,r,n,i,s,o,a,l,c,f,u,h,d,g,B,p,C=e[23]("normalize")+"",U,v,y,_,H,F,b,k,M,T,L,E,R,S,Y,V,G,AA,oA,fA,mA;o=new bh({props:{targetId:"matrix-viz",filename:"document-matrix.png"}});let lA=["col","row"],wA=[];for(let q=0;q<2;q+=1)wA[q]=Lh(Hh(e,lA,q));let QA=e[2]&&Mh(e);function ne(q,j){return q[2]?CF:vF}let $=ne(e),iA=$(e);return{c(){A=Q("div"),t=Q("div"),r=Q("div"),n=Q("h4"),n.textContent=`${e[23]("title")}`,i=N(),s=Q("div"),BA(o.$$.fragment),a=N(),l=Q("div"),c=Q("div"),f=Q("select"),u=Q("option"),u.textContent=`${e[23]("byName")}`,h=Q("option"),h.textContent=`${e[23]("byScore")}`,d=N(),g=Q("label"),B=Q("input"),p=N(),U=sA(C),v=N(),y=Q("div"),_=Q("div"),H=Q("div"),F=N();for(let q=0;q<2;q+=1)wA[q].c();b=N(),k=Q("div"),M=N(),T=Q("div"),L=N(),E=Q("div"),R=Q("div"),S=Q("div"),Y=Q("h4"),Y.textContent=`${e[23]("pageByPage")}`,V=N(),QA&&QA.c(),G=N(),AA=Q("div"),iA.c(),m(n,"class","title is-6 mb-0"),u.__value="name",u.value=u.__value,h.__value="score",h.value=h.__value,e[3]===void 0&&it(()=>e[37].call(f)),m(c,"class","select is-small"),m(l,"class","control"),m(B,"type","checkbox"),B.checked=e[9],m(g,"title",e[23]("normalization")),m(g,"class","checkbox is-size-7"),m(s,"class","is-flex is-align-items-center"),zA(s,"gap","0.5rem"),m(r,"class","is-flex is-justify-content-space-between is-align-items-center mb-3"),zA(r,"flex-wrap","wrap"),zA(r,"gap","0.5rem"),m(H,"class","matrix-corner svelte-15delsq"),m(k,"class","matrix-canvas svelte-15delsq"),m(_,"id","matrix-viz"),m(_,"class","matrix-grid svelte-15delsq"),zA(_,"--cell-size",Nh+"px"),m(y,"class","scroll-area svelte-15delsq"),m(t,"class","box panel-box svelte-15delsq"),m(A,"class","split-panel svelte-15delsq"),zA(A,"width",e[14]+"px"),m(T,"class","split-divider svelte-15delsq"),m(T,"role","separator"),m(T,"tabindex","0"),m(Y,"class","title is-6 mb-0"),m(S,"class","is-flex is-justify-content-space-between is-align-items-center mb-3"),m(AA,"class","scroll-area svelte-15delsq"),m(R,"class","box panel-box svelte-15delsq"),m(E,"class","split-panel svelte-15delsq"),zA(E,"width",e[13]+"px")},m(q,j){O(q,A,j),w(A,t),w(t,r),w(r,n),w(r,i),w(r,s),dA(o,s,null),w(s,a),w(s,l),w(l,c),w(c,f),w(f,u),w(f,h),Yt(f,e[3],!0),w(s,d),w(s,g),w(g,B),w(g,p),w(g,U),w(t,v),w(t,y),w(y,_),w(_,H),w(_,F);for(let tA=0;tA<2;tA+=1)wA[tA]&&wA[tA].m(_,null);w(_,b),w(_,k),e[39](k),O(q,M,j),O(q,T,j),O(q,L,j),O(q,E,j),w(E,R),w(R,S),w(S,Y),w(S,V),QA&&QA.m(S,null),w(R,G),w(R,AA),iA.m(AA,null),oA=!0,fA||(mA=[yA(f,"change",e[37]),yA(B,"change",e[38]),yA(T,"mousedown",e[25]),yA(T,"touchstart",e[25])],fA=!0)},p(q,j){if(j[0]&8&&Yt(f,q[3]),(!oA||j[0]&512)&&(B.checked=q[9]),j[0]&64){lA=["col","row"];let tA;for(tA=0;tA<2;tA+=1){const _A=Hh(q,lA,tA);wA[tA]?wA[tA].p(_A,j):(wA[tA]=Lh(_A),wA[tA].c(),wA[tA].m(_,b))}for(;tA<2;tA+=1)wA[tA].d(1)}(!oA||j[0]&16384)&&zA(A,"width",q[14]+"px"),q[2]?QA?(QA.p(q,j),j[0]&4&&P(QA,1)):(QA=Mh(q),QA.c(),P(QA,1),QA.m(S,null)):QA&&(ZA(),W(QA,1,1,()=>{QA=null}),Ae()),$===($=ne(q))&&iA?iA.p(q,j):(iA.d(1),iA=$(q),iA&&(iA.c(),iA.m(AA,null))),(!oA||j[0]&8192)&&zA(E,"width",q[13]+"px")},i(q){oA||(P(o.$$.fragment,q),P(QA),oA=!0)},o(q){W(o.$$.fragment,q),W(QA),oA=!1},d(q){q&&K(A),gA(o),Le(wA,q),e[39](null),q&&K(M),q&&K(T),q&&K(L),q&&K(E),QA&&QA.d(),iA.d(),fA=!1,be(mA)}}}function wF(e){let A;return{c(){A=Q("div"),A.textContent=`${e[23]("noDocuments")}`,m(A,"class","notification is-info"),zA(A,"width","100%")},m(t,r){O(t,A,r)},p:rA,i:rA,o:rA,d(t){t&&K(A)}}}function xh(e,A){let t,r,n;return{key:e,first:null,c(){t=Q("div"),r=Q("span"),m(r,"class","color-dot svelte-15delsq"),zA(r,"background-color",A[72].color),m(r,"title",n=A[72].title+" "+oi.Witness+" #"+A[72].witnessId),m(t,"class","header-cell svelte-15delsq"),this.first=t},m(i,s){O(i,t,s),w(t,r)},p(i,s){A=i,s[0]&64&&zA(r,"background-color",A[72].color),s[0]&64&&n!==(n=A[72].title+" "+oi.Witness+" #"+A[72].witnessId)&&m(r,"title",n)},d(i){i&&K(t)}}}function Lh(e){let A,t=[],r=new pF,n=e[6].docs;const i=s=>s[72].id;for(let s=0;s<n.length;s+=1){let o=Sh(e,n,s),a=i(o);r.set(a,t[s]=xh(a,o))}return{c(){A=Q("div");for(let s=0;s<t.length;s+=1)t[s].c();m(A,"class",e[69]+"-headers svelte-15delsq")},m(s,o){O(s,A,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(A,null)},p(s,o){o[0]&64&&(n=s[6].docs,t=si(t,o,i,1,s,n,r,A,Eg,xh,null,Sh))},d(s){s&&K(A);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Mh(e){let A,t,r,n,i,s,o,a,l,c,f;return A=new bh({props:{targetId:"scatter-viz",filename:"document-comparison.png"}}),{c(){BA(A.$$.fragment),t=N(),r=Q("div"),n=Q("div"),i=Q("div"),s=Q("select"),o=Q("option"),o.textContent=`${e[23]("byPage")}`,a=Q("option"),a.textContent=`${e[23]("byImage")}`,o.__value="page",o.value=o.__value,a.__value="image",a.value=a.__value,e[4]===void 0&&it(()=>e[40].call(s)),m(i,"class","select is-small"),m(n,"class","control"),m(r,"class","field mb-0")},m(u,h){dA(A,u,h),O(u,t,h),O(u,r,h),w(r,n),w(n,i),w(i,s),w(s,o),w(s,a),Yt(s,e[4],!0),l=!0,c||(f=yA(s,"change",e[40]),c=!0)},p(u,h){h[0]&16&&Yt(s,u[4])},i(u){l||(P(A.$$.fragment,u),l=!0)},o(u){W(A.$$.fragment,u),l=!1},d(u){gA(A,u),u&&K(t),u&&K(r),c=!1,f()}}}function vF(e){let A;return{c(){A=Q("p"),A.textContent=`${e[23]("selectCell")}`,m(A,"class","has-text-grey is-size-7")},m(t,r){O(t,A,r)},p:rA,d(t){t&&K(A)}}}function CF(e){let A;return{c(){A=Q("div"),m(A,"id","scatter-viz"),m(A,"class","scatter-container svelte-15delsq")},m(t,r){O(t,A,r),e[41](A)},p:rA,d(t){t&&K(A),e[41](null)}}}function kh(e){let A,t,r,n,i,s,o,a=e[12].items,l=[];for(let h=0;h<a.length;h+=1)l[h]=Th(Ih(e,a,h));let c=e[12].score!==void 0&&Dh(e),f=e[12].items,u=[];for(let h=0;h<f.length;h+=1)u[h]=Kh(Eh(e,f,h));return{c(){A=Q("table"),t=Q("thead"),r=Q("tr");for(let h=0;h<l.length;h+=1)l[h].c();n=N(),i=Q("tbody"),c&&c.c(),s=N(),o=Q("tr");for(let h=0;h<u.length;h+=1)u[h].c();m(A,"class","table is-fullwidth p-3 has-text-centered")},m(h,d){O(h,A,d),w(A,t),w(t,r);for(let g=0;g<l.length;g+=1)l[g]&&l[g].m(r,null);w(A,n),w(A,i),c&&c.m(i,null),w(i,s),w(i,o);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(o,null)},p(h,d){if(d[0]&4096){a=h[12].items;let g;for(g=0;g<a.length;g+=1){const B=Ih(h,a,g);l[g]?l[g].p(B,d):(l[g]=Th(B),l[g].c(),l[g].m(r,null))}for(;g<l.length;g+=1)l[g].d(1);l.length=a.length}if(h[12].score!==void 0?c?c.p(h,d):(c=Dh(h),c.c(),c.m(i,s)):c&&(c.d(1),c=null),d[0]&16781344){f=h[12].items;let g;for(g=0;g<f.length;g+=1){const B=Eh(h,f,g);u[g]?u[g].p(B,d):(u[g]=Kh(B),u[g].c(),u[g].m(o,null))}for(;g<u.length;g+=1)u[g].d(1);u.length=f.length}},d(h){h&&K(A),Le(l,h),c&&c.d(),Le(u,h)}}}function Th(e){let A,t,r,n,i,s=e[64].doc.title+"",o,a,l,c=e[64].label+"",f,u;return{c(){A=Q("th"),t=Q("span"),r=sA("●"),n=N(),i=Q("strong"),o=sA(s),a=N(),l=Q("p"),f=sA(c),u=N(),zA(t,"color",e[64].doc.color),m(l,"class","is-size-7 has-text-grey mt-2"),m(A,"class","doc-title svelte-15delsq")},m(h,d){O(h,A,d),w(A,t),w(t,r),w(A,n),w(A,i),w(i,o),w(A,a),w(A,l),w(l,f),w(A,u)},p(h,d){d[0]&4096&&zA(t,"color",h[64].doc.color),d[0]&4096&&s!==(s=h[64].doc.title+"")&&PA(o,s),d[0]&4096&&c!==(c=h[64].label+"")&&PA(f,c)},d(h){h&&K(A)}}}function Dh(e){let A,t,r,n=e[23]("score")+"",i,s,o=e[12].score.toFixed(2)+"",a;return{c(){A=Q("tr"),t=Q("td"),r=Q("span"),i=sA(n),s=N(),a=sA(o),m(r,"class","tag is-small is-link is-bold"),m(t,"colspan","2"),m(t,"class","has-text-centered")},m(l,c){O(l,A,c),w(A,t),w(t,r),w(r,i),w(r,s),w(r,a)},p(l,c){c[0]&4096&&o!==(o=l[12].score.toFixed(2)+"")&&PA(a,o)},d(l){l&&K(A)}}}function QF(e){let A;return{c(){A=Q("span"),A.innerHTML='<i class="fas fa-chevron-left"></i>',m(A,"class","icon is-small p-0")},m(t,r){O(t,A,r)},d(t){t&&K(A)}}}function yF(e){let A;return{c(){A=Q("span"),A.innerHTML='<i class="fas fa-chevron-up"></i>',m(A,"class","icon is-small p-0")},m(t,r){O(t,A,r)},d(t){t&&K(A)}}}function _F(e){let A;return{c(){A=Q("span"),A.innerHTML='<i class="fas fa-chevron-right"></i>',m(A,"class","icon is-small p-0")},m(t,r){O(t,A,r)},d(t){t&&K(A)}}}function UF(e){let A;return{c(){A=Q("span"),A.innerHTML='<i class="fas fa-chevron-down"></i>',m(A,"class","icon is-small p-0")},m(t,r){O(t,A,r)},d(t){t&&K(A)}}}function Kh(e){let A,t,r,n,i,s,o,a,l,c,f,u,h;function d(_,H){return _[66]!==0?yF:QF}let B=d(e)(e);function p(){return e[43](e[66])}function C(_,H){return _[66]!==0?UF:_F}let v=C(e)(e);function y(){return e[44](e[66])}return{c(){var _;A=Q("td"),t=Q("div"),r=Q("button"),B.c(),n=N(),i=Q("figure"),s=Q("img"),l=N(),c=Q("button"),v.c(),f=N(),m(r,"class","nav-btn "+(e[66]!==0?"nav-up":"nav-left")+" svelte-15delsq"),Je(s.src,o=e[64].imgUrl)||m(s,"src",o),m(s,"alt",a=(((_=e[5])==null?void 0:_.mode)==="image"?"Image":"Page")+" "+e[64].label),m(s,"class","img-preview svelte-15delsq"),m(i,"class","image"),m(c,"class","nav-btn "+(e[66]!==0?"nav-down":"nav-right")+" svelte-15delsq"),m(t,"class","image-nav-container svelte-15delsq"),m(A,"class","modal-cell svelte-15delsq")},m(_,H){O(_,A,H),w(A,t),w(t,r),B.m(r,null),w(t,n),w(t,i),w(i,s),w(t,l),w(t,c),v.m(c,null),w(A,f),u||(h=[yA(r,"click",p),yA(c,"click",y)],u=!0)},p(_,H){var F;e=_,H[0]&4096&&!Je(s.src,o=e[64].imgUrl)&&m(s,"src",o),H[0]&4128&&a!==(a=(((F=e[5])==null?void 0:F.mode)==="image"?"Image":"Page")+" "+e[64].label)&&m(s,"alt",a)},d(_){_&&K(A),B.d(),v.d(),u=!1,be(h)}}}function FF(e){let A,t,r,n,i,s,o,a,l,c,f,u,h,d,g,B,p,C,U,v,y,_,H;const F=[wF,mF],b=[];function k(T,L){return T[7].length?1:0}f=k(e),u=b[f]=F[f](e);let M=e[12]&&kh(e);return{c(){A=Q("div"),t=Q("label"),t.textContent=`${e[23]("filtering")}`,r=N(),n=Q("div"),i=Q("div"),s=Q("select"),o=Q("option"),o.textContent=`${e[23]("allPairs")}`,a=Q("option"),a.textContent=`${e[23]("filteredPairs")}`,l=N(),c=Q("div"),u.c(),h=N(),d=Q("div"),g=Q("div"),B=N(),p=Q("div"),C=Q("div"),M&&M.c(),U=N(),v=Q("button"),m(t,"class","label is-small"),m(t,"for","matrix-mode"),o.__value="all",o.value=o.__value,a.__value="filtered",a.value=a.__value,m(s,"id","matrix-mode"),e[8]===void 0&&it(()=>e[36].call(s)),m(i,"class","select is-small is-fullwidth"),m(n,"class","control"),m(A,"class","field mb-4"),m(c,"class","split-container svelte-15delsq"),m(g,"class","modal-background"),m(C,"class","box p-5"),m(p,"class","modal-content"),zA(p,"width","auto"),zA(p,"max-width","70vw"),m(v,"class","modal-close is-large"),m(v,"aria-label","close"),m(d,"id","matrix-page-modal"),m(d,"class","modal")},m(T,L){O(T,A,L),w(A,t),w(A,r),w(A,n),w(n,i),w(i,s),w(s,o),w(s,a),Yt(s,e[8],!0),O(T,l,L),O(T,c,L),b[f].m(c,null),e[42](c),O(T,h,L),O(T,d,L),w(d,g),w(d,B),w(d,p),w(p,C),M&&M.m(C,null),w(d,U),w(d,v),e[45](d),y=!0,_||(H=[yA(s,"change",e[36]),on(Ao.call(null,d))],_=!0)},p(T,L){L[0]&256&&Yt(s,T[8]);let E=f;f=k(T),f===E?b[f].p(T,L):(ZA(),W(b[E],1,1,()=>{b[E]=null}),Ae(),u=b[f],u?u.p(T,L):(u=b[f]=F[f](T),u.c()),P(u,1),u.m(c,null)),T[12]?M?M.p(T,L):(M=kh(T),M.c(),M.m(C,null)):M&&(M.d(1),M=null)},i(T){y||(P(u),y=!0)},o(T){W(u),y=!1},d(T){T&&K(A),T&&K(l),T&&K(c),b[f].d(),e[42](null),T&&K(h),T&&K(d),M&&M.d(),e[45](null),_=!1,be(H)}}}const Oh=300,Nh=30,ce=5;function bF(e){if(e.mode==="image")return{max1:e.images1.length,max2:e.images2.length};const A=Math.max(...e.points.map(r=>r.page1)),t=Math.max(...e.points.map(r=>r.page2));return{max1:A,max2:t}}function EF(e,A,t){const r=new Map;let n=1/0,i=-1/0;for(const o of t){const[a,l,c]=o.regions_id_1===e.id?[o.page_1,o.page_2,o.weightedScore||0]:[o.page_2,o.page_1,o.weightedScore||0],f=`${a}-${l}`;r.has(f)||r.set(f,{page1:a,page2:l,scores:[]}),r.get(f).scores.push(c),c<n&&(n=c),c>i&&(i=c)}return{mode:"page",points:Array.from(r.values()).map(({page1:o,page2:a,scores:l})=>({page1:o,page2:a,score:l.reduce((c,f)=>c+f,0)/l.length,count:l.length})),minScore:n,maxScore:i,doc1:e,doc2:A}}function IF(e,A,t){const r=e.images||[],n=A.images||[];if(!r.length||!n.length)return null;const i=new Map(r.map((c,f)=>[c.id,f])),s=new Map(n.map((c,f)=>[c.id,f])),o=new Map;let a=1/0,l=-1/0;return t.forEach(c=>{const[f,u,h]=c.regions_id_1===e.id?[c.id_1,c.id_2,c.weightedScore||0]:[c.id_2,c.id_1,c.weightedScore||0],d=i.get(f),g=s.get(u);if(d!==void 0&&g!==void 0){const B=`${d}-${g}`;o.set(B,{idx1:d,idx2:g,imgId1:f,imgId2:u,score:h}),h<a&&(a=h),h>l&&(l=h)}}),{mode:"image",images1:r,images2:n,pairScores:o,minScore:a,maxScore:l,doc1:e,doc2:A}}function Rh(e){const A=[];let t=null,r=0;return e.forEach((n,i)=>{n.canvas!==t&&(t!==null&&A.push({start:r,end:i,page:t,count:i-r}),t=n.canvas,r=i)}),t!==null&&A.push({start:r,end:e.length,page:t,count:e.length-r}),A}function HF(e,A,t){let r,n,i,s,o,a,l,c,f,u,h,d,g,B,p,{documentSetStore:C}=A;const{documentNodes:U,pairIndex:v,activeDocPairStats:y,activeDocStats:_,imageCountMap:H,visiblePairIds:F,matrixMode:b,normalizeByImages:k}=C;SA(e,U,X=>t(35,p=X)),SA(e,v,X=>t(48,c=X)),SA(e,y,X=>t(34,B=X)),SA(e,_,X=>t(33,g=X)),SA(e,H,X=>t(32,h=X)),SA(e,F,X=>t(31,f=X)),SA(e,b,X=>t(8,u=X)),SA(e,k,X=>t(9,d=X));const M={title:{en:"Document Matrix",fr:"Matrice de documents"},order:{en:"Order",fr:"Ordre"},byName:{en:"By title",fr:"Par titre"},byScore:{en:"By score",fr:"Par score"},noDocuments:{en:"No documents available",fr:"Aucun document disponible"},pageByPage:{en:"Page-by-page similarity",fr:"Similarité page par page"},page:{en:"page",fr:"page"},score:{en:"Score",fr:"Score"},noPairs:{en:"No pairs",fr:"Aucune paire"},selectCell:{en:"Click a cell to view page-by-page similarity",fr:"Cliquez sur une cellule pour voir la similarité page par page"},byPage:{en:"By page",fr:"Par page"},byImage:{en:"By image",fr:"Par image"},image:{en:"image",fr:"image"},normalize:{en:"Normalize",fr:"Normaliser"},normalization:{en:"Normalization by document image counts",fr:"Normalisation par le nombre d'images des documents"},allPairs:{en:"All pairs in the document set",fr:"Toutes les paires du corpus"},filteredPairs:{en:"Filtered pairs",fr:"Paires après filtrage"},filtering:{en:"Source of image pairs for the visualizations",fr:"Source des paires d’images pour les visualisations"}},T=X=>{var FA,XA;return((FA=M[X])==null?void 0:FA[J])||((XA=M[X])==null?void 0:XA.en)||X};let L,E,R,S,Y=null,V="name",G=.5,AA=!1,oA=0,fA,mA=null,lA="page";function wA(X,FA){const XA="600,";return ht(`wit${X.witnessId}_${X.digitizationRef}_${String(FA).padStart(X.zeros,"0")}`,"full",XA)}function QA(X){var XA;const FA="600,";return ht(X.ref,(XA=X.xywh)==null?void 0:XA.join(","),FA)}function ne(X,FA,XA){var RA,bA;if(!X||!FA||!XA)return null;const{doc1:YA,doc2:ae}=FA;if(FA.mode==="image"){const z=(RA=FA.images1)==null?void 0:RA[X.idx1],UA=(bA=FA.images2)==null?void 0:bA[X.idx2];if(!z||!UA)return null;const vA=`${X.idx1}-${X.idx2}`,ge=FA.pairScores.get(vA);return{items:[{doc:YA,label:`Canvas ${z.canvas} — Image #${X.idx1+1}`,imgUrl:QA(z)},{doc:ae,label:`Canvas ${UA.canvas} — Image #${X.idx2+1}`,imgUrl:QA(UA)}],score:ge==null?void 0:ge.score}}const LA=X.idx1+1,ve=X.idx2+1,MA=FA.points.find(z=>z.page1===LA&&z.page2===ve);return{items:[{doc:YA,label:`Page ${LA}`,imgUrl:wA(YA,LA)},{doc:ae,label:`Page ${ve}`,imgUrl:wA(ae,ve)}],score:MA==null?void 0:MA.score}}function $(X,FA){!mA||!i||(X==="horizontal"?t(29,mA.idx1=(mA.idx1+FA+a.max1)%a.max1,mA):t(29,mA.idx2=(mA.idx2+FA+a.max2)%a.max2,mA),t(29,mA))}function iA(X){if(!mA||!(S!=null&&S.classList.contains("is-active")))return;const XA={ArrowUp:["vertical",-1],ArrowDown:["vertical",1],ArrowLeft:["horizontal",-1],ArrowRight:["horizontal",1]}[X.key];XA&&(X.preventDefault(),$(XA[0],XA[1]))}function q(X,FA,XA,YA,ae,LA){var UA;if(!X.length)return{docs:[],matrix:[],maxScore:0};X.forEach((vA,ge)=>{var I;vA.index=ge,vA.count=((I=XA==null?void 0:XA.get(vA.id))==null?void 0:I.count)||0});const MA={name:Bi(X.length).sort((vA,ge)=>X[vA].title.localeCompare(X[ge].title)),score:Bi(X.length).sort((vA,ge)=>X[ge].count-X[vA].count)}[YA].map(vA=>X[vA]),RA=MA.length,bA=[];let z=0;for(let vA=0;vA<RA;vA++){const ge=[];for(let I=0;I<RA;I++)if(vA!==I){const x=MA[vA].id<MA[I].id?`${MA[vA].id}-${MA[I].id}`:`${MA[I].id}-${MA[vA].id}`;let D=((UA=FA==null?void 0:FA.get(x))==null?void 0:UA.score)||0;if(ae&&D>0){const Z=LA.get(MA[vA].id)||1,eA=LA.get(MA[I].id)||1;D/=Math.sqrt(Z*eA)}D>z&&(z=D),ge.push({x:I,y:vA,z:D,doc1:MA[vA],doc2:MA[I]})}else ge.push({x:I,y:vA,z:0,diagonal:!0});bA.push(ge)}return{docs:MA,matrix:bA,maxScore:z}}function j(X,FA,XA,YA){const{doc1:ae,doc2:LA}=X,ve=ae.id<LA.id?`${ae.id}-${LA.id}`:`${LA.id}-${ae.id}`;let MA=c.byDocPair.get(ve)||[];return XA&&YA.size>0&&(MA=MA.filter(RA=>YA.has(`${RA.id_1}-${RA.id_2}`))),MA.length?FA==="image"?IF(ae,LA,MA):EF(ae,LA,MA):null}function tA(){if(!E||!n.docs.length)return;const{docs:X,matrix:FA,maxScore:XA}=n,YA=X.length*Nh;Ce(E).selectAll("*").remove();const ae=Ce(E).append("svg").attr("width",YA).attr("height",YA),LA=nu().range([0,YA]).domain(Bi(X.length)).padding(.02),ve=Ce("body").selectAll(".matrix-tooltip").data([0]).join("div").attr("class","matrix-tooltip").style("position","fixed").style("background","var(--bulma-scheme-main)").style("border","1px solid var(--bulma-border)").style("border-radius","4px").style("padding","8px").style("pointer-events","none").style("opacity",0).style("font-size","12px").style("box-shadow","0 2px 4px rgba(0,0,0,0.15)").style("z-index","9999").style("color","var(--bulma-text)");ae.selectAll(".row").data(FA).join("g").attr("class","row").attr("transform",(RA,bA)=>`translate(0,${LA(bA)})`).each(function(RA){Ce(this).selectAll(".cell").data(RA.filter(bA=>!bA.diagonal)).join("rect").attr("class","cell").attr("x",bA=>LA(bA.x)).attr("width",LA.bandwidth()).attr("height",LA.bandwidth()).attr("fill",bA=>{if(bA.z===0)return"var(--bulma-text)";const z=Ui(233,.951,.52);return z.opacity=XA>0?.2+.8*(bA.z/XA):.2,z}).attr("stroke",bA=>_A(bA)?"var(--bulma-text)":"var(--bulma-scheme-main)").attr("stroke-width",bA=>_A(bA)?2:.5).style("cursor","pointer").on("mouseover",function(bA,z){_A(z)||Ce(this).attr("stroke","var(--bulma-text)").attr("stroke-width",2),ve.style("opacity",1)}).on("mousemove",function(bA,z){const UA=`<span style="color:${z.doc1.color}">●</span> ${z.doc1.title}<br/>↔<br/><span style="color:${z.doc2.color}">●</span> ${z.doc2.title}`,vA=z.z===0?`${UA}<br/><br/><em>${T("noPairs")}</em>`:`${UA}<br/><br/>${T("score")}: ${z.z.toFixed(2)}`;ve.html(vA).style("left",bA.clientX+15+"px").style("top",bA.clientY+15+"px")}).on("mouseleave",function(bA,z){_A(z)||Ce(this).attr("stroke","var(--bulma-scheme-main)").attr("stroke-width",.5),ve.style("opacity",0)}).on("click",(bA,z)=>{t(2,Y={row:z.y,col:z.x,doc1:z.doc1,doc2:z.doc2}),qA()})}),ae.selectAll(".row").selectAll(".cell-diagonal").data(RA=>RA.filter(bA=>bA.diagonal)).join("rect").attr("class","cell-diagonal").attr("x",RA=>LA(RA.x)).attr("width",LA.bandwidth()).attr("height",LA.bandwidth()).attr("fill","var(--contrasted)")}function _A(X){return Y&&Y.doc1.id===X.doc1.id&&Y.doc2.id===X.doc2.id}function qA(){E&&Ce(E).selectAll(".cell").attr("stroke",X=>_A(X)?"var(--bulma-text)":"var(--bulma-scheme-main)").attr("stroke-width",X=>_A(X)?2:.5)}function ee(){!R||!i||(Ce(R).selectAll("*").remove(),i.mode==="image"?TA():EA())}function EA(){const{points:X,minScore:FA,maxScore:XA,doc1:YA,doc2:ae}=i;if(!X.length)return;const LA={top:65,right:40,bottom:20,left:80},ve=10,MA=Math.max(...X.map(hA=>hA.page1)),RA=Math.max(...X.map(hA=>hA.page2)),bA=MA*ce,z=RA*ce,UA=new Map(X.map(hA=>[`${hA.page1}-${hA.page2}`,hA])),vA=bA+LA.left+LA.right,ge=z+LA.top+LA.bottom,x=Ce(R).append("svg").attr("width",vA).attr("height",ge).append("g").attr("transform",`translate(${LA.left},${LA.top})`),D=yn().domain([0,MA]).range([0,bA]),Z=yn().domain([0,RA]).range([0,z]),eA=Ce("body").selectAll(".scatter-tooltip").data([0]).join("div").attr("class","scatter-tooltip").style("position","fixed").style("background","var(--bulma-scheme-main)").style("border","1px solid var(--bulma-border)").style("border-radius","4px").style("padding","6px 10px").style("pointer-events","none").style("opacity",0).style("font-size","11px").style("box-shadow","0 2px 4px rgba(0,0,0,0.15)").style("z-index","9999").style("color","var(--bulma-text)"),nA=new Array(MA).fill(0),pA=new Array(RA).fill(0);X.forEach(hA=>{nA[hA.page1-1]++,pA[hA.page2-1]++});const cA=Math.max(...nA),ie=Math.max(...pA),se=x.append("g").attr("transform",`translate(0,${-22-ve})`);nA.forEach((hA,IA)=>{hA!==0&&se.append("rect").attr("x",IA*ce).attr("width",ce).attr("height",ve).attr("fill",YA.color).attr("opacity",.15+.85*(hA/cA)).style("cursor","default").on("mouseover",()=>eA.style("opacity",1)).on("mousemove",HA=>{eA.html(`<strong>${hA}</strong> image${hA>1?"s":""}<br/>${T("page")} ${IA+1}`).style("left",HA.clientX+10+"px").style("top",HA.clientY-30+"px")}).on("mouseleave",()=>eA.style("opacity",0))});const fe=x.append("g").attr("transform","translate(-55,0)");pA.forEach((hA,IA)=>{hA!==0&&fe.append("rect").attr("x",0).attr("y",IA*ce).attr("width",ve).attr("height",ce).attr("fill",ae.color).attr("opacity",.15+.85*(hA/ie)).style("cursor","default").on("mouseover",()=>eA.style("opacity",1)).on("mousemove",HA=>{eA.html(`<strong>${hA}</strong> image${hA>1?"s":""}<br/>${T("page")} ${IA+1}`).style("left",HA.clientX+10+"px").style("top",HA.clientY-30+"px")}).on("mouseleave",()=>eA.style("opacity",0))}),x.append("g").call(Wl(D).ticks(Math.min(MA,10))),x.append("g").call(Yl(Z).ticks(Math.min(RA,10)));const he=(hA,IA)=>{const HA=Math.floor(IA/6);return hA.length>HA?hA.slice(0,HA-1)+"…":hA},CA=x.append("g").attr("transform",`translate(${bA/2},-50)`);CA.append("circle").attr("r",4).attr("cx",-bA/2+4).attr("fill",YA.color),CA.append("text").attr("x",-bA/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(he(`${YA.title} (${T("page")})`,bA-20));const re=x.append("g").attr("transform",`translate(-68,${z/2}) rotate(-90)`);re.append("circle").attr("r",4).attr("cx",-z/2+4).attr("fill",ae.color),re.append("text").attr("x",-z/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(he(`${ae.title} (${T("page")})`,z-20)),x.append("rect").attr("class","hover-overlay").attr("width",bA).attr("height",z).attr("fill","transparent").style("cursor","pointer").on("mousemove",hA=>{const[IA,HA]=Se(hA,x.node()),tt=Math.floor(IA/ce)+1,rt=Math.floor(HA/ce)+1;if(tt<1||tt>MA||rt<1||rt>RA){eA.style("opacity",0);return}const Wt=UA.get(`${tt}-${rt}`),fr=`<span style="color:${YA.color}">●</span> ${T("page")} ${tt}<br/><span style="color:${ae.color}">●</span> ${T("page")} ${rt}`,Ur=Wt?`${fr}<br/>${T("score")}: ${Wt.score.toFixed(2)}`:fr;eA.style("opacity",1).html(Ur).style("left",hA.clientX+10+"px").style("top",hA.clientY-40+"px")}).on("mouseleave",()=>eA.style("opacity",0)).on("click",hA=>{const[IA,HA]=Se(hA,x.node()),tt=Math.floor(IA/ce)+1,rt=Math.floor(HA/ce)+1;tt<1||tt>MA||rt<1||rt>RA||(t(29,mA={idx1:tt-1,idx2:rt-1}),S==null||S.classList.add("is-active"))}),x.selectAll(".cell").data(X).join("rect").attr("class","cell").attr("x",hA=>(hA.page1-1)*ce).attr("y",hA=>(hA.page2-1)*ce).attr("width",ce).attr("height",ce).attr("fill",Ui(233,.951,.52)).attr("opacity",hA=>XA>FA?.2+.8*(hA.score-FA)/(XA-FA):.5).attr("pointer-events","none"),t(1,R.style.width=vA+"px",R),t(1,R.style.height=ge+"px",R)}function TA(){const{images1:X,images2:FA,pairScores:XA,minScore:YA,maxScore:ae,doc1:LA,doc2:ve}=i;if(!X.length||!FA.length)return;const MA={top:65,right:40,bottom:20,left:80},RA=10,bA=X.length*ce,z=FA.length*ce,UA=bA+MA.left+MA.right,vA=z+MA.top+MA.bottom,I=Ce(R).append("svg").attr("width",UA).attr("height",vA).append("g").attr("transform",`translate(${MA.left},${MA.top})`),x=yn().domain([0,X.length]).range([0,bA]),D=yn().domain([0,FA.length]).range([0,z]),Z=Ce("body").selectAll(".scatter-tooltip").data([0]).join("div").attr("class","scatter-tooltip").style("position","fixed").style("background","var(--bulma-scheme-main)").style("border","1px solid var(--bulma-border)").style("border-radius","4px").style("padding","6px 10px").style("pointer-events","none").style("opacity",0).style("font-size","11px").style("box-shadow","0 2px 4px rgba(0,0,0,0.15)").style("z-index","9999").style("color","var(--bulma-text)"),eA=Rh(X),nA=Rh(FA),pA=I.append("g").attr("transform",`translate(0,${-22-RA})`);eA.forEach(({start:CA,end:re,page:hA,count:IA})=>{pA.append("rect").attr("x",CA*ce).attr("width",(re-CA)*ce).attr("height",RA).attr("fill",LA.color).attr("opacity",.5).style("cursor","default").on("mouseover",()=>Z.style("opacity",1)).on("mousemove",HA=>{Z.html(`${T("page")} ${hA}<br/><strong>${IA}</strong> image${IA>1?"s":""}`).style("left",HA.clientX+10+"px").style("top",HA.clientY-30+"px")}).on("mouseleave",()=>Z.style("opacity",0))});const cA=I.append("g").attr("transform","translate(-55,0)");nA.forEach(({start:CA,end:re,page:hA,count:IA})=>{cA.append("rect").attr("x",0).attr("y",CA*ce).attr("width",RA).attr("height",(re-CA)*ce).attr("fill",ve.color).attr("opacity",.5).style("cursor","default").on("mouseover",()=>Z.style("opacity",1)).on("mousemove",HA=>{Z.html(`${T("page")} ${hA}<br/><strong>${IA}</strong> image${IA>1?"s":""}`).style("left",HA.clientX+10+"px").style("top",HA.clientY-30+"px")}).on("mouseleave",()=>Z.style("opacity",0))}),I.append("g").call(Wl(x).ticks(Math.min(X.length,10))),I.append("g").call(Yl(D).ticks(Math.min(FA.length,10)));const ie=(CA,re)=>{const hA=Math.floor(re/6);return CA.length>hA?CA.slice(0,hA-1)+"…":CA},se=I.append("g").attr("transform",`translate(${bA/2},-50)`);se.append("circle").attr("r",4).attr("cx",-bA/2+4).attr("fill",LA.color),se.append("text").attr("x",-bA/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(ie(`${LA.title} (${T("image")})`,bA-20));const fe=I.append("g").attr("transform",`translate(-68,${z/2}) rotate(-90)`);fe.append("circle").attr("r",4).attr("cx",-z/2+4).attr("fill",ve.color),fe.append("text").attr("x",-z/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(ie(`${ve.title} (${T("image")})`,z-20)),I.append("rect").attr("class","hover-overlay").attr("width",bA).attr("height",z).attr("fill","transparent").style("cursor","pointer").on("mousemove",CA=>{const[re,hA]=Se(CA,I.node()),IA=Math.floor(re/ce),HA=Math.floor(hA/ce);if(IA<0||IA>=X.length||HA<0||HA>=FA.length){Z.style("opacity",0);return}const tt=X[IA],rt=FA[HA],Wt=XA.get(`${IA}-${HA}`),fr=`<span style="color:${LA.color}">●</span> ${T("page")} ${tt.canvas}, ${T("image")} ${IA+1}<br/><span style="color:${ve.color}">●</span> ${T("page")} ${rt.canvas}, ${T("image")} ${HA+1}`,Ur=Wt?`${fr}<br/>${T("score")}: ${Wt.score.toFixed(2)}`:fr;Z.style("opacity",1).html(Ur).style("left",CA.clientX+10+"px").style("top",CA.clientY-40+"px")}).on("mouseleave",()=>Z.style("opacity",0)).on("click",CA=>{const[re,hA]=Se(CA,I.node()),IA=Math.floor(re/ce),HA=Math.floor(hA/ce);IA>=0&&IA<X.length&&HA>=0&&HA<FA.length&&(t(29,mA={idx1:IA,idx2:HA}),S==null||S.classList.add("is-active"))});const he=Array.from(XA.values());I.selectAll(".cell").data(he).join("rect").attr("class","cell").attr("x",CA=>CA.idx1*ce).attr("y",CA=>CA.idx2*ce).attr("width",ce).attr("height",ce).attr("fill",Ui(233,.951,.52)).attr("opacity",CA=>ae>YA?.2+.8*(CA.score-YA)/(ae-YA):.5).attr("pointer-events","none"),t(1,R.style.width=UA+"px",R),t(1,R.style.height=vA+"px",R)}function OA(X){AA=!0,X.preventDefault()}function te(X){var YA,ae;if(!AA||!L)return;const FA=L.getBoundingClientRect(),XA=(X.clientX||((ae=(YA=X.touches)==null?void 0:YA[0])==null?void 0:ae.clientX))-FA.left;t(27,G=Math.max(.2,Math.min(.8,XA/FA.width)))}function pe(){AA=!1}Ir(()=>{L&&(t(28,oA=L.offsetWidth),fA=new ResizeObserver(X=>{t(28,oA=X[0].contentRect.width)}),fA.observe(L)),window.addEventListener("mousemove",te),window.addEventListener("mouseup",pe),window.addEventListener("touchmove",te),window.addEventListener("touchend",pe),window.addEventListener("keydown",iA)}),Hr(()=>{fA==null||fA.disconnect(),window.removeEventListener("mousemove",te),window.removeEventListener("mouseup",pe),window.removeEventListener("touchmove",te),window.removeEventListener("touchend",pe),window.removeEventListener("keydown",iA)});function ke(){u=Ai(this),b.set(u)}function ue(){V=Ai(this),t(3,V)}const NA=X=>k.set(X.target.checked);function Xe(X){zt[X?"unshift":"push"](()=>{E=X,t(0,E)})}function JA(){lA=Ai(this),t(4,lA)}function Qe(X){zt[X?"unshift":"push"](()=>{R=X,t(1,R)})}function WA(X){zt[X?"unshift":"push"](()=>{L=X,t(10,L)})}const ye=X=>$(X!==0?"vertical":"horizontal",-1),me=X=>$(X!==0?"vertical":"horizontal",1);function He(X){zt[X?"unshift":"push"](()=>{S=X,t(11,S)})}return e.$$set=X=>{"documentSetStore"in X&&t(26,C=X.documentSetStore)},e.$$.update=()=>{e.$$.dirty[1]&16&&t(7,r=Array.from((p==null?void 0:p.values())||[])),e.$$.dirty[0]&648|e.$$.dirty[1]&14&&t(6,n=q(r,B.scoreCount,g.scoreCount,V,d,h)),e.$$.dirty[0]&276|e.$$.dirty[1]&1&&t(5,i=Y?j(Y,lA,u==="filtered",f):null),e.$$.dirty[0]&402653184&&t(14,s=Math.max(Oh,oA*G-4)),e.$$.dirty[0]&402653184&&t(13,o=Math.max(Oh,oA*(1-G)-4)),e.$$.dirty[0]&32&&t(30,a=i?bF(i):{max1:0,max2:0,pages1:[],pages2:[]}),e.$$.dirty[0]&1610612768&&t(12,l=mA&&i&&a?ne(mA,i,a):null),e.$$.dirty[0]&65&&E&&n.docs.length&&tA(),e.$$.dirty[0]&34&&R&&i&&ee()},[E,R,Y,V,lA,i,n,r,u,d,L,S,l,o,s,U,v,y,_,H,F,b,k,T,$,OA,C,G,oA,mA,a,f,h,g,B,p,ke,ue,NA,Xe,JA,Qe,WA,ye,me,He]}class SF extends GA{constructor(A){super(),VA(this,A,HF,FF,KA,{documentSetStore:26},null,[-1,-1,-1])}}const xF=1e4;async function LF(e,A,t={}){const{onProgress:r,onError:n,signal:i}=t,s=await fetch(e,{signal:i});if(!s.ok){const h=await s.json().catch(()=>({error:s.statusText}));throw new Error(h.error||`HTTP ${s.status}`)}const o=s.body.getReader(),a=new TextDecoder;let l="",c=[],f=0,u=!1;try{for(;;){const{done:h,value:d}=await o.read();if(h){if(l.trim()){const B=Ph(l);B&&c.push(B)}return c.length>0?(f+=c.length,A.postMessage({type:"batch",pairs:c,isLast:!0})):A.postMessage({type:"done"}),r==null||r(f,!0),f}l+=a.decode(d,{stream:!0});const g=l.split(`
`);l=g.pop()||"";for(const B of g){if(!B)continue;const p=Ph(B);p&&(c.push(p),c.length>=xF&&(u||(A.postMessage({type:"init"}),u=!0),f+=c.length,A.postMessage({type:"batch",pairs:c,isLast:!1}),c=[],r==null||r(f,!1)))}}}catch(h){throw h.name==="AbortError"?(A.postMessage({type:"abort"}),h):(n==null||n(h),h)}}function Ph(e){try{return JSON.parse(e)}catch{return console.warn("Parse error:",e.slice(0,50)),null}}const Vh="https://vhs.huma-num.fr",MF=()=>new Worker("/static/js/pairWorker.js",{type:"module"});function kF(e){const A=kA(null),t=kA(!1),r=kA({loaded:0,done:!1}),n=kA([]),i=kA(new Set),s=kA([]),o=kA(0),a=kA(3),l=kA(!1),c=kA("threshold"),f=kA([]),u=kA(new Map);let h,d=null;const g=kA({byImage:new Map,byDocPair:new Map,byDoc:new Map}),B=kA(new Map),p=kA(new Map),C=kA({}),U=kA({}),v=kA({}),y=kA({}),_=kA({documents:0,pairs:null,images:0,categories:{}}),H=Be(n,($,iA)=>{if($.length===0){iA(Promise.resolve(0));return}h&&h.terminate()&&(h=null),d&&d.abort(),d=new AbortController;const q=413,j=new Promise((tA,_A)=>{t.set(!0),r.set({loaded:0,done:!1}),A.set(null),(async()=>{try{h=MF(),h.onmessage=async EA=>{const{type:TA}=EA.data;if(TA==="progress"){r.set({loaded:EA.data.count,done:!1});return}if(TA!=="complete")return;const{allPairs:OA,imageNodes:te,pairIndex:pe,categories:ke,stats:ue}=EA.data;g.set(pe),C.set(ue.pairStats),G(),U.set(ue.documentStats),v.set(ue.imageStats),y.set(ue.docPairStats);const NA=Array.from(ue.documentStats.scoreCount.keys());Ee(i).size===0&&i.set(new Set(NA));const Xe=await Promise.all(NA.map(WA=>F(WA).then(ye=>({id:WA,info:ye})))),JA=new Map;Xe.forEach(({id:WA,info:ye})=>JA.set(WA,ye)),u.set(JA);const Qe=new Map;NA.forEach((WA,ye)=>{const me=JA.get(WA)||{};Qe.set(WA,{id:WA,title:me.title||`Region Extraction ${WA}`,color:me.color||Xg(ye),images:[],...me})}),te.forEach(WA=>{const ye=Qe.get(WA.regionId);ye&&(WA.color=ye.color,WA.title=`${ye.title} | Page ${WA.canvas}`,ye.images.push(WA))}),Qe.forEach(WA=>WA.images.sort((ye,me)=>{var He,X;return ye.canvas!==me.canvas?ye.canvas-me.canvas:(parseInt((He=ye.xywh)==null?void 0:He[1])||0)-(parseInt((X=me.xywh)==null?void 0:X[1])||0)})),B.set(te),p.set(Qe),_.set({documents:NA.length,pairs:OA.length,images:te.size,categories:ke}),f.set(OA),t.set(!1),r.set({loaded:OA.length,done:!0}),h.terminate(),h=null,tA(OA.length)},h.onerror=EA=>{console.error("Worker error",EA),A.set(`Worker error: ${EA.message}`),t.set(!1),_A(EA)};const ee=`${Vh}/document-set/${q}/pairs/stream?category=${$.join(",")}`;await LF(ee,h,{signal:d.signal,onProgress:(EA,TA)=>{r.set({loaded:EA,done:TA})},onError:EA=>{A.set(`Stream error: ${EA.message}`)}})}catch(ee){if(ee.name==="AbortError"){console.log("Request aborted");return}A.set(`Fetch error: ${ee.message}`),t.set(!1),_A(ee)}})()});iA(j)});async function F($){try{const iA=await fetch(`${Vh}/search/regions/?id=${$}`);if(!iA.ok)throw new Error(`HTTP ${iA.status}`);const{results:q}=await iA.json();if(!(q!=null&&q.length))return{title:`Region Extraction ${$}`};const j=q[0],[,...tA]=j.title.split(" | "),[_A,qA]=(j.ref||"_").split("_");return{title:tA.join(" | "),ref:j.ref,witnessId:$s(_A),digitizationRef:qA,zeros:j.zeros,img_nb:j.img_nb,url:j.url}}catch(iA){return A.set(`Error fetching region #${$}: ${iA.message}`),{title:`Region Extraction ${$}`}}}const b=Be([f,o,a,l,i],([$,iA,q,j,tA])=>{if(!$)return[];const _A=[],qA=Ee(c);for(let ee=0;ee<$.length;ee++){const EA=$[ee];if(qA==="threshold"&&EA.weightedScore<iA)break;if(!(!tA.has(EA.regions_id_1)||!tA.has(EA.regions_id_2))){if(qA==="topk"&&q!==null){const TA=EA.rank_1??1/0,OA=EA.rank_2??1/0;if(j){if(TA>q||OA>q)continue}else if(TA>q&&OA>q)continue}_A.push(EA)}}return _A}),k=Be([b,p],([$,iA])=>{if(!$.length||iA.size===0)return[];const q=new Set;for(const tA of $)q.add(tA.regions_id_1),q.add(tA.regions_id_2);const j=[];return q.forEach(tA=>{const _A=iA.get(tA);_A&&j.push(_A)}),j.sort((tA,_A)=>_A.id-tA.id)});function M($,iA,q=10,j=200,tA=2,_A=25){if(!iA)return{strength:.5,distance:100,width:2};const{min:qA,_:ee,range:EA}=iA,TA=EA===0?.5:($-qA)/EA,OA=j-TA*(j-q),te=tA+TA*(_A-tA);return{strength:TA,distance:OA,width:te}}function T($,iA,q=10,j=60){if(!iA)return q;const{min:tA,_:_A,range:qA}=iA;return qA===0?(q+j)/2:q+($-tA)/qA*(j-q)}const L=Be([b],([$])=>{var ee;const iA=Ee(B),q=Ee(v),j=Ee(C),tA=new Set,_A=[];for(const EA of $){const{strength:TA,distance:OA,width:te}=M(EA.weightedScore,j.scoreRange);_A.push({source:EA.id_1,target:EA.id_2,strength:TA,distance:OA,width:te}),tA.has(EA.id_1)||tA.add(EA.id_1),tA.has(EA.id_2)||tA.add(EA.id_2)}const qA=[];for(const EA of tA){const TA=iA.get(EA);if(TA){const OA=(ee=q.scoreCount)==null?void 0:ee.get(EA),{count:te,score:pe}=OA;qA.push({...TA,radius:T(pe,q.scoreRange),label:`Region: ${TA.regionId}
Page: ${TA.canvas}
Connections: ${te}
Total score: ${pe.toFixed(2)}`})}}return{nodes:qA,links:_A}}),E=Be(k,$=>{const iA=Ee(y),q=Ee(U);if($.size===0)return{nodes:[],links:[]};const j=Array.from($.values()).map(_A=>{var TA;const qA=(TA=q.scoreCount)==null?void 0:TA.get(_A.id),{count:ee,score:EA}=qA;return{..._A,radius:T(ee,q.countRange),label:`${_A.title}
Images: ${ee}
Total score: ${EA.toFixed(2)}`}}),tA=Array.from(iA.scoreCount.entries()).map(([_A,qA])=>{const[ee,EA]=_A.split("-").map(Number),{strength:TA,distance:OA,width:te}=M(qA.score,iA.scoreRange);return{source:ee,target:EA,strength:TA,distance:OA,width:te}});return{nodes:j,links:tA}});function R($){if(!$.length)return{regions:[],rows:[]};const iA=Ee(p),q=Ee(g),j=$[0],tA=iA.get(j);if(!(tA!=null&&tA.images))return{regions:$,rows:[]};const _A=tA.images,qA=(OA,te,pe)=>{const{r1:ke,r2:ue}={r1:te,r2:pe},NA=ke<ue?`${ke}-${ue}`:`${ue}-${ke}`;return(q.byDocPair.get(NA)||[]).map(JA=>JA.id_1===OA&&JA.regions_id_1===te?{id:JA.id_2,page:JA.page_2}:JA.id_2===OA&&JA.regions_id_2===te?{id:JA.id_1,page:JA.page_1}:null).filter(Boolean)},ee=[];for(const OA of _A){let te=[{[j]:{id:OA.id,page:OA.canvas}}];for(let pe=1;pe<$.length;pe++){const ke=$[pe],ue=[];for(const NA of te){const Xe=[];for(let JA=0;JA<pe;JA++){const Qe=$[JA];if(NA[Qe]){const WA=qA(NA[Qe].id,Qe,ke);Xe.push(...WA)}}if(Xe.length===0)ue.push(NA);else{const JA=new Map;Xe.forEach(Qe=>{JA.has(Qe.id)||JA.set(Qe.id,Qe)});for(const Qe of JA.values()){const WA={...NA,[ke]:Qe};ue.push(WA)}}}te=ue}ee.push(...te)}const EA=[],TA=new Set;for(const OA of ee){const te=$.map(pe=>{var ke;return((ke=OA[pe])==null?void 0:ke.id)||""}).join("|");TA.has(te)||(TA.add(te),EA.push(OA))}return{regions:$,rows:EA}}function S($){n.update(iA=>iA.indexOf($)>-1?iA.filter(j=>j!==$):[...iA,$].sort((j,tA)=>j-tA))}function Y($){i.update(iA=>{const q=new Set(iA);return q.has($)?q.delete($):q.add($),q})}function V(){const $=Array.from(Ee(p).keys());i.set(new Set($))}function G(){if(!Ee(n).includes(0))return;const{min:$,max:iA}=Ee(C).scoreRange||{};$==null||iA==null||Ee(o)===$&&o.set(($+iA)/2)}const AA=kA("filtered"),oA=kA(!1),fA=Be(b,$=>{const iA=new Set;for(const q of $)iA.add(`${q.id_1}-${q.id_2}`);return iA}),mA=Be(b,$=>{const iA=new Map;if(!($!=null&&$.length))return{scoreCount:iA,scoreRange:{min:0,max:0,range:0}};let q=1/0,j=-1/0;for(const tA of $){const _A=tA.regions_id_1<tA.regions_id_2?`${tA.regions_id_1}-${tA.regions_id_2}`:`${tA.regions_id_2}-${tA.regions_id_1}`,qA=iA.get(_A)||{score:0,count:0};qA.score+=tA.weightedScore||0,qA.count++,iA.set(_A,qA)}for(const{score:tA}of iA.values())tA<q&&(q=tA),tA>j&&(j=tA);return q===1/0&&(q=j=0),{scoreCount:iA,scoreRange:{min:q,max:j,range:j-q}}}),lA=Be(b,$=>{const iA=new Map;if(!($!=null&&$.length))return{scoreCount:iA,countRange:{min:0,max:0,range:0}};for(const tA of $)for(const _A of[tA.regions_id_1,tA.regions_id_2]){const qA=iA.get(_A)||{score:0,count:0};qA.score+=tA.weightedScore||0,qA.count++,iA.set(_A,qA)}let q=1/0,j=-1/0;for(const{count:tA}of iA.values())tA<q&&(q=tA),tA>j&&(j=tA);return q===1/0&&(q=j=0),{scoreCount:iA,countRange:{min:q,max:j,range:j-q}}}),wA=Be([AA,y,mA],([$,iA,q])=>$==="filtered"?q:iA),QA=Be([AA,U,lA],([$,iA,q])=>$==="filtered"?q:iA),ne=Be(p,$=>{var q;const iA=new Map;for(const[j,tA]of $)iA.set(j,Math.max(1,((q=tA.images)==null?void 0:q.length)||tA.img_nb||1));return iA});return{error:A,loadingProgress:r,cancelLoading:()=>{d&&(d.abort(),t.set(!1))},allPairs:f,visiblePairs:b,pairIndex:g,documentNodes:p,imageNodes:B,fetchPairs:H,imageNetwork:L,documentNetwork:E,selectedCategories:n,pairStats:C,documentStats:U,imageStats:v,docPairStats:y,docSetNumber:_,selectedNodes:s,selectedRegions:i,updateSelectedNodes:$=>s.set($),toggleCategory:S,toggleRegion:Y,selectAllRegions:V,buildAlignedImageMatrix:R,threshold:o,setThreshold:$=>o.set($),topK:a,setTopK:$=>a.set($),mutualTopK:l,setMutualTopK:$=>l.set($),scoreMode:c,setScoreMode:$=>c.set($),matrixMode:AA,setMatrixMode:$=>AA.set($),normalizeByImages:oA,activeDocPairStats:wA,activeDocStats:QA,imageCountMap:ne,visiblePairIds:fA}}function TF(e){let A,t,r;const n=e[1].default,i=lt(n,e,e[0],null);return{c(){A=Q("table"),t=Q("tbody"),i&&i.c(),m(A,"class","table is-fullwidth")},m(s,o){O(s,A,o),w(A,t),i&&i.m(t,null),r=!0},p(s,[o]){i&&i.p&&(!r||o&1)&&ut(i,n,s,s[0],r?ct(n,s[0],o,null):ft(s[0]),null)},i(s){r||(P(i,s),r=!0)},o(s){W(i,s),r=!1},d(s){s&&K(A),i&&i.d(s)}}}function DF(e,A,t){let{$$slots:r={},$$scope:n}=A;return e.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,r]}class KF extends GA{constructor(A){super(),VA(this,A,DF,TF,KA,{})}}const OF=e=>({}),Gh=e=>({}),NF=e=>({}),Xh=e=>({}),RF=e=>({}),Jh=e=>({});function PF(e){let A;const t=e[4]["row-body"],r=lt(t,e,e[3],Gh);return{c(){r&&r.c()},m(n,i){r&&r.m(n,i),A=!0},p(n,i){r&&r.p&&(!A||i&8)&&ut(r,t,n,n[3],A?ct(t,n[3],i,OF):ft(n[3]),Gh)},i(n){A||(P(r,n),A=!0)},o(n){W(r,n),A=!1},d(n){r&&r.d(n)}}}function VF(e){let A,t,r,n;const i=e[4]["row-body"],s=lt(i,e,e[3],Xh);return{c(){A=Q("div"),t=Q("div"),s&&s.c(),m(t,"class","grid is-gap-2"),m(A,"class",r="fixed-grid has-"+e[2]+"-cols")},m(o,a){O(o,A,a),w(A,t),s&&s.m(t,null),n=!0},p(o,a){s&&s.p&&(!n||a&8)&&ut(s,i,o,o[3],n?ct(i,o[3],a,NF):ft(o[3]),Xh),(!n||a&4&&r!==(r="fixed-grid has-"+o[2]+"-cols"))&&m(A,"class",r)},i(o){n||(P(s,o),n=!0)},o(o){W(s,o),n=!1},d(o){o&&K(A),s&&s.d(o)}}}function GF(e){let A,t,r,n,i,s,o,a,l,c;it(e[5]);const f=e[4]["row-header"],u=lt(f,e,e[3],Jh),h=[VF,PF],d=[];function g(B,p){return B[0]?0:1}return s=g(e),o=d[s]=h[s](e),{c(){A=Q("tr"),t=Q("th"),r=Q("div"),u&&u.c(),n=N(),i=Q("td"),o.c(),m(r,"class","content-wrapper py-5"),m(t,"class","is-3 center-flex is-narrow"),zA(t,"width","15vw"),m(i,"class","p-5 is-fullwidth")},m(B,p){O(B,A,p),w(A,t),w(t,r),u&&u.m(r,null),w(A,n),w(A,i),d[s].m(i,null),a=!0,l||(c=yA(window,"resize",e[5]),l=!0)},p(B,[p]){u&&u.p&&(!a||p&8)&&ut(u,f,B,B[3],a?ct(f,B[3],p,RF):ft(B[3]),Jh);let C=s;s=g(B),s===C?d[s].p(B,p):(ZA(),W(d[C],1,1,()=>{d[C]=null}),Ae(),o=d[s],o?o.p(B,p):(o=d[s]=h[s](B),o.c()),P(o,1),o.m(i,null))},i(B){a||(P(u,B),P(o),a=!0)},o(B){W(u,B),W(o),a=!1},d(B){B&&K(A),u&&u.d(B),d[s].d(),l=!1,c()}}}function XF(e,A,t){let r,{$$slots:n={},$$scope:i}=A,{useGrid:s=!0}=A,o=0;function a(){t(1,o=window.innerWidth)}return e.$$set=l=>{"useGrid"in l&&t(0,s=l.useGrid),"$$scope"in l&&t(3,i=l.$$scope)},e.$$.update=()=>{e.$$.dirty&2&&t(2,r=sl(o))},[s,o,r,i,n,a]}class Wh extends GA{constructor(A){super(),VA(this,A,XF,GF,KA,{useGrid:0})}}const rS="",JF=e=>({}),Yh=e=>({}),WF=e=>({}),zh=e=>({});function $h(e){let A,t,r,n,i,s,o,a,l,c,f,u=e[1]&&jh(e);return a=new hi({props:{tooltipText:e[2][e[1]][J]}}),{c(){u&&u.c(),A=N(),t=Q("div"),r=Q("button"),n=mt("svg"),i=mt("path"),o=N(),BA(a.$$.fragment),m(i,"fill","none"),m(i,"stroke","currentColor"),m(i,"stroke-linecap","round"),m(i,"stroke-linejoin","round"),m(i,"stroke-width","1.5"),m(i,"d","M12 3v18m0 0l8.5-8.5M12 21l-8.5-8.5"),m(n,"style",s=`transform: rotate(${e[1]?"180":"0"}deg)`),m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"width","24"),m(n,"height","24"),m(n,"viewBox","0 0 24 24"),m(n,"class","svelte-jbs1sd"),m(r,"class","button is-link svelte-jbs1sd"),m(t,"class","ctrl-toggle svelte-jbs1sd")},m(h,d){u&&u.m(h,d),O(h,A,d),O(h,t,d),w(t,r),w(r,n),w(n,i),w(r,o),dA(a,r,null),l=!0,c||(f=yA(r,"click",Mt(e[3])),c=!0)},p(h,d){h[1]?u?(u.p(h,d),d&2&&P(u,1)):(u=jh(h),u.c(),P(u,1),u.m(A.parentNode,A)):u&&(ZA(),W(u,1,1,()=>{u=null}),Ae()),(!l||d&2&&s!==(s=`transform: rotate(${h[1]?"180":"0"}deg)`))&&m(n,"style",s);const g={};d&2&&(g.tooltipText=h[2][h[1]][J]),a.$set(g)},i(h){l||(P(u),P(a.$$.fragment,h),l=!0)},o(h){W(u),W(a.$$.fragment,h),l=!1},d(h){u&&u.d(h),h&&K(A),h&&K(t),gA(a),c=!1,f()}}}function jh(e){let A,t,r;const n=e[5]["toolbar-hidden"],i=lt(n,e,e[4],Yh);return{c(){A=Q("div"),i&&i.c(),m(A,"class","ctrl-extra")},m(s,o){O(s,A,o),i&&i.m(A,null),r=!0},p(s,o){i&&i.p&&(!r||o&16)&&ut(i,n,s,s[4],r?ct(n,s[4],o,JF):ft(s[4]),Yh)},i(s){r||(P(i,s),it(()=>{r&&(t||(t=$t(A,al,{axis:"y"},!0)),t.run(1))}),r=!0)},o(s){W(i,s),t||(t=$t(A,al,{axis:"y"},!1)),t.run(0),r=!1},d(s){s&&K(A),i&&i.d(s),s&&t&&t.end()}}}function YF(e){let A,t,r,n,i,s,o,a;const l=e[5]["toolbar-visible"],c=lt(l,e,e[4],zh);let f=e[0]&&$h(e);return{c(){A=Q("div"),t=Q("form"),r=Q("div"),n=Q("div"),i=Q("div"),c&&c.c(),s=N(),f&&f.c(),m(i,"class","ctrl-block svelte-jbs1sd"),m(n,"class","ctrl-block-wrapper svelte-jbs1sd"),m(r,"class","ctrl-base"),m(t,"class","ctrl svelte-jbs1sd"),m(A,"id","toolbar"),m(A,"class",o="ctrl-wrapper is-flex is-justify-content-center is-align-items-center "+(e[1]?"toolbar-expanded":"toolbar-collapsed")+" svelte-jbs1sd")},m(u,h){O(u,A,h),w(A,t),w(t,r),w(r,n),w(n,i),c&&c.m(i,null),w(t,s),f&&f.m(t,null),a=!0},p(u,[h]){c&&c.p&&(!a||h&16)&&ut(c,l,u,u[4],a?ct(l,u[4],h,WF):ft(u[4]),zh),u[0]?f?(f.p(u,h),h&1&&P(f,1)):(f=$h(u),f.c(),P(f,1),f.m(t,null)):f&&(ZA(),W(f,1,1,()=>{f=null}),Ae()),(!a||h&2&&o!==(o="ctrl-wrapper is-flex is-justify-content-center is-align-items-center "+(u[1]?"toolbar-expanded":"toolbar-collapsed")+" svelte-jbs1sd"))&&m(A,"class",o)},i(u){a||(P(c,u),P(f),a=!0)},o(u){W(c,u),W(f),a=!1},d(u){u&&K(A),c&&c.d(u),f&&f.d()}}}function zF(e,A,t){let r,{$$slots:n={},$$scope:i}=A,{expandable:s=!0}=A;const o={true:{en:"Collapse the toolbar",fr:"Refermer le menu"},false:{en:"Expand the toolbar",fr:"Ouvrir le menu"}},a=()=>t(1,r=!r);return e.$$set=l=>{"expandable"in l&&t(0,s=l.expandable),"$$scope"in l&&t(4,i=l.$$scope)},t(1,r=!1),[s,r,o,a,i,n]}class $F extends GA{constructor(A){super(),VA(this,A,zF,YF,KA,{expandable:0})}}function qh(e){let A,t,r,n,i,s,o,a,l,c=e[5]>1&&Zh(e),f=e[5]<e[3]&&td(e);return{c(){A=Q("nav"),t=Q("ul"),c&&c.c(),r=N(),n=Q("li"),i=Q("a"),s=sA(e[5]),o=N(),f&&f.c(),m(i,"class","pagination-link is-current"),m(i,"href",null),m(t,"class","pagination-list ml-0"),m(A,"class","pagination is-centered mb-2"),m(A,"aria-label","pagination")},m(u,h){O(u,A,h),w(A,t),c&&c.m(t,null),w(t,r),w(t,n),w(n,i),w(i,s),w(t,o),f&&f.m(t,null),a||(l=yA(i,"click",Mt(e[9])),a=!0)},p(u,h){u[5]>1?c?c.p(u,h):(c=Zh(u),c.c(),c.m(t,r)):c&&(c.d(1),c=null),h&32&&PA(s,u[5]),u[5]<u[3]?f?f.p(u,h):(f=td(u),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(u){u&&K(A),c&&c.d(),f&&f.d(),a=!1,l()}}}function Zh(e){let A,t,r,n,i,s,o=e[5]-1>1&&Ad(e);return{c(){A=Q("li"),t=Q("a"),t.textContent="1",r=N(),o&&o.c(),n=Oe(),m(t,"class","pagination-link"),m(t,"href",null)},m(a,l){O(a,A,l),w(A,t),O(a,r,l),o&&o.m(a,l),O(a,n,l),i||(s=yA(t,"click",Mt(e[7])),i=!0)},p(a,l){a[5]-1>1?o?o.p(a,l):(o=Ad(a),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(a){a&&K(A),a&&K(r),o&&o.d(a),a&&K(n),i=!1,s()}}}function Ad(e){let A,t,r,n=e[5]-1+"",i,s,o,a=e[5]-1>2&&ed();return{c(){a&&a.c(),A=N(),t=Q("li"),r=Q("a"),i=sA(n),m(r,"class","pagination-link"),m(r,"href",null)},m(l,c){a&&a.m(l,c),O(l,A,c),O(l,t,c),w(t,r),w(r,i),s||(o=yA(r,"click",Mt(e[8])),s=!0)},p(l,c){l[5]-1>2?a||(a=ed(),a.c(),a.m(A.parentNode,A)):a&&(a.d(1),a=null),c&32&&n!==(n=l[5]-1+"")&&PA(i,n)},d(l){a&&a.d(l),l&&K(A),l&&K(t),s=!1,o()}}}function ed(e){let A;return{c(){A=Q("li"),A.innerHTML='<span class="pagination-ellipsis">…</span>'},m(t,r){O(t,A,r)},d(t){t&&K(A)}}}function td(e){let A,t,r,n,i,s,o=e[5]+1<e[3]&&rd(e);return{c(){o&&o.c(),A=N(),t=Q("li"),r=Q("a"),n=sA(e[3]),m(r,"class","pagination-link"),m(r,"href",null)},m(a,l){o&&o.m(a,l),O(a,A,l),O(a,t,l),w(t,r),w(r,n),i||(s=yA(r,"click",Mt(e[11])),i=!0)},p(a,l){a[5]+1<a[3]?o?o.p(a,l):(o=rd(a),o.c(),o.m(A.parentNode,A)):o&&(o.d(1),o=null),l&8&&PA(n,a[3])},d(a){o&&o.d(a),a&&K(A),a&&K(t),i=!1,s()}}}function rd(e){let A,t,r=e[5]+1+"",n,i,s,o,a,l=e[5]+2<e[3]&&nd();return{c(){A=Q("li"),t=Q("a"),n=sA(r),i=N(),l&&l.c(),s=Oe(),m(t,"class","pagination-link"),m(t,"href",null)},m(c,f){O(c,A,f),w(A,t),w(t,n),O(c,i,f),l&&l.m(c,f),O(c,s,f),o||(a=yA(t,"click",Mt(e[10])),o=!0)},p(c,f){f&32&&r!==(r=c[5]+1+"")&&PA(n,r),c[5]+2<c[3]?l||(l=nd(),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d(c){c&&K(A),c&&K(i),l&&l.d(c),c&&K(s),o=!1,a()}}}function nd(e){let A;return{c(){A=Q("li"),A.innerHTML='<span class="pagination-ellipsis">…</span>'},m(t,r){O(t,A,r)},d(t){t&&K(A)}}}function jF(e){let A,t,r=e[5]*e[2]-e[2]+1+"",n,i,s=Math.min(e[5]*e[2],e[1])+"",o,a,l,c,f=e[4]&&qh(e);return{c(){f&&f.c(),A=N(),t=Q("div"),n=sA(r),i=sA(" - "),o=sA(s),a=sA(" / "),l=sA(e[1]),m(t,"class",c="is-size-7 is-center mb-4 "+(e[4]?"":"mt-4"))},m(u,h){f&&f.m(u,h),O(u,A,h),O(u,t,h),w(t,n),w(t,i),w(t,o),w(t,a),w(t,l)},p(u,[h]){u[4]?f?f.p(u,h):(f=qh(u),f.c(),f.m(A.parentNode,A)):f&&(f.d(1),f=null),h&36&&r!==(r=u[5]*u[2]-u[2]+1+"")&&PA(n,r),h&38&&s!==(s=Math.min(u[5]*u[2],u[1])+"")&&PA(o,s),h&2&&PA(l,u[1]),h&16&&c!==(c="is-size-7 is-center mb-4 "+(u[4]?"":"mt-4"))&&m(t,"class",c)},i:rA,o:rA,d(u){f&&f.d(u),u&&K(A),u&&K(t)}}}function qF(e,A,t){let r,n,i,{store:s}=A;const{currentPage:o}=s;SA(e,o,g=>t(5,i=g));let{nbOfItems:a}=A,{pageLength:l=kg}=A;const c=()=>s.handlePageUpdate(1),f=()=>s.handlePageUpdate(i-1),u=()=>s.handlePageUpdate(i),h=()=>s.handlePageUpdate(i+1),d=()=>s.handlePageUpdate(r);return e.$$set=g=>{"store"in g&&t(0,s=g.store),"nbOfItems"in g&&t(1,a=g.nbOfItems),"pageLength"in g&&t(2,l=g.pageLength)},e.$$.update=()=>{e.$$.dirty&6&&t(3,r=l>0?Math.ceil(a/l):1),e.$$.dirty&14&&t(4,n=r>1||a>l)},[s,a,l,r,n,i,o,c,f,u,h,d]}class id extends GA{constructor(A){super(),VA(this,A,qF,jF,KA,{store:0,nbOfItems:1,pageLength:2})}}function ZF(e){let A,t,r,n,i=J==="en"?"Save selection":"Sauvegarder la sélection",s,o,a;return{c(){A=Q("button"),t=Q("span"),r=Q("i"),n=N(),s=sA(i),m(r,"class","fa-solid fa-floppy-disk"),m(A,"class","button is-link")},m(l,c){O(l,A,c),w(A,t),w(t,r),w(t,n),w(t,s),o||(a=yA(A,"click",e[7]),o=!0)},p:rA,d(l){l&&K(A),o=!1,a()}}}function Ab(e){let A,t,r,n,i=J==="en"?"Go to treatment":"Accéder au traitement",s,o;return{c(){var a;A=Q("a"),t=Q("span"),r=Q("i"),n=N(),s=sA(i),m(r,"class","fa-solid fa-gear"),m(A,"class","button is-link"),m(A,"href",o="/"+wt+"/treatment/add/?document_set="+((a=e[3])==null?void 0:a.id))},m(a,l){O(a,A,l),w(A,t),w(t,r),w(t,n),w(t,s)},p(a,l){var c;l&8&&o!==(o="/"+wt+"/treatment/add/?document_set="+((c=a[3])==null?void 0:c.id))&&m(A,"href",o)},d(a){a&&K(A)}}}function sd(e){let A,t,r,n,i,s,o;return{c(){var a,l;A=Q("a"),t=Q("span"),t.innerHTML='<i class="fa-solid fa-file-export"></i> JSON',n=N(),i=Q("a"),s=Q("span"),s.innerHTML='<i class="fa-solid fa-file-zipper"></i> ZIP',m(A,"class","button is-link is-dark"),m(A,"href",r="/"+wt+"/document-set/"+((a=e[3])==null?void 0:a.id)+"/json"),m(A,"target","_blank"),m(i,"class","button is-link is-dark"),m(i,"href",o="/"+wt+"/document-set/"+((l=e[3])==null?void 0:l.id)+"/zip"),m(i,"target","_blank")},m(a,l){O(a,A,l),w(A,t),O(a,n,l),O(a,i,l),w(i,s)},p(a,l){var c,f;l&8&&r!==(r="/"+wt+"/document-set/"+((c=a[3])==null?void 0:c.id)+"/json")&&m(A,"href",r),l&8&&o!==(o="/"+wt+"/document-set/"+((f=a[3])==null?void 0:f.id)+"/zip")&&m(i,"href",o)},d(a){a&&K(A),a&&K(n),a&&K(i)}}}function eb(e){let A,t,r,n,i,s,o;function a(u,h){return u[2]&&!u[1]?Ab:ZF}let l=a(e),c=l(e),f=!e[1]&&sd(e);return{c(){A=Q("footer"),t=Q("div"),r=Q("button"),r.textContent=`${J==="en"?"Clear selection":"Vider la sélection"}`,n=N(),c.c(),i=N(),f&&f.c(),m(r,"class","button button-close is-link is-light"),m(t,"class","buttons"),m(A,"class","modal-card-foot is-center")},m(u,h){O(u,A,h),w(A,t),w(t,r),w(t,n),c.m(t,null),w(t,i),f&&f.m(t,null),s||(o=yA(r,"click",e[6]),s=!0)},p(u,[h]){l===(l=a(u))&&c?c.p(u,h):(c.d(1),c=l(u),c&&(c.c(),c.m(t,i))),u[1]?f&&(f.d(1),f=null):f?f.p(u,h):(f=sd(u),f.c(),f.m(t,null))},i:rA,o:rA,d(u){u&&K(A),c.d(),f&&f.d(),s=!1,o()}}}function tb(e,A,t){let r,n,{selectionStore:i}=A;const{isSaved:s,selection:o}=i;SA(e,s,f=>t(2,r=f)),SA(e,o,f=>t(3,n=f));let{isRegion:a=i.type!=="documentSet"}=A;const l=()=>i.empty(),c=()=>i.save();return e.$$set=f=>{"selectionStore"in f&&t(0,i=f.selectionStore),"isRegion"in f&&t(1,a=f.isRegion)},[i,a,r,n,s,o,l,c]}class rb extends GA{constructor(A){super(),VA(this,A,tb,eb,KA,{selectionStore:0,isRegion:1})}}const nS="";function nb(e){let A,t,r,n,i,s;return{c(){A=Q("span"),t=sA(e[5]),r=N(),n=Q("span"),n.innerHTML='<i class="fas fa-edit"></i>',m(n,"class","pl-3 smaller has-text-link")},m(o,a){O(o,A,a),w(A,t),w(A,r),w(A,n),i||(s=[yA(A,"click",e[7]),yA(A,"keyup",null)],i=!0)},p(o,a){a&32&&PA(t,o[5])},d(o){o&&K(A),i=!1,be(s)}}}function ib(e){let A,t,r;return{c(){A=Q("input"),m(A,"class","input selection-title svelte-sgypdx")},m(n,i){O(n,A,i),e[12](A),Zn(A,e[4]),t||(r=[yA(A,"input",e[13]),yA(A,"keydown",e[8]),yA(A,"blur",e[9])],t=!0)},p(n,i){i&16&&A.value!==n[4]&&Zn(A,n[4])},d(n){n&&K(A),e[12](null),t=!1,be(r)}}}function sb(e){let A,t,r,n,i,s,o,a,l,c,f,u,h,d,g,B,p,C,U,v;function y(k,M){return k[2]?ib:nb}let _=y(e),H=_(e);const F=e[11].default,b=lt(F,e,e[10],null);return p=new rb({props:{selectionStore:e[0]}}),{c(){A=Q("div"),t=Q("div"),r=N(),n=Q("div"),i=Q("div"),s=Q("div"),o=Q("i"),a=N(),H.c(),l=sA(`
                (`),c=sA(e[1]),f=sA(")"),u=N(),h=Q("button"),d=N(),g=Q("section"),b&&b.c(),B=N(),BA(p.$$.fragment),m(t,"class","modal-background"),m(o,"class","fa-solid fa-book-bookmark"),m(s,"class","title is-4 mb-0 media-content"),m(h,"class","delete media-left"),m(h,"aria-label","close"),m(i,"class","modal-card-head media mb-0 is-middle"),m(g,"class","modal-card-body"),m(n,"class","modal-content"),m(A,"id","selection-modal"),m(A,"class","modal fade"),m(A,"tabindex","-1"),m(A,"aria-labelledby","selection-modal-label"),m(A,"aria-hidden","true")},m(k,M){O(k,A,M),w(A,t),w(A,r),w(A,n),w(n,i),w(i,s),w(s,o),w(s,a),H.m(s,null),w(s,l),w(s,c),w(s,f),w(i,u),w(i,h),w(n,d),w(n,g),b&&b.m(g,null),w(n,B),dA(p,n,null),C=!0,U||(v=on(Ao.call(null,A)),U=!0)},p(k,[M]){_===(_=y(k))&&H?H.p(k,M):(H.d(1),H=_(k),H&&(H.c(),H.m(s,l))),(!C||M&2)&&PA(c,k[1]),b&&b.p&&(!C||M&1024)&&ut(b,F,k,k[10],C?ct(F,k[10],M,null):ft(k[10]),null);const T={};M&1&&(T.selectionStore=k[0]),p.$set(T)},i(k){C||(P(b,k),P(p.$$.fragment,k),C=!0)},o(k){W(b,k),W(p.$$.fragment,k),C=!1},d(k){k&&K(A),H.d(),b&&b.d(k),gA(p),U=!1,v()}}}function ob(e,A,t){let r,{$$slots:n={},$$scope:i}=A,{selectionStore:s}=A;const{selectionTitle:o,updateTitle:a,save:l}=s;SA(e,o,U=>t(5,r=U));let{selectionLength:c=!1}=A,f=!1,u,h;function d(){t(2,f=!0),t(4,h=r),setTimeout(()=>u&&u.focus(),0)}function g(U){U.key==="Enter"&&B()}function B(){t(2,f=!1),a(h),l()}function p(U){zt[U?"unshift":"push"](()=>{u=U,t(3,u)})}function C(){h=this.value,t(4,h)}return e.$$set=U=>{"selectionStore"in U&&t(0,s=U.selectionStore),"selectionLength"in U&&t(1,c=U.selectionLength),"$$scope"in U&&t(10,i=U.$$scope)},[s,c,f,u,h,r,o,d,g,B,i,n,p,C]}class ab extends GA{constructor(A){super(),VA(this,A,ob,sb,KA,{selectionStore:0,selectionLength:1})}}const iS="";function lb(e){let A,t,r,n,i,s=J==="en"?"Selection":"Sélection",o,a,l,c,f,u;return{c(){A=Q("div"),t=Q("button"),r=Q("span"),n=Q("i"),i=N(),o=sA(s),a=sA(`
            (`),l=sA(e[0]),c=sA(")"),m(n,"class","fa-solid fa-book-bookmark"),m(r,"id","btn-content"),m(t,"id","set-btn"),m(t,"class","button px-5 py-4 is-link svelte-gmt9z5"),m(t,"data-target","selection-modal"),m(A,"class","set-container svelte-gmt9z5")},m(h,d){O(h,A,d),w(A,t),w(t,r),w(r,n),w(r,i),w(r,o),w(r,a),w(r,l),w(r,c),f||(u=on(ol.call(null,t)),f=!0)},p(h,[d]){d&1&&PA(l,h[0])},i:rA,o:rA,d(h){h&&K(A),f=!1,u()}}}function cb(e,A,t){let{selectionLength:r=0}=A,n=r;return e.$$set=i=>{"selectionLength"in i&&t(0,r=i.selectionLength)},e.$$.update=()=>{if(e.$$.dirty&3&&r!==n){const i=r>n;t(1,n=r);const s=document.getElementById("btn-content");s&&s.animate([{transform:i?"translateY(-7px)":"translateX(-5px)"},{transform:i?"translateY(7px)":"translateX(5px)"},{transform:"translate(0)"}],{duration:300,easing:"cubic-bezier(0.65, 0, 0.35, 1)"})}},[r,n]}class ub extends GA{constructor(A){super(),VA(this,A,cb,lb,KA,{selectionLength:0})}}const sS="";function od(e,A,t){const r=e.slice();return r[7]=A[t][0],r[8]=A[t][1],r}function fb(e){let A;return{c(){A=Q("div"),A.textContent=`${J==="en"?"No regions in selection":"Aucune région sélectionnée"}`},m(t,r){O(t,A,r)},p:rA,d(t){t&&K(A)}}}function hb(e){let A,t,r=Object.entries(e[2]),n=[];for(let i=0;i<r.length;i+=1)n[i]=ad(od(e,r,i));return{c(){A=Q("div"),t=Q("div");for(let i=0;i<n.length;i+=1)n[i].c();m(t,"class","grid is-gap-2"),m(A,"class","fixed-grid has-6-cols")},m(i,s){O(i,A,s),w(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s&13){r=Object.entries(i[2]);let o;for(o=0;o<r.length;o+=1){const a=od(i,r,o);n[o]?n[o].p(a,s):(n[o]=ad(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&K(A),Le(n,i)}}}function ad(e){let A,t,r,n,i,s,o,a=e[8].title+"",l,c,f,u,h,d;function g(){return e[6](e[7])}return{c(){A=Q("div"),t=Q("figure"),r=Q("img"),i=N(),s=Q("div"),o=Q("span"),l=sA(a),c=N(),f=Q("button"),u=N(),Je(r.src,n=ht(e[8].img,e[8].xywh,"96,"))||m(r,"src",n),m(r,"alt","Extracted region"),m(o,"class","overlay-desc"),m(s,"class","overlay is-center svelte-g8ij5d"),m(t,"class","image is-64x64 card"),m(f,"class","delete region-btn svelte-g8ij5d"),m(f,"aria-label","remove from selection"),m(A,"class","selection cell svelte-g8ij5d")},m(B,p){O(B,A,p),w(A,t),w(t,r),w(t,i),w(t,s),w(s,o),w(o,l),w(A,c),w(A,f),w(A,u),h||(d=yA(f,"click",g),h=!0)},p(B,p){e=B,p&4&&!Je(r.src,n=ht(e[8].img,e[8].xywh,"96,"))&&m(r,"src",n),p&4&&a!==(a=e[8].title+"")&&PA(l,a)},d(B){B&&K(A),h=!1,d()}}}function db(e){let A;function t(i,s){return i[4]?hb:fb}let r=t(e),n=r(e);return{c(){n.c(),A=Oe()},m(i,s){n.m(i,s),O(i,A,s)},p(i,s){r===(r=t(i))&&n?n.p(i,s):(n.d(1),n=r(i),n&&(n.c(),n.m(A.parentNode,A)))},d(i){n.d(i),i&&K(A)}}}function gb(e){let A,t,r,n;return A=new ub({props:{selectionLength:e[1]}}),r=new ab({props:{selectionLength:e[1],selectionStore:e[0],$$slots:{default:[db]},$$scope:{ctx:e}}}),{c(){BA(A.$$.fragment),t=N(),BA(r.$$.fragment)},m(i,s){dA(A,i,s),O(i,t,s),dA(r,i,s),n=!0},p(i,[s]){const o={};s&2&&(o.selectionLength=i[1]),A.$set(o);const a={};s&2&&(a.selectionLength=i[1]),s&1&&(a.selectionStore=i[0]),s&2077&&(a.$$scope={dirty:s,ctx:i}),r.$set(a)},i(i){n||(P(A.$$.fragment,i),P(r.$$.fragment,i),n=!0)},o(i){W(A.$$.fragment,i),W(r.$$.fragment,i),n=!1},d(i){gA(A,i),i&&K(t),gA(r,i)}}}function Bb(e,A,t){let r,n,i,s,{selectionStore:o}=A;const{selected:a}=o;SA(e,a,c=>t(3,s=c));const l=c=>o.remove(c,Object.keys(s)[0]);return e.$$set=c=>{"selectionStore"in c&&t(0,o=c.selectionStore)},e.$$.update=()=>{e.$$.dirty&8&&t(2,r=Object.values(s)[0]||{}),e.$$.dirty&4&&t(1,n=Object.keys(r).length),e.$$.dirty&2&&t(4,i=n>0)},[o,n,r,s,i,a,l]}class pb extends GA{constructor(A){super(),VA(this,A,Bb,gb,KA,{selectionStore:0})}}const oS="";function ld(e,A,t){const r=e.slice();return r[17]=A[t],r}function cd(e,A,t){const r=e.slice();return r[20]=A[t],r}function ud(e,A,t){const r=e.slice();return r[23]=A[t],r}function mb(e){let A,t;return A=new $F({props:{expandable:!1,$$slots:{"toolbar-visible":[wb]},$$scope:{ctx:e}}}),{c(){BA(A.$$.fragment)},m(r,n){dA(A,r,n),t=!0},p(r,n){const i={};n&67108864&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(P(A.$$.fragment,r),t=!0)},o(r){W(A.$$.fragment,r),t=!1},d(r){gA(A,r)}}}function fd(e){let A,t,r,n,i,s=e[23].title+"",o,a,l,c=e[23].shortcut+"",f,u,h,d;return{c(){A=Q("p"),t=Q("button"),r=Q("span"),n=Q("i"),i=N(),o=sA(s),a=N(),l=Q("span"),f=sA(c),u=N(),m(n,"class","fas "+e[23].icon+" svelte-7vjt6f"),m(r,"class","icon is-small"),m(l,"class","shortcut svelte-7vjt6f"),m(t,"class","button pl-5"),m(t,"title",e[23].desc),m(A,"class","control")},m(g,B){O(g,A,B),w(A,t),w(t,r),w(r,n),w(t,i),w(t,o),w(t,a),w(t,l),w(l,f),w(A,u),h||(d=yA(t,"click",Mt(e[23].fct)),h=!0)},p(g,B){e=g},d(g){g&&K(A),h=!1,d()}}}function wb(e){let A,t,r,n,i,s,o,a=Object.values(e[10]),l=[];for(let c=0;c<a.length;c+=1)l[c]=fd(ud(e,a,c));return{c(){A=Q("div"),t=Q("div"),r=Q("div"),n=Q("span"),n.textContent=`${J==="en"?"Process selection":"Agir sur la sélection"}`,i=N(),s=Q("div"),o=Q("div");for(let c=0;c<l.length;c+=1)l[c].c();m(n,"class","tag is-medium is-link mr-5"),m(r,"class","column is-narrow mr-5"),m(o,"class","field has-addons"),m(s,"class","column"),m(t,"class","columns is-vcentered is-mobile py-4"),m(A,"slot","toolbar-visible")},m(c,f){O(c,A,f),w(A,t),w(t,r),w(r,n),w(t,i),w(t,s),w(s,o);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(o,null)},p(c,f){if(f&1024){a=Object.values(c[10]);let u;for(u=0;u<a.length;u+=1){const h=ud(c,a,u);l[u]?l[u].p(h,f):(l[u]=fd(h),l[u].c(),l[u].m(o,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=a.length}},d(c){c&&K(A),Le(l,c)}}}function vb(e){let A,t=e[9].title+"",r;return{c(){A=Q("span"),r=sA(t),m(A,"class","button is-small is-success"),m(A,"title",e[9].desc)},m(n,i){O(n,A,i),w(A,r)},p:rA,d(n){n&&K(A)}}}function Cb(e){let A,t=e[8].title+"",r,n,i;function s(){return e[12](e[17])}return{c(){A=Q("button"),r=sA(t),m(A,"class","button is-small is-warning"),m(A,"title",e[8].desc)},m(o,a){O(o,A,a),w(A,r),n||(i=yA(A,"click",s),n=!0)},p(o,a){e=o},d(o){o&&K(A),n=!1,i()}}}function Qb(e){let A,t,r=e[17].size+"",n,i,s,o,a,l;function c(h,d){return h[17].fullyConnected?vb:Cb}let f=c(e),u=f(e);return{c(){A=Q("div"),t=Q("span"),n=sA(r),i=sA(" images"),s=N(),o=Q("hr"),a=N(),u.c(),l=N(),m(t,"class","cluster-size"),m(A,"class","cluster-info is-center is-fullwidth")},m(h,d){O(h,A,d),w(A,t),w(t,n),w(t,i),w(A,s),w(A,o),w(A,a),u.m(A,null),O(h,l,d)},p(h,d){d&4&&r!==(r=h[17].size+"")&&PA(n,r),f===(f=c(h))&&u?u.p(h,d):(u.d(1),u=f(h),u&&(u.c(),u.m(A,null)))},d(h){h&&K(A),u.d(),h&&K(l)}}}function hd(e){let A,t;return A=new Xr({props:{item:{...e[3].get(e[20]),clusterId:e[17].id},copyable:!1,selectionStore:Ri}}),{c(){BA(A.$$.fragment)},m(r,n){dA(A,r,n),t=!0},p(r,n){const i={};n&12&&(i.item={...r[3].get(r[20]),clusterId:r[17].id}),A.$set(i)},i(r){t||(P(A.$$.fragment,r),t=!0)},o(r){W(A.$$.fragment,r),t=!1},d(r){gA(A,r)}}}function yb(e){let A,t,r=e[17].members,n=[];for(let s=0;s<r.length;s+=1)n[s]=hd(cd(e,r,s));const i=s=>W(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();A=N()},m(s,o){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(s,o);O(s,A,o),t=!0},p(s,o){if(o&12){r=s[17].members;let a;for(a=0;a<r.length;a+=1){const l=cd(s,r,a);n[a]?(n[a].p(l,o),P(n[a],1)):(n[a]=hd(l),n[a].c(),P(n[a],1),n[a].m(A.parentNode,A))}for(ZA(),a=r.length;a<n.length;a+=1)i(a);Ae()}},i(s){if(!t){for(let o=0;o<r.length;o+=1)P(n[o]);t=!0}},o(s){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)W(n[o]);t=!1},d(s){Le(n,s),s&&K(A)}}}function dd(e,A){let t,r,n;return r=new Wh({props:{$$slots:{"row-body":[yb],"row-header":[Qb]},$$scope:{ctx:A}}}),{key:e,first:null,c(){t=Oe(),BA(r.$$.fragment),this.first=t},m(i,s){O(i,t,s),dA(r,i,s),n=!0},p(i,s){A=i;const o={};s&67108876&&(o.$$scope={dirty:s,ctx:A}),r.$set(o)},i(i){n||(P(r.$$.fragment,i),n=!0)},o(i){W(r.$$.fragment,i),n=!1},d(i){i&&K(t),gA(r,i)}}}function _b(e){let A=[],t=new Map,r,n,i=e[2];const s=o=>o[17].id;for(let o=0;o<i.length;o+=1){let a=ld(e,i,o),l=s(a);t.set(l,A[o]=dd(l,a))}return{c(){for(let o=0;o<A.length;o+=1)A[o].c();r=Oe()},m(o,a){for(let l=0;l<A.length;l+=1)A[l]&&A[l].m(o,a);O(o,r,a),n=!0},p(o,a){a&780&&(i=o[2],ZA(),A=si(A,a,s,1,o,i,t,r.parentNode,Js,dd,r,ld),Ae())},i(o){if(!n){for(let a=0;a<i.length;a+=1)P(A[a]);n=!0}},o(o){for(let a=0;a<A.length;a+=1)W(A[a]);n=!1},d(o){for(let a=0;a<A.length;a+=1)A[a].d(o);o&&K(r)}}}function Ub(e){let A,t,r,n,i,s,o,a,l,c=Ys&&mb(e);return t=new id({props:{store:e[0],nbOfItems:e[1],pageLength:e[7]}}),n=new pb({props:{selectionStore:Ri}}),s=new KF({props:{$$slots:{default:[_b]},$$scope:{ctx:e}}}),a=new id({props:{store:e[0],nbOfItems:e[1],pageLength:e[7]}}),{c(){c&&c.c(),A=N(),BA(t.$$.fragment),r=N(),BA(n.$$.fragment),i=N(),BA(s.$$.fragment),o=N(),BA(a.$$.fragment)},m(f,u){c&&c.m(f,u),O(f,A,u),dA(t,f,u),O(f,r,u),dA(n,f,u),O(f,i,u),dA(s,f,u),O(f,o,u),dA(a,f,u),l=!0},p(f,[u]){Ys&&c.p(f,u);const h={};u&1&&(h.store=f[0]),u&2&&(h.nbOfItems=f[1]),t.$set(h);const d={};u&67108876&&(d.$$scope={dirty:u,ctx:f}),s.$set(d);const g={};u&1&&(g.store=f[0]),u&2&&(g.nbOfItems=f[1]),a.$set(g)},i(f){l||(P(c),P(t.$$.fragment,f),P(n.$$.fragment,f),P(s.$$.fragment,f),P(a.$$.fragment,f),l=!0)},o(f){W(c),W(t.$$.fragment,f),W(n.$$.fragment,f),W(s.$$.fragment,f),W(a.$$.fragment,f),l=!1},d(f){c&&c.d(f),f&&K(A),gA(t,f),f&&K(r),gA(n,f),f&&K(i),gA(s,f),f&&K(o),gA(a,f)}}}function Fb(e,A,t){let r,n,i,{documentSetStore:s}=A;const{imageNodes:o}=s;SA(e,o,v=>t(3,i=v));let{clusterStore:a}=A;const{clusterNb:l,paginatedClusters:c,pageLength:f,validateCluster:u,newCluster:h,removeFromClusters:d}=a;SA(e,l,v=>t(1,r=v)),SA(e,c,v=>t(2,n=v));const g={create:{title:J==="en"?"New cluster":"Nouveau cluster",desc:J==="en"?"Create a new validated cluster from the selected regions":"Créer un nouveau cluster valide à partir des régions sélectionnées",icon:"fa-object-group",shortcut:"Shift + C",fct:h},remove:{title:J==="en"?"Remove from cluster":"Retirer du cluster",desc:J==="en"?"Remove the selected regions from their cluster":"Retirer les régions sélectionnées de leur cluster",icon:"fa-chain-broken",shortcut:"Shift + D",fct:d},validate:{title:J==="en"?"Validate cluster":"Valider le cluster",desc:J==="en"?"Set as exact match all the pairs of regions in the cluster":"Définir comme correspondance exacte toutes les paires de régions dans le cluster",icon:"fa-check",fct:u},validated:{title:J==="en"?"Validated cluster":"Cluster valide",desc:J==="en"?"All pairs of regions have be categorized as exact matches":"Toutes les paires de régions ont été catégorisées comme des correspondances exactes",icon:"fa-check"}},{validate:B,validated:p,...C}=g,U=v=>B.fct(v);return e.$$set=v=>{"documentSetStore"in v&&t(11,s=v.documentSetStore),"clusterStore"in v&&t(0,a=v.clusterStore)},[a,r,n,i,o,l,c,f,B,p,C,s,U]}class bb extends GA{constructor(A){super(),VA(this,A,Fb,Ub,KA,{documentSetStore:11,clusterStore:0})}}function Eb(e,A){const r=kA(1),{visiblePairs:n,imageNodes:i}=e;js(r,"p");function s(v){qs(v,r,"p")}function o(v){if(v.length===0)return[];const y=new Map,_=k=>y.has(k)?(y.get(k)!==k&&y.set(k,_(y.get(k))),y.get(k)):(y.set(k,k),k),H=(k,M)=>{const T=_(k),L=_(M);T!==L&&y.set(L,T)},F=new Set;v.forEach(k=>{H(k.id_1,k.id_2),F.add(k.id_1),F.add(k.id_2)});const b=new Map;return F.forEach(k=>{const M=_(k);b.has(M)||b.set(M,[]),b.get(M).push(k)}),Array.from(b.values()).map(k=>{const M=k.length,T=M*(M-1)/2,L=new Set(k),E=v.filter(R=>L.has(R.id_1)&&L.has(R.id_2)).length;return{id:crypto.randomUUID(),members:k,size:M,fullyConnected:E===T}}).filter(k=>k.size>1).sort((k,M)=>M.size-k.size)}const a=Be(n,v=>v.length?o(v):[]),l=kA([]);a.subscribe(v=>{l.set(v)});const c=Be([l,r],([v,y])=>{const _=(y-1)*10,H=_+10;return v.slice(_,H)}),f=(v,y)=>{const _=Ee(i).get(v),H=Ee(i).get(y);return{img_1:v,img_2:y,regions_id_1:_==null?void 0:_.regionId,regions_id_2:H==null?void 0:H.regionId}},u=(v,y)=>(l.update(_=>_.map(H=>{if(!y[H.id])return H;const F=H.members.filter(b=>!v.has(b));return{...H,members:F,size:F.length}}).filter(H=>H.size>0)),!0),h=async v=>{const y=Array.isArray(v)?v:Object.keys(v),_=new Set(y),H={};Ee(l).forEach(b=>{const k=b.members.filter(M=>_.has(M));k.length>0&&(H[b.id]=k)});const F=Object.entries(H).flatMap(([b,k])=>{const M=Ee(l).find(L=>L.id===b);if(!M)return[];const T=M.members.filter(L=>!_.has(L));return k.flatMap(L=>T.map(E=>f(L,E)))});if(F.length===0)return u(_,H),!0;try{const b=await zs(()=>fetch(`${window.location.origin}/${wt}/uncategorize-pair-batch`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":jt},body:JSON.stringify({pairs:F})}));return b.ok?(u(_,H),!0):(console.log(b),await Ne(J==="en"?"Batch un-categorization failed":"La dé-catégorisation par lot a échoué",J==="en"?"Error":"Erreur"),!1)}catch(b){return await Ne(b,J==="en"?"Error":"Erreur"),!1}},d=async v=>{const y=v.flatMap((_,H)=>v.slice(H+1).map(F=>f(_,F)));try{const _=await zs(()=>fetch(`${window.location.origin}/${wt}/exact-match-batch`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":jt},body:JSON.stringify({pairs:y})}));return _.ok?!0:(console.log(_),await Ne(J==="en"?"Batch validation failed":"La validation par lot a échoué",J==="en"?"Error":"Erreur"),!1)}catch(_){return await Ne(_,J==="en"?"Error":"Erreur"),console.error("Error:",_),!1}},g=async v=>{if(!Ys)return await Ne(J==="en"?"You do not have permission to validate clusters":"Vous n'avez pas la permission, de valider les clusters.",J==="en"?"Permission Denied":"Permission refusée"),!1;const y=await d(v.members);return y&&l.update(_=>_.map(H=>H.id===v.id?{...H,fullyConnected:!0}:H)),y},B=async v=>{if(v.length<2)return!1;const y=await d(v);return y&&l.update(_=>[{id:crypto.randomUUID(),members:v,size:v.length,fullyConnected:!0},..._].sort((F,b)=>b.size-F.size)),y},p=()=>Object.values(Ee(A).selected)[0]||{},C=async()=>{if(!await Ne(J==="en"?"Do you want to create a cluster out of these images?":"Voulez-vous créer un cluster à partir de ces images ?",J==="en"?"Confirm creation":"Confirmer la création",!0))return;const y=p(),_=Object.keys(y);return _.length<2?(await Ne(J==="en"?"Cluster creation requires at least 2 images":"La création d'un nouveau cluster nécessite a minima 2 images",J==="en"?"Impossible creation":"Création impossible"),!1):!await h(_)||!await B(_)?!1:(A.empty(),!0)},U=async()=>{if(!await Ne(J==="en"?"Do you want to remove these images from their clusters?":"Voulez-vous supprimer ces images de leurs clusters ?",J==="en"?"Confirm deletion":"Confirmer la suppression",!0))return;const y=p();return await h(Object.keys(y))?(A.empty(),!0):!1};return{imageClusters:a,interfaceClusters:l,clusterNb:Be(l,v=>v.length),validateCluster:g,removeFromClusters:U,newCluster:C,paginatedClusters:c,handlePageUpdate:s,pageLength:10,currentPage:r}}function gd(e,A,t){const r=e.slice();return r[25]=A[t],r}function Ib(e){let A;return{c(){A=Q("p"),A.textContent=`${J==="en"?"Groups of images that share a similarity connection above the score threshold.":"Groupes d'images partageant une connexion de similarité au-dessus du seuil de score."}`},m(t,r){O(t,A,r)},p:rA,d(t){t&&K(A)}}}function Hb(e){let A;return{c(){A=Q("p"),A.textContent=`${J==="en"?"Matrix showing aggregated similarity scores between documents. Click a cell to explore page-level similarities in a scatter plot interface.":"Matrice affichant les scores de similarité agrégés entre documents. Cliquez sur une cellule pour explorer les similarités entre paires de documents."}`},m(t,r){O(t,A,r)},p:rA,d(t){t&&K(A)}}}function Sb(e){let A;return{c(){A=Q("p"),A.textContent=`${J==="en"?"Network where each node is a document. Edge thickness reflects the cumulative similarity score between document pairs. Node size indicates the number of connections.":"Réseau où chaque nœud est un document. L'épaisseur des liens reflète le score de similarité cumulé entre paires de documents. La taille des nœuds indique le nombre de connexions."}`},m(t,r){O(t,A,r)},p:rA,d(t){t&&K(A)}}}function xb(e){let A;return{c(){A=Q("p"),A.textContent=`${J==="en"?"Network where each node is an image region. Edges connect regions with similarity scores above the threshold. Node color indicates the source document.":"Réseau où chaque nœud est une région d'image. Les liens connectent les régions dont le score de similarité dépasse le seuil. La couleur indique le document source."}`},m(t,r){O(t,A,r)},p:rA,d(t){t&&K(A)}}}function Lb(e){let A;function t(i,s){if(i[23]==="img")return xb;if(i[23]==="doc")return Sb;if(i[23]==="matrix")return Hb;if(i[23]==="clusters")return Ib}let r=t(e),n=r&&r(e);return{c(){A=Q("div"),n&&n.c(),m(A,"slot","datavizInfo")},m(i,s){O(i,A,s),n&&n.m(A,null)},p(i,s){r===(r=t(i))&&n?n.p(i,s):(n&&n.d(1),n=r&&r(i),n&&(n.c(),n.m(A,null)))},d(i){i&&K(A),n&&n.d()}}}function Mb(e){let A,t,r;return t=new hp({props:{docSet:e[0],documentSetStore:e[4],clusterStore:e[8],$$slots:{datavizInfo:[Lb]},$$scope:{ctx:e}}}),{c(){A=Q("div"),BA(t.$$.fragment),m(A,"slot","sidebar")},m(n,i){O(n,A,i),dA(t,A,null),r=!0},p(n,i){const s={};i&1&&(s.docSet=n[0]),i&276824064&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){r||(P(t.$$.fragment,n),r=!0)},o(n){W(t.$$.fragment,n),r=!1},d(n){n&&K(A),gA(t)}}}function Bd(e){let A,t,r,n,i,s,o,a=e[25].title+"",l,c;return{c(){A=Q("div"),t=Q("figure"),r=Q("img"),i=N(),s=Q("div"),o=Q("span"),l=sA(a),c=N(),Je(r.src,n=ht(e[25].img,e[25].xywh,"96,"))||m(r,"src",n),m(r,"alt","Extracted region"),m(o,"class","overlay-desc"),m(s,"class","overlay is-center"),m(t,"class","image is-64x64 card"),m(A,"class","selection cell")},m(f,u){O(f,A,u),w(A,t),w(t,r),w(t,i),w(t,s),w(s,o),w(o,l),w(A,c)},p(f,u){u&2&&!Je(r.src,n=ht(f[25].img,f[25].xywh,"96,"))&&m(r,"src",n),u&2&&a!==(a=f[25].title+"")&&PA(l,a)},d(f){f&&K(A)}}}function kb(e){let A,t,r=Object.values(Object.values(e[1])[0]||{}),n=[];for(let i=0;i<r.length;i+=1)n[i]=Bd(gd(e,r,i));return{c(){A=Q("div"),t=Q("div");for(let i=0;i<n.length;i+=1)n[i].c();m(t,"class","grid is-gap-2"),m(A,"slot","content"),m(A,"class","fixed-grid has-6-cols")},m(i,s){O(i,A,s),w(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s&2){r=Object.values(Object.values(i[1])[0]||{});let o;for(o=0;o<r.length;o+=1){const a=gd(i,r,o);n[o]?n[o].p(a,s):(n[o]=Bd(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&K(A),Le(n,i)}}}function Tb(e){let A,t,r,n={ctx:e,current:null,token:null,hasCatch:!1,pending:Xb,then:Ob,catch:Kb,value:24,blocks:[,,,]};return Xs(t=e[3],n),{c(){A=Oe(),n.block.c()},m(i,s){O(i,A,s),n.block.m(i,n.anchor=s),n.mount=()=>A.parentNode,n.anchor=A,r=!0},p(i,s){e=i,n.ctx=e,s&8&&t!==(t=e[3])&&Xs(t,n)||rl(n,e,s)},i(i){r||(P(n.block),r=!0)},o(i){for(let s=0;s<3;s+=1){const o=n.blocks[s];W(o)}r=!1},d(i){i&&K(A),n.block.d(i),n.token=null,n=null}}}function Db(e){let A,t,r;return{c(){A=Q("article"),t=Q("div"),r=sA(e[2]),m(t,"class","message-body"),m(A,"class","message is-danger")},m(n,i){O(n,A,i),w(A,t),w(t,r)},p(n,i){i&4&&PA(r,n[2])},i:rA,o:rA,d(n){n&&K(A)}}}function Kb(e){return{c:rA,m:rA,p:rA,i:rA,o:rA,d:rA}}function Ob(e){let A,t,r,n;const i=[Rb,Nb],s=[];function o(a,l){return a[24]===0?0:1}return A=o(e),t=s[A]=i[A](e),{c(){t.c(),r=Oe()},m(a,l){s[A].m(a,l),O(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?s[A].p(a,l):(ZA(),W(s[c],1,1,()=>{s[c]=null}),Ae(),t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),P(t,1),t.m(r.parentNode,r))},i(a){n||(P(t),n=!0)},o(a){W(t),n=!1},d(a){s[A].d(a),a&&K(r)}}}function Nb(e){let A,t,r=e[9][e[23]]+"",n,i,s,o,a;const l=[Gb,Vb,Pb],c=[];function f(u,h){return u[23]==="img"||u[23]==="doc"?0:u[23]==="sim"?1:u[23]==="mat"?2:-1}return~(s=f(e))&&(o=c[s]=l[s](e)),{c(){A=Q("div"),t=Q("h2"),n=sA(r),i=N(),o&&o.c(),m(t,"class","title is-3 has-text-link")},m(u,h){O(u,A,h),w(A,t),w(t,n),w(A,i),~s&&c[s].m(A,null),a=!0},p(u,h){(!a||h&8388608)&&r!==(r=u[9][u[23]]+"")&&PA(n,r);let d=s;s=f(u),s===d?~s&&c[s].p(u,h):(o&&(ZA(),W(c[d],1,1,()=>{c[d]=null}),Ae()),~s?(o=c[s],o?o.p(u,h):(o=c[s]=l[s](u),o.c()),P(o,1),o.m(A,null)):o=null)},i(u){a||(P(o),a=!0)},o(u){W(o),a=!1},d(u){u&&K(A),~s&&c[s].d()}}}function Rb(e){let A;return{c(){A=Q("article"),A.innerHTML=`<div class="message-body">No document pairs found for this configuration.
                            Please adjust your selection criteria in the sidebar to include more documents or
                            categories.</div>`,m(A,"class","message is-warning")},m(t,r){O(t,A,r)},p:rA,i:rA,o:rA,d(t){t&&K(A)}}}function Pb(e){let A,t;return A=new SF({props:{documentSetStore:e[4]}}),{c(){BA(A.$$.fragment)},m(r,n){dA(A,r,n),t=!0},p:rA,i(r){t||(P(A.$$.fragment,r),t=!0)},o(r){W(A.$$.fragment,r),t=!1},d(r){gA(A,r)}}}function Vb(e){let A,t;return A=new bb({props:{documentSetStore:e[4],clusterStore:e[8]}}),{c(){BA(A.$$.fragment)},m(r,n){dA(A,r,n),t=!0},p:rA,i(r){t||(P(A.$$.fragment,r),t=!0)},o(r){W(A.$$.fragment,r),t=!1},d(r){gA(A,r)}}}function Gb(e){let A,t;return A=new PC({props:{documentSetStore:e[4],type:e[23]}}),{c(){BA(A.$$.fragment)},m(r,n){dA(A,r,n),t=!0},p(r,n){const i={};n&8388608&&(i.type=r[23]),A.$set(i)},i(r){t||(P(A.$$.fragment,r),t=!0)},o(r){W(A.$$.fragment,r),t=!1},d(r){gA(A,r)}}}function Xb(e){let A;return{c(){A=Q("progress"),A.textContent="Loading...",m(A,"class","progress is-link"),m(A,"max","100")},m(t,r){O(t,A,r)},p:rA,i:rA,o:rA,d(t){t&&K(A)}}}function Jb(e){let A,t,r,n,i,s;t=new Zg({props:{$$slots:{content:[kb]},$$scope:{ctx:e}}});const o=[Db,Tb],a=[];function l(c,f){return c[2]?0:1}return n=l(e),i=a[n]=o[n](e),{c(){A=Q("div"),BA(t.$$.fragment),r=N(),i.c(),m(A,"slot","content")},m(c,f){O(c,A,f),dA(t,A,null),w(A,r),a[n].m(A,null),s=!0},p(c,f){const u={};f&268435458&&(u.$$scope={dirty:f,ctx:c}),t.$set(u);let h=n;n=l(c),n===h?a[n].p(c,f):(ZA(),W(a[h],1,1,()=>{a[h]=null}),Ae(),i=a[n],i?i.p(c,f):(i=a[n]=o[n](c),i.c()),P(i,1),i.m(A,null))},i(c){s||(P(t.$$.fragment,c),P(i),s=!0)},o(c){W(t.$$.fragment,c),W(i),s=!1},d(c){c&&K(A),gA(t),a[n].d()}}}function Wb(e){let A,t;return A=new aB({props:{tabList:e[9],$$slots:{content:[Jb,({activeTab:r})=>({23:r}),({activeTab:r})=>r?8388608:0],sidebar:[Mb,({activeTab:r})=>({23:r}),({activeTab:r})=>r?8388608:0]},$$scope:{ctx:e}}}),{c(){BA(A.$$.fragment)},m(r,n){dA(A,r,n),t=!0},p(r,[n]){const i={};n&276824079&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(P(A.$$.fragment,r),t=!0)},o(r){W(A.$$.fragment,r),t=!1},d(r){gA(A,r)}}}function Yb(e,A,t){var k;let r,n,i,{docSet:s}=A;const o=kF(s.id),{error:a,fetchPairs:l,selectedRegions:c,selectedCategories:f,threshold:u,topK:h,mutualTopK:d,scoreMode:g}=o;SA(e,a,M=>t(2,n=M)),SA(e,l,M=>t(3,i=M));let B,p,C,U,v,y;Ir(()=>{B=Tr(c,"regions","set"),p=Tr(f,"categories","array",[1]),C=Tr(u,"threshold","number"),U=Tr(h,"topk","number"),v=Tr(d,"mutual","boolean"),y=Tr(g,"mode","string");const M=c.subscribe(B),T=f.subscribe(p),L=u.subscribe(C),E=h.subscribe(U),R=d.subscribe(v),S=g.subscribe(y);return()=>{M(),T(),L(),E(),R(),S()}});const{selected:_}=Ri;SA(e,_,M=>t(1,r=M));const H=Eb(o,Ri),F={sim:J==="en"?"Copy Clusters":"Groupe de copies",mat:J==="en"?"Document Matrix":"Matrice de documents",img:J==="en"?"Image Network":"Réseau d'images",doc:J==="en"?"Document Network":"Réseau de documents"},b=((k=s==null?void 0:s.selection)==null?void 0:k.selected)||{Witness:{},Series:{},Work:{}};return Sr("selectedDocuments",b),e.$$set=M=>{"docSet"in M&&t(0,s=M.docSet)},[s,r,n,i,o,a,l,_,H,F]}class zb extends GA{constructor(A){super(),VA(this,A,Yb,Wb,KA,{docSet:0})}}new zb({target:document.getElementById("document-set"),props:{docSet}});const aS="";function $b(e){let A,t,r;return t=new Xr({props:{item:e[0],height:"full"}}),{c(){A=Q("div"),BA(t.$$.fragment),m(A,"class","img-wrapper svelte-1duc3w1")},m(n,i){O(n,A,i),dA(t,A,null),r=!0},p(n,[i]){const s={};i&1&&(s.item=n[0]),t.$set(s)},i(n){r||(P(t.$$.fragment,n),r=!0)},o(n){W(t.$$.fragment,n),r=!1},d(n){n&&K(A),gA(t)}}}function jb(e,A,t){let{mainImgItem:r}=A;return e.$$set=n=>{"mainImgItem"in n&&t(0,r=n.mainImgItem)},[r]}class pd extends GA{constructor(A){super(),VA(this,A,jb,$b,KA,{mainImgItem:0})}}const lS="";function qb(e){return{c:rA,m:rA,p:rA,d:rA}}function Zb(e){let A,t=`${e[5][0]}%`,r=`${e[5][1]}%`,n=`${e[5][2]}%`,i=`${e[5][3]}%`;return{c(){A=Q("div"),m(A,"class","modal-context-bbox svelte-zgr10j"),m(A,"aria-description",J==="fr"?"Position de la région extraite sur la page":"Position of the extracted region on the page"),zA(A,"left",t),zA(A,"top",r),zA(A,"width",n),zA(A,"height",i)},m(s,o){O(s,A,o)},p:rA,d(s){s&&K(A)}}}function AE(e){return{c:rA,m:rA,p:rA,d:rA}}function eE(e){let A,t,r,n,i,s={ctx:e,current:null,token:null,hasCatch:!1,pending:AE,then:Zb,catch:qb,value:5};return Xs(e[1],s),{c(){A=Q("div"),t=Q("div"),r=Q("img"),i=N(),s.block.c(),m(r,"class","card modal-context-full-page svelte-zgr10j"),Je(r.src,n=e[0])||m(r,"src",n),m(r,"alt",J==="fr"?"Vue de la page d'où la région est extraite":"View of the page the region is extracted from"),m(t,"class","modal-context-wrapper svelte-zgr10j"),m(A,"class","modal-context-outer pb-4 svelte-zgr10j")},m(o,a){O(o,A,a),w(A,t),w(t,r),w(t,i),s.block.m(t,s.anchor=null),s.mount=()=>t,s.anchor=null},p(o,[a]){e=o,rl(s,e,a)},i:rA,o:rA,d(o){o&&K(A),s.block.d(),s.token=null,s=null}}}function tE(e,A,t){let{mainImgItem:r}=A;const n=ht(r.img,"full","full"),i=Vg(r.img),s=r.xywh.map(Number),o=fetch(i).then(a=>a.json()).then(a=>[s[0]/a.width,s[1]/a.height,s[2]/a.width,s[3]/a.height].map(l=>l*100));return e.$$set=a=>{"mainImgItem"in a&&t(2,r=a.mainImgItem)},[n,o,r]}class rE extends GA{constructor(A){super(),VA(this,A,tE,eE,KA,{mainImgItem:2})}}const cS="";function md(e,A,t){const r=e.slice();return r[13]=A[t].id,r[14]=A[t].label,r}function wd(e){let A,t,r=e[14]+"",n,i,s,o,a;function l(){return e[9](e[13])}return{c(){A=Q("li"),t=Q("a"),n=sA(r),i=N(),m(t,"href",""),m(A,"class",s=e[13]===e[2]?"is-active":"")},m(c,f){O(c,A,f),w(A,t),w(t,n),w(A,i),o||(a=yA(t,"click",Mt(l)),o=!0)},p(c,f){e=c,f&4&&s!==(s=e[13]===e[2]?"is-active":"")&&m(A,"class",s)},d(c){c&&K(A),o=!1,a()}}}function nE(e){let A,t,r,n,i,s,o,a,l,c,f,u,h,d,g,B=e[3],p=[];for(let y=0;y<B.length;y+=1)p[y]=wd(md(e,B,y));const C=[e[1][e[2]]||{}];var U=e[0][e[2]]||null;function v(y){let _={};for(let H=0;H<C.length;H+=1)_=Wa(_,C[H]);return{props:_}}return U&&(c=ei(U,v())),{c(){A=Q("div"),t=Q("div"),r=N(),n=Q("div"),i=Q("div"),s=Q("div"),o=Q("ul");for(let y=0;y<p.length;y+=1)p[y].c();a=N(),l=Q("div"),c&&BA(c.$$.fragment),f=N(),u=Q("button"),m(t,"class","modal-background"),m(s,"class","tabs is-centered"),zA(s,"height","fit-content"),m(l,"class","ml-4 mr-4 modal-main-wrapper svelte-1uakzh2"),$A(l,"pb-4",e[2]==="main"),m(i,"class","modal-inner svelte-1uakzh2"),m(n,"class","modal-content svelte-1uakzh2"),m(u,"class","modal-close is-large"),m(u,"aria-label","close"),m(A,"id","region-modal-wrapper"),m(A,"class","modal is-active")},m(y,_){O(y,A,_),w(A,t),w(A,r),w(A,n),w(n,i),w(i,s),w(s,o);for(let H=0;H<p.length;H+=1)p[H]&&p[H].m(o,null);w(i,a),w(i,l),c&&dA(c,l,null),w(A,f),w(A,u),h=!0,d||(g=[yA(t,"click",e[6]),yA(t,"keyup",e[5]),yA(u,"click",e[6])],d=!0)},p(y,[_]){if(_&28){B=y[3];let F;for(F=0;F<B.length;F+=1){const b=md(y,B,F);p[F]?p[F].p(b,_):(p[F]=wd(b),p[F].c(),p[F].m(o,null))}for(;F<p.length;F+=1)p[F].d(1);p.length=B.length}const H=_&6?Ig(C,[Hg(y[1][y[2]]||{})]):{};if(_&5&&U!==(U=y[0][y[2]]||null)){if(c){ZA();const F=c;W(F.$$.fragment,1,0,()=>{gA(F,1)}),Ae()}U?(c=ei(U,v()),BA(c.$$.fragment),P(c.$$.fragment,1),dA(c,l,null)):c=null}else U&&c.$set(H);(!h||_&4)&&$A(l,"pb-4",y[2]==="main")},i(y){h||(c&&P(c.$$.fragment,y),h=!0)},o(y){c&&W(c.$$.fragment,y),h=!1},d(y){y&&K(A),Le(p,y),c&&gA(c),d=!1,be(g)}}}function iE(e,A,t){let r,{mainImgItem:n}=A,{compareImgItem:i}=A;const s=ni(),o=i?["main","page","similarity","expansion"]:["main","page"],a={expansion:{fr:"Expansion de requête",en:"Query expansion"},similarity:{fr:"Comparaison",en:"Comparison"},page:{fr:"Vue de la page",en:"Page view"},main:{fr:"Vue principale",en:"Main view"}},l=o.map(B=>{var p;return{id:B,label:((p=a[B])==null?void 0:p[J])??"Main view"}}),c={main:pd,page:rE};i&&Promise.all([Mo(()=>Promise.resolve().then(()=>iH),void 0).then(B=>B.default),Mo(()=>Promise.resolve().then(()=>xH),void 0).then(B=>B.default)]).then(([B,p])=>{const C=Object.keys(c);o.filter(U=>!C.includes(U)).map(U=>t(0,c[U]=U==="expansion"?p:U==="similarity"?B:pd,c))});const f={};o.map(B=>t(1,f[B]=B==="similarity"?{compareImgItem:i,mainImgItem:n}:{mainImgItem:n},f));const u=B=>t(2,r=B),h=B=>{B.key==="Escape"&&s("closeModal")},d=()=>s("closeModal");Ir(()=>{document.addEventListener("keyup",h)}),Hr(()=>{document.removeEventListener("keydown",h)});const g=B=>u(B);return e.$$set=B=>{"mainImgItem"in B&&t(7,n=B.mainImgItem),"compareImgItem"in B&&t(8,i=B.compareImgItem)},t(2,r=o[0]),[c,f,r,l,u,h,d,n,i,g]}class sE extends GA{constructor(A){super(),VA(this,A,iE,nE,KA,{mainImgItem:7,compareImgItem:8})}}const uS="";function oE(e){let A,t,r,n,i,s,o,a,l,c,f;return t=new hi({props:{targetHtmlId:e[0],tooltipText:e[1]}}),{c(){A=Q("div"),BA(t.$$.fragment),r=N(),n=Q("button"),i=mt("svg"),s=mt("path"),o=mt("path"),a=mt("path"),m(s,"d","M53.6443 14.25C47.7042 5.33 37.7293 0 26.9801 0C16.2206 0 6.24576 5.33 0.305653 14.25L0 14.71L0.305653 15.17C6.24576 24.09 16.2206 29.42 26.9801 29.42C37.7293 29.42 47.7042 24.09 53.6443 15.16L53.95 14.71L53.6443 14.25ZM3.25025 14.71C7.63146 8.69001 14.0606 4.65 21.2641 3.22C20.0619 3.83 18.9411 4.62 17.963 5.59C15.5176 8.02 14.1625 11.25 14.1625 14.67C14.1625 18.11 15.5176 21.34 17.963 23.76C19.0124 24.79 20.1943 25.61 21.4781 26.23C14.1829 24.85 7.6824 20.78 3.25025 14.71ZM27.1125 22.64C22.7008 22.64 19.1041 19.08 19.1041 14.7C19.1041 12.59 19.9396 10.6 21.4475 9.10001C22.9555 7.60001 24.9729 6.77 27.1125 6.77C29.2522 6.77 31.2594 7.60001 32.7775 9.10001C34.2855 10.6 35.121 12.59 35.121 14.7C35.121 16.82 34.2855 18.82 32.7775 20.32C31.2594 21.81 29.242 22.64 27.1125 22.64ZM32.9915 26.14C34.204 25.53 35.3146 24.74 36.3029 23.77C38.7482 21.34 40.0932 18.11 40.0932 14.68C40.0932 9.75 37.281 5.47001 33.1647 3.32001C40.1747 4.81001 46.4102 8.83001 50.6896 14.71C46.3797 20.64 40.0728 24.67 32.9915 26.14Z"),m(s,"fill","black"),m(s,"class","svelte-19wutme"),m(o,"d","M26.9804 25.98C33.3222 25.98 38.4633 20.9343 38.4633 14.71C38.4633 8.48576 33.3222 3.44 26.9804 3.44C20.6386 3.44 15.4976 8.48576 15.4976 14.71C15.4976 20.9343 20.6386 25.98 26.9804 25.98Z"),m(o,"fill","black"),m(o,"class","svelte-19wutme"),m(a,"d","M17.9529 23.85L36.2928 5.85001"),m(a,"stroke","black"),m(a,"stroke-width","3"),m(a,"stroke-miterlimit","10"),m(a,"class","svelte-19wutme"),m(i,"width","54"),m(i,"height","30"),m(i,"viewBox","0 0 54 30"),m(i,"fill","none"),m(i,"xmlns","http://www.w3.org/2000/svg"),m(i,"class","svelte-19wutme"),m(n,"class","button tag svelte-19wutme"),m(n,"title",e[1]),m(A,"id",e[0])},m(u,h){O(u,A,h),dA(t,A,null),w(A,r),w(A,n),w(n,i),w(i,s),w(i,o),w(i,a),l=!0,c||(f=yA(n,"click",e[2]),c=!0)},p:rA,i(u){l||(P(t.$$.fragment,u),l=!0)},o(u){W(t.$$.fragment,u),l=!1},d(u){u&&K(A),gA(t),c=!1,f()}}}function aE(e,A,t){let r,n,{mainImgItem:i}=A,{compareImgItem:s=void 0}=A;Sr("isInModal",!0);const o=`modal-opener-${window.crypto.randomUUID()}`,a=J==="fr"?"Vue détaillée":"Detailed view",l=(u,h)=>(u?(h=new sE({target:document.querySelector("body"),props:{mainImgItem:i,compareImgItem:s}}),h.$on("closeModal",f)):!u&&n!=null&&h.$destroy(),h),c=()=>t(5,r=!r),f=()=>t(5,r=!1);return e.$$set=u=>{"mainImgItem"in u&&t(3,i=u.mainImgItem),"compareImgItem"in u&&t(4,s=u.compareImgItem)},e.$$.update=()=>{e.$$.dirty&96&&t(6,n=l(r,n))},t(5,r=!1),[o,a,c,i,s,r,n]}class lE extends GA{constructor(A){super(),VA(this,A,aE,oE,KA,{mainImgItem:3,compareImgItem:4})}}const cE=Object.freeze(Object.defineProperty({__proto__:null,default:lE},Symbol.toStringTag,{value:"Module"})),fS="";function uE(e){let A,t,r,n,i,s,o;return{c(){A=Q("button"),t=Q("span"),t.innerHTML='<span class="switch-control svelte-g5g8im"><span class="switch-spot"></span></span>',r=N(),n=Q("span"),i=sA(e[0]),m(t,"class","switch mr-2 svelte-g5g8im"),m(n,"class","label svelte-g5g8im"),m(A,"id",e[3]),m(A,"name",e[3]),m(A,"class","input-checkbox-wrapper is-flex is-align-items-center-is-justify-content-center p-2 pl-3 pr-3 svelte-g5g8im"),m(A,"aria-label",e[0]),$A(A,"is-checked",e[2]),$A(A,"is-clickable",e[1]),$A(A,"button",e[1])},m(a,l){O(a,A,l),w(A,t),w(A,r),w(A,n),w(n,i),s||(o=yA(A,"click",Mt(e[4])),s=!0)},p(a,[l]){l&1&&PA(i,a[0]),l&1&&m(A,"aria-label",a[0]),l&4&&$A(A,"is-checked",a[2]),l&2&&$A(A,"is-clickable",a[1]),l&2&&$A(A,"button",a[1])},i:rA,o:rA,d(a){a&&K(A),s=!1,o()}}}function fE(e,A,t){let r,{toggleLabel:n}=A,{start:i=!1}=A,{buttonDisplay:s=!1}=A;const o=`input-toggle-${window.crypto.randomUUID()}`,a=ni(),l=nt("resetTrigger")||void 0;l==null||l.subscribe(f);const c=()=>t(2,r=!r);function f(){t(2,r=i)}return e.$$set=u=>{"toggleLabel"in u&&t(0,n=u.toggleLabel),"start"in u&&t(5,i=u.start),"buttonDisplay"in u&&t(1,s=u.buttonDisplay)},e.$$.update=()=>{e.$$.dirty&32&&t(2,r=i),e.$$.dirty&4&&a("updateChecked",r)},[n,s,r,o,c,i]}class hE extends GA{constructor(A){super(),VA(this,A,fE,uE,KA,{toggleLabel:0,start:5,buttonDisplay:1})}}/*! choices.js v11.1.0 | © 2025 Josh Johnson | https://github.com/jshjohnson/Choices#readme */var Ma=function(e,A){return Ma=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])},Ma(e,A)};function vd(e,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");Ma(e,A);function t(){this.constructor=e}e.prototype=A===null?Object.create(A):(t.prototype=A.prototype,new t)}var At=function(){return At=Object.assign||function(A){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(A[i]=t[i])}return A},At.apply(this,arguments)};function dE(e,A,t){if(t||arguments.length===2)for(var r=0,n=A.length,i;r<n;r++)(i||!(r in A))&&(i||(i=Array.prototype.slice.call(A,0,r)),i[r]=A[r]);return e.concat(i||Array.prototype.slice.call(A))}typeof SuppressedError=="function"&&SuppressedError;var Fe={ADD_CHOICE:"ADD_CHOICE",REMOVE_CHOICE:"REMOVE_CHOICE",FILTER_CHOICES:"FILTER_CHOICES",ACTIVATE_CHOICES:"ACTIVATE_CHOICES",CLEAR_CHOICES:"CLEAR_CHOICES",ADD_GROUP:"ADD_GROUP",ADD_ITEM:"ADD_ITEM",REMOVE_ITEM:"REMOVE_ITEM",HIGHLIGHT_ITEM:"HIGHLIGHT_ITEM"},et={showDropdown:"showDropdown",hideDropdown:"hideDropdown",change:"change",choice:"choice",search:"search",addItem:"addItem",removeItem:"removeItem",highlightItem:"highlightItem",highlightChoice:"highlightChoice",unhighlightItem:"unhighlightItem"},Ge={TAB_KEY:9,SHIFT_KEY:16,BACK_KEY:46,DELETE_KEY:8,ENTER_KEY:13,A_KEY:65,ESC_KEY:27,UP_KEY:38,DOWN_KEY:40,PAGE_UP_KEY:33,PAGE_DOWN_KEY:34},gE=["fuseOptions","classNames"],cr={Text:"text",SelectOne:"select-one",SelectMultiple:"select-multiple"},Cd=function(e){return{type:Fe.ADD_CHOICE,choice:e}},BE=function(e){return{type:Fe.REMOVE_CHOICE,choice:e}},pE=function(e){return{type:Fe.FILTER_CHOICES,results:e}},mE=function(e){return{type:Fe.ACTIVATE_CHOICES,active:e}},wE=function(e){return{type:Fe.ADD_GROUP,group:e}},Qd=function(e){return{type:Fe.ADD_ITEM,item:e}},yd=function(e){return{type:Fe.REMOVE_ITEM,item:e}},ks=function(e,A){return{type:Fe.HIGHLIGHT_ITEM,item:e,highlighted:A}},vE=function(e,A){return Math.floor(Math.random()*(A-e)+e)},_d=function(e){return Array.from({length:e},function(){return vE(0,36).toString(36)}).join("")},CE=function(e,A){var t=e.id||e.name&&"".concat(e.name,"-").concat(_d(2))||_d(4);return t=t.replace(/(:|\.|\[|\]|,)/g,""),t="".concat(A,"-").concat(t),t},QE=function(e,A,t){t===void 0&&(t=1);for(var r="".concat(t>0?"next":"previous","ElementSibling"),n=e[r];n;){if(n.matches(A))return n;n=n[r]}return null},yE=function(e,A,t){t===void 0&&(t=1);var r;return t>0?r=A.scrollTop+A.offsetHeight>=e.offsetTop+e.offsetHeight:r=e.offsetTop>=A.scrollTop,r},Ts=function(e){if(typeof e!="string"){if(e==null)return"";if(typeof e=="object"){if("raw"in e)return Ts(e.raw);if("trusted"in e)return e.trusted}return e}return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;")},_E=function(){var e=document.createElement("div");return function(A){e.innerHTML=A.trim();for(var t=e.children[0];e.firstChild;)e.removeChild(e.firstChild);return t}}(),Jn=function(e,A){return typeof e=="function"?e(Ts(A),A):e},Ud=function(e){return typeof e=="function"?e():e},yr=function(e){if(typeof e=="string")return e;if(typeof e=="object"){if("trusted"in e)return e.trusted;if("raw"in e)return e.raw}return""},Fd=function(e){if(typeof e=="string")return e;if(typeof e=="object"){if("escaped"in e)return e.escaped;if("trusted"in e)return e.trusted}return""},ka=function(e,A){return e?Fd(A):Ts(A)},Gt=function(e,A,t){e.innerHTML=ka(A,t)},UE=function(e,A){var t=e.value,r=e.label,n=r===void 0?t:r,i=A.value,s=A.label,o=s===void 0?i:s;return yr(n).localeCompare(yr(o),[],{sensitivity:"base",ignorePunctuation:!0,numeric:!0})},FE=function(e,A){return e.rank-A.rank},bE=function(e,A,t){t===void 0&&(t=null);var r=new CustomEvent(A,{detail:t,bubbles:!0,cancelable:!0});return e.dispatchEvent(r)},EE=function(e,A){var t=Object.keys(e).sort(),r=Object.keys(A).sort();return t.filter(function(n){return r.indexOf(n)<0})},Ds=function(e){return Array.isArray(e)?e:[e]},Wn=function(e){return e&&Array.isArray(e)?e.map(function(A){return".".concat(A)}).join(""):".".concat(e)},DA=function(e,A){var t;(t=e.classList).add.apply(t,Ds(A))},St=function(e,A){var t;(t=e.classList).remove.apply(t,Ds(A))},IE=function(e){if(typeof e<"u")try{return JSON.parse(e)}catch{return e}return{}},HE=function(e,A,t){var r=e.itemEl;r&&(St(r,t),DA(r,A))},SE=function(){function e(A){var t=A.element,r=A.type,n=A.classNames;this.element=t,this.classNames=n,this.type=r,this.isActive=!1}return e.prototype.show=function(){return DA(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","true"),this.isActive=!0,this},e.prototype.hide=function(){return St(this.element,this.classNames.activeState),this.element.setAttribute("aria-expanded","false"),this.isActive=!1,this},e}(),bd=function(){function e(A){var t=A.element,r=A.type,n=A.classNames,i=A.position;this.element=t,this.classNames=n,this.type=r,this.position=i,this.isOpen=!1,this.isFlipped=!1,this.isDisabled=!1,this.isLoading=!1}return e.prototype.shouldFlip=function(A,t){var r=!1;return this.position==="auto"?r=this.element.getBoundingClientRect().top-t>=0&&!window.matchMedia("(min-height: ".concat(A+1,"px)")).matches:this.position==="top"&&(r=!0),r},e.prototype.setActiveDescendant=function(A){this.element.setAttribute("aria-activedescendant",A)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype.open=function(A,t){DA(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","true"),this.isOpen=!0,this.shouldFlip(A,t)&&(DA(this.element,this.classNames.flippedState),this.isFlipped=!0)},e.prototype.close=function(){St(this.element,this.classNames.openState),this.element.setAttribute("aria-expanded","false"),this.removeActiveDescendant(),this.isOpen=!1,this.isFlipped&&(St(this.element,this.classNames.flippedState),this.isFlipped=!1)},e.prototype.addFocusState=function(){DA(this.element,this.classNames.focusState)},e.prototype.removeFocusState=function(){St(this.element,this.classNames.focusState)},e.prototype.enable=function(){St(this.element,this.classNames.disabledState),this.element.removeAttribute("aria-disabled"),this.type===cr.SelectOne&&this.element.setAttribute("tabindex","0"),this.isDisabled=!1},e.prototype.disable=function(){DA(this.element,this.classNames.disabledState),this.element.setAttribute("aria-disabled","true"),this.type===cr.SelectOne&&this.element.setAttribute("tabindex","-1"),this.isDisabled=!0},e.prototype.wrap=function(A){var t=this.element,r=A.parentNode;r&&(A.nextSibling?r.insertBefore(t,A.nextSibling):r.appendChild(t)),t.appendChild(A)},e.prototype.unwrap=function(A){var t=this.element,r=t.parentNode;r&&(r.insertBefore(A,t),r.removeChild(t))},e.prototype.addLoadingState=function(){DA(this.element,this.classNames.loadingState),this.element.setAttribute("aria-busy","true"),this.isLoading=!0},e.prototype.removeLoadingState=function(){St(this.element,this.classNames.loadingState),this.element.removeAttribute("aria-busy"),this.isLoading=!1},e}(),xE=function(){function e(A){var t=A.element,r=A.type,n=A.classNames,i=A.preventPaste;this.element=t,this.type=r,this.classNames=n,this.preventPaste=i,this.isFocussed=this.element.isEqualNode(document.activeElement),this.isDisabled=t.disabled,this._onPaste=this._onPaste.bind(this),this._onInput=this._onInput.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this)}return Object.defineProperty(e.prototype,"placeholder",{set:function(A){this.element.placeholder=A},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.element.value},set:function(A){this.element.value=A},enumerable:!1,configurable:!0}),e.prototype.addEventListeners=function(){var A=this.element;A.addEventListener("paste",this._onPaste),A.addEventListener("input",this._onInput,{passive:!0}),A.addEventListener("focus",this._onFocus,{passive:!0}),A.addEventListener("blur",this._onBlur,{passive:!0})},e.prototype.removeEventListeners=function(){var A=this.element;A.removeEventListener("input",this._onInput),A.removeEventListener("paste",this._onPaste),A.removeEventListener("focus",this._onFocus),A.removeEventListener("blur",this._onBlur)},e.prototype.enable=function(){var A=this.element;A.removeAttribute("disabled"),this.isDisabled=!1},e.prototype.disable=function(){var A=this.element;A.setAttribute("disabled",""),this.isDisabled=!0},e.prototype.focus=function(){this.isFocussed||this.element.focus()},e.prototype.blur=function(){this.isFocussed&&this.element.blur()},e.prototype.clear=function(A){return A===void 0&&(A=!0),this.element.value="",A&&this.setWidth(),this},e.prototype.setWidth=function(){var A=this.element;A.style.minWidth="".concat(A.placeholder.length+1,"ch"),A.style.width="".concat(A.value.length+1,"ch")},e.prototype.setActiveDescendant=function(A){this.element.setAttribute("aria-activedescendant",A)},e.prototype.removeActiveDescendant=function(){this.element.removeAttribute("aria-activedescendant")},e.prototype._onInput=function(){this.type!==cr.SelectOne&&this.setWidth()},e.prototype._onPaste=function(A){this.preventPaste&&A.preventDefault()},e.prototype._onFocus=function(){this.isFocussed=!0},e.prototype._onBlur=function(){this.isFocussed=!1},e}(),LE=4,Ed=function(){function e(A){var t=A.element;this.element=t,this.scrollPos=this.element.scrollTop,this.height=this.element.offsetHeight}return e.prototype.prepend=function(A){var t=this.element.firstElementChild;t?this.element.insertBefore(A,t):this.element.append(A)},e.prototype.scrollToTop=function(){this.element.scrollTop=0},e.prototype.scrollToChildElement=function(A,t){var r=this;if(A){var n=this.element.offsetHeight,i=this.element.scrollTop+n,s=A.offsetHeight,o=A.offsetTop+s,a=t>0?this.element.scrollTop+o-i:A.offsetTop;requestAnimationFrame(function(){r._animateScroll(a,t)})}},e.prototype._scrollDown=function(A,t,r){var n=(r-A)/t,i=n>1?n:1;this.element.scrollTop=A+i},e.prototype._scrollUp=function(A,t,r){var n=(A-r)/t,i=n>1?n:1;this.element.scrollTop=A-i},e.prototype._animateScroll=function(A,t){var r=this,n=LE,i=this.element.scrollTop,s=!1;t>0?(this._scrollDown(i,n,A),i<A&&(s=!0)):(this._scrollUp(i,n,A),i>A&&(s=!0)),s&&requestAnimationFrame(function(){r._animateScroll(A,t)})},e}(),Id=function(){function e(A){var t=A.element,r=A.classNames;this.element=t,this.classNames=r,this.isDisabled=!1}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this.element.dataset.choice==="active"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dir",{get:function(){return this.element.dir},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.element.value},set:function(A){this.element.setAttribute("value",A),this.element.value=A},enumerable:!1,configurable:!0}),e.prototype.conceal=function(){var A=this.element;DA(A,this.classNames.input),A.hidden=!0,A.tabIndex=-1;var t=A.getAttribute("style");t&&A.setAttribute("data-choice-orig-style",t),A.setAttribute("data-choice","active")},e.prototype.reveal=function(){var A=this.element;St(A,this.classNames.input),A.hidden=!1,A.removeAttribute("tabindex");var t=A.getAttribute("data-choice-orig-style");t?(A.removeAttribute("data-choice-orig-style"),A.setAttribute("style",t)):A.removeAttribute("style"),A.removeAttribute("data-choice")},e.prototype.enable=function(){this.element.removeAttribute("disabled"),this.element.disabled=!1,this.isDisabled=!1},e.prototype.disable=function(){this.element.setAttribute("disabled",""),this.element.disabled=!0,this.isDisabled=!0},e.prototype.triggerEvent=function(A,t){bE(this.element,A,t||{})},e}(),ME=function(e){vd(A,e);function A(){return e!==null&&e.apply(this,arguments)||this}return A}(Id),Yn=function(e,A){return A===void 0&&(A=!0),typeof e>"u"?A:!!e},Hd=function(e){if(typeof e=="string"&&(e=e.split(" ").filter(function(A){return A.length})),Array.isArray(e)&&e.length)return e},xt=function(e,A,t){if(t===void 0&&(t=!0),typeof e=="string"){var r=Ts(e),n=t||r===e?e:{escaped:r,raw:e},i=xt({value:e,label:n,selected:!0},!1);return i}var s=e;if("choices"in s){if(!A)throw new TypeError("optGroup is not allowed");var o=s,a=o.choices.map(function(u){return xt(u,!1)}),l={id:0,label:yr(o.label)||o.value,active:!!a.length,disabled:!!o.disabled,choices:a};return l}var c=s,f={id:0,group:null,score:0,rank:0,value:c.value,label:c.label||c.value,active:Yn(c.active),selected:Yn(c.selected,!1),disabled:Yn(c.disabled,!1),placeholder:Yn(c.placeholder,!1),highlighted:!1,labelClass:Hd(c.labelClass),labelDescription:c.labelDescription,customProperties:c.customProperties};return f},kE=function(e){return e.tagName==="INPUT"},Sd=function(e){return e.tagName==="SELECT"},TE=function(e){return e.tagName==="OPTION"},DE=function(e){return e.tagName==="OPTGROUP"},KE=function(e){vd(A,e);function A(t){var r=t.element,n=t.classNames,i=t.template,s=t.extractPlaceholder,o=e.call(this,{element:r,classNames:n})||this;return o.template=i,o.extractPlaceholder=s,o}return Object.defineProperty(A.prototype,"placeholderOption",{get:function(){return this.element.querySelector('option[value=""]')||this.element.querySelector("option[placeholder]")},enumerable:!1,configurable:!0}),A.prototype.addOptions=function(t){var r=this,n=document.createDocumentFragment();t.forEach(function(i){var s=i;if(!s.element){var o=r.template(s);n.appendChild(o),s.element=o}}),this.element.appendChild(n)},A.prototype.optionsAsChoices=function(){var t=this,r=[];return this.element.querySelectorAll(":scope > option, :scope > optgroup").forEach(function(n){TE(n)?r.push(t._optionToChoice(n)):DE(n)&&r.push(t._optgroupToChoice(n))}),r},A.prototype._optionToChoice=function(t){return!t.hasAttribute("value")&&t.hasAttribute("placeholder")&&(t.setAttribute("value",""),t.value=""),{id:0,group:null,score:0,rank:0,value:t.value,label:t.label,element:t,active:!0,selected:this.extractPlaceholder?t.selected:t.hasAttribute("selected"),disabled:t.disabled,highlighted:!1,placeholder:this.extractPlaceholder&&(!t.value||t.hasAttribute("placeholder")),labelClass:typeof t.dataset.labelClass<"u"?Hd(t.dataset.labelClass):void 0,labelDescription:typeof t.dataset.labelDescription<"u"?t.dataset.labelDescription:void 0,customProperties:IE(t.dataset.customProperties)}},A.prototype._optgroupToChoice=function(t){var r=this,n=t.querySelectorAll("option"),i=Array.from(n).map(function(s){return r._optionToChoice(s)});return{id:0,label:t.label||"",element:t,active:!!i.length,disabled:t.disabled,choices:i}},A}(Id),OE={containerOuter:["choices"],containerInner:["choices__inner"],input:["choices__input"],inputCloned:["choices__input--cloned"],list:["choices__list"],listItems:["choices__list--multiple"],listSingle:["choices__list--single"],listDropdown:["choices__list--dropdown"],item:["choices__item"],itemSelectable:["choices__item--selectable"],itemDisabled:["choices__item--disabled"],itemChoice:["choices__item--choice"],description:["choices__description"],placeholder:["choices__placeholder"],group:["choices__group"],groupHeading:["choices__heading"],button:["choices__button"],activeState:["is-active"],focusState:["is-focused"],openState:["is-open"],disabledState:["is-disabled"],highlightedState:["is-highlighted"],selectedState:["is-selected"],flippedState:["is-flipped"],loadingState:["is-loading"],notice:["choices__notice"],addChoice:["choices__item--selectable","add-choice"],noResults:["has-no-results"],noChoices:["has-no-choices"]},xd={items:[],choices:[],silent:!1,renderChoiceLimit:-1,maxItemCount:-1,closeDropdownOnSelect:"auto",singleModeForMultiSelect:!1,addChoices:!1,addItems:!0,addItemFilter:function(e){return!!e&&e!==""},removeItems:!0,removeItemButton:!1,removeItemButtonAlignLeft:!1,editItems:!1,allowHTML:!1,allowHtmlUserInput:!1,duplicateItemsAllowed:!0,delimiter:",",paste:!0,searchEnabled:!0,searchChoices:!0,searchFloor:1,searchResultLimit:4,searchFields:["label","value"],position:"auto",resetScrollPosition:!0,shouldSort:!0,shouldSortItems:!1,sorter:UE,shadowRoot:null,placeholder:!0,placeholderValue:null,searchPlaceholderValue:null,prependValue:null,appendValue:null,renderSelectedChoices:"auto",loadingText:"Loading...",noResultsText:"No results found",noChoicesText:"No choices to choose from",itemSelectText:"Press to select",uniqueItemText:"Only unique values can be added",customAddItemText:"Only values matching specific conditions can be added",addItemText:function(e){return'Press Enter to add <b>"'.concat(e,'"</b>')},removeItemIconText:function(){return"Remove item"},removeItemLabelText:function(e){return"Remove item: ".concat(e)},maxItemText:function(e){return"Only ".concat(e," values can be added")},valueComparer:function(e,A){return e===A},fuseOptions:{includeScore:!0},labelId:"",callbackOnInit:null,callbackOnCreateTemplates:null,classNames:OE,appendGroupInSearch:!1},Ld=function(e){var A=e.itemEl;A&&(A.remove(),e.itemEl=void 0)};function NE(e,A,t){var r=e,n=!0;switch(A.type){case Fe.ADD_ITEM:{A.item.selected=!0;var i=A.item.element;i&&(i.selected=!0,i.setAttribute("selected","")),r.push(A.item);break}case Fe.REMOVE_ITEM:{A.item.selected=!1;var i=A.item.element;if(i){i.selected=!1,i.removeAttribute("selected");var s=i.parentElement;s&&Sd(s)&&s.type===cr.SelectOne&&(s.value="")}Ld(A.item),r=r.filter(function(c){return c.id!==A.item.id});break}case Fe.REMOVE_CHOICE:{Ld(A.choice),r=r.filter(function(l){return l.id!==A.choice.id});break}case Fe.HIGHLIGHT_ITEM:{var o=A.highlighted,a=r.find(function(l){return l.id===A.item.id});a&&a.highlighted!==o&&(a.highlighted=o,t&&HE(a,o?t.classNames.highlightedState:t.classNames.selectedState,o?t.classNames.selectedState:t.classNames.highlightedState));break}default:{n=!1;break}}return{state:r,update:n}}function RE(e,A){var t=e,r=!0;switch(A.type){case Fe.ADD_GROUP:{t.push(A.group);break}case Fe.CLEAR_CHOICES:{t=[];break}default:{r=!1;break}}return{state:t,update:r}}function PE(e,A,t){var r=e,n=!0;switch(A.type){case Fe.ADD_CHOICE:{r.push(A.choice);break}case Fe.REMOVE_CHOICE:{A.choice.choiceEl=void 0,A.choice.group&&(A.choice.group.choices=A.choice.group.choices.filter(function(s){return s.id!==A.choice.id})),r=r.filter(function(s){return s.id!==A.choice.id});break}case Fe.ADD_ITEM:case Fe.REMOVE_ITEM:{A.item.choiceEl=void 0;break}case Fe.FILTER_CHOICES:{var i=[];A.results.forEach(function(s){i[s.item.id]=s}),r.forEach(function(s){var o=i[s.id];o!==void 0?(s.score=o.score,s.rank=o.rank,s.active=!0):(s.score=0,s.rank=0,s.active=!1),t&&t.appendGroupInSearch&&(s.choiceEl=void 0)});break}case Fe.ACTIVATE_CHOICES:{r.forEach(function(s){s.active=A.active,t&&t.appendGroupInSearch&&(s.choiceEl=void 0)});break}case Fe.CLEAR_CHOICES:{r=[];break}default:{n=!1;break}}return{state:r,update:n}}var Md={groups:RE,items:NE,choices:PE},VE=function(){function e(A){this._state=this.defaultState,this._listeners=[],this._txn=0,this._context=A}return Object.defineProperty(e.prototype,"defaultState",{get:function(){return{groups:[],items:[],choices:[]}},enumerable:!1,configurable:!0}),e.prototype.changeSet=function(A){return{groups:A,items:A,choices:A}},e.prototype.reset=function(){this._state=this.defaultState;var A=this.changeSet(!0);this._txn?this._changeSet=A:this._listeners.forEach(function(t){return t(A)})},e.prototype.subscribe=function(A){return this._listeners.push(A),this},e.prototype.dispatch=function(A){var t=this,r=this._state,n=!1,i=this._changeSet||this.changeSet(!1);Object.keys(Md).forEach(function(s){var o=Md[s](r[s],A,t._context);o.update&&(n=!0,i[s]=!0,r[s]=o.state)}),n&&(this._txn?this._changeSet=i:this._listeners.forEach(function(s){return s(i)}))},e.prototype.withTxn=function(A){this._txn++;try{A()}finally{if(this._txn=Math.max(0,this._txn-1),!this._txn){var t=this._changeSet;t&&(this._changeSet=void 0,this._listeners.forEach(function(r){return r(t)}))}}},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this.state.items},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"highlightedActiveItems",{get:function(){return this.items.filter(function(A){return A.active&&A.highlighted})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"choices",{get:function(){return this.state.choices},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeChoices",{get:function(){return this.choices.filter(function(A){return A.active})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"searchableChoices",{get:function(){return this.choices.filter(function(A){return!A.disabled&&!A.placeholder})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"groups",{get:function(){return this.state.groups},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activeGroups",{get:function(){var A=this;return this.state.groups.filter(function(t){var r=t.active&&!t.disabled,n=A.state.choices.some(function(i){return i.active&&!i.disabled});return r&&n},[])},enumerable:!1,configurable:!0}),e.prototype.inTxn=function(){return this._txn>0},e.prototype.getChoiceById=function(A){return this.activeChoices.find(function(t){return t.id===A})},e.prototype.getGroupById=function(A){return this.groups.find(function(t){return t.id===A})},e}(),Ke={noChoices:"no-choices",noResults:"no-results",addChoice:"add-choice",generic:""};function GE(e,A,t){return(A=JE(A))in e?Object.defineProperty(e,A,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[A]=t,e}function kd(e,A){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);A&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function nn(e){for(var A=1;A<arguments.length;A++){var t=arguments[A]!=null?arguments[A]:{};A%2?kd(Object(t),!0).forEach(function(r){GE(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kd(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function XE(e,A){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,A||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(e)}function JE(e){var A=XE(e,"string");return typeof A=="symbol"?A:A+""}function Xt(e){return Array.isArray?Array.isArray(e):Kd(e)==="[object Array]"}const WE=1/0;function YE(e){if(typeof e=="string")return e;let A=e+"";return A=="0"&&1/e==-WE?"-0":A}function zE(e){return e==null?"":YE(e)}function Lt(e){return typeof e=="string"}function Td(e){return typeof e=="number"}function $E(e){return e===!0||e===!1||jE(e)&&Kd(e)=="[object Boolean]"}function Dd(e){return typeof e=="object"}function jE(e){return Dd(e)&&e!==null}function at(e){return e!=null}function Ta(e){return!e.trim().length}function Kd(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const hS="Extended search is not available",qE="Incorrect 'index' type",ZE=e=>`Invalid value for key ${e}`,AI=e=>`Pattern length exceeds max of ${e}.`,eI=e=>`Missing ${e} property in key`,tI=e=>`Property 'weight' in key '${e}' must be a positive integer`,Od=Object.prototype.hasOwnProperty;class rI{constructor(A){this._keys=[],this._keyMap={};let t=0;A.forEach(r=>{let n=Nd(r);this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(r=>{r.weight/=t})}get(A){return this._keyMap[A]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Nd(e){let A=null,t=null,r=null,n=1,i=null;if(Lt(e)||Xt(e))r=e,A=Rd(e),t=Da(e);else{if(!Od.call(e,"name"))throw new Error(eI("name"));const s=e.name;if(r=s,Od.call(e,"weight")&&(n=e.weight,n<=0))throw new Error(tI(s));A=Rd(s),t=Da(s),i=e.getFn}return{path:A,id:t,weight:n,src:r,getFn:i}}function Rd(e){return Xt(e)?e:e.split(".")}function Da(e){return Xt(e)?e.join("."):e}function nI(e,A){let t=[],r=!1;const n=(i,s,o)=>{if(at(i))if(!s[o])t.push(i);else{let a=s[o];const l=i[a];if(!at(l))return;if(o===s.length-1&&(Lt(l)||Td(l)||$E(l)))t.push(zE(l));else if(Xt(l)){r=!0;for(let c=0,f=l.length;c<f;c+=1)n(l[c],s,o+1)}else s.length&&n(l,s,o+1)}};return n(e,Lt(A)?A.split("."):A,0),r?t:t[0]}const iI={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},sI={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,A)=>e.score===A.score?e.idx<A.idx?-1:1:e.score<A.score?-1:1},oI={location:0,threshold:.6,distance:100},aI={useExtendedSearch:!1,getFn:nI,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var xA=nn(nn(nn(nn({},sI),iI),oI),aI);const lI=/[^ ]+/g;function cI(e=1,A=3){const t=new Map,r=Math.pow(10,A);return{get(n){const i=n.match(lI).length;if(t.has(i))return t.get(i);const s=1/Math.pow(i,.5*e),o=parseFloat(Math.round(s*r)/r);return t.set(i,o),o},clear(){t.clear()}}}class Ka{constructor({getFn:A=xA.getFn,fieldNormWeight:t=xA.fieldNormWeight}={}){this.norm=cI(t,3),this.getFn=A,this.isCreated=!1,this.setIndexRecords()}setSources(A=[]){this.docs=A}setIndexRecords(A=[]){this.records=A}setKeys(A=[]){this.keys=A,this._keysMap={},A.forEach((t,r)=>{this._keysMap[t.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,Lt(this.docs[0])?this.docs.forEach((A,t)=>{this._addString(A,t)}):this.docs.forEach((A,t)=>{this._addObject(A,t)}),this.norm.clear())}add(A){const t=this.size();Lt(A)?this._addString(A,t):this._addObject(A,t)}removeAt(A){this.records.splice(A,1);for(let t=A,r=this.size();t<r;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(A,t){return A[this._keysMap[t]]}size(){return this.records.length}_addString(A,t){if(!at(A)||Ta(A))return;let r={v:A,i:t,n:this.norm.get(A)};this.records.push(r)}_addObject(A,t){let r={i:t,$:{}};this.keys.forEach((n,i)=>{let s=n.getFn?n.getFn(A):this.getFn(A,n.path);if(at(s)){if(Xt(s)){let o=[];const a=[{nestedArrIndex:-1,value:s}];for(;a.length;){const{nestedArrIndex:l,value:c}=a.pop();if(at(c))if(Lt(c)&&!Ta(c)){let f={v:c,i:l,n:this.norm.get(c)};o.push(f)}else Xt(c)&&c.forEach((f,u)=>{a.push({nestedArrIndex:u,value:f})})}r.$[i]=o}else if(Lt(s)&&!Ta(s)){let o={v:s,n:this.norm.get(s)};r.$[i]=o}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function Pd(e,A,{getFn:t=xA.getFn,fieldNormWeight:r=xA.fieldNormWeight}={}){const n=new Ka({getFn:t,fieldNormWeight:r});return n.setKeys(e.map(Nd)),n.setSources(A),n.create(),n}function uI(e,{getFn:A=xA.getFn,fieldNormWeight:t=xA.fieldNormWeight}={}){const{keys:r,records:n}=e,i=new Ka({getFn:A,fieldNormWeight:t});return i.setKeys(r),i.setIndexRecords(n),i}function Ks(e,{errors:A=0,currentLocation:t=0,expectedLocation:r=0,distance:n=xA.distance,ignoreLocation:i=xA.ignoreLocation}={}){const s=A/e.length;if(i)return s;const o=Math.abs(r-t);return n?s+o/n:o?1:s}function fI(e=[],A=xA.minMatchCharLength){let t=[],r=-1,n=-1,i=0;for(let s=e.length;i<s;i+=1){let o=e[i];o&&r===-1?r=i:!o&&r!==-1&&(n=i-1,n-r+1>=A&&t.push([r,n]),r=-1)}return e[i-1]&&i-r>=A&&t.push([r,i-1]),t}const _r=32;function hI(e,A,t,{location:r=xA.location,distance:n=xA.distance,threshold:i=xA.threshold,findAllMatches:s=xA.findAllMatches,minMatchCharLength:o=xA.minMatchCharLength,includeMatches:a=xA.includeMatches,ignoreLocation:l=xA.ignoreLocation}={}){if(A.length>_r)throw new Error(AI(_r));const c=A.length,f=e.length,u=Math.max(0,Math.min(r,f));let h=i,d=u;const g=o>1||a,B=g?Array(f):[];let p;for(;(p=e.indexOf(A,d))>-1;){let H=Ks(A,{currentLocation:p,expectedLocation:u,distance:n,ignoreLocation:l});if(h=Math.min(H,h),d=p+c,g){let F=0;for(;F<c;)B[p+F]=1,F+=1}}d=-1;let C=[],U=1,v=c+f;const y=1<<c-1;for(let H=0;H<c;H+=1){let F=0,b=v;for(;F<b;)Ks(A,{errors:H,currentLocation:u+b,expectedLocation:u,distance:n,ignoreLocation:l})<=h?F=b:v=b,b=Math.floor((v-F)/2+F);v=b;let k=Math.max(1,u-b+1),M=s?f:Math.min(u+b,f)+c,T=Array(M+2);T[M+1]=(1<<H)-1;for(let E=M;E>=k;E-=1){let R=E-1,S=t[e.charAt(R)];if(g&&(B[R]=+!!S),T[E]=(T[E+1]<<1|1)&S,H&&(T[E]|=(C[E+1]|C[E])<<1|1|C[E+1]),T[E]&y&&(U=Ks(A,{errors:H,currentLocation:R,expectedLocation:u,distance:n,ignoreLocation:l}),U<=h)){if(h=U,d=R,d<=u)break;k=Math.max(1,2*u-d)}}if(Ks(A,{errors:H+1,currentLocation:u,expectedLocation:u,distance:n,ignoreLocation:l})>h)break;C=T}const _={isMatch:d>=0,score:Math.max(.001,U)};if(g){const H=fI(B,o);H.length?a&&(_.indices=H):_.isMatch=!1}return _}function dI(e){let A={};for(let t=0,r=e.length;t<r;t+=1){const n=e.charAt(t);A[n]=(A[n]||0)|1<<r-t-1}return A}class Vd{constructor(A,{location:t=xA.location,threshold:r=xA.threshold,distance:n=xA.distance,includeMatches:i=xA.includeMatches,findAllMatches:s=xA.findAllMatches,minMatchCharLength:o=xA.minMatchCharLength,isCaseSensitive:a=xA.isCaseSensitive,ignoreLocation:l=xA.ignoreLocation}={}){if(this.options={location:t,threshold:r,distance:n,includeMatches:i,findAllMatches:s,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:l},this.pattern=a?A:A.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(u,h)=>{this.chunks.push({pattern:u,alphabet:dI(u),startIndex:h})},f=this.pattern.length;if(f>_r){let u=0;const h=f%_r,d=f-h;for(;u<d;)c(this.pattern.substr(u,_r),u),u+=_r;if(h){const g=f-_r;c(this.pattern.substr(g),g)}}else c(this.pattern,0)}searchIn(A){const{isCaseSensitive:t,includeMatches:r}=this.options;if(t||(A=A.toLowerCase()),this.pattern===A){let d={isMatch:!0,score:0};return r&&(d.indices=[[0,A.length-1]]),d}const{location:n,distance:i,threshold:s,findAllMatches:o,minMatchCharLength:a,ignoreLocation:l}=this.options;let c=[],f=0,u=!1;this.chunks.forEach(({pattern:d,alphabet:g,startIndex:B})=>{const{isMatch:p,score:C,indices:U}=hI(A,d,g,{location:n+B,distance:i,threshold:s,findAllMatches:o,minMatchCharLength:a,includeMatches:r,ignoreLocation:l});p&&(u=!0),f+=C,p&&U&&(c=[...c,...U])});let h={isMatch:u,score:u?f/this.chunks.length:1};return u&&r&&(h.indices=c),h}}class ur{constructor(A){this.pattern=A}static isMultiMatch(A){return Gd(A,this.multiRegex)}static isSingleMatch(A){return Gd(A,this.singleRegex)}search(){}}function Gd(e,A){const t=e.match(A);return t?t[1]:null}class gI extends ur{constructor(A){super(A)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(A){const t=A===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class BI extends ur{constructor(A){super(A)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(A){const r=A.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,A.length-1]}}}class pI extends ur{constructor(A){super(A)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(A){const t=A.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class mI extends ur{constructor(A){super(A)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(A){const t=!A.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,A.length-1]}}}class wI extends ur{constructor(A){super(A)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(A){const t=A.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[A.length-this.pattern.length,A.length-1]}}}class vI extends ur{constructor(A){super(A)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(A){const t=!A.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,A.length-1]}}}class Xd extends ur{constructor(A,{location:t=xA.location,threshold:r=xA.threshold,distance:n=xA.distance,includeMatches:i=xA.includeMatches,findAllMatches:s=xA.findAllMatches,minMatchCharLength:o=xA.minMatchCharLength,isCaseSensitive:a=xA.isCaseSensitive,ignoreLocation:l=xA.ignoreLocation}={}){super(A),this._bitapSearch=new Vd(A,{location:t,threshold:r,distance:n,includeMatches:i,findAllMatches:s,minMatchCharLength:o,isCaseSensitive:a,ignoreLocation:l})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(A){return this._bitapSearch.searchIn(A)}}class Jd extends ur{constructor(A){super(A)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(A){let t=0,r;const n=[],i=this.pattern.length;for(;(r=A.indexOf(this.pattern,t))>-1;)t=r+i,n.push([r,t-1]);const s=!!n.length;return{isMatch:s,score:s?0:1,indices:n}}}const Oa=[gI,Jd,pI,mI,vI,wI,BI,Xd],Wd=Oa.length,CI=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,QI="|";function yI(e,A={}){return e.split(QI).map(t=>{let r=t.trim().split(CI).filter(i=>i&&!!i.trim()),n=[];for(let i=0,s=r.length;i<s;i+=1){const o=r[i];let a=!1,l=-1;for(;!a&&++l<Wd;){const c=Oa[l];let f=c.isMultiMatch(o);f&&(n.push(new c(f,A)),a=!0)}if(!a)for(l=-1;++l<Wd;){const c=Oa[l];let f=c.isSingleMatch(o);if(f){n.push(new c(f,A));break}}}return n})}const _I=new Set([Xd.type,Jd.type]);class UI{constructor(A,{isCaseSensitive:t=xA.isCaseSensitive,includeMatches:r=xA.includeMatches,minMatchCharLength:n=xA.minMatchCharLength,ignoreLocation:i=xA.ignoreLocation,findAllMatches:s=xA.findAllMatches,location:o=xA.location,threshold:a=xA.threshold,distance:l=xA.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:r,minMatchCharLength:n,findAllMatches:s,ignoreLocation:i,location:o,threshold:a,distance:l},this.pattern=t?A:A.toLowerCase(),this.query=yI(this.pattern,this.options)}static condition(A,t){return t.useExtendedSearch}searchIn(A){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:n}=this.options;A=n?A:A.toLowerCase();let i=0,s=[],o=0;for(let a=0,l=t.length;a<l;a+=1){const c=t[a];s.length=0,i=0;for(let f=0,u=c.length;f<u;f+=1){const h=c[f],{isMatch:d,indices:g,score:B}=h.search(A);if(d){if(i+=1,o+=B,r){const p=h.constructor.type;_I.has(p)?s=[...s,...g]:s.push(g)}}else{o=0,i=0,s.length=0;break}}if(i){let f={isMatch:!0,score:o/i};return r&&(f.indices=s),f}}return{isMatch:!1,score:1}}}const Na=[];function FI(...e){Na.push(...e)}function Ra(e,A){for(let t=0,r=Na.length;t<r;t+=1){let n=Na[t];if(n.condition(e,A))return new n(e,A)}return new Vd(e,A)}const Os={AND:"$and",OR:"$or"},Pa={PATH:"$path",PATTERN:"$val"},Va=e=>!!(e[Os.AND]||e[Os.OR]),bI=e=>!!e[Pa.PATH],EI=e=>!Xt(e)&&Dd(e)&&!Va(e),Yd=e=>({[Os.AND]:Object.keys(e).map(A=>({[A]:e[A]}))});function zd(e,A,{auto:t=!0}={}){const r=n=>{let i=Object.keys(n);const s=bI(n);if(!s&&i.length>1&&!Va(n))return r(Yd(n));if(EI(n)){const a=s?n[Pa.PATH]:i[0],l=s?n[Pa.PATTERN]:n[a];if(!Lt(l))throw new Error(ZE(a));const c={keyId:Da(a),pattern:l};return t&&(c.searcher=Ra(l,A)),c}let o={children:[],operator:i[0]};return i.forEach(a=>{const l=n[a];Xt(l)&&l.forEach(c=>{o.children.push(r(c))})}),o};return Va(e)||(e=Yd(e)),r(e)}function II(e,{ignoreFieldNorm:A=xA.ignoreFieldNorm}){e.forEach(t=>{let r=1;t.matches.forEach(({key:n,norm:i,score:s})=>{const o=n?n.weight:null;r*=Math.pow(s===0&&o?Number.EPSILON:s,(o||1)*(A?1:i))}),t.score=r})}function HI(e,A){const t=e.matches;A.matches=[],at(t)&&t.forEach(r=>{if(!at(r.indices)||!r.indices.length)return;const{indices:n,value:i}=r;let s={indices:n,value:i};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),A.matches.push(s)})}function SI(e,A){A.score=e.score}function xI(e,A,{includeMatches:t=xA.includeMatches,includeScore:r=xA.includeScore}={}){const n=[];return t&&n.push(HI),r&&n.push(SI),e.map(i=>{const{idx:s}=i,o={item:A[s],refIndex:s};return n.length&&n.forEach(a=>{a(i,o)}),o})}class sn{constructor(A,t={},r){this.options=nn(nn({},xA),t),this.options.useExtendedSearch,this._keyStore=new rI(this.options.keys),this.setCollection(A,r)}setCollection(A,t){if(this._docs=A,t&&!(t instanceof Ka))throw new Error(qE);this._myIndex=t||Pd(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(A){at(A)&&(this._docs.push(A),this._myIndex.add(A))}remove(A=()=>!1){const t=[];for(let r=0,n=this._docs.length;r<n;r+=1){const i=this._docs[r];A(i,r)&&(this.removeAt(r),r-=1,n-=1,t.push(i))}return t}removeAt(A){this._docs.splice(A,1),this._myIndex.removeAt(A)}getIndex(){return this._myIndex}search(A,{limit:t=-1}={}){const{includeMatches:r,includeScore:n,shouldSort:i,sortFn:s,ignoreFieldNorm:o}=this.options;let a=Lt(A)?Lt(this._docs[0])?this._searchStringList(A):this._searchObjectList(A):this._searchLogical(A);return II(a,{ignoreFieldNorm:o}),i&&a.sort(s),Td(t)&&t>-1&&(a=a.slice(0,t)),xI(a,this._docs,{includeMatches:r,includeScore:n})}_searchStringList(A){const t=Ra(A,this.options),{records:r}=this._myIndex,n=[];return r.forEach(({v:i,i:s,n:o})=>{if(!at(i))return;const{isMatch:a,score:l,indices:c}=t.searchIn(i);a&&n.push({item:i,idx:s,matches:[{score:l,value:i,norm:o,indices:c}]})}),n}_searchLogical(A){const t=zd(A,this.options),r=(o,a,l)=>{if(!o.children){const{keyId:f,searcher:u}=o,h=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(a,f),searcher:u});return h&&h.length?[{idx:l,item:a,matches:h}]:[]}const c=[];for(let f=0,u=o.children.length;f<u;f+=1){const h=o.children[f],d=r(h,a,l);if(d.length)c.push(...d);else if(o.operator===Os.AND)return[]}return c},n=this._myIndex.records,i={},s=[];return n.forEach(({$:o,i:a})=>{if(at(o)){let l=r(t,o,a);l.length&&(i[a]||(i[a]={idx:a,item:o,matches:[]},s.push(i[a])),l.forEach(({matches:c})=>{i[a].matches.push(...c)}))}}),s}_searchObjectList(A){const t=Ra(A,this.options),{keys:r,records:n}=this._myIndex,i=[];return n.forEach(({$:s,i:o})=>{if(!at(s))return;let a=[];r.forEach((l,c)=>{a.push(...this._findMatches({key:l,value:s[c],searcher:t}))}),a.length&&i.push({idx:o,item:s,matches:a})}),i}_findMatches({key:A,value:t,searcher:r}){if(!at(t))return[];let n=[];if(Xt(t))t.forEach(({v:i,i:s,n:o})=>{if(!at(i))return;const{isMatch:a,score:l,indices:c}=r.searchIn(i);a&&n.push({score:l,key:A,value:i,idx:s,norm:o,indices:c})});else{const{v:i,n:s}=t,{isMatch:o,score:a,indices:l}=r.searchIn(i);o&&n.push({score:a,key:A,value:i,norm:s,indices:l})}return n}}sn.version="7.0.0",sn.createIndex=Pd,sn.parseIndex=uI,sn.config=xA,sn.parseQuery=zd,FI(UI);var LI=function(){function e(A){this._haystack=[],this._fuseOptions=At(At({},A.fuseOptions),{keys:dE([],A.searchFields,!0),includeMatches:!0})}return e.prototype.index=function(A){this._haystack=A,this._fuse&&this._fuse.setCollection(A)},e.prototype.reset=function(){this._haystack=[],this._fuse=void 0},e.prototype.isEmptyIndex=function(){return!this._haystack.length},e.prototype.search=function(A){this._fuse||(this._fuse=new sn(this._haystack,this._fuseOptions));var t=this._fuse.search(A);return t.map(function(r,n){return{item:r.item,score:r.score||0,rank:n+1}})},e}();function MI(e){return new LI(e)}var kI=function(e){for(var A in e)if(Object.prototype.hasOwnProperty.call(e,A))return!1;return!0},Ga=function(e,A,t){var r=e.dataset,n=A.customProperties,i=A.labelClass,s=A.labelDescription;i&&(r.labelClass=Ds(i).join(" ")),s&&(r.labelDescription=s),t&&n&&(typeof n=="string"?r.customProperties=n:typeof n=="object"&&!kI(n)&&(r.customProperties=JSON.stringify(n)))},$d=function(e,A,t){var r=A&&e.querySelector("label[for='".concat(A,"']")),n=r&&r.innerText;n&&t.setAttribute("aria-label",n)},TI={containerOuter:function(e,A,t,r,n,i,s){var o=e.classNames.containerOuter,a=document.createElement("div");return DA(a,o),a.dataset.type=i,A&&(a.dir=A),r&&(a.tabIndex=0),t&&(a.setAttribute("role",n?"combobox":"listbox"),n?a.setAttribute("aria-autocomplete","list"):s||$d(this._docRoot,this.passedElement.element.id,a),a.setAttribute("aria-haspopup","true"),a.setAttribute("aria-expanded","false")),s&&a.setAttribute("aria-labelledby",s),a},containerInner:function(e){var A=e.classNames.containerInner,t=document.createElement("div");return DA(t,A),t},itemList:function(e,A){var t=e.searchEnabled,r=e.classNames,n=r.list,i=r.listSingle,s=r.listItems,o=document.createElement("div");return DA(o,n),DA(o,A?i:s),this._isSelectElement&&t&&o.setAttribute("role","listbox"),o},placeholder:function(e,A){var t=e.allowHTML,r=e.classNames.placeholder,n=document.createElement("div");return DA(n,r),Gt(n,t,A),n},item:function(e,A,t){var r=e.allowHTML,n=e.removeItemButtonAlignLeft,i=e.removeItemIconText,s=e.removeItemLabelText,o=e.classNames,a=o.item,l=o.button,c=o.highlightedState,f=o.itemSelectable,u=o.placeholder,h=yr(A.value),d=document.createElement("div");if(DA(d,a),A.labelClass){var g=document.createElement("span");Gt(g,r,A.label),DA(g,A.labelClass),d.appendChild(g)}else Gt(d,r,A.label);if(d.dataset.item="",d.dataset.id=A.id,d.dataset.value=h,Ga(d,A,!0),(A.disabled||this.containerOuter.isDisabled)&&d.setAttribute("aria-disabled","true"),this._isSelectElement&&(d.setAttribute("aria-selected","true"),d.setAttribute("role","option")),A.placeholder&&(DA(d,u),d.dataset.placeholder=""),DA(d,A.highlighted?c:f),t){A.disabled&&St(d,f),d.dataset.deletable="";var B=document.createElement("button");B.type="button",DA(B,l),Gt(B,!0,Jn(i,A.value));var p=Jn(s,A.value);p&&B.setAttribute("aria-label",p),B.dataset.button="",n?d.insertAdjacentElement("afterbegin",B):d.appendChild(B)}return d},choiceList:function(e,A){var t=e.classNames.list,r=document.createElement("div");return DA(r,t),A||r.setAttribute("aria-multiselectable","true"),r.setAttribute("role","listbox"),r},choiceGroup:function(e,A){var t=e.allowHTML,r=e.classNames,n=r.group,i=r.groupHeading,s=r.itemDisabled,o=A.id,a=A.label,l=A.disabled,c=yr(a),f=document.createElement("div");DA(f,n),l&&DA(f,s),f.setAttribute("role","group"),f.dataset.group="",f.dataset.id=o,f.dataset.value=c,l&&f.setAttribute("aria-disabled","true");var u=document.createElement("div");return DA(u,i),Gt(u,t,a||""),f.appendChild(u),f},choice:function(e,A,t,r){var n=e.allowHTML,i=e.classNames,s=i.item,o=i.itemChoice,a=i.itemSelectable,l=i.selectedState,c=i.itemDisabled,f=i.description,u=i.placeholder,h=A.label,d=yr(A.value),g=document.createElement("div");g.id=A.elementId,DA(g,s),DA(g,o),r&&typeof h=="string"&&(h=ka(n,h),h+=" (".concat(r,")"),h={trusted:h});var B=g;if(A.labelClass){var p=document.createElement("span");Gt(p,n,h),DA(p,A.labelClass),B=p,g.appendChild(p)}else Gt(g,n,h);if(A.labelDescription){var C="".concat(A.elementId,"-description");B.setAttribute("aria-describedby",C);var U=document.createElement("span");Gt(U,n,A.labelDescription),U.id=C,DA(U,f),g.appendChild(U)}return A.selected&&DA(g,l),A.placeholder&&DA(g,u),g.setAttribute("role",A.group?"treeitem":"option"),g.dataset.choice="",g.dataset.id=A.id,g.dataset.value=d,t&&(g.dataset.selectText=t),A.group&&(g.dataset.groupId="".concat(A.group.id)),Ga(g,A,!1),A.disabled?(DA(g,c),g.dataset.choiceDisabled="",g.setAttribute("aria-disabled","true")):(DA(g,a),g.dataset.choiceSelectable=""),g},input:function(e,A){var t=e.classNames,r=t.input,n=t.inputCloned,i=e.labelId,s=document.createElement("input");return s.type="search",DA(s,r),DA(s,n),s.autocomplete="off",s.autocapitalize="off",s.spellcheck=!1,s.setAttribute("aria-autocomplete","list"),A?s.setAttribute("aria-label",A):i||$d(this._docRoot,this.passedElement.element.id,s),s},dropdown:function(e){var A=e.classNames,t=A.list,r=A.listDropdown,n=document.createElement("div");return DA(n,t),DA(n,r),n.setAttribute("aria-expanded","false"),n},notice:function(e,A,t){var r=e.classNames,n=r.item,i=r.itemChoice,s=r.addChoice,o=r.noResults,a=r.noChoices,l=r.notice;t===void 0&&(t=Ke.generic);var c=document.createElement("div");switch(Gt(c,!0,A),DA(c,n),DA(c,i),DA(c,l),t){case Ke.addChoice:DA(c,s);break;case Ke.noResults:DA(c,o);break;case Ke.noChoices:DA(c,a);break}return t===Ke.addChoice&&(c.dataset.choiceSelectable="",c.dataset.choice=""),c},option:function(e){var A=yr(e.label),t=new Option(A,e.value,!1,e.selected);return Ga(t,e,!0),t.disabled=e.disabled,e.selected&&t.setAttribute("selected",""),t}},DI="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,KI={},Xa=function(e){if(e)return e.dataset.id?parseInt(e.dataset.id,10):void 0},zn="[data-choice-selectable]",OI=function(){function e(A,t){A===void 0&&(A="[data-choice]"),t===void 0&&(t={});var r=this;this.initialisedOK=void 0,this._hasNonChoicePlaceholder=!1,this._lastAddedChoiceId=0,this._lastAddedGroupId=0;var n=e.defaults;this.config=At(At(At({},n.allOptions),n.options),t),gE.forEach(function(p){r.config[p]=At(At(At({},n.allOptions[p]),n.options[p]),t[p])});var i=this.config;i.silent||this._validateConfig();var s=i.shadowRoot||document.documentElement;this._docRoot=s;var o=typeof A=="string"?s.querySelector(A):A;if(!o||typeof o!="object"||!(kE(o)||Sd(o)))throw TypeError(!o&&typeof A=="string"?"Selector ".concat(A," failed to find an element"):"Expected one of the following types text|select-one|select-multiple");var a=o.type,l=a===cr.Text;(l||i.maxItemCount!==1)&&(i.singleModeForMultiSelect=!1),i.singleModeForMultiSelect&&(a=cr.SelectMultiple);var c=a===cr.SelectOne,f=a===cr.SelectMultiple,u=c||f;if(this._elementType=a,this._isTextElement=l,this._isSelectOneElement=c,this._isSelectMultipleElement=f,this._isSelectElement=c||f,this._canAddUserChoices=l&&i.addItems||u&&i.addChoices,typeof i.renderSelectedChoices!="boolean"&&(i.renderSelectedChoices=i.renderSelectedChoices==="always"||c),i.closeDropdownOnSelect==="auto"?i.closeDropdownOnSelect=l||c||i.singleModeForMultiSelect:i.closeDropdownOnSelect=Yn(i.closeDropdownOnSelect),i.placeholder&&(i.placeholderValue?this._hasNonChoicePlaceholder=!0:o.dataset.placeholder&&(this._hasNonChoicePlaceholder=!0,i.placeholderValue=o.dataset.placeholder)),t.addItemFilter&&typeof t.addItemFilter!="function"){var h=t.addItemFilter instanceof RegExp?t.addItemFilter:new RegExp(t.addItemFilter);i.addItemFilter=h.test.bind(h)}if(this._isTextElement)this.passedElement=new ME({element:o,classNames:i.classNames});else{var d=o;this.passedElement=new KE({element:d,classNames:i.classNames,template:function(p){return r._templates.option(p)},extractPlaceholder:i.placeholder&&!this._hasNonChoicePlaceholder})}if(this.initialised=!1,this._store=new VE(i),this._currentValue="",i.searchEnabled=!l&&i.searchEnabled||f,this._canSearch=i.searchEnabled,this._isScrollingOnIe=!1,this._highlightPosition=0,this._wasTap=!0,this._placeholderValue=this._generatePlaceholderValue(),this._baseId=CE(o,"choices-"),this._direction=o.dir,!this._direction){var g=window.getComputedStyle(o).direction,B=window.getComputedStyle(document.documentElement).direction;g!==B&&(this._direction=g)}if(this._idNames={itemChoice:"item-choice"},this._templates=n.templates,this._render=this._render.bind(this),this._onFocus=this._onFocus.bind(this),this._onBlur=this._onBlur.bind(this),this._onKeyUp=this._onKeyUp.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onInput=this._onInput.bind(this),this._onClick=this._onClick.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onMouseDown=this._onMouseDown.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onFormReset=this._onFormReset.bind(this),this._onSelectKey=this._onSelectKey.bind(this),this._onEnterKey=this._onEnterKey.bind(this),this._onEscapeKey=this._onEscapeKey.bind(this),this._onDirectionKey=this._onDirectionKey.bind(this),this._onDeleteKey=this._onDeleteKey.bind(this),this.passedElement.isActive){i.silent||console.warn("Trying to initialise Choices on element already initialised",{element:A}),this.initialised=!0,this.initialisedOK=!1;return}this.init(),this._initialItems=this._store.items.map(function(p){return p.value})}return Object.defineProperty(e,"defaults",{get:function(){return Object.preventExtensions({get options(){return KI},get allOptions(){return xd},get templates(){return TI}})},enumerable:!1,configurable:!0}),e.prototype.init=function(){if(!(this.initialised||this.initialisedOK!==void 0)){this._searcher=MI(this.config),this._loadChoices(),this._createTemplates(),this._createElements(),this._createStructure(),this._isTextElement&&!this.config.addItems||this.passedElement.element.hasAttribute("disabled")||this.passedElement.element.closest("fieldset:disabled")?this.disable():(this.enable(),this._addEventListeners()),this._initStore(),this.initialised=!0,this.initialisedOK=!0;var A=this.config.callbackOnInit;typeof A=="function"&&A.call(this)}},e.prototype.destroy=function(){this.initialised&&(this._removeEventListeners(),this.passedElement.reveal(),this.containerOuter.unwrap(this.passedElement.element),this._store._listeners=[],this.clearStore(!1),this._stopSearch(),this._templates=e.defaults.templates,this.initialised=!1,this.initialisedOK=void 0)},e.prototype.enable=function(){return this.passedElement.isDisabled&&this.passedElement.enable(),this.containerOuter.isDisabled&&(this._addEventListeners(),this.input.enable(),this.containerOuter.enable()),this},e.prototype.disable=function(){return this.passedElement.isDisabled||this.passedElement.disable(),this.containerOuter.isDisabled||(this._removeEventListeners(),this.input.disable(),this.containerOuter.disable()),this},e.prototype.highlightItem=function(A,t){if(t===void 0&&(t=!0),!A||!A.id)return this;var r=this._store.items.find(function(n){return n.id===A.id});return!r||r.highlighted?this:(this._store.dispatch(ks(r,!0)),t&&this.passedElement.triggerEvent(et.highlightItem,this._getChoiceForOutput(r)),this)},e.prototype.unhighlightItem=function(A,t){if(t===void 0&&(t=!0),!A||!A.id)return this;var r=this._store.items.find(function(n){return n.id===A.id});return!r||!r.highlighted?this:(this._store.dispatch(ks(r,!1)),t&&this.passedElement.triggerEvent(et.unhighlightItem,this._getChoiceForOutput(r)),this)},e.prototype.highlightAll=function(){var A=this;return this._store.withTxn(function(){A._store.items.forEach(function(t){t.highlighted||(A._store.dispatch(ks(t,!0)),A.passedElement.triggerEvent(et.highlightItem,A._getChoiceForOutput(t)))})}),this},e.prototype.unhighlightAll=function(){var A=this;return this._store.withTxn(function(){A._store.items.forEach(function(t){t.highlighted&&(A._store.dispatch(ks(t,!1)),A.passedElement.triggerEvent(et.highlightItem,A._getChoiceForOutput(t)))})}),this},e.prototype.removeActiveItemsByValue=function(A){var t=this;return this._store.withTxn(function(){t._store.items.filter(function(r){return r.value===A}).forEach(function(r){return t._removeItem(r)})}),this},e.prototype.removeActiveItems=function(A){var t=this;return this._store.withTxn(function(){t._store.items.filter(function(r){var n=r.id;return n!==A}).forEach(function(r){return t._removeItem(r)})}),this},e.prototype.removeHighlightedItems=function(A){var t=this;return A===void 0&&(A=!1),this._store.withTxn(function(){t._store.highlightedActiveItems.forEach(function(r){t._removeItem(r),A&&t._triggerChange(r.value)})}),this},e.prototype.showDropdown=function(A){var t=this;return this.dropdown.isActive?this:(A===void 0&&(A=!this._canSearch),requestAnimationFrame(function(){t.dropdown.show();var r=t.dropdown.element.getBoundingClientRect();t.containerOuter.open(r.bottom,r.height),A||t.input.focus(),t.passedElement.triggerEvent(et.showDropdown)}),this)},e.prototype.hideDropdown=function(A){var t=this;return this.dropdown.isActive?(requestAnimationFrame(function(){t.dropdown.hide(),t.containerOuter.close(),!A&&t._canSearch&&(t.input.removeActiveDescendant(),t.input.blur()),t.passedElement.triggerEvent(et.hideDropdown)}),this):this},e.prototype.getValue=function(A){var t=this,r=this._store.items.map(function(n){return A?n.value:t._getChoiceForOutput(n)});return this._isSelectOneElement||this.config.singleModeForMultiSelect?r[0]:r},e.prototype.setValue=function(A){var t=this;return this.initialisedOK?(this._store.withTxn(function(){A.forEach(function(r){r&&t._addChoice(xt(r,!1))})}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setValue"),this)},e.prototype.setChoiceByValue=function(A){var t=this;return this.initialisedOK?this._isTextElement?this:(this._store.withTxn(function(){var r=Array.isArray(A)?A:[A];r.forEach(function(n){return t._findAndSelectChoiceByValue(n)}),t.unhighlightAll()}),this._searcher.reset(),this):(this._warnChoicesInitFailed("setChoiceByValue"),this)},e.prototype.setChoices=function(A,t,r,n,i,s){var o=this;if(A===void 0&&(A=[]),t===void 0&&(t="value"),r===void 0&&(r="label"),n===void 0&&(n=!1),i===void 0&&(i=!0),s===void 0&&(s=!1),!this.initialisedOK)return this._warnChoicesInitFailed("setChoices"),this;if(!this._isSelectElement)throw new TypeError("setChoices can't be used with INPUT based Choices");if(typeof t!="string"||!t)throw new TypeError("value parameter must be a name of 'value' field in passed objects");if(typeof A=="function"){var a=A(this);if(typeof Promise=="function"&&a instanceof Promise)return new Promise(function(l){return requestAnimationFrame(l)}).then(function(){return o._handleLoadingState(!0)}).then(function(){return a}).then(function(l){return o.setChoices(l,t,r,n,i,s)}).catch(function(l){o.config.silent||console.error(l)}).then(function(){return o._handleLoadingState(!1)}).then(function(){return o});if(!Array.isArray(a))throw new TypeError(".setChoices first argument function must return either array of choices or Promise, got: ".concat(typeof a));return this.setChoices(a,t,r,!1)}if(!Array.isArray(A))throw new TypeError(".setChoices must be called either with array of choices with a function resulting into Promise of array of choices");return this.containerOuter.removeLoadingState(),this._store.withTxn(function(){i&&(o._isSearching=!1),n&&o.clearChoices(!0,s);var l=t==="value",c=r==="label";A.forEach(function(f){if("choices"in f){var u=f;c||(u=At(At({},u),{label:u[r]})),o._addGroup(xt(u,!0))}else{var h=f;(!c||!l)&&(h=At(At({},h),{value:h[t],label:h[r]}));var d=xt(h,!1);o._addChoice(d),d.placeholder&&!o._hasNonChoicePlaceholder&&(o._placeholderValue=Fd(d.label))}}),o.unhighlightAll()}),this._searcher.reset(),this},e.prototype.refresh=function(A,t,r){var n=this;return A===void 0&&(A=!1),t===void 0&&(t=!1),r===void 0&&(r=!1),this._isSelectElement?(this._store.withTxn(function(){var i=n.passedElement.optionsAsChoices(),s={};r||n._store.items.forEach(function(a){a.id&&a.active&&a.selected&&(s[a.value]=!0)}),n.clearStore(!1);var o=function(a){r?n._store.dispatch(yd(a)):s[a.value]&&(a.selected=!0)};i.forEach(function(a){if("choices"in a){a.choices.forEach(o);return}o(a)}),n._addPredefinedChoices(i,t,A),n._isSearching&&n._searchChoices(n.input.value)}),this):(this.config.silent||console.warn("refresh method can only be used on choices backed by a <select> element"),this)},e.prototype.removeChoice=function(A){var t=this._store.choices.find(function(r){return r.value===A});return t?(this._clearNotice(),this._store.dispatch(BE(t)),this._searcher.reset(),t.selected&&this.passedElement.triggerEvent(et.removeItem,this._getChoiceForOutput(t)),this):this},e.prototype.clearChoices=function(A,t){var r=this;return A===void 0&&(A=!0),t===void 0&&(t=!1),A&&(t?this.passedElement.element.replaceChildren(""):this.passedElement.element.querySelectorAll(":not([selected])").forEach(function(n){n.remove()})),this.itemList.element.replaceChildren(""),this.choiceList.element.replaceChildren(""),this._clearNotice(),this._store.withTxn(function(){var n=t?[]:r._store.items;r._store.reset(),n.forEach(function(i){r._store.dispatch(Cd(i)),r._store.dispatch(Qd(i))})}),this._searcher.reset(),this},e.prototype.clearStore=function(A){return A===void 0&&(A=!0),this.clearChoices(A,!0),this._stopSearch(),this._lastAddedChoiceId=0,this._lastAddedGroupId=0,this},e.prototype.clearInput=function(){var A=!this._isSelectOneElement;return this.input.clear(A),this._stopSearch(),this},e.prototype._validateConfig=function(){var A=this.config,t=EE(A,xd);t.length&&console.warn("Unknown config option(s) passed",t.join(", ")),A.allowHTML&&A.allowHtmlUserInput&&(A.addItems&&console.warn("Warning: allowHTML/allowHtmlUserInput/addItems all being true is strongly not recommended and may lead to XSS attacks"),A.addChoices&&console.warn("Warning: allowHTML/allowHtmlUserInput/addChoices all being true is strongly not recommended and may lead to XSS attacks"))},e.prototype._render=function(A){A===void 0&&(A={choices:!0,groups:!0,items:!0}),!this._store.inTxn()&&(this._isSelectElement&&(A.choices||A.groups)&&this._renderChoices(),A.items&&this._renderItems())},e.prototype._renderChoices=function(){var A=this;if(this._canAddItems()){var t=this,r=t.config,n=t._isSearching,i=this._store,s=i.activeGroups,o=i.activeChoices,a=0;if(n&&r.searchResultLimit>0?a=r.searchResultLimit:r.renderChoiceLimit>0&&(a=r.renderChoiceLimit),this._isSelectElement){var l=o.filter(function(d){return!d.element});l.length&&this.passedElement.addOptions(l)}var c=document.createDocumentFragment(),f=function(d){return d.filter(function(g){return!g.placeholder&&(n?!!g.rank:r.renderSelectedChoices||!g.selected)})},u=!1,h=function(d,g,B){n?d.sort(FE):r.shouldSort&&d.sort(r.sorter);var p=d.length;p=!g&&a&&p>a?a:p,p--,d.every(function(C,U){var v=C.choiceEl||A._templates.choice(r,C,r.itemSelectText,B);return C.choiceEl=v,c.appendChild(v),(n||!C.selected)&&(u=!0),U<p})};o.length&&(r.resetScrollPosition&&requestAnimationFrame(function(){return A.choiceList.scrollToTop()}),!this._hasNonChoicePlaceholder&&!n&&this._isSelectOneElement&&h(o.filter(function(d){return d.placeholder&&!d.group}),!1,void 0),s.length&&!n?(r.shouldSort&&s.sort(r.sorter),h(o.filter(function(d){return!d.placeholder&&!d.group}),!1,void 0),s.forEach(function(d){var g=f(d.choices);if(g.length){if(d.label){var B=d.groupEl||A._templates.choiceGroup(A.config,d);d.groupEl=B,B.remove(),c.appendChild(B)}h(g,!0,r.appendGroupInSearch&&n?d.label:void 0)}})):h(f(o),!1,void 0)),!u&&(n||!c.children.length||!r.renderSelectedChoices)&&(this._notice||(this._notice={text:Ud(n?r.noResultsText:r.noChoicesText),type:n?Ke.noResults:Ke.noChoices}),c.replaceChildren("")),this._renderNotice(c),this.choiceList.element.replaceChildren(c),u&&this._highlightChoice()}},e.prototype._renderItems=function(){var A=this,t=this._store.items||[],r=this.itemList.element,n=this.config,i=document.createDocumentFragment(),s=function(f){return r.querySelector('[data-item][data-id="'.concat(f.id,'"]'))},o=function(f){var u=f.itemEl;u&&u.parentElement||(u=s(f)||A._templates.item(n,f,n.removeItemButton),f.itemEl=u,i.appendChild(u))};t.forEach(o);var a=!!i.childNodes.length;if(this._isSelectOneElement){var l=r.children.length;if(a||l>1){var c=r.querySelector(Wn(n.classNames.placeholder));c&&c.remove()}else!a&&!l&&this._placeholderValue&&(a=!0,o(xt({selected:!0,value:"",label:this._placeholderValue,placeholder:!0},!1)))}a&&(r.append(i),n.shouldSortItems&&!this._isSelectOneElement&&(t.sort(n.sorter),t.forEach(function(f){var u=s(f);u&&(u.remove(),i.append(u))}),r.append(i))),this._isTextElement&&(this.passedElement.value=t.map(function(f){var u=f.value;return u}).join(n.delimiter))},e.prototype._displayNotice=function(A,t,r){r===void 0&&(r=!0);var n=this._notice;if(n&&(n.type===t&&n.text===A||n.type===Ke.addChoice&&(t===Ke.noResults||t===Ke.noChoices))){r&&this.showDropdown(!0);return}this._clearNotice(),this._notice=A?{text:A,type:t}:void 0,this._renderNotice(),r&&A&&this.showDropdown(!0)},e.prototype._clearNotice=function(){if(this._notice){var A=this.choiceList.element.querySelector(Wn(this.config.classNames.notice));A&&A.remove(),this._notice=void 0}},e.prototype._renderNotice=function(A){var t=this._notice;if(t){var r=this._templates.notice(this.config,t.text,t.type);A?A.append(r):this.choiceList.prepend(r)}},e.prototype._getChoiceForOutput=function(A,t){return{id:A.id,highlighted:A.highlighted,labelClass:A.labelClass,labelDescription:A.labelDescription,customProperties:A.customProperties,disabled:A.disabled,active:A.active,label:A.label,placeholder:A.placeholder,value:A.value,groupValue:A.group?A.group.label:void 0,element:A.element,keyCode:t}},e.prototype._triggerChange=function(A){A!=null&&this.passedElement.triggerEvent(et.change,{value:A})},e.prototype._handleButtonAction=function(A){var t=this,r=this._store.items;if(!(!r.length||!this.config.removeItems||!this.config.removeItemButton)){var n=A&&Xa(A.parentElement),i=n&&r.find(function(s){return s.id===n});i&&this._store.withTxn(function(){if(t._removeItem(i),t._triggerChange(i.value),t._isSelectOneElement&&!t._hasNonChoicePlaceholder){var s=(t.config.shouldSort?t._store.choices.reverse():t._store.choices).find(function(o){return o.placeholder});s&&(t._addItem(s),t.unhighlightAll(),s.value&&t._triggerChange(s.value))}})}},e.prototype._handleItemAction=function(A,t){var r=this;t===void 0&&(t=!1);var n=this._store.items;if(!(!n.length||!this.config.removeItems||this._isSelectOneElement)){var i=Xa(A);i&&(n.forEach(function(s){s.id===i&&!s.highlighted?r.highlightItem(s):!t&&s.highlighted&&r.unhighlightItem(s)}),this.input.focus())}},e.prototype._handleChoiceAction=function(A){var t=this,r=Xa(A),n=r&&this._store.getChoiceById(r);if(!n||n.disabled)return!1;var i=this.dropdown.isActive;if(!n.selected){if(!this._canAddItems())return!0;this._store.withTxn(function(){t._addItem(n,!0,!0),t.clearInput(),t.unhighlightAll()}),this._triggerChange(n.value)}return i&&this.config.closeDropdownOnSelect&&(this.hideDropdown(!0),this.containerOuter.element.focus()),!0},e.prototype._handleBackspace=function(A){var t=this.config;if(!(!t.removeItems||!A.length)){var r=A[A.length-1],n=A.some(function(i){return i.highlighted});t.editItems&&!n&&r?(this.input.value=r.value,this.input.setWidth(),this._removeItem(r),this._triggerChange(r.value)):(n||this.highlightItem(r,!1),this.removeHighlightedItems(!0))}},e.prototype._loadChoices=function(){var A,t=this,r=this.config;if(this._isTextElement){if(this._presetChoices=r.items.map(function(s){return xt(s,!1)}),this.passedElement.value){var n=this.passedElement.value.split(r.delimiter).map(function(s){return xt(s,!1,t.config.allowHtmlUserInput)});this._presetChoices=this._presetChoices.concat(n)}this._presetChoices.forEach(function(s){s.selected=!0})}else if(this._isSelectElement){this._presetChoices=r.choices.map(function(s){return xt(s,!0)});var i=this.passedElement.optionsAsChoices();i&&(A=this._presetChoices).push.apply(A,i)}},e.prototype._handleLoadingState=function(A){A===void 0&&(A=!0);var t=this.itemList.element;A?(this.disable(),this.containerOuter.addLoadingState(),this._isSelectOneElement?t.replaceChildren(this._templates.placeholder(this.config,this.config.loadingText)):this.input.placeholder=this.config.loadingText):(this.enable(),this.containerOuter.removeLoadingState(),this._isSelectOneElement?(t.replaceChildren(""),this._render()):this.input.placeholder=this._placeholderValue||"")},e.prototype._handleSearch=function(A){if(this.input.isFocussed)if(A!==null&&typeof A<"u"&&A.length>=this.config.searchFloor){var t=this.config.searchChoices?this._searchChoices(A):0;t!==null&&this.passedElement.triggerEvent(et.search,{value:A,resultCount:t})}else this._store.choices.some(function(r){return!r.active})&&this._stopSearch()},e.prototype._canAddItems=function(){var A=this.config,t=A.maxItemCount,r=A.maxItemText;return!A.singleModeForMultiSelect&&t>0&&t<=this._store.items.length?(this.choiceList.element.replaceChildren(""),this._notice=void 0,this._displayNotice(typeof r=="function"?r(t):r,Ke.addChoice),!1):(this._notice&&this._notice.type===Ke.addChoice&&this._clearNotice(),!0)},e.prototype._canCreateItem=function(A){var t=this.config,r=!0,n="";if(r&&typeof t.addItemFilter=="function"&&!t.addItemFilter(A)&&(r=!1,n=Jn(t.customAddItemText,A)),r){var i=this._store.choices.find(function(s){return t.valueComparer(s.value,A)});if(i){if(this._isSelectElement)return this._displayNotice("",Ke.addChoice),!1;t.duplicateItemsAllowed||(r=!1,n=Jn(t.uniqueItemText,A))}}return r&&(n=Jn(t.addItemText,A)),n&&this._displayNotice(n,Ke.addChoice),r},e.prototype._searchChoices=function(A){var t=A.trim().replace(/\s{2,}/," ");if(!t.length||t===this._currentValue)return null;var r=this._searcher;r.isEmptyIndex()&&r.index(this._store.searchableChoices);var n=r.search(t);this._currentValue=t,this._highlightPosition=0,this._isSearching=!0;var i=this._notice,s=i&&i.type;return s!==Ke.addChoice&&(n.length?this._clearNotice():this._displayNotice(Ud(this.config.noResultsText),Ke.noResults)),this._store.dispatch(pE(n)),n.length},e.prototype._stopSearch=function(){this._isSearching&&(this._currentValue="",this._isSearching=!1,this._clearNotice(),this._store.dispatch(mE(!0)),this.passedElement.triggerEvent(et.search,{value:"",resultCount:0}))},e.prototype._addEventListeners=function(){var A=this._docRoot,t=this.containerOuter.element,r=this.input.element;A.addEventListener("touchend",this._onTouchEnd,!0),t.addEventListener("keydown",this._onKeyDown,!0),t.addEventListener("mousedown",this._onMouseDown,!0),A.addEventListener("click",this._onClick,{passive:!0}),A.addEventListener("touchmove",this._onTouchMove,{passive:!0}),this.dropdown.element.addEventListener("mouseover",this._onMouseOver,{passive:!0}),this._isSelectOneElement&&(t.addEventListener("focus",this._onFocus,{passive:!0}),t.addEventListener("blur",this._onBlur,{passive:!0})),r.addEventListener("keyup",this._onKeyUp,{passive:!0}),r.addEventListener("input",this._onInput,{passive:!0}),r.addEventListener("focus",this._onFocus,{passive:!0}),r.addEventListener("blur",this._onBlur,{passive:!0}),r.form&&r.form.addEventListener("reset",this._onFormReset,{passive:!0}),this.input.addEventListeners()},e.prototype._removeEventListeners=function(){var A=this._docRoot,t=this.containerOuter.element,r=this.input.element;A.removeEventListener("touchend",this._onTouchEnd,!0),t.removeEventListener("keydown",this._onKeyDown,!0),t.removeEventListener("mousedown",this._onMouseDown,!0),A.removeEventListener("click",this._onClick),A.removeEventListener("touchmove",this._onTouchMove),this.dropdown.element.removeEventListener("mouseover",this._onMouseOver),this._isSelectOneElement&&(t.removeEventListener("focus",this._onFocus),t.removeEventListener("blur",this._onBlur)),r.removeEventListener("keyup",this._onKeyUp),r.removeEventListener("input",this._onInput),r.removeEventListener("focus",this._onFocus),r.removeEventListener("blur",this._onBlur),r.form&&r.form.removeEventListener("reset",this._onFormReset),this.input.removeEventListeners()},e.prototype._onKeyDown=function(A){var t=A.keyCode,r=this.dropdown.isActive,n=A.key.length===1||A.key.length===2&&A.key.charCodeAt(0)>=55296||A.key==="Unidentified";switch(!this._isTextElement&&!r&&t!==Ge.ESC_KEY&&t!==Ge.TAB_KEY&&t!==Ge.SHIFT_KEY&&(this.showDropdown(),!this.input.isFocussed&&n&&(this.input.value+=A.key,A.key===" "&&A.preventDefault())),t){case Ge.A_KEY:return this._onSelectKey(A,this.itemList.element.hasChildNodes());case Ge.ENTER_KEY:return this._onEnterKey(A,r);case Ge.ESC_KEY:return this._onEscapeKey(A,r);case Ge.UP_KEY:case Ge.PAGE_UP_KEY:case Ge.DOWN_KEY:case Ge.PAGE_DOWN_KEY:return this._onDirectionKey(A,r);case Ge.DELETE_KEY:case Ge.BACK_KEY:return this._onDeleteKey(A,this._store.items,this.input.isFocussed)}},e.prototype._onKeyUp=function(){this._canSearch=this.config.searchEnabled},e.prototype._onInput=function(){var A=this.input.value;if(!A){this._isTextElement?this.hideDropdown(!0):this._stopSearch();return}this._canAddItems()&&(this._canSearch&&this._handleSearch(A),this._canAddUserChoices&&(this._canCreateItem(A),this._isSelectElement&&(this._highlightPosition=0,this._highlightChoice())))},e.prototype._onSelectKey=function(A,t){if((A.ctrlKey||A.metaKey)&&t){this._canSearch=!1;var r=this.config.removeItems&&!this.input.value&&this.input.element===document.activeElement;r&&this.highlightAll()}},e.prototype._onEnterKey=function(A,t){var r=this,n=this.input.value,i=A.target;if(A.preventDefault(),i&&i.hasAttribute("data-button")){this._handleButtonAction(i);return}if(!t){(this._isSelectElement||this._notice)&&this.showDropdown();return}var s=this.dropdown.element.querySelector(Wn(this.config.classNames.highlightedState));if(!(s&&this._handleChoiceAction(s))){if(!i||!n){this.hideDropdown(!0);return}if(this._canAddItems()){var o=!1;this._store.withTxn(function(){if(o=r._findAndSelectChoiceByValue(n,!0),!o){if(!r._canAddUserChoices||!r._canCreateItem(n))return;r._addChoice(xt(n,!1,r.config.allowHtmlUserInput),!0,!0),o=!0}r.clearInput(),r.unhighlightAll()}),o&&(this._triggerChange(n),this.config.closeDropdownOnSelect&&this.hideDropdown(!0))}}},e.prototype._onEscapeKey=function(A,t){t&&(A.stopPropagation(),this.hideDropdown(!0),this._stopSearch(),this.containerOuter.element.focus())},e.prototype._onDirectionKey=function(A,t){var r=A.keyCode;if(t||this._isSelectOneElement){this.showDropdown(),this._canSearch=!1;var n=r===Ge.DOWN_KEY||r===Ge.PAGE_DOWN_KEY?1:-1,i=A.metaKey||r===Ge.PAGE_DOWN_KEY||r===Ge.PAGE_UP_KEY,s=void 0;if(i)n>0?s=this.dropdown.element.querySelector("".concat(zn,":last-of-type")):s=this.dropdown.element.querySelector(zn);else{var o=this.dropdown.element.querySelector(Wn(this.config.classNames.highlightedState));o?s=QE(o,zn,n):s=this.dropdown.element.querySelector(zn)}s&&(yE(s,this.choiceList.element,n)||this.choiceList.scrollToChildElement(s,n),this._highlightChoice(s)),A.preventDefault()}},e.prototype._onDeleteKey=function(A,t,r){!this._isSelectOneElement&&!A.target.value&&r&&(this._handleBackspace(t),A.preventDefault())},e.prototype._onTouchMove=function(){this._wasTap&&(this._wasTap=!1)},e.prototype._onTouchEnd=function(A){var t=(A||A.touches[0]).target,r=this._wasTap&&this.containerOuter.element.contains(t);if(r){var n=t===this.containerOuter.element||t===this.containerInner.element;n&&(this._isTextElement?this.input.focus():this._isSelectMultipleElement&&this.showDropdown()),A.stopPropagation()}this._wasTap=!0},e.prototype._onMouseDown=function(A){var t=A.target;if(t instanceof HTMLElement){if(DI&&this.choiceList.element.contains(t)){var r=this.choiceList.element.firstElementChild;this._isScrollingOnIe=this._direction==="ltr"?A.offsetX>=r.offsetWidth:A.offsetX<r.offsetLeft}if(t!==this.input.element){var n=t.closest("[data-button],[data-item],[data-choice]");n instanceof HTMLElement&&("button"in n.dataset?this._handleButtonAction(n):"item"in n.dataset?this._handleItemAction(n,A.shiftKey):"choice"in n.dataset&&this._handleChoiceAction(n)),A.preventDefault()}}},e.prototype._onMouseOver=function(A){var t=A.target;t instanceof HTMLElement&&"choice"in t.dataset&&this._highlightChoice(t)},e.prototype._onClick=function(A){var t=A.target,r=this.containerOuter,n=r.element.contains(t);n?!this.dropdown.isActive&&!r.isDisabled?this._isTextElement?document.activeElement!==this.input.element&&this.input.focus():(this.showDropdown(),r.element.focus()):this._isSelectOneElement&&t!==this.input.element&&!this.dropdown.element.contains(t)&&this.hideDropdown():(r.removeFocusState(),this.hideDropdown(!0),this.unhighlightAll())},e.prototype._onFocus=function(A){var t=A.target,r=this.containerOuter,n=t&&r.element.contains(t);if(n){var i=t===this.input.element;this._isTextElement?i&&r.addFocusState():this._isSelectMultipleElement?i&&(this.showDropdown(!0),r.addFocusState()):(r.addFocusState(),i&&this.showDropdown(!0))}},e.prototype._onBlur=function(A){var t=A.target,r=this.containerOuter,n=t&&r.element.contains(t);n&&!this._isScrollingOnIe?t===this.input.element?(r.removeFocusState(),this.hideDropdown(!0),(this._isTextElement||this._isSelectMultipleElement)&&this.unhighlightAll()):t===this.containerOuter.element&&(r.removeFocusState(),this._canSearch||this.hideDropdown(!0)):(this._isScrollingOnIe=!1,this.input.element.focus())},e.prototype._onFormReset=function(){var A=this;this._store.withTxn(function(){A.clearInput(),A.hideDropdown(),A.refresh(!1,!1,!0),A._initialItems.length&&A.setChoiceByValue(A._initialItems)})},e.prototype._highlightChoice=function(A){A===void 0&&(A=null);var t=Array.from(this.dropdown.element.querySelectorAll(zn));if(t.length){var r=A,n=this.config.classNames.highlightedState,i=Array.from(this.dropdown.element.querySelectorAll(Wn(n)));i.forEach(function(s){St(s,n),s.setAttribute("aria-selected","false")}),r?this._highlightPosition=t.indexOf(r):(t.length>this._highlightPosition?r=t[this._highlightPosition]:r=t[t.length-1],r||(r=t[0])),DA(r,n),r.setAttribute("aria-selected","true"),this.passedElement.triggerEvent(et.highlightChoice,{el:r}),this.dropdown.isActive&&(this.input.setActiveDescendant(r.id),this.containerOuter.setActiveDescendant(r.id))}},e.prototype._addItem=function(A,t,r){if(t===void 0&&(t=!0),r===void 0&&(r=!1),!A.id)throw new TypeError("item.id must be set before _addItem is called for a choice/item");(this.config.singleModeForMultiSelect||this._isSelectOneElement)&&this.removeActiveItems(A.id),this._store.dispatch(Qd(A)),t&&(this.passedElement.triggerEvent(et.addItem,this._getChoiceForOutput(A)),r&&this.passedElement.triggerEvent(et.choice,this._getChoiceForOutput(A)))},e.prototype._removeItem=function(A){if(A.id){this._store.dispatch(yd(A));var t=this._notice;t&&t.type===Ke.noChoices&&this._clearNotice(),this.passedElement.triggerEvent(et.removeItem,this._getChoiceForOutput(A))}},e.prototype._addChoice=function(A,t,r){if(t===void 0&&(t=!0),r===void 0&&(r=!1),A.id)throw new TypeError("Can not re-add a choice which has already been added");var n=this.config;if(!(!n.duplicateItemsAllowed&&this._store.choices.find(function(o){return n.valueComparer(o.value,A.value)}))){this._lastAddedChoiceId++,A.id=this._lastAddedChoiceId,A.elementId="".concat(this._baseId,"-").concat(this._idNames.itemChoice,"-").concat(A.id);var i=n.prependValue,s=n.appendValue;i&&(A.value=i+A.value),s&&(A.value+=s.toString()),(i||s)&&A.element&&(A.element.value=A.value),this._clearNotice(),this._store.dispatch(Cd(A)),A.selected&&this._addItem(A,t,r)}},e.prototype._addGroup=function(A,t){var r=this;if(t===void 0&&(t=!0),A.id)throw new TypeError("Can not re-add a group which has already been added");this._store.dispatch(wE(A)),A.choices&&(this._lastAddedGroupId++,A.id=this._lastAddedGroupId,A.choices.forEach(function(n){n.group=A,A.disabled&&(n.disabled=!0),r._addChoice(n,t)}))},e.prototype._createTemplates=function(){var A=this,t=this.config.callbackOnCreateTemplates,r={};typeof t=="function"&&(r=t.call(this,_E,ka,Ds));var n={};Object.keys(this._templates).forEach(function(i){i in r?n[i]=r[i].bind(A):n[i]=A._templates[i].bind(A)}),this._templates=n},e.prototype._createElements=function(){var A=this._templates,t=this,r=t.config,n=t._isSelectOneElement,i=r.position,s=r.classNames,o=this._elementType;this.containerOuter=new bd({element:A.containerOuter(r,this._direction,this._isSelectElement,n,r.searchEnabled,o,r.labelId),classNames:s,type:o,position:i}),this.containerInner=new bd({element:A.containerInner(r),classNames:s,type:o,position:i}),this.input=new xE({element:A.input(r,this._placeholderValue),classNames:s,type:o,preventPaste:!r.paste}),this.choiceList=new Ed({element:A.choiceList(r,n)}),this.itemList=new Ed({element:A.itemList(r,n)}),this.dropdown=new SE({element:A.dropdown(r),classNames:s,type:o})},e.prototype._createStructure=function(){var A=this,t=A.containerInner,r=A.containerOuter,n=A.passedElement,i=this.dropdown.element;n.conceal(),t.wrap(n.element),r.wrap(t.element),this._isSelectOneElement?this.input.placeholder=this.config.searchPlaceholderValue||"":(this._placeholderValue&&(this.input.placeholder=this._placeholderValue),this.input.setWidth()),r.element.appendChild(t.element),r.element.appendChild(i),t.element.appendChild(this.itemList.element),i.appendChild(this.choiceList.element),this._isSelectOneElement?this.config.searchEnabled&&i.insertBefore(this.input.element,i.firstChild):t.element.appendChild(this.input.element),this._highlightPosition=0,this._isSearching=!1},e.prototype._initStore=function(){var A=this;this._store.subscribe(this._render).withTxn(function(){A._addPredefinedChoices(A._presetChoices,A._isSelectOneElement&&!A._hasNonChoicePlaceholder,!1)}),(!this._store.choices.length||this._isSelectOneElement&&this._hasNonChoicePlaceholder)&&this._render()},e.prototype._addPredefinedChoices=function(A,t,r){var n=this;if(t===void 0&&(t=!1),r===void 0&&(r=!0),t){var i=A.findIndex(function(s){return s.selected})===-1;i&&A.some(function(s){return s.disabled||"choices"in s?!1:(s.selected=!0,!0)})}A.forEach(function(s){"choices"in s?n._isSelectElement&&n._addGroup(s,r):n._addChoice(s,r)})},e.prototype._findAndSelectChoiceByValue=function(A,t){var r=this;t===void 0&&(t=!1);var n=this._store.choices.find(function(i){return r.config.valueComparer(i.value,A)});return n&&!n.disabled&&!n.selected?(this._addItem(n,!0,t),!0):!1},e.prototype._generatePlaceholderValue=function(){var A=this.config;if(!A.placeholder)return null;if(this._hasNonChoicePlaceholder)return A.placeholderValue;if(this._isSelectElement){var t=this.passedElement.placeholderOption;return t?t.text:null}return null},e.prototype._warnChoicesInitFailed=function(A){if(!this.config.silent)if(this.initialised){if(!this.initialisedOK)throw new TypeError("".concat(A," called for an element which has multiple instances of Choices initialised on it"))}else throw new TypeError("".concat(A," called on a non-initialised instance of Choices"))},e.version="11.1.0",e}();const dS="",gS="";function jd(e){let A,t;return{c(){A=Q("label"),t=sA(e[2]),m(A,"for",e[4])},m(r,n){O(r,A,n),w(A,t)},p(r,n){n&4&&PA(t,r[2])},d(r){r&&K(A)}}}function NI(e){let A;return{c(){A=Q("select"),m(A,"id",e[4]),m(A,"name",e[4]),m(A,"aria-label",e[2]),m(A,"class","m-1")},m(t,r){O(t,A,r)},p(t,r){r&4&&m(A,"aria-label",t[2])},i:rA,o:rA,d(t){t&&K(A)}}}function RI(e){let A,t,r,n=e[3].length&&qd(e);return{c(){n&&n.c(),A=N(),t=Q("select"),m(t,"id",e[4]),m(t,"name",e[4]),m(t,"aria-label",e[2]),m(t,"class","m-1"),t.multiple=!0},m(i,s){n&&n.m(i,s),O(i,A,s),O(i,t,s),r=!0},p(i,s){i[3].length?n?(n.p(i,s),s&8&&P(n,1)):(n=qd(i),n.c(),P(n,1),n.m(A.parentNode,A)):n&&(ZA(),W(n,1,1,()=>{n=null}),Ae()),(!r||s&4)&&m(t,"aria-label",i[2])},i(i){r||(P(n),r=!0)},o(i){W(n),r=!1},d(i){n&&n.d(i),i&&K(A),i&&K(t)}}}function qd(e){let A,t,r=e[3].length+"",n,i,s,o;return s=new hi({props:{targetHtmlId:e[5],tooltipText:`${e[3].length}
                                    ${J==="fr"&&e[3].length>1?"valeurs sélectionnées":J==="fr"&&e[3].length===1?"valeur sélectionnée":J==="en"&&e[3].length>1?"selected values":"selected value"}`}}),{c(){A=Q("span"),t=Q("span"),n=sA(r),i=N(),BA(s.$$.fragment),m(t,"id",e[5]),m(t,"class","input-dropdown-count tag m-1 svelte-1epfuu8"),m(A,"class","is-relative")},m(a,l){O(a,A,l),w(A,t),w(t,n),w(A,i),dA(s,A,null),o=!0},p(a,l){(!o||l&8)&&r!==(r=a[3].length+"")&&PA(n,r);const c={};l&8&&(c.tooltipText=`${a[3].length}
                                    ${J==="fr"&&a[3].length>1?"valeurs sélectionnées":J==="fr"&&a[3].length===1?"valeur sélectionnée":J==="en"&&a[3].length>1?"selected values":"selected value"}`),s.$set(c)},i(a){o||(P(s.$$.fragment,a),o=!0)},o(a){W(s.$$.fragment,a),o=!1},d(a){a&&K(A),gA(s)}}}function PI(e){let A,t,r,n,i,s,o,a=e[2]!==void 0&&jd(e);const l=[RI,NI],c=[];function f(u,h){return u[0]?0:1}return n=f(e),i=c[n]=l[n](e),{c(){A=Q("div"),a&&a.c(),t=N(),r=Q("div"),i.c(),m(r,"class",s="input-dropdown-select "+(e[0]?"is-multiple":"is-single")+" "+(e[0]&&e[3].length?"is-flex is-justify-content-flex-start is-align-items-center":"")+" "+(e[1]?"light-display":"")+" svelte-1epfuu8"),m(A,"class","input-dropdown-select-wrapper")},m(u,h){O(u,A,h),a&&a.m(A,null),w(A,t),w(A,r),c[n].m(r,null),o=!0},p(u,[h]){u[2]!==void 0?a?a.p(u,h):(a=jd(u),a.c(),a.m(A,t)):a&&(a.d(1),a=null);let d=n;n=f(u),n===d?c[n].p(u,h):(ZA(),W(c[d],1,1,()=>{c[d]=null}),Ae(),i=c[n],i?i.p(u,h):(i=c[n]=l[n](u),i.c()),P(i,1),i.m(r,null)),(!o||h&11&&s!==(s="input-dropdown-select "+(u[0]?"is-multiple":"is-single")+" "+(u[0]&&u[3].length?"is-flex is-justify-content-flex-start is-align-items-center":"")+" "+(u[1]?"light-display":"")+" svelte-1epfuu8"))&&m(r,"class",s)},i(u){o||(P(i),o=!0)},o(u){W(i),o=!1},d(u){u&&K(A),a&&a.d(),c[n].d()}}}const VI=250;function GI(e,A,t){let r,n,{choicesItems:i}=A,{start:s=[]}=A,{multiple:o}=A,{searchable:a=!0}=A,{lightDisplay:l=!1}=A,{placeholder:c=J==="fr"?"Sélectionner une valeur":"Select a value"}=A,{title:f=void 0}=A,{selectAll:u=!!o}=A;const h=`input-dropdown-select-${window.crypto.randomUUID()}`,d=`input-dropdown-counter-${window.crypto.randomUUID()}`,g=`select-all-${window.crypto.randomUUID()}`,B=`unselect-all-${window.crypto.randomUUID()}`,p=ni();let C;const U=ai();U.setCompareFn(Zs);const v=nt("resetTrigger")||void 0;v==null||v.subscribe(()=>T(C,i,s,u));const y=()=>{t(11,n=!0),setTimeout(()=>t(11,n=!1),VI)},_=(S,Y)=>{Y||(U.set(S),U.same()||p("updateValues",r))},H=S=>`<span class="iconify" data-icon=${S}/>`,F=(S,Y)=>S!=null&&Y!=null&&S.length&&Y.length?`<span class="dropdown-prefix-wrapper">${Y==="iconify"?H(S):S}</span>`:"",b=(S,Y)=>Y?[{value:g,label:`<b>${J==="fr"?"Tout sélectionner":"Select all"}</b>`},{value:B,label:`<b>${J==="fr"?"Tout retirer":"Remove all"}</b>`},...S]:S,k=(S,Y)=>b(S,Y).map(V=>(V.id=`dropdown-choice-${window.crypto.randomUUID()}`,V.label=`<span>
                ${F(V.prefix||"",V.prefixType||"")}
                <span class="dropdown-prefix-text">${V.label}</span>
            </span>`,V));function M(S,Y,V){return S=structuredClone(S),Y=structuredClone(Y),S=k(S,V).map(G=>Y.includes(G.value)?{...G,selected:!0}:{...G,selected:!1}),t(3,r=Y),S}function T(S,Y,V,G){S&&(Y=M(Y,V,G),S.clearStore().setChoices(Y))}const L=(S,Y,V,G,AA,oA)=>(G=structuredClone(G),V=structuredClone(V),S.detail.value===AA?(y(),V=V.map(fA=>[AA,oA].includes(fA.value)?{...fA,selected:!1}:{...fA,selected:!0}),Y.removeActiveItems().clearChoices(!0,!0).setValue(V).hideDropdown(),G=[...new Set(V.filter(fA=>fA.selected===!0).map(fA=>fA.value))]):S.detail.value===oA?(Y.removeActiveItems().hideDropdown(),G=[]):G=o===!0?[...G,S.detail.value]:[S.detail.value],[...new Set(G)]),E=(S,Y)=>structuredClone(Y).filter(V=>V!==S.detail.value);function R(S,Y){const V=document.getElementById(h);C=new OI(V,{items:[],choices:S,addChoices:!1,addItems:!1,removeItems:!0,removeItemButton:!0,searchEnabled:a,allowHTML:!0,shouldSort:!Y,sorter:(G,AA)=>G.label.localeCompare(AA.label),placeholderValue:c,classNames:{item:["choices__item","dropdown-item"]},loadingText:J==="fr"?"Chargement...":"Loading...",noResultsText:J==="fr"?"Pas de résultats":"No results found",noChoicesText:J==="fr"?"Pas de choix pour faire la sélection":"No choices to choose from",itemSelectText:J==="fr"?"Cliquer pour sélectionner":"Press to select",uniqueItemText:J==="fr"?"Seules des valeurs uniques peuvent être ajoutées":"Only unique values can be added",customAddItemText:J==="fr"?"Les valeurs ne répondent pas aux conditions attendues":"Only values matching specific conditions can be added",removeItemIconText:J==="fr"?"Retirer l'item":"Remove item",addItemText:G=>J==="fr"?`Cliquer sur Entrer pour ajouter <b>${G}</b>`:`Press Enter to add <b>"${G}"</b>`,removeItemLabelText:G=>J==="fr"?`Retirer l'item: ${G}`:`Remove item: ${G}`,maxItemText:G=>J==="fr"?`Seulement ${G} items peuvent être ajoutées`:`Only ${G} items can be added`}),V.addEventListener("addItem",G=>{t(3,r=L(G,C,S,r,g,B))}),V.addEventListener("removeItem",G=>{t(3,r=E(G,r))})}return Ir(()=>{const S=M(i,s,u);R(S,u)}),Hr(()=>{C.destroy(),C=void 0}),e.$$set=S=>{"choicesItems"in S&&t(6,i=S.choicesItems),"start"in S&&t(7,s=S.start),"multiple"in S&&t(0,o=S.multiple),"searchable"in S&&t(8,a=S.searchable),"lightDisplay"in S&&t(1,l=S.lightDisplay),"placeholder"in S&&t(9,c=S.placeholder),"title"in S&&t(2,f=S.title),"selectAll"in S&&t(10,u=S.selectAll)},e.$$.update=()=>{e.$$.dirty&2056&&_(r,n)},t(3,r=[]),t(11,n=!1),[o,l,f,r,h,d,i,s,a,c,u,n]}class XI extends GA{constructor(A){super(),VA(this,A,GI,PI,KA,{choicesItems:6,start:7,multiple:0,searchable:8,lightDisplay:1,placeholder:9,title:2,selectAll:10})}}const BS="";function JI(e){let A,t,r,n,i,s,o,a,l,c,f,u,h,d,g,B,p,C,U,v,y,_,H,F,b,k,M,T,L,E,R,S,Y,V,G,AA,oA,fA,mA;return l=new hr({props:{minVal:0,maxVal:1,start:e[5],emitOnUpdate:!0,title:J==="fr"?"Opacité":"Opacity"}}),l.$on("updateSlider",e[9]),u=new hr({props:{minVal:0,maxVal:360,start:e[6],step:1,emitOnUpdate:!0,title:"Rotation"}}),u.$on("updateSlider",e[10]),g=new hr({props:{minVal:0,maxVal:200,step:1,start:e[7],emitOnUpdate:!0,title:J==="fr"?"Redimensionner":"Scale"}}),g.$on("updateSlider",e[11]),C=new hr({props:{minVal:-100,maxVal:100,step:1,start:e[8][0],emitOnUpdate:!0,title:J==="fr"?"Translation horizontale":"Horizontal translate"}}),C.$on("updateSlider",e[12]),y=new hr({props:{minVal:-100,maxVal:100,step:1,start:e[8][1],emitOnUpdate:!0,title:J==="fr"?"Translation verticale":"Vertical translate"}}),y.$on("updateSlider",e[13]),F=new XI({props:{choicesItems:e[4],start:[],lightDisplay:!0,placeholder:J==="fr"?"Sélectionner":"Select",title:J==="fr"?"Basculer":"Flip"}}),F.$on("updateValues",e[14]),{c(){A=Q("div"),t=Q("div"),r=Q("div"),n=Q("div"),i=Q("strong"),i.textContent=`${J==="en"?"Query image transformation":"Modification de l'image requête"}`,s=N(),o=Q("div"),a=Q("div"),BA(l.$$.fragment),c=N(),f=Q("div"),BA(u.$$.fragment),h=N(),d=Q("div"),BA(g.$$.fragment),B=N(),p=Q("div"),BA(C.$$.fragment),U=N(),v=Q("div"),BA(y.$$.fragment),_=N(),H=Q("div"),BA(F.$$.fragment),b=N(),k=Q("div"),M=Q("button"),M.textContent=`${J==="fr"?"Réinitialiser":"Reset"}`,T=N(),L=Q("div"),E=Q("img"),Y=N(),V=Q("img"),m(n,"class","toolbar-title mt-0 mb-2 svelte-nzei31"),m(a,"class"," svelte-nzei31"),m(f,"class"," svelte-nzei31"),m(d,"class"," svelte-nzei31"),m(p,"class"," svelte-nzei31"),m(v,"class"," svelte-nzei31"),m(H,"class"," svelte-nzei31"),m(M,"class","button is-link"),m(k,"class","mt-2 is-flex is-flex-direction-column is-justify-content-center is-align-items-flex-end svelte-nzei31"),m(o,"class","toolbar-controls is-flex is-flex-direction-column is-align-items-start is-justify-content-center svelte-nzei31"),m(r,"class","toolbar svelte-nzei31"),m(t,"class","toolbar-wrapper is-flex is-flex-direction-column is-justify-content-center is-align-items-center svelte-nzei31"),m(E,"class","compare-img svelte-nzei31"),Je(E.src,R=e[0].queryImage.href)||m(E,"src",R),m(E,"alt",S=e[0].queryImage.title),m(V,"class","main-img svelte-nzei31"),Je(V.src,G=e[0].similarityImage.href)||m(V,"src",G),m(V,"alt",AA=e[0].similarityImage.title),$A(V,"overlay-reset",e[2]),zA(V,"opacity",e[1]),zA(V,"transform",e[3]),m(L,"class","overlay-wrapper svelte-nzei31"),m(A,"class","similarity-overlay-wrapper svelte-nzei31")},m(lA,wA){O(lA,A,wA),w(A,t),w(t,r),w(r,n),w(n,i),w(r,s),w(r,o),w(o,a),dA(l,a,null),w(o,c),w(o,f),dA(u,f,null),w(o,h),w(o,d),dA(g,d,null),w(o,B),w(o,p),dA(C,p,null),w(o,U),w(o,v),dA(y,v,null),w(o,_),w(o,H),dA(F,H,null),w(o,b),w(o,k),w(k,M),w(A,T),w(A,L),w(L,E),w(L,Y),w(L,V),oA=!0,fA||(mA=yA(M,"click",e[15]),fA=!0)},p(lA,[wA]){(!oA||wA&1&&!Je(E.src,R=lA[0].queryImage.href))&&m(E,"src",R),(!oA||wA&1&&S!==(S=lA[0].queryImage.title))&&m(E,"alt",S),(!oA||wA&1&&!Je(V.src,G=lA[0].similarityImage.href))&&m(V,"src",G),(!oA||wA&1&&AA!==(AA=lA[0].similarityImage.title))&&m(V,"alt",AA),(!oA||wA&4)&&$A(V,"overlay-reset",lA[2]),wA&2&&zA(V,"opacity",lA[1]),wA&8&&zA(V,"transform",lA[3])},i(lA){oA||(P(l.$$.fragment,lA),P(u.$$.fragment,lA),P(g.$$.fragment,lA),P(C.$$.fragment,lA),P(y.$$.fragment,lA),P(F.$$.fragment,lA),oA=!0)},o(lA){W(l.$$.fragment,lA),W(u.$$.fragment,lA),W(g.$$.fragment,lA),W(C.$$.fragment,lA),W(y.$$.fragment,lA),W(F.$$.fragment,lA),oA=!1},d(lA){lA&&K(A),gA(l),gA(u),gA(g),gA(C),gA(y),gA(F),fA=!1,mA()}}}function WI(e,A,t){let r,{imgData:n}=A;const i=[{value:"h",label:J==="fr"?"Basculer horizontalement":"Flip horizontally"},{value:"v",label:J==="fr"?"Basculer verticalement":"Flip vertically"},{value:"hv",label:J==="fr"?"Basculer horizontalement et verticalement":"Flip horizontally and vertically"}];let s=.5;const o=s;let a=0;const l=a;let c=100;const f=c;let u=[1,1];const h=structuredClone(u);let d=[0,0];const g=structuredClone(d);let B=!1;const p=kA(window.crypto.randomUUID());Sr("resetTrigger",p);const C=b=>t(1,s=b.detail),U=b=>t(16,a=b.detail),v=b=>t(17,c=b.detail),y=b=>t(19,d=[b.detail,d[1]]),_=b=>t(19,d=[d[0],b.detail]),H=b=>{let k=b.detail[0];t(18,u=k==="hv"?[-1,-1]:k==="h"?[-1,1]:k==="v"?[1,-1]:[1,1])},F=()=>{t(1,s=o),t(16,a=l),t(17,c=f),t(18,u=h),t(19,d=g),p.set(window.crypto.randomUUID()),t(2,B=!0),setTimeout(()=>t(2,B=!1),1e3)};return e.$$set=b=>{"imgData"in b&&t(0,n=b.imgData)},e.$$.update=()=>{e.$$.dirty&983040&&t(3,r=`translate(${d[0]-50}%, ${d[1]}%)
                        rotate(${a}deg)
                        scale(${u.map(b=>b*(c/100)).join()})`)},[n,s,B,r,i,o,l,f,g,C,U,v,y,_,H,F,a,c,u,d]}class YI extends GA{constructor(A){super(),VA(this,A,WI,JI,KA,{imgData:0})}}function zI(){const e=`${window.location.origin}${window.location.pathname}`,A=25,t=window.location.pathname.match(/\d+/g).join("-"),r={[t]:{}},n=[2,6],i=kA(1),s=kA({}),o=kA(JSON.parse(localStorage.getItem("selectedRegions"))||r);o.subscribe(T=>localStorage.setItem("selectedRegions",JSON.stringify(T)));const a=kA(JSON.parse(localStorage.getItem("excludedCategories"))||[]);a.subscribe(T=>localStorage.setItem("excludedCategories",JSON.stringify(T)));const l=kA(JSON.parse(localStorage.getItem("similarityScoreCutoff"))||void 0);l.subscribe(T=>{T!=null&&localStorage.setItem("similarityScoreCutoff",JSON.stringify(T))});const c=kA(JSON.parse(localStorage.getItem("propagateRecursionDepth"))||n[1]);c.subscribe(T=>localStorage.setItem("propagateRecursionDepth",JSON.stringify(T)));const f=kA(JSON.parse(localStorage.getItem("propagateFilterByRegions"))||!1);f.subscribe(T=>localStorage.setItem("propagateFilterByRegions",JSON.stringify(T)));const u=Be([c,f],([T,L])=>({propagateRecursionDepth:T,propagateFilterByRegions:L})),h=Be([a,o,l],([T,L,E])=>({excludedCategories:T,regions:L,similarityScoreCutoff:E})),d=Be([u,h],([T,L])=>({propagate:T,similarity:L})),g=kA([]),B=kA([]);async function p(){const T=async()=>{const R=await(await fetch(`${e}compared-regions`)).json();s.set(R),o.update(S=>{let Y=S[t]||{};if(Object.keys(Y).length){let V=Object.keys(Y).filter(G=>Object.keys(R).includes(G)).reduce((G,AA)=>(G[AA]=Y[AA],G),{});S[t]=V}return S})},L=async()=>{const R=await(await fetch(`${e}query-images`)).json();R.length>0&&(g.set(R),k(H()))};cn.set(!0);try{await Promise.all([T(),L()])}catch(E){console.error("Error:",E),Tg.set(E.message)}finally{cn.set(!1)}}function C(T){localStorage.setItem("selectedRegions",JSON.stringify(T))}function U(T){o.update(L=>{const E={...L};return delete E[t][T],C(E),E})}function v(T){o.update(L=>{const E={...L,[t]:{...L[t]||{},[T.ref]:T}};return C(E),E})}const y=Be(o,T=>L=>{var E;return(E=T[t])==null?void 0:E.hasOwnProperty(L)});function _(T){const L=Ee(s),E=Object.keys(L).filter(R=>R.startsWith(T));return E.length!==1?{title:"Error"}:L[E[0]]}const H=()=>js(i,"sp"),F=Be([i,g],([T,L])=>(async()=>b(T,L))());function b(T,L){const E=(T-1)*A,R=E+A,S=L.slice(E,R);return B.set(S),S}function k(T){qs(T,i,"sp")}function M(T){s.update(L=>({...L,[T.ref]:T}))}return{currentPage:i,comparedRegions:s,excludedCategories:a,qImgs:g,pageQImgs:B,selectedRegions:o,propagateRecursionDepth:c,propagateFilterByRegions:f,similarityToolbarParams:d,propagateParams:u,similarityScoreCutoff:l,allowedPropagateDepthRange:n,fetchSimilarity:p,setPageQImgs:F,getRegionsInfo:_,handlePageUpdate:k,unselect:U,select:v,addComparedRegions:M,isSelected:y,pageLength:A}}const Jt=zI(),{getRegionsInfo:$I}=Jt;async function Zd(e,A,t,r,n,i,s=!1,o=!0){const a=()=>o?`<b>${!isNaN(parseFloat(t))&&A===1?`Score: ${t}`:A===2&&J==="en"?"Manual similarity":A===2&&J==="fr"?"Correspondance manuelle":A===3&&J==="en"?"Propagated match":"Correspondance propagée"}</b>`:"",l=c=>`${c}<br>
        Page ${parseInt(r)}<br>
        ${a()}`;return s===!0?fetch(`${n}${i}get_regions_title/${e}`).then(c=>c.json()).then(c=>l(c.title)).catch(c=>(console.error("similarity.utils.getDesc()",c),l(J==="fr"?"Titre inconnu":"Unknown title"))):Promise.resolve(l($I(e).title))}function Ag(e,A,t){const r=e.slice();return r[16]=A[t],r}function eg(e){let A,t,r=e[16]==="queryImage"&&J==="fr"?"Image requête":e[16]==="similarityImage"&&J==="fr"?"Similarité":e[16]==="queryImage"&&J==="en"?"Query image":"Similarity",n,i,s,o,a;return s=new Xr({props:{item:e[0][e[16]],descPromise:e[1][e[16]],height:"full"}}),{c(){A=Q("div"),t=Q("span"),n=sA(r),i=N(),BA(s.$$.fragment),o=N(),m(A,"class","img-legend-wrapper column is-flex is-flex-direction-column is-justify-content-center is-align-items-center")},m(l,c){O(l,A,c),w(A,t),w(t,n),w(A,i),dA(s,A,null),w(A,o),a=!0},p(l,c){const f={};c&1&&(f.item=l[0][l[16]]),s.$set(f)},i(l){a||(P(s.$$.fragment,l),a=!0)},o(l){W(s.$$.fragment,l),a=!1},d(l){l&&K(A),gA(s)}}}function jI(e){let A,t,r=["queryImage","similarityImage"],n=[];for(let s=0;s<2;s+=1)n[s]=eg(Ag(e,r,s));const i=s=>W(n[s],1,1,()=>{n[s]=null});return{c(){A=Q("div");for(let s=0;s<2;s+=1)n[s].c();m(A,"class","side-by-side columns")},m(s,o){O(s,A,o);for(let a=0;a<2;a+=1)n[a]&&n[a].m(A,null);t=!0},p(s,[o]){if(o&3){r=["queryImage","similarityImage"];let a;for(a=0;a<2;a+=1){const l=Ag(s,r,a);n[a]?(n[a].p(l,o),P(n[a],1)):(n[a]=eg(l),n[a].c(),P(n[a],1),n[a].m(A,null))}for(ZA(),a=2;a<2;a+=1)i(a);Ae()}},i(s){if(!t){for(let o=0;o<2;o+=1)P(n[o]);t=!0}},o(s){n=n.filter(Boolean);for(let o=0;o<2;o+=1)W(n[o]);t=!1},d(s){s&&K(A),Le(n,s)}}}function qI(e,A,t){let{imgData:r}=A;const n=nt("similarityPair"),i=new URL(window.location.href),s=i.origin,o=i.pathname,[a,l,c,f]=n.qImg.split(".")[0].split("_"),[u,h,d,g]=n.sImg.split(".")[0].split("_"),B=`${a}_${l}`,p=`${u}_${h}`,C={queryImage:Zd(B,n.similarityType,n.score,c,s,o,!0,!1),similarityImage:Zd(p,n.similarityType,n.score,d,s,o,!0,!0)};return e.$$set=U=>{"imgData"in U&&t(0,r=U.imgData)},[r,C]}class ZI extends GA{constructor(A){super(),VA(this,A,qI,jI,KA,{imgData:0})}}const pS="";function AH(e){let A,t;return A=new ZI({props:{imgData:e[2]}}),{c(){BA(A.$$.fragment)},m(r,n){dA(A,r,n),t=!0},p:rA,i(r){t||(P(A.$$.fragment,r),t=!0)},o(r){W(A.$$.fragment,r),t=!1},d(r){gA(A,r)}}}function eH(e){let A,t;return A=new YI({props:{imgData:e[1]}}),{c(){BA(A.$$.fragment)},m(r,n){dA(A,r,n),t=!0},p:rA,i(r){t||(P(A.$$.fragment,r),t=!0)},o(r){W(A.$$.fragment,r),t=!1},d(r){gA(A,r)}}}function tH(e){let A,t,r,n,i,s,o,a,l;const c=[eH,AH],f=[];function u(h,d){return h[0]?0:1}return r=u(e),n=f[r]=c[r](e),a=new hE({props:{start:!1,buttonDisplay:!0,toggleLabel:J==="en"?"Overlay view":"Vue superposée"}}),a.$on("updateChecked",e[3]),{c(){A=Q("div"),t=Q("div"),n.c(),s=N(),o=Q("div"),BA(a.$$.fragment),m(t,"class",i="modal-similarity-images "+(e[0]?"overlay-wrapper":"side-by-side-wrapper")+" svelte-1qvtan5"),m(A,"class","modal-similarity svelte-1qvtan5")},m(h,d){O(h,A,d),w(A,t),f[r].m(t,null),w(A,s),w(A,o),dA(a,o,null),l=!0},p(h,[d]){let g=r;r=u(h),r===g?f[r].p(h,d):(ZA(),W(f[g],1,1,()=>{f[g]=null}),Ae(),n=f[r],n?n.p(h,d):(n=f[r]=c[r](h),n.c()),P(n,1),n.m(t,null)),(!l||d&1&&i!==(i="modal-similarity-images "+(h[0]?"overlay-wrapper":"side-by-side-wrapper")+" svelte-1qvtan5"))&&m(t,"class",i)},i(h){l||(P(n),P(a.$$.fragment,h),l=!0)},o(h){W(n),W(a.$$.fragment,h),l=!1},d(h){h&&K(A),f[r].d(),gA(a)}}}function rH(e,A,t){let{mainImgItem:r}=A,{compareImgItem:n}=A;const i={similarityImage:{href:ht(r.img,r.img.split("_").pop()),title:a(r.title)},queryImage:{href:ht(n.img,n.img.split("_").pop()),title:a(n.title)}},s={similarityImage:r,queryImage:n};let o=!1;function a(c){return J==="fr"?`Vue principale de la région ${c}`:`Main view of region ${c}`}const l=()=>t(0,o=!o);return e.$$set=c=>{"mainImgItem"in c&&t(4,r=c.mainImgItem),"compareImgItem"in c&&t(5,n=c.compareImgItem)},[o,i,s,l,r,n]}class nH extends GA{constructor(A){super(),VA(this,A,rH,tH,KA,{mainImgItem:4,compareImgItem:5})}}const iH=Object.freeze(Object.defineProperty({__proto__:null,default:nH},Symbol.toStringTag,{value:"Module"})),tg=(e,A,t,r)=>({id:e,img:e,title:`Canvas ${r} - ${t} - ${J==="en"?"Witness":"Témoin"} #${$s(A)}`,xywh:t.split(",").map(Number),canvas:r,ref:e.replace(".jpg",""),type:Lg});function sH(e){let A,t,r,n,i,s,o,a,l,c,f;return t=new Kr({props:{category:1,isSelected:e[0]===1,toggle:e[4],padding:"pl-3 pr-2"}}),n=new Kr({props:{category:2,isSelected:e[0]===2,toggle:e[4]}}),s=new Kr({props:{category:3,isSelected:e[0]===3,toggle:e[4]}}),a=new Kr({props:{category:4,isSelected:e[0]===4,toggle:e[4]}}),c=new Kr({props:{category:5,isSelected:e[0]===5,toggle:e[4],padding:"pl-2 pr-3"}}),{c(){A=Q("div"),BA(t.$$.fragment),r=N(),BA(n.$$.fragment),i=N(),BA(s.$$.fragment),o=N(),BA(a.$$.fragment),l=N(),BA(c.$$.fragment),m(A,"class","tags has-addons is-dark is-center")},m(u,h){O(u,A,h),dA(t,A,null),w(A,r),dA(n,A,null),w(A,i),dA(s,A,null),w(A,o),dA(a,A,null),w(A,l),dA(c,A,null),f=!0},p(u,h){const d={};h&1&&(d.isSelected=u[0]===1),t.$set(d);const g={};h&1&&(g.isSelected=u[0]===2),n.$set(g);const B={};h&1&&(B.isSelected=u[0]===3),s.$set(B);const p={};h&1&&(p.isSelected=u[0]===4),a.$set(p);const C={};h&1&&(C.isSelected=u[0]===5),c.$set(C)},i(u){f||(P(t.$$.fragment,u),P(n.$$.fragment,u),P(s.$$.fragment,u),P(a.$$.fragment,u),P(c.$$.fragment,u),f=!0)},o(u){W(t.$$.fragment,u),W(n.$$.fragment,u),W(s.$$.fragment,u),W(a.$$.fragment,u),W(c.$$.fragment,u),f=!1},d(u){u&&K(A),gA(t),gA(n),gA(s),gA(a),gA(c)}}}function oH(e){let A,t,r,n;t=new Xr({props:{item:e[3],size:256,selectable:!1,isSquare:!1}});let i=!e[2]&&sH(e);return{c(){A=Q("div"),BA(t.$$.fragment),r=N(),i&&i.c()},m(s,o){O(s,A,o),dA(t,A,null),w(A,r),i&&i.m(A,null),n=!0},p(s,[o]){s[2]||i.p(s,o)},i(s){n||(P(t.$$.fragment,s),P(i),n=!0)},o(s){W(t.$$.fragment,s),W(i),n=!1},d(s){s&&K(A),gA(t),i&&i.d()}}}function aH(e,A,t){let r,n,i;const{comparedRegions:s}=Jt;SA(e,s,L=>t(15,i=L));const o=new URL(window.location.href),a=o.origin;o.pathname;let{qImg:l}=A,{sImg:c}=A,{qRegions:f}=A,{sRegions:u}=A,{score:h=0}=A,{category:d=null}=A,{users:g=[]}=A,{isManual:B}=A,{similarityType:p}=A;const C=nt("isInModal")||!1,[U,v,y,_]=c.split(".")[0].split("_"),F=(()=>{let L=tg(c,U,_,y);const E=i[`${U}_${v}_anno${u}`]||{title:L.title};return L.title=`${Og(E.title.replace(/^[^|]+/,""))}<br/>Page ${Kg(y)}<br/><b>Score: ${h}</b>`,L})();Sr("similarityPair",{qImg:l,sImg:c,qRegions:f,sRegions:u,score:h,category:d,users:g,isManual:B,similarityType:p});function b(L){L=L.slice();let E=L.indexOf(Number(Ws));return n&&E===-1?L.push(Number(Ws)):!n&&E!==-1&&L.splice(E,1),L}const k=()=>({img_1:l,img_2:c,regions_id_1:f,regions_id_2:u,score:h,category:r,category_x:b(g),similarity_type:p});function M(L){L===5?n=!n:t(0,r=r===L?null:L)}async function T(L){M(L);try{(await fetch(`${a}/${wt}/save-category`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":jt},body:JSON.stringify(k())})).ok||(console.error("Error: Network response was not ok"),M(L))}catch(E){console.error("Error:",E),M(L)}}return e.$$set=L=>{"qImg"in L&&t(5,l=L.qImg),"sImg"in L&&t(6,c=L.sImg),"qRegions"in L&&t(7,f=L.qRegions),"sRegions"in L&&t(8,u=L.sRegions),"score"in L&&t(9,h=L.score),"category"in L&&t(10,d=L.category),"users"in L&&t(11,g=L.users),"isManual"in L&&t(12,B=L.isManual),"similarityType"in L&&t(13,p=L.similarityType)},e.$$.update=()=>{e.$$.dirty&1024&&t(0,r=d),e.$$.dirty&2048&&(n=g.includes(Number(Ws))||!1)},[r,s,C,F,T,l,c,f,u,h,d,g,B,p]}class lH extends GA{constructor(A){super(),VA(this,A,aH,oH,KA,{qImg:5,sImg:6,qRegions:7,sRegions:8,score:9,category:10,users:11,isManual:12,similarityType:13})}}function rg(e,A,t){const r=e.slice();return r[22]=A[t].uuid,r[23]=A[t].data[0],r[24]=A[t].data[1],r[25]=A[t].data[2],r[26]=A[t].data[3],r[27]=A[t].data[4],r[28]=A[t].data[5],r[29]=A[t].data[6],r[30]=A[t].data[7],r[31]=A[t].data[8],r}function cH(e){let A,t=J==="en"?`Error when retrieving similar regions: ${e[2]}`:`Erreur de recupération des régions similaires: ${e[2]}`,r;return{c(){A=Q("div"),r=sA(t),m(A,"class","faded is-center")},m(n,i){O(n,A,i),w(A,r)},p(n,i){i[0]&4&&t!==(t=J==="en"?`Error when retrieving similar regions: ${n[2]}`:`Erreur de recupération des régions similaires: ${n[2]}`)&&PA(r,t)},i:rA,o:rA,d(n){n&&K(A)}}}function uH(e){let A,t,r=e[4].length+"",n,i,s=e[11](e[10],e[4].length)+"",o,a,l,c=[],f=new Map,u,h=e[4];const d=B=>B[22];for(let B=0;B<h.length;B+=1){let p=rg(e,h,B),C=d(p);f.set(C,c[B]=ig(C,p))}let g=null;return h.length||(g=ng(e)),{c(){A=Q("div"),t=Q("span"),n=sA(r),i=N(),o=sA(s),a=N(),l=Q("div");for(let B=0;B<c.length;B+=1)c[B].c();g&&g.c(),m(t,"class","m-2"),m(l,"class","m-2 is-gap-2"),$A(l,"grid",e[4].length>0)},m(B,p){O(B,A,p),w(A,t),w(t,n),w(t,i),w(t,o),w(A,a),w(A,l);for(let C=0;C<c.length;C+=1)c[C]&&c[C].m(l,null);g&&g.m(l,null),u=!0},p(B,p){(!u||p[0]&16)&&r!==(r=B[4].length+"")&&PA(n,r),(!u||p[0]&16)&&s!==(s=B[11](B[10],B[4].length)+"")&&PA(o,s),p[0]&49&&(h=B[4],ZA(),c=si(c,p,d,1,B,h,f,l,Js,ig,null,rg),Ae(),!h.length&&g?g.p(B,p):h.length?g&&(g.d(1),g=null):(g=ng(B),g.c(),g.m(l,null))),(!u||p[0]&16)&&$A(l,"grid",B[4].length>0)},i(B){if(!u){for(let p=0;p<h.length;p+=1)P(c[p]);u=!0}},o(B){for(let p=0;p<c.length;p+=1)W(c[p]);u=!1},d(B){B&&K(A);for(let p=0;p<c.length;p+=1)c[p].d();g&&g.d()}}}function fH(e){let A;return{c(){A=Q("div"),A.textContent=`${J==="en"&&!e[10]?"Retrieving similar regions...":J==="fr"&&!e[10]?"Récupération des régions similaires...":J==="en"&&e[10]?"Retrieving propagated regions...":"Récupération de similarités propagées..."}`,m(A,"class","faded is-center")},m(t,r){O(t,A,r)},p:rA,i:rA,o:rA,d(t){t&&K(A)}}}function ng(e){let A;function t(i,s){return i[5]?dH:hH}let r=t(e),n=r(e);return{c(){n.c(),A=Oe()},m(i,s){n.m(i,s),O(i,A,s)},p(i,s){r===(r=t(i))&&n?n.p(i,s):(n.d(1),n=r(i),n&&(n.c(),n.m(A.parentNode,A)))},d(i){n.d(i),i&&K(A)}}}function hH(e){let A;return{c(){A=Q("div"),A.textContent=`${J==="en"?"No similar regions":"Pas de régions similaires"}
                    `,m(A,"class","faded is-center")},m(t,r){O(t,A,r)},p:rA,d(t){t&&K(A)}}}function dH(e){let A;return{c(){A=Q("div"),A.textContent=`${J==="en"?"No document selected. Select one to display results.":"Aucun document sélectionné. Sélectionnez-en un pour afficher les résultats."}
                    `,m(A,"class","faded is-center")},m(t,r){O(t,A,r)},p:rA,d(t){t&&K(A)}}}function ig(e,A){let t,r,n;return r=new lH({props:{qImg:A[0],sImg:A[25],score:A[23],qRegions:A[26],sRegions:A[27],category:A[28],users:A[29],isManual:A[30],similarityType:A[31]}}),{key:e,first:null,c(){t=Oe(),BA(r.$$.fragment),this.first=t},m(i,s){O(i,t,s),dA(r,i,s),n=!0},p(i,s){A=i;const o={};s[0]&1&&(o.qImg=A[0]),s[0]&16&&(o.sImg=A[25]),s[0]&16&&(o.score=A[23]),s[0]&16&&(o.qRegions=A[26]),s[0]&16&&(o.sRegions=A[27]),s[0]&16&&(o.category=A[28]),s[0]&16&&(o.users=A[29]),s[0]&16&&(o.isManual=A[30]),s[0]&16&&(o.similarityType=A[31]),r.$set(o)},i(i){n||(P(r.$$.fragment,i),n=!0)},o(i){W(r.$$.fragment,i),n=!1},d(i){i&&K(t),gA(r,i)}}}function gH(e){let A,t,r,n;const i=[fH,uH,cH],s=[];function o(a,l){return a[1]&&a[3]==="loading"?0:a[3]==="loaded"?1:a[3]==="error"?2:-1}return~(A=o(e))&&(t=s[A]=i[A](e)),{c(){t&&t.c(),r=Oe()},m(a,l){~A&&s[A].m(a,l),O(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?~A&&s[A].p(a,l):(t&&(ZA(),W(s[c],1,1,()=>{s[c]=null}),Ae()),~A?(t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),P(t,1),t.m(r.parentNode,r)):t=null)},i(a){n||(P(t),n=!0)},o(a){W(t),n=!1},d(a){~A&&s[A].d(a),a&&K(r)}}}function BH(e,A,t){let r,n,i,s,o,a,l,c,{qImg:f}=A,{sImgsPromise:u}=A;const{selectedRegions:h,excludedCategories:d,similarityScoreCutoff:g,propagateFilterByRegions:B}=Jt;SA(e,h,b=>t(16,c=b)),SA(e,d,b=>t(15,l=b)),SA(e,g,b=>t(14,a=b)),SA(e,B,b=>t(13,o=b));const p=nt("similarityPropagatedContext")||!1,C=window.location.pathname.match(/\d+/g).join("-");let U;const v=(b,k)=>b===null||k===void 0||Number(b)>=k,y=(b,k,M)=>!M.includes(b),_=(b,k,M,T,L,E)=>p?!0:v(b,L)&&y(k,M,T),H=(b,k,M,T)=>b.filter(({uuid:L,data:[E,R,S,Y,V,G,AA,oA,fA]})=>_(E,G,AA,k,M)),F=(b,k)=>{const M=k>1;return b?J==="fr"?M?"similarités propagées":"similarité propagée":M?"propagated matches":"propagated match":J==="fr"?M?"images similaires":"image similaire":M?"similar images":"similar image"};return e.$$set=b=>{"qImg"in b&&t(0,f=b.qImg),"sImgsPromise"in b&&t(1,u=b.sImgsPromise)},e.$$.update=()=>{e.$$.dirty[0]&65536&&t(5,r=Object.values(c).length===0||c[C]===void 0||!Object.keys(c[C]).length),e.$$.dirty[0]&2&&(b=>{t(3,n="loading"),t(4,s=[]),t(12,i=[])})(),e.$$.dirty[0]&2&&u.then(b=>{t(12,i=b.map(k=>({uuid:window.crypto.randomUUID(),data:k}))),t(3,n="loaded")}).catch(b=>{t(2,U=b),t(3,n="error")}),e.$$.dirty[0]&61440&&t(4,s=H(i,l,a))},t(3,n="loading"),t(12,i=[]),[f,u,U,n,s,r,h,d,g,B,p,F,i,o,a,l,c]}class sg extends GA{constructor(A){super(),VA(this,A,BH,gH,KA,{qImg:0,sImgsPromise:1},null,[-1,-1])}}function pH(e){let A,t;return A=new sg({props:{qImg:e[0],sImgsPromise:e[1]}}),{c(){BA(A.$$.fragment)},m(r,n){dA(A,r,n),t=!0},p(r,[n]){const i={};n&1&&(i.qImg=r[0]),n&2&&(i.sImgsPromise=r[1]),A.$set(i)},i(r){t||(P(A.$$.fragment,r),t=!0)},o(r){W(A.$$.fragment,r),t=!1},d(r){gA(A,r)}}}function mH(e,A,t){let r,n,{qImg:i}=A,s;const o=nt("isInModal")||!1,{selectedRegions:a,comparedRegions:l}=Jt;SA(e,a,d=>t(4,r=d)),SA(e,l,d=>t(5,n=d));const c=`${window.location.origin}${window.location.pathname}`,f=window.location.pathname.match(/\d+/g).join("-"),u=(d,g)=>g?Object.keys(n).map(B=>n[B].id):Object.values(d[f]||{}).map(B=>B.id);async function h(d,g,B){const p=u(g,B);return p.length===0?[]:await(await fetch(`${c}similar-images`,{method:"POST",body:JSON.stringify({regionsIds:p,qImg:d,topk:12}),headers:{"Content-Type":"application/json","X-CSRFToken":jt}})).json()}return o?s=h(i,r,o):a.subscribe(d=>{t(1,s=h(i,d,o))}),e.$$set=d=>{"qImg"in d&&t(0,i=d.qImg)},[i,s,a,l]}class wH extends GA{constructor(A){super(),VA(this,A,mH,pH,KA,{qImg:0})}}const mS="";function vH(e){let A,t,r,n;return r=new sg({props:{qImg:e[0],sImgsPromise:e[1]}}),{c(){A=Q("div"),t=Q("div"),BA(r.$$.fragment),m(t,"class","matches-suggestion svelte-1cb4wg0"),m(A,"class","block matches-suggestion-wrapper svelte-1cb4wg0")},m(i,s){O(i,A,s),w(A,t),dA(r,t,null),n=!0},p(i,[s]){const o={};s&1&&(o.qImg=i[0]),s&2&&(o.sImgsPromise=i[1]),r.$set(o)},i(i){n||(P(r.$$.fragment,i),n=!0)},o(i){W(r.$$.fragment,i),n=!1},d(i){i&&K(A),gA(r)}}}function CH(e,A,t){let r,n,{qImg:i}=A;const{propagateParams:s,selectedRegions:o}=Jt;SA(e,s,B=>t(4,r=B)),SA(e,o,B=>t(5,n=B));const a=`${window.location.origin}${window.location.pathname}`,l=window.location.pathname.match(/\d+/g).join("-"),c=nt("isInModal")||!1;let f;const u=ai();u.setCompareFn((B,p)=>[B,p].every(C=>C&&C.hasOwnProperty("propagateRecursionDepth")&&C.hasOwnProperty("propagateFilterByRegions"))?B.propagateRecursionDepth===p.propagateRecursionDepth&&B.propagateFilterByRegions===p.propagateFilterByRegions:!1);const h=ai();h.setCompareFn(Zs),Sr("similarityPropagatedContext",!0);const d=B=>Object.keys(B).includes(l)?Object.values(B[l]).map(p=>p.id):[],g=async(B,p,C)=>fetch(`${a}propagated-matches/${i}`,{method:"POST",body:JSON.stringify({regionsIds:C?[]:p,filterByRegions:C?!1:B.propagateFilterByRegions,recursionDepth:B.propagateRecursionDepth}),headers:{"Content-Type":"application/json","X-CSRFToken":jt}}).then(U=>U.json()).catch(U=>(console.error("PropagatedMatches.getPropagatedMatches:",U),[]));return s.subscribe(B=>{u.set(B),u.same()||t(1,f=g(u.get(),d(n),c))}),o.subscribe(B=>{h.set(d(B)),r.propagateFilterByRegions===!0&&!h.same()&&t(1,f=g(r,h.get(),c))}),e.$$set=B=>{"qImg"in B&&t(0,i=B.qImg)},[i,f,s,o]}class QH extends GA{constructor(A){super(),VA(this,A,CH,vH,KA,{qImg:0})}}const wS="";function yH(e){let A,t,r,n=parseInt(e[5])+"",i,s,o,a,l,c,f,u,h,d,g,B,p,C,U,v,y,_,H;return{c(){A=Q("a"),t=Q("i"),r=sA(`
            Page `),i=sA(n),s=N(),o=Q("img"),l=N(),c=Q("div"),f=Q("div"),u=Q("input"),h=N(),d=Q("button"),d.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"></path></svg>',g=N(),B=Q("button"),p=mt("svg"),C=mt("path"),m(t,"class","fa-solid fa-pen-to-square"),m(A,"class","tag px-2 py-1 mb-2 is-rounded is-hoverable"),m(A,"href",Gg(e[6],parseInt(e[5]))),m(A,"target","_blank"),Je(o.src,a=ht(e[0],e[0].split("_").pop(),"250,"))||m(o,"src",a),m(o,"alt","Query region"),m(o,"class","mb-3 card query-image svelte-f4ylwc"),m(u,"class","input is-small tag"),m(u,"type","text"),m(u,"placeholder",J==="en"?"Add new match":"Ajouter une correspondance"),m(d,"class","button is-small tag is-link is-center"),m(f,"class","tags has-addons"),zA(f,"flex-wrap","nowrap"),m(C,"fill","white"),m(C,"d","M376.6 84.5c11.3-13.6 9.5-33.8-4.1-45.1s-33.8-9.5-45.1 4.1L192 206 56.6 43.5C45.3 29.9 25.1 28.1 11.5 39.4S-3.9 70.9 7.4 84.5L150.3 256 7.4 427.5c-11.3 13.6-9.5 33.8 4.1 45.1s33.8 9.5 45.1-4.1L192 306 327.4 468.5c11.3 13.6 31.5 15.4 45.1 4.1s15.4-31.5 4.1-45.1L233.7 256 376.6 84.5z"),m(p,"xmlns","http://www.w3.org/2000/svg"),m(p,"viewBox","0 0 384 512"),m(B,"id","no-match"),m(B,"class",U="button is-small tag is-danger is-center m-0 "+(e[3]===1?"visible":"")+" svelte-f4ylwc"),m(B,"title",J==="en"?"No match for this region in this witness":"Aucune correspondance de cette région pour ce témoin"),m(c,"class","new-similarity control pt-2 is-center svelte-f4ylwc")},m(F,b){O(F,A,b),w(A,t),w(A,r),w(A,i),O(F,s,b),O(F,o,b),O(F,l,b),O(F,c,b),w(c,f),w(f,u),Zn(u,e[1]),w(f,h),w(f,d),w(c,g),w(c,B),w(B,p),w(p,C),y=!0,_||(H=[yA(u,"input",e[12]),yA(d,"click",e[8]),yA(B,"click",e[9])],_=!0)},p(F,b){(!y||b&1&&!Je(o.src,a=ht(F[0],F[0].split("_").pop(),"250,")))&&m(o,"src",a),b&2&&u.value!==F[1]&&Zn(u,F[1]),(!y||b&8&&U!==(U="button is-small tag is-danger is-center m-0 "+(F[3]===1?"visible":"")+" svelte-f4ylwc"))&&m(B,"class",U)},i(F){y||(it(()=>{y&&(v||(v=$t(B,Dr,{duration:500},!0)),v.run(1))}),y=!0)},o(F){v||(v=$t(B,Dr,{duration:500},!1)),v.run(0),y=!1},d(F){F&&K(A),F&&K(s),F&&K(o),F&&K(l),F&&K(c),F&&v&&v.end(),_=!1,be(H)}}}function _H(e){let A,t,r,n,i,s,o,a;return t=new wH({props:{qImg:e[0]}}),s=new QH({props:{qImg:e[0]}}),{c(){A=Q("div"),BA(t.$$.fragment),n=N(),i=Q("div"),BA(s.$$.fragment),m(A,"class",r=qn(e[7]?"":e[2])+" svelte-f4ylwc"),m(i,"class",o=qn(e[7]?"":e[2])+" svelte-f4ylwc")},m(l,c){O(l,A,c),dA(t,A,null),O(l,n,c),O(l,i,c),dA(s,i,null),a=!0},p(l,c){const f={};c&1&&(f.qImg=l[0]),t.$set(f),(!a||c&4&&r!==(r=qn(l[7]?"":l[2])+" svelte-f4ylwc"))&&m(A,"class",r);const u={};c&1&&(u.qImg=l[0]),s.$set(u),(!a||c&4&&o!==(o=qn(l[7]?"":l[2])+" svelte-f4ylwc"))&&m(i,"class",o)},i(l){a||(P(t.$$.fragment,l),P(s.$$.fragment,l),a=!0)},o(l){W(t.$$.fragment,l),W(s.$$.fragment,l),a=!1},d(l){l&&K(A),gA(t),l&&K(n),l&&K(i),gA(s)}}}function UH(e){let A,t;return A=new Wh({props:{useGrid:!1,$$slots:{"row-body":[_H],"row-header":[yH]},$$scope:{ctx:e}}}),{c(){BA(A.$$.fragment)},m(r,n){dA(A,r,n),t=!0},p(r,[n]){const i={};n&1048591&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(P(A.$$.fragment,r),t=!0)},o(r){W(A.$$.fragment,r),t=!1},d(r){gA(A,r)}}}function FH(e){return e=e.replace(".jpg",""),/^wit\d+_[a-zA-Z]{3}\d+_\d+_\d+,\d+,\d+,\d+$/.test(e)}function bH(e,A,t){let r,n,i,s;const{selectedRegions:o}=Jt;SA(e,o,_=>t(11,s=_));let{qImg:a}=A,l="";const[c,f,u,h]=a.split(".")[0].split("_"),d=`${window.location.origin}${window.location.pathname}`,g=window.location.pathname.match(/\d+/g).join("-"),B=J==="en"?"Error":"Erreur",p=nt("manifest"),C=nt("isInModal")||!1;Sr("qImgMetadata",tg(a,c,h,u));async function U(){if(!l||!FH(l)){await Ne(J==="en"?"Please insert a valid region reference to add a new match":"Veuillez insérer une référence de région valide pour ajouter une nouvelle correspondance","Error");return}try{const _=await fetch(`${d}add-region-pair`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":jt},body:JSON.stringify({q_img:a.replace(".jpg",""),s_img:l,similarity_type:2})});_.ok||(console.error("Error: Network response was not ok"),await Ne(J==="en"?"Problem with network, match was not added":"Problème de réseau, la correspondance n'a pas été ajoutée",B));const H=await _.json();if(H.hasOwnProperty("error")||!H.hasOwnProperty("s_regions")){await Ne(J==="en"?`Request was unsuccessful, match was not added:<br>${H.error}`:`La requête n'a pas abouti, la correspondance n'a pas été ajoutée :<br>${H.error}`,B);return}const F=H.s_regions;Jt.addComparedRegions(F),Jt.select(F)}catch(_){console.error("Error:",_),await Ne(J==="en"?`An error has occurred, match was not added:<br>${_}`:`Une erreur s'est produite, la correspondance n'a pas été ajoutée :<br>${_}`,B)}}async function v(){const _=Object.values(s[g])[0];if(await Ne(J==="en"?`Do you confirm this region does not have any match in ${_.title}?`:`Confirmez-vous que cette région n'a pas de correspondance dans ${_.title} ?`,J==="en"?"Confirm no match":"Confirmer l'absence de correspondance",!0))try{(await fetch(`${d}no-match`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":jt},body:JSON.stringify({q_img:a,s_regions:_.id})})).ok||(console.error("Error: Network response was not ok"),await Ne(J==="en"?"Problem with network":"Problème de réseau",B)),Jt.select(_)}catch(F){console.error("Error:",F),await Ne(J==="en"?`An error has occurred, request was unsuccessful:<br>${F}`:`Une erreur s'est produite, la requête n'a pas abouti :<br>${F}`,B)}}function y(){l=this.value,t(1,l)}return e.$$set=_=>{"qImg"in _&&t(0,a=_.qImg)},e.$$.update=()=>{e.$$.dirty&2048&&t(3,r=s.hasOwnProperty(g)?Object.values(s[g]).length:0),e.$$.dirty&1024&&t(2,i=`fixed-grid has-${n-1}-cols`)},t(10,n=sl(window.innerWidth)),[a,l,i,r,o,u,p,C,U,v,n,s,y]}class EH extends GA{constructor(A){super(),VA(this,A,bH,UH,KA,{qImg:0})}}function IH(e){let A,t,r,n,i,s;return i=new EH({props:{qImg:e[0].img}}),{c(){A=Q("div"),t=Q("a"),r=Q("button"),r.textContent=`${J==="fr"?"Voir toutes les similarités pour ce document":"View all similarities for this document"}`,n=N(),BA(i.$$.fragment),m(r,"class","button is-link is-small"),m(t,"href",e[1]()),m(A,"class","is-flex is-align-items-center is-justify-content-end")},m(o,a){O(o,A,a),w(A,t),w(t,r),O(o,n,a),dA(i,o,a),s=!0},p(o,[a]){const l={};a&1&&(l.qImg=o[0].img),i.$set(l)},i(o){s||(P(i.$$.fragment,o),s=!0)},o(o){W(i.$$.fragment,o),s=!1},d(o){o&&K(A),o&&K(n),gA(i,o)}}}function HH(e,A,t){let{mainImgItem:r}=A;function n(){const i=r.img.match(/wit(\d+)/)[1],s=new URL(window.location.origin);return s.pathname=`${new URL(window.location).pathname.split("/")[1]}/witness/${i}/regions/`,s.searchParams.set("tab","similarity"),s.href}return e.$$set=i=>{"mainImgItem"in i&&t(0,r=i.mainImgItem)},[r,n]}class SH extends GA{constructor(A){super(),VA(this,A,HH,IH,KA,{mainImgItem:0})}}const xH=Object.freeze(Object.defineProperty({__proto__:null,default:SH},Symbol.toStringTag,{value:"Module"}))})();
//# sourceMappingURL=documentSet.js.map

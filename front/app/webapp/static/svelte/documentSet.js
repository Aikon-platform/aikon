(function(){"use strict";function sA(){}const $o=e=>e;function zg(e,A){for(const t in A)e[t]=A[t];return e}function $g(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function Zo(e){return e()}function jo(){return Object.create(null)}function Ue(e){e.forEach(Zo)}function er(e){return typeof e=="function"}function qA(e,A){return e!=e?A==A:e!==A||e&&typeof e=="object"||typeof e=="function"}let hn;function ut(e,A){return hn||(hn=document.createElement("a")),hn.href=A,e===hn.href}function Zg(e){return Object.keys(e).length===0}function wn(e,...A){if(e==null)return sA;const t=e.subscribe(...A);return t.unsubscribe?()=>t.unsubscribe():t}function _e(e){let A;return wn(e,t=>A=t)(),A}function NA(e,A,t){e.$$.on_destroy.push(wn(A,t))}function Ne(e,A,t,r){if(e){const n=qo(e,A,t,r);return e[0](n)}}function qo(e,A,t,r){return e[1]&&r?zg(t.ctx.slice(),e[1](r(A))):t.ctx}function Re(e,A,t,r){if(e[2]&&r){const n=e[2](r(t));if(A.dirty===void 0)return n;if(typeof n=="object"){const i=[],s=Math.max(A.dirty.length,n.length);for(let o=0;o<s;o+=1)i[o]=A.dirty[o]|n[o];return i}return A.dirty|n}return A.dirty}function Ve(e,A,t,r,n,i){if(n){const s=qo(A,t,r,i);e.p(s,n)}}function Ge(e){if(e.ctx.length>32){const A=[],t=e.ctx.length/32;for(let r=0;r<t;r++)A[r]=-1;return A}return-1}function jg(e){const A={};for(const t in e)A[t]=!0;return A}function Ir(e){return e&&er(e.destroy)?e.destroy:sA}const Aa=typeof window<"u";let qg=Aa?()=>window.performance.now():()=>Date.now(),ss=Aa?e=>requestAnimationFrame(e):sA;const tr=new Set;function ea(e){tr.forEach(A=>{A.c(e)||(tr.delete(A),A.f())}),tr.size!==0&&ss(ea)}function AB(e){let A;return tr.size===0&&ss(ea),{promise:new Promise(t=>{tr.add(A={c:e,f:t})}),abort(){tr.delete(A)}}}const ta=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function p(e,A){e.appendChild(A)}function ra(e){if(!e)return document;const A=e.getRootNode?e.getRootNode():e.ownerDocument;return A&&A.host?A:e.ownerDocument}function eB(e){const A=v("style");return tB(ra(e),A),A.sheet}function tB(e,A){return p(e.head||e,A),A.sheet}function T(e,A,t){e.insertBefore(A,t||null)}function D(e){e.parentNode&&e.parentNode.removeChild(e)}function xe(e,A){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(A)}function v(e){return document.createElement(e)}function pt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function aA(e){return document.createTextNode(e)}function O(){return aA(" ")}function Ke(){return aA("")}function mA(e,A,t,r){return e.addEventListener(A,t,r),()=>e.removeEventListener(A,t,r)}function St(e){return function(A){return A.preventDefault(),e.call(this,A)}}function na(e){return function(A){return A.stopPropagation(),e.call(this,A)}}function m(e,A,t){t==null?e.removeAttribute(A):e.getAttribute(A)!==t&&e.setAttribute(A,t)}function rB(e){return Array.from(e.childNodes)}function GA(e,A){A=""+A,e.data!==A&&(e.data=A)}function pn(e,A){e.value=A??""}function PA(e,A,t,r){t==null?e.style.removeProperty(A):e.style.setProperty(A,t,r?"important":"")}function xt(e,A,t){for(let r=0;r<e.options.length;r+=1){const n=e.options[r];if(n.__value===A){n.selected=!0;return}}(!t||A!==void 0)&&(e.selectedIndex=-1)}function mn(e){const A=e.querySelector(":checked");return A&&A.__value}function fe(e,A,t){e.classList[t?"add":"remove"](A)}function ia(e,A,{bubbles:t=!1,cancelable:r=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t,r,A),n}const Qn=new Map;let Cn=0;function nB(e){let A=5381,t=e.length;for(;t--;)A=(A<<5)-A^e.charCodeAt(t);return A>>>0}function iB(e,A){const t={stylesheet:eB(A),rules:{}};return Qn.set(e,t),t}function sa(e,A,t,r,n,i,s,o=0){const a=16.666/r;let l=`{
`;for(let w=0;w<=1;w+=a){const h=A+(t-A)*i(w);l+=w*100+`%{${s(h,1-h)}}
`}const c=l+`100% {${s(t,1-t)}}
}`,g=`__svelte_${nB(c)}_${o}`,u=ra(e),{stylesheet:f,rules:d}=Qn.get(u)||iB(u,e);d[g]||(d[g]=!0,f.insertRule(`@keyframes ${g} ${c}`,f.cssRules.length));const B=e.style.animation||"";return e.style.animation=`${B?`${B}, `:""}${g} ${r}ms linear ${n}ms 1 both`,Cn+=1,g}function sB(e,A){const t=(e.style.animation||"").split(", "),r=t.filter(A?i=>i.indexOf(A)<0:i=>i.indexOf("__svelte")===-1),n=t.length-r.length;n&&(e.style.animation=r.join(", "),Cn-=n,Cn||oB())}function oB(){ss(()=>{Cn||(Qn.forEach(e=>{const{ownerNode:A}=e.stylesheet;A&&D(A)}),Qn.clear())})}let Sr;function mt(e){Sr=e}function rr(){if(!Sr)throw new Error("Function called outside component initialization");return Sr}function nr(e){rr().$$.on_mount.push(e)}function xr(e){rr().$$.on_destroy.push(e)}function vn(){const e=rr();return(A,t,{cancelable:r=!1}={})=>{const n=e.$$.callbacks[A];if(n){const i=ia(A,t,{cancelable:r});return n.slice().forEach(s=>{s.call(e,i)}),!i.defaultPrevented}return!0}}function aB(e,A){return rr().$$.context.set(e,A),A}function oa(e){return rr().$$.context.get(e)}function lB(e,A){const t=e.$$.callbacks[A.type];t&&t.slice().forEach(r=>r.call(this,A))}const ir=[],qe=[];let sr=[];const os=[],cB=Promise.resolve();let as=!1;function uB(){as||(as=!0,cB.then(cs))}function nt(e){sr.push(e)}function Un(e){os.push(e)}const ls=new Set;let or=0;function cs(){if(or!==0)return;const e=Sr;do{try{for(;or<ir.length;){const A=ir[or];or++,mt(A),fB(A.$$)}}catch(A){throw ir.length=0,or=0,A}for(mt(null),ir.length=0,or=0;qe.length;)qe.pop()();for(let A=0;A<sr.length;A+=1){const t=sr[A];ls.has(t)||(ls.add(t),t())}sr.length=0}while(ir.length);for(;os.length;)os.pop()();as=!1,ls.clear(),mt(e)}function fB(e){if(e.fragment!==null){e.update(),Ue(e.before_update);const A=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,A),e.after_update.forEach(nt)}}function gB(e){const A=[],t=[];sr.forEach(r=>e.indexOf(r)===-1?A.push(r):t.push(r)),t.forEach(r=>r()),sr=A}let Lr;function BB(){return Lr||(Lr=Promise.resolve(),Lr.then(()=>{Lr=null})),Lr}function us(e,A,t){e.dispatchEvent(ia(`${A?"intro":"outro"}${t}`))}const Fn=new Set;let Qt;function ee(){Qt={r:0,c:[],p:Qt}}function te(){Qt.r||Ue(Qt.c),Qt=Qt.p}function R(e,A){e&&e.i&&(Fn.delete(e),e.i(A))}function Y(e,A,t,r){if(e&&e.o){if(Fn.has(e))return;Fn.add(e),Qt.c.push(()=>{Fn.delete(e),r&&(t&&e.d(1),r())}),e.o(A)}else r&&r()}const dB={duration:0};function yn(e,A,t,r){const n={direction:"both"};let i=A(e,t,n),s=r?0:1,o=null,a=null,l=null;function c(){l&&sB(e,l)}function g(f,d){const B=f.b-s;return d*=Math.abs(B),{a:s,b:f.b,d:B,duration:d,start:f.start,end:f.start+d,group:f.group}}function u(f){const{delay:d=0,duration:B=300,easing:w=$o,tick:h=sA,css:F}=i||dB,E={start:qg()+d,b:f};f||(E.group=Qt,Qt.r+=1),o||a?a=E:(F&&(c(),l=sa(e,s,f,B,d,w,F)),f&&h(0,1),o=g(E,B),nt(()=>us(e,f,"start")),AB(Q=>{if(a&&Q>a.start&&(o=g(a,B),a=null,us(e,o.b,"start"),F&&(c(),l=sa(e,s,o.b,o.duration,0,w,i.css))),o){if(Q>=o.end)h(s=o.b,1-s),us(e,o.b,"end"),a||(o.b?c():--o.group.r||Ue(o.group.c)),o=null;else if(Q>=o.start){const C=Q-o.start;s=o.a+o.d*w(C/o.duration),h(s,1-s)}}return!!(o||a)}))}return{run(f){er(i)?BB().then(()=>{i=i(n),u(f)}):u(f)},end(){c(),o=a=null}}}function _n(e,A){const t=A.token={};function r(n,i,s,o){if(A.token!==t)return;A.resolved=o;let a=A.ctx;s!==void 0&&(a=a.slice(),a[s]=o);const l=n&&(A.current=n)(a);let c=!1;A.block&&(A.blocks?A.blocks.forEach((g,u)=>{u!==i&&g&&(ee(),Y(g,1,1,()=>{A.blocks[u]===g&&(A.blocks[u]=null)}),te())}):A.block.d(1),l.c(),R(l,1),l.m(A.mount(),A.anchor),c=!0),A.block=l,A.blocks&&(A.blocks[i]=l),c&&cs()}if($g(e)){const n=rr();if(e.then(i=>{mt(n),r(A.then,1,A.value,i),mt(null)},i=>{if(mt(n),r(A.catch,2,A.error,i),mt(null),!A.hasCatch)throw i}),A.current!==A.pending)return r(A.pending,0),!0}else{if(A.current!==A.then)return r(A.then,1,A.value,e),!0;A.resolved=e}}function aa(e,A,t){const r=A.slice(),{resolved:n}=e;e.current===e.then&&(r[e.value]=n),e.current===e.catch&&(r[e.error]=n),e.block.p(r,t)}function la(e,A){e.d(1),A.delete(e.key)}function ca(e,A){Y(e,1,1,()=>{A.delete(e.key)})}function bn(e,A,t,r,n,i,s,o,a,l,c,g){let u=e.length,f=i.length,d=u;const B={};for(;d--;)B[e[d].key]=d;const w=[],h=new Map,F=new Map,E=[];for(d=f;d--;){const H=g(n,i,d),U=t(H);let I=s.get(U);I?r&&E.push(()=>I.p(H,A)):(I=l(U,H),I.c()),h.set(U,w[d]=I),U in B&&F.set(U,Math.abs(d-B[U]))}const Q=new Set,C=new Set;function y(H){R(H,1),H.m(o,c),s.set(H.key,H),c=H.first,f--}for(;u&&f;){const H=w[f-1],U=e[u-1],I=H.key,L=U.key;H===U?(c=H.first,u--,f--):h.has(L)?!s.has(I)||Q.has(I)?y(H):C.has(L)?u--:F.get(I)>F.get(L)?(C.add(I),y(H)):(Q.add(L),u--):(a(U,s),u--)}for(;u--;){const H=e[u];h.has(H.key)||a(H,s)}for(;f;)y(w[f-1]);return Ue(E),w}function En(e,A,t){const r=e.$$.props[A];r!==void 0&&(e.$$.bound[r]=t,t(e.$$.ctx[r]))}function kA(e){e&&e.c()}function HA(e,A,t,r){const{fragment:n,after_update:i}=e.$$;n&&n.m(A,t),r||nt(()=>{const s=e.$$.on_mount.map(Zo).filter(er);e.$$.on_destroy?e.$$.on_destroy.push(...s):Ue(s),e.$$.on_mount=[]}),i.forEach(nt)}function IA(e,A){const t=e.$$;t.fragment!==null&&(gB(t.after_update),Ue(t.on_destroy),t.fragment&&t.fragment.d(A),t.on_destroy=t.fragment=null,t.ctx=[])}function hB(e,A){e.$$.dirty[0]===-1&&(ir.push(e),uB(),e.$$.dirty.fill(0)),e.$$.dirty[A/31|0]|=1<<A%31}function re(e,A,t,r,n,i,s,o=[-1]){const a=Sr;mt(e);const l=e.$$={fragment:null,ctx:[],props:i,update:sA,not_equal:n,bound:jo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(A.context||(a?a.$$.context:[])),callbacks:jo(),dirty:o,skip_bound:!1,root:A.target||a.$$.root};s&&s(l.root);let c=!1;if(l.ctx=t?t(e,A.props||{},(g,u,...f)=>{const d=f.length?f[0]:u;return l.ctx&&n(l.ctx[g],l.ctx[g]=d)&&(!l.skip_bound&&l.bound[g]&&l.bound[g](d),c&&hB(e,g)),u}):[],l.update(),c=!0,Ue(l.before_update),l.fragment=r?r(l.ctx):!1,A.target){if(A.hydrate){const g=rB(A.target);l.fragment&&l.fragment.l(g),g.forEach(D)}else l.fragment&&l.fragment.c();A.intro&&R(e.$$.fragment),HA(e,A.target,A.anchor,A.customElement),cs()}mt(a)}class ne{$destroy(){IA(this,1),this.$destroy=sA}$on(A,t){if(!er(t))return sA;const r=this.$$.callbacks[A]||(this.$$.callbacks[A]=[]);return r.push(t),()=>{const n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(A){this.$$set&&!Zg(A)&&(this.$$.skip_bound=!0,this.$$set(A),this.$$.skip_bound=!1)}}const ar=[];function wB(e,A){return{subscribe:YA(e,A).subscribe}}function YA(e,A=sA){let t;const r=new Set;function n(o){if(qA(e,o)&&(e=o,t)){const a=!ar.length;for(const l of r)l[1](),ar.push(l,e);if(a){for(let l=0;l<ar.length;l+=2)ar[l][0](ar[l+1]);ar.length=0}}}function i(o){n(o(e))}function s(o,a=sA){const l=[o,a];return r.add(l),r.size===1&&(t=A(n)||sA),o(e),()=>{r.delete(l),r.size===0&&t&&(t(),t=null)}}return{set:n,update:i,subscribe:s}}function Fe(e,A,t){const r=!Array.isArray(e),n=r?[e]:e,i=A.length<2;return wB(t,s=>{let o=!1;const a=[];let l=0,c=sA;const g=()=>{if(l)return;c();const f=A(r?a[0]:a,s);i?s(f):c=er(f)?f:sA},u=n.map((f,d)=>wn(f,B=>{a[d]=B,l&=~(1<<d),o&&g()},()=>{l|=1<<d}));return o=!0,g(),function(){Ue(u),c(),o=!1}})}function pB(){const e=new URLSearchParams(window.location.search).get("tab")??"all",{subscribe:A,set:t}=YA(e);return{subscribe:A,change:r=>{t(r);const n=new URL(window.location);n.searchParams.set("tab",r),window.history.pushState({},"",n)},init:()=>{const r=new URLSearchParams(window.location.search).get("tab")??"all";t(r)}}}const lr=pB(),rA=APP_LANG,ft=APP_NAME;WEBAPP_NAME;const mB=USER_ID,Hn=IS_SUPERUSER,fs=CSRF_TOKEN;ADDITIONAL_MODULES;const QB="Region",ua=APP_URL;SAS_APP_URL,CANTALOUPE_APP_URL,MEDIA_PATH;const CB=PAGE_LEN,In={Witness:rA==="en"?"Witness":"Témoin",Work:rA==="en"?"Work":"Œuvre",Series:rA==="en"?"Series":"Série d'imprimés",Regions:rA==="en"?"Region Extraction":"Extraction d'illustrations",User:rA==="en"?"User":"Utilisateur"},gs=YA(!1),vB=e=>typeof e=="string"||e instanceof String;async function Bs(e){gs.set(!0);try{return await e()}finally{gs.set(!1)}}function UB(e){return e.match(/\d+/g).toString()}function Sn(){return"https://vhs.huma-num.fr"}function fa(e,A){if(typeof window<"u"){const t=parseInt(new URLSearchParams(window.location.search).get(A));if(!isNaN(t))return e.set(t),t}return e.set(1),1}function ga(e,A,t){if(A.set(e),typeof window<"u"){const r=new URL(window.location.href);r.searchParams.set(t,e),window.history.pushState({},"",r)}}function FB(e=null){if(e)return e=e.split("_"),e.length<3?void 0:`${e.slice(0,3).join("_").replace(".jpg","")}.jpg`}function yB(e=null){const A=FB(e);return A===void 0?void 0:`${Sn()}/iiif/2/${A}`}function cr(e=null,A=null,t="full"){if(A=vB(A)?A.replace(".jpg",""):A,!e)return"https://placehold.co/96x96/png?text=No+image";if(!e.startsWith("wit")){const[i,...s]=e.split("_wit");e=`wit${s}`}const r=yB(e);if(r===void 0)return"https://placehold.co/96x96/png?text=No+image";const n=e.split("_");return A||(A=n[n.length-1].includes(",")?n.pop().replace(".jpg",""):"full"),`${r}/${A}/${t}/0/default.jpg`}function Ct(e,A=null,t=!1){return new Promise(r=>{if(document.getElementById("msg-modal")){t?document.getElementById("modal-footer").hidden=!1:r(void 0),A&&(document.getElementById("modal-title").innerHTML=A),document.getElementById("modal-msg").innerHTML=e,document.getElementById("hidden-msg-btn").click();const i=document.getElementById("cancel-btn"),s=document.getElementById("ok-btn"),o=document.getElementById("modal-bkg"),a=()=>{i.removeEventListener("click",l),o.removeEventListener("click",l),s.removeEventListener("click",c),document.getElementById("modal-footer").hidden=!0},l=()=>{a(),r(!1)},c=()=>{a(),r(!0)};i.addEventListener("click",l),s.addEventListener("click",c)}else t?r(window.confirm(e)):(window.alert(e),r(void 0))})}function _B(){let e,A,t=(r,n)=>r===n;return{set:r=>{A=e,e=r},setCompareFn:r=>t=r,get:()=>e,getNewAndOld:()=>[e,A],same:()=>t(e,A)}}const bB=(e,A)=>Array.isArray(e)&&Array.isArray(A)&&e.length===A.length&&e.every((t,r)=>t===A[r]||void 0);function EB(e){const t=[85,70,60],r=[50,65,40],n=e*137.5%360,i=t[e%t.length],s=r[Math.floor(e/t.length)%r.length];return`hsl(${Math.floor(n)}, ${i}%, ${s}%)`}function HB(e=null){return e<600?1:e<800?2:e<1e3?3:e<1200?4:e<1400?5:e>=1400?6:4}function ds(e){const A=e.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button-close"),t=()=>e.classList.remove("is-active");A.forEach(n=>n.addEventListener("click",t));const r=n=>{n.key==="Escape"&&e.classList.contains("is-active")&&t()};return document.addEventListener("keydown",r),{destroy(){A.forEach(n=>n.removeEventListener("click",t)),document.removeEventListener("keydown",r)}}}function Ba(e){const A=()=>{const t=document.getElementById(e.dataset.target);t==null||t.classList.add("is-active")};return e.addEventListener("click",A),{destroy(){e.removeEventListener("click",A)}}}function ur(e,A,t="string",r=null){const n={string:s=>{const o=s.get(A);return o!==null?o:null},array:s=>{const o=s.get(A);return o?o.split(",").map(Number).filter(a=>!isNaN(a)):null},set:s=>{const o=s.get(A);return o?new Set(o.split(",").map(Number).filter(a=>!isNaN(a))):null},number:s=>{const o=s.get(A);return o!==null?Number(o):null},boolean:s=>{const o=s.get(A);return o!==null?o==="true":null}},i={string:(s,o)=>o?s.searchParams.set(A,o):s.searchParams.delete(A),array:(s,o)=>{o!=null&&o.length?s.searchParams.set(A,o.join(",")):s.searchParams.delete(A)},set:(s,o)=>{o!=null&&o.size?s.searchParams.set(A,Array.from(o).join(",")):s.searchParams.delete(A)},number:(s,o)=>{o!=null?s.searchParams.set(A,String(o)):s.searchParams.delete(A)},boolean:(s,o)=>o?s.searchParams.set(A,"true"):s.searchParams.delete(A)};if(typeof window<"u"){const s=new URLSearchParams(window.location.search),o=n[t](s);if(o!==null)e.set(o);else if(r!==null){const a=typeof r=="function"?r():r;e.set(a)}return a=>{const l=new URL(window.location);i[t](l,a),window.history.pushState({},"",l)}}return()=>{}}function IB(e){const A=e-1;return A*A*A+1}function da(e,{delay:A=0,duration:t=400,easing:r=$o}={}){const n=+getComputedStyle(e).opacity;return{delay:A,duration:t,easing:r,css:i=>`opacity: ${i*n}`}}function ha(e,{delay:A=0,duration:t=400,easing:r=IB,axis:n="y"}={}){const i=getComputedStyle(e),s=+i.opacity,o=n==="y"?"height":"width",a=parseFloat(i[o]),l=n==="y"?["top","bottom"]:["left","right"],c=l.map(h=>`${h[0].toUpperCase()}${h.slice(1)}`),g=parseFloat(i[`padding${c[0]}`]),u=parseFloat(i[`padding${c[1]}`]),f=parseFloat(i[`margin${c[0]}`]),d=parseFloat(i[`margin${c[1]}`]),B=parseFloat(i[`border${c[0]}Width`]),w=parseFloat(i[`border${c[1]}Width`]);return{delay:A,duration:t,easing:r,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*s};${o}: ${h*a}px;padding-${l[0]}: ${h*g}px;padding-${l[1]}: ${h*u}px;margin-${l[0]}: ${h*f}px;margin-${l[1]}: ${h*d}px;border-${l[0]}-width: ${h*B}px;border-${l[1]}-width: ${h*w}px;`}}const ib="";function wa(e){let A,t,r;return{c(){A=v("div"),A.innerHTML='<div class="loader svelte-vizlcg"></div>',m(A,"class","bkg-shade svelte-vizlcg")},m(n,i){T(n,A,i),r=!0},i(n){r||(nt(()=>{r&&(t||(t=yn(A,da,{duration:150},!0)),t.run(1))}),r=!0)},o(n){t||(t=yn(A,da,{duration:150},!1)),t.run(0),r=!1},d(n){n&&D(A),n&&t&&t.end()}}}function SB(e){let A,t,r=e[0]&&wa();return{c(){r&&r.c(),A=Ke()},m(n,i){r&&r.m(n,i),T(n,A,i),t=!0},p(n,[i]){n[0]?r?i&1&&R(r,1):(r=wa(),r.c(),R(r,1),r.m(A.parentNode,A)):r&&(ee(),Y(r,1,1,()=>{r=null}),te())},i(n){t||(R(r),t=!0)},o(n){Y(r),t=!1},d(n){r&&r.d(n),n&&D(A)}}}function xB(e,A,t){let r;return NA(e,gs,n=>t(0,r=n)),[r]}class LB extends ne{constructor(A){super(),re(this,A,xB,SB,qA,{})}}const sb="",kB=e=>({}),pa=e=>({});function ma(e,A,t){const r=e.slice();return r[9]=A[t][0],r[10]=A[t][1],r}const KB=e=>({}),Qa=e=>({}),MB=e=>({}),Ca=e=>({});function DB(e){let A,t,r=Object.entries(e[2]),n=[];for(let i=0;i<r.length;i+=1)n[i]=va(ma(e,r,i));return{c(){A=v("div"),t=v("ul");for(let i=0;i<n.length;i+=1)n[i].c();m(A,"class","tabs")},m(i,s){T(i,A,s),p(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s&12){r=Object.entries(i[2]);let o;for(o=0;o<r.length;o+=1){const a=ma(i,r,o);n[o]?n[o].p(a,s):(n[o]=va(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},i:sA,o:sA,d(i){i&&D(A),xe(n,i)}}}function TB(e){let A;const t=e[7].tabs,r=Ne(t,e,e[6],Qa);return{c(){r&&r.c()},m(n,i){r&&r.m(n,i),A=!0},p(n,i){r&&r.p&&(!A||i&64)&&Ve(r,t,n,n[6],A?Re(t,n[6],i,KB):Ge(n[6]),Qa)},i(n){A||(R(r,n),A=!0)},o(n){Y(r,n),A=!1},d(n){r&&r.d(n)}}}function va(e){let A,t,r=e[10]+"",n,i,s,o;function a(){return e[8](e[9])}return{c(){A=v("li"),t=v("a"),n=aA(r),i=O(),m(t,"href",null),fe(A,"is-active",e[3]===e[9])},m(l,c){T(l,A,c),p(A,t),p(t,n),p(A,i),s||(o=mA(t,"click",a),s=!0)},p(l,c){e=l,c&4&&r!==(r=e[10]+"")&&GA(n,r),c&12&&fe(A,"is-active",e[3]===e[9])},d(l){l&&D(A),s=!1,o()}}}function OB(e){let A,t,r,n,i,s,o,a,l,c,g,u,f;A=new LB({});const d=e[7].sidebar,B=Ne(d,e,e[6],Ca),w=[TB,DB],h=[];function F(C,y){return y&4&&(a=null),C[4].tabs?0:(a==null&&(a=!!Object.keys(C[2]).length),a?1:-1)}~(l=F(e,-1))&&(c=h[l]=w[l](e));const E=e[7].content,Q=Ne(E,e,e[6],pa);return{c(){kA(A.$$.fragment),t=O(),r=v("div"),n=v("aside"),B&&B.c(),i=O(),s=v("main"),o=v("nav"),c&&c.c(),g=O(),u=v("div"),Q&&Q.c(),m(n,"class","sidebar svelte-jr84gp"),PA(n,"width",e[0]+"%"),PA(n,"min-height",e[1]),m(o,"id","tabs"),m(o,"class","tabs-bar"),m(u,"class","content-area pl-5 svelte-jr84gp"),m(s,"class","main-content svelte-jr84gp"),PA(s,"width",100-e[0]+"%"),PA(s,"min-height",e[1]),m(r,"class","layout svelte-jr84gp"),PA(r,"min-height",e[1])},m(C,y){HA(A,C,y),T(C,t,y),T(C,r,y),p(r,n),B&&B.m(n,null),p(r,i),p(r,s),p(s,o),~l&&h[l].m(o,null),p(s,g),p(s,u),Q&&Q.m(u,null),f=!0},p(C,[y]){B&&B.p&&(!f||y&64)&&Ve(B,d,C,C[6],f?Re(d,C[6],y,MB):Ge(C[6]),Ca),(!f||y&1)&&PA(n,"width",C[0]+"%");let H=l;l=F(C,y),l===H?~l&&h[l].p(C,y):(c&&(ee(),Y(h[H],1,1,()=>{h[H]=null}),te()),~l?(c=h[l],c?c.p(C,y):(c=h[l]=w[l](C),c.c()),R(c,1),c.m(o,null)):c=null),Q&&Q.p&&(!f||y&64)&&Ve(Q,E,C,C[6],f?Re(E,C[6],y,kB):Ge(C[6]),pa),(!f||y&1)&&PA(s,"width",100-C[0]+"%")},i(C){f||(R(A.$$.fragment,C),R(B,C),R(c),R(Q,C),f=!0)},o(C){Y(A.$$.fragment,C),Y(B,C),Y(c),Y(Q,C),f=!1},d(C){IA(A,C),C&&D(t),C&&D(r),B&&B.d(C),~l&&h[l].d(),Q&&Q.d(C)}}}function NB(e=null){e||(e=document.getElementById("navbar")),document.documentElement.style.setProperty("--top-offset",`${e.offsetHeight}px`)}function RB(e,A,t){let r;NA(e,lr,u=>t(3,r=u));let{$$slots:n={},$$scope:i}=A;const s=jg(n);let{sidebarWidth:o="25"}=A;const a="90vh";let{tabList:l={}}=A,{topOffsetElement:c=null}=A;NB(c),nr(()=>(lr.init(),window.addEventListener("popstate",()=>lr.init()),()=>window.removeEventListener("popstate",()=>lr.init())));const g=u=>lr.change(u);return e.$$set=u=>{"sidebarWidth"in u&&t(0,o=u.sidebarWidth),"tabList"in u&&t(2,l=u.tabList),"topOffsetElement"in u&&t(5,c=u.topOffsetElement),"$$scope"in u&&t(6,i=u.$$scope)},[o,a,l,r,s,c,i,n,g]}class VB extends ne{constructor(A){super(),re(this,A,RB,OB,qA,{sidebarWidth:0,layoutHeight:1,tabList:2,topOffsetElement:5})}get layoutHeight(){return this.$$.ctx[1]}}const xn={0:{title:rA==="en"?"no categorization":"aucune catégorisation",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59">
        <rect x="1" y="0.62" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
    </svg>`},1:{title:rA==="en"?"overall visual matches":"correspondances visuelles globales",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 69">
        <rect x="10" y="10.62" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <rect x="1" y="1" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <rect x="10" y="10.62" width="46" height="45.71" rx="4.11" ry="4.11" fill="currentColor" stroke="none"/>
    </svg>`},2:{title:rA==="en"?"visual matches on part of the image":"correspondances visuelles sur une partie de l'image",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 71">
        <rect x="12" y="12.43" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <rect x="1" y="0.81" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <path d="M 12 21.43 L 21 12.43" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 12 30 L 30 12.43" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 40 56 L 57 38" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 48.3 56.29 L 57 47" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 12 39 L 39 12" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 12 48 L 48 12" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 13 56 L 57 12" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 31 56 L 57 29" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 21 57 L 57 21" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
    </svg>`},3:{title:rA==="en"?"semantic and non-visual matches":"correspondances sémantiques et non-visuelle",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 73">
        <rect x="14" y="14.43" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3" stroke-dasharray="9 9"/>
        <rect x="1" y="0.81" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
    </svg>`},4:{title:rA==="en"?"regions without match":"régions sans correspondance",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59">
        <rect x="1" y="0.62" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <path d="M 2.67 54.55 L 55 2" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 54.37 54.05 L 2.72 2.24" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
    </svg>`},5:{title:rA==="en"?"user specific category":"correspondances spécifiques à l'utilisateur",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59">
        <rect x="1" y="0.81" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <path d="M 8.69 55.28 C 9.25 44.15 18.08 35.28 28.86 35.28 C 32.5 35.28 36.07 36.3 39.18 38.25 C 44.96 41.85 48.66 48.3 49.02 55.28 Z M 17.85 21.48 C 17.85 15.37 22.79 10.39 28.86 10.39 C 34.92 10.39 39.86 15.37 39.86 21.48 C 39.86 27.59 34.92 32.56 28.86 32.56 C 22.79 32.56 17.85 27.59 17.85 21.48 Z M 40.37 36.34 C 38.43 35.13 36.32 34.25 34.13 33.7 C 38.82 31.64 42.1 26.94 42.1 21.48 C 42.1 14.13 36.16 8.15 28.86 8.15 C 21.55 8.15 15.61 14.13 15.61 21.48 C 15.61 26.95 18.9 31.66 23.6 33.71 C 13.76 36.18 6.41 45.4 6.41 56.4 C 6.41 57.02 6.92 57.52 7.54 57.52 L 50.17 57.52 C 50.79 57.52 51.3 57.02 51.3 56.4 C 51.3 48.23 47.11 40.54 40.37 36.34 Z" fill="currentColor" stroke="none"/>
    </svg>`}};function GB(e){let A,t=xn[e[2]].svg+"",r,n,i,s;return{c(){A=v("span"),m(A,"class",r="tag py-4 "+e[4]+" "+(e[0]?"is-hoverable":"")),m(A,"title",n=xn[e[2]].title),fe(A,"is-selected",e[1])},m(o,a){T(o,A,a),A.innerHTML=t,i||(s=[mA(A,"click",e[5]),mA(A,"keyup",null)],i=!0)},p(o,[a]){a&4&&t!==(t=xn[o[2]].svg+"")&&(A.innerHTML=t),a&17&&r!==(r="tag py-4 "+o[4]+" "+(o[0]?"is-hoverable":""))&&m(A,"class",r),a&4&&n!==(n=xn[o[2]].title)&&m(A,"title",n),a&19&&fe(A,"is-selected",o[1])},i:sA,o:sA,d(o){o&&D(A),i=!1,Ue(s)}}}function PB(e,A,t){let{selectable:r=!0}=A,{isSelected:n=!1}=A,{category:i}=A,{toggle:s=()=>{}}=A,{padding:o="px-2"}=A;const a=()=>s(i);return e.$$set=l=>{"selectable"in l&&t(0,r=l.selectable),"isSelected"in l&&t(1,n=l.isSelected),"category"in l&&t(2,i=l.category),"toggle"in l&&t(3,s=l.toggle),"padding"in l&&t(4,o=l.padding)},[r,n,i,s,o,a]}class XB extends ne{constructor(A){super(),re(this,A,PB,GB,qA,{selectable:0,isSelected:1,category:2,toggle:3,padding:4})}}const mb="";function Ua(e){let A,t,r=e[3].title+"",n,i;return{c(){A=v("span"),t=v("a"),n=aA(r),m(t,"href",i=`${ua}/${ft}/witness/${e[3].witnessId}/regions/${e[1]}`),m(t,"target","_blank"),m(A,"class","legend-label svelte-w1sf17")},m(s,o){T(s,A,o),p(A,t),p(t,n)},p(s,o){o&8&&r!==(r=s[3].title+"")&&GA(n,r),o&10&&i!==(i=`${ua}/${ft}/witness/${s[3].witnessId}/regions/${s[1]}`)&&m(t,"href",i)},d(s){s&&D(A)}}}function JB(e){let A,t,r,n,i,s,o,a,l,c=!e[5]&&Ua(e);return{c(){A=v("div"),t=v("span"),r=O(),n=v("span"),o=O(),c&&c.c(),m(t,"class","legend-nb svelte-w1sf17"),m(n,"class","legend-color svelte-w1sf17"),m(n,"aria-label",i=e[3].title),m(n,"title",s=e[3].title),PA(n,"background-color",e[0]?e[3].color:"#999"),m(n,"role","button"),m(n,"tabindex","0"),fe(n,"inactive",!e[0]),fe(n,"clickable",e[4]),m(A,"class","legend-item svelte-w1sf17"),fe(A,"inactive",!e[0])},m(g,u){T(g,A,u),p(A,t),p(A,r),p(A,n),p(A,o),c&&c.m(A,null),a||(l=[mA(n,"click",function(){er(e[2])&&e[2].apply(this,arguments)}),mA(n,"keydown",null)],a=!0)},p(g,[u]){e=g,u&8&&i!==(i=e[3].title)&&m(n,"aria-label",i),u&8&&s!==(s=e[3].title)&&m(n,"title",s),u&9&&PA(n,"background-color",e[0]?e[3].color:"#999"),u&1&&fe(n,"inactive",!e[0]),u&16&&fe(n,"clickable",e[4]),e[5]?c&&(c.d(1),c=null):c?c.p(e,u):(c=Ua(e),c.c(),c.m(A,null)),u&1&&fe(A,"inactive",!e[0])},i:sA,o:sA,d(g){g&&D(A),c&&c.d(),a=!1,Ue(l)}}}function WB(e,A,t){let{isActive:r=!0}=A,{id:n}=A,{toggle:i=()=>{}}=A,{meta:s={title:"Region",color:"#999",witnessId:1}}=A,{clickable:o=!0}=A,{onlyColor:a=!1}=A;return e.$$set=l=>{"isActive"in l&&t(0,r=l.isActive),"id"in l&&t(1,n=l.id),"toggle"in l&&t(2,i=l.toggle),"meta"in l&&t(3,s=l.meta),"clickable"in l&&t(4,o=l.clickable),"onlyColor"in l&&t(5,a=l.onlyColor)},[r,n,i,s,o,a]}class Fa extends ne{constructor(A){super(),re(this,A,WB,JB,qA,{isActive:0,id:1,toggle:2,meta:3,clickable:4,onlyColor:5})}}const Qb="";function ya(e,A,t){const r=e.slice();return r[12]=A[t][0],r[13]=A[t][1],r}function YB(e){let A;return{c(){A=v("span"),A.innerHTML='<i class="fas fa-chevron-down"></i>',m(A,"class","icon is-small")},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function zB(e){let A;return{c(){A=v("span"),A.innerHTML='<i class="fas fa-chevron-up"></i>',m(A,"class","icon is-small")},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function _a(e){let A,t;function r(){return e[10](e[12])}return A=new Fa({props:{id:e[12],meta:e[13],isActive:e[0].has(parseInt(e[12])),toggle:r,onlyColor:!e[4]}}),{c(){kA(A.$$.fragment)},m(n,i){HA(A,n,i),t=!0},p(n,i){e=n;const s={};i&32&&(s.id=e[12]),i&32&&(s.meta=e[13]),i&33&&(s.isActive=e[0].has(parseInt(e[12]))),i&34&&(s.toggle=r),i&16&&(s.onlyColor=!e[4]),A.$set(s)},i(n){t||(R(A.$$.fragment,n),t=!0)},o(n){Y(A.$$.fragment,n),t=!1},d(n){IA(A,n)}}}function $B(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,d,B,w,h,F,E,Q,C,y,H,U,I,L,x;function M(N,W){return N[4]?zB:YB}let V=M(e),S=V(e),P=e[5],k=[];for(let N=0;N<P.length;N+=1)k[N]=_a(ya(e,P,N));const z=N=>Y(k[N],1,1,()=>{k[N]=null});return{c(){A=v("div"),t=v("div"),r=v("div"),n=v("div"),i=v("h3"),i.textContent=`${rA==="en"?"Visible documents":"Documents visibles"}`,s=O(),o=v("div"),a=v("div"),l=v("p"),c=v("span"),g=v("select"),u=v("option"),u.textContent="ID",f=v("option"),f.textContent=`${In.Witness}`,d=v("option"),d.textContent=`${rA==="en"?"Title":"Titre"}`,B=O(),w=v("p"),h=v("button"),h.innerHTML='<span class="icon is-small has-text-link pl-2"><i class="fas fa-check"></i></span>',F=O(),E=v("div"),Q=v("button"),S.c(),H=O(),U=v("div");for(let N=0;N<k.length;N+=1)k[N].c();m(i,"class","title mb-0"),m(n,"class","level-item"),m(r,"class","level-left"),u.__value="id",u.value=u.__value,f.__value="witnessId",f.value=f.__value,d.__value="title",d.value=d.__value,e[3]===void 0&&nt(()=>e[7].call(g)),m(c,"class","select is-small"),m(l,"class","control mb-0"),m(l,"title",rA==="en"?"Sort documents by":"Trier les documents par"),m(h,"class","button is-small is-shadowless"),m(w,"class","control"),m(w,"title",rA==="en"?"Select all documents":"Sélectionner tous les documents"),m(a,"class","level-item mb-0 field has-addons is-small"),m(Q,"class","button is-small is-ghost"),m(Q,"aria-label",C=e[4]?"Minify legend":"Expand legend"),m(E,"class","level-item"),m(E,"title",y=e[4]?"Minify legend":"Expand legend"),m(o,"class","level-right"),m(t,"class","level is-mobile mb-3"),m(U,"class","svelte-13ym7ov"),fe(U,"is-condensed",!e[4]),fe(U,"is-expanded",e[4])},m(N,W){T(N,A,W),p(A,t),p(t,r),p(r,n),p(n,i),p(t,s),p(t,o),p(o,a),p(a,l),p(l,c),p(c,g),p(g,u),p(g,f),p(g,d),xt(g,e[3],!0),p(a,B),p(a,w),p(w,h),p(o,F),p(o,E),p(E,Q),S.m(Q,null),p(A,H),p(A,U);for(let J=0;J<k.length;J+=1)k[J]&&k[J].m(U,null);I=!0,L||(x=[mA(g,"change",e[7]),mA(h,"click",e[8]),mA(Q,"click",e[9])],L=!0)},p(N,[W]){if(W&8&&xt(g,N[3]),V!==(V=M(N))&&(S.d(1),S=V(N),S&&(S.c(),S.m(Q,null))),(!I||W&16&&C!==(C=N[4]?"Minify legend":"Expand legend"))&&m(Q,"aria-label",C),(!I||W&16&&y!==(y=N[4]?"Minify legend":"Expand legend"))&&m(E,"title",y),W&51){P=N[5];let J;for(J=0;J<P.length;J+=1){const nA=ya(N,P,J);k[J]?(k[J].p(nA,W),R(k[J],1)):(k[J]=_a(nA),k[J].c(),R(k[J],1),k[J].m(U,null))}for(ee(),J=P.length;J<k.length;J+=1)z(J);te()}(!I||W&16)&&fe(U,"is-condensed",!N[4]),(!I||W&16)&&fe(U,"is-expanded",N[4])},i(N){if(!I){for(let W=0;W<P.length;W+=1)R(k[W]);I=!0}},o(N){k=k.filter(Boolean);for(let W=0;W<k.length;W+=1)Y(k[W]);I=!1},d(N){N&&D(A),S.d(),xe(k,N),L=!1,Ue(x)}}}function ZB(e,A,t){let r,{documentNodes:n}=A,{selectedRegions:i}=A,{toggleRegion:s}=A,{selectAllRegions:o}=A,a=!0,l="id";const c={id:(B,w)=>B[0]-w[0],witnessId:(B,w)=>(B[1].witnessId||0)-(w[1].witnessId||0),title:(B,w)=>(B[1].title||"").localeCompare(w[1].title||"")};function g(){l=mn(this),t(3,l)}const u=()=>o(),f=()=>t(4,a=!a),d=B=>s(parseInt(B));return e.$$set=B=>{"documentNodes"in B&&t(6,n=B.documentNodes),"selectedRegions"in B&&t(0,i=B.selectedRegions),"toggleRegion"in B&&t(1,s=B.toggleRegion),"selectAllRegions"in B&&t(2,o=B.selectAllRegions)},e.$$.update=()=>{e.$$.dirty&72&&t(5,r=Array.from(n||new Map).sort(c[l]))},[i,s,o,l,a,r,n,g,u,f,d]}class jB extends ne{constructor(A){super(),re(this,A,ZB,$B,qA,{documentNodes:6,selectedRegions:0,toggleRegion:1,selectAllRegions:2})}}var Lt;(function(e){e.Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values"})(Lt||(Lt={}));var Pe;(function(e){e[e.None=-1]="None",e[e.NoValue=0]="NoValue",e[e.LargeValue=1]="LargeValue",e[e.SmallValue=2]="SmallValue"})(Pe||(Pe={}));function qB(e){return Ln(e)&&typeof e.from=="function"}function Ln(e){return typeof e=="object"&&typeof e.to=="function"}function ba(e){e.parentElement.removeChild(e)}function hs(e){return e!=null}function Ea(e){e.preventDefault()}function Ad(e){return e.filter(function(A){return this[A]?!1:this[A]=!0},{})}function ed(e,A){return Math.round(e/A)*A}function td(e,A){var t=e.getBoundingClientRect(),r=e.ownerDocument,n=r.documentElement,i=Sa(r);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(i.x=0),A?t.top+i.y-n.clientTop:t.left+i.x-n.clientLeft}function it(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Ha(e,A,t){t>0&&(Me(e,A),setTimeout(function(){Kn(e,A)},t))}function Ia(e){return Math.max(Math.min(e,100),0)}function kn(e){return Array.isArray(e)?e:[e]}function rd(e){e=String(e);var A=e.split(".");return A.length>1?A[1].length:0}function Me(e,A){e.classList&&!/\s/.test(A)?e.classList.add(A):e.className+=" "+A}function Kn(e,A){e.classList&&!/\s/.test(A)?e.classList.remove(A):e.className=e.className.replace(new RegExp("(^|\\b)"+A.split(" ").join("|")+"(\\b|$)","gi")," ")}function nd(e,A){return e.classList?e.classList.contains(A):new RegExp("\\b"+A+"\\b").test(e.className)}function Sa(e){var A=window.pageXOffset!==void 0,t=(e.compatMode||"")==="CSS1Compat",r=A?window.pageXOffset:t?e.documentElement.scrollLeft:e.body.scrollLeft,n=A?window.pageYOffset:t?e.documentElement.scrollTop:e.body.scrollTop;return{x:r,y:n}}function id(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function sd(){var e=!1;try{var A=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,A)}catch{}return e}function od(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function ws(e,A){return 100/(A-e)}function ps(e,A,t){return A*100/(e[t+1]-e[t])}function ad(e,A){return ps(e,e[0]<0?A+Math.abs(e[0]):A-e[0],0)}function ld(e,A){return A*(e[1]-e[0])/100+e[0]}function kr(e,A){for(var t=1;e>=A[t];)t+=1;return t}function cd(e,A,t){if(t>=e.slice(-1)[0])return 100;var r=kr(t,e),n=e[r-1],i=e[r],s=A[r-1],o=A[r];return s+ad([n,i],t)/ws(s,o)}function ud(e,A,t){if(t>=100)return e.slice(-1)[0];var r=kr(t,A),n=e[r-1],i=e[r],s=A[r-1],o=A[r];return ld([n,i],(t-s)*ws(s,o))}function fd(e,A,t,r){if(r===100)return r;var n=kr(r,e),i=e[n-1],s=e[n];return t?r-i>(s-i)/2?s:i:A[n-1]?e[n-1]+ed(r-e[n-1],A[n-1]):r}var xa=function(){function e(A,t,r){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=t;var n,i=[];for(Object.keys(A).forEach(function(s){i.push([kn(A[s]),s])}),i.sort(function(s,o){return s[0][0]-o[0][0]}),n=0;n<i.length;n++)this.handleEntryPoint(i[n][1],i[n][0]);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)this.handleStepPoint(n,this.xNumSteps[n])}return e.prototype.getDistance=function(A){for(var t=[],r=0;r<this.xNumSteps.length-1;r++)t[r]=ps(this.xVal,A,r);return t},e.prototype.getAbsoluteDistance=function(A,t,r){var n=0;if(A<this.xPct[this.xPct.length-1])for(;A>this.xPct[n+1];)n++;else A===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);!r&&A===this.xPct[n+1]&&n++,t===null&&(t=[]);var i,s=1,o=t[n],a=0,l=0,c=0,g=0;for(r?i=(A-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):i=(this.xPct[n+1]-A)/(this.xPct[n+1]-this.xPct[n]);o>0;)a=this.xPct[n+1+g]-this.xPct[n+g],t[n+g]*s+100-i*100>100?(l=a*i,s=(o-100*i)/t[n+g],i=1):(l=t[n+g]*a/100*s,s=0),r?(c=c-l,this.xPct.length+g>=1&&g--):(c=c+l,this.xPct.length-g>=1&&g++),o=t[n+g]*s;return A+c},e.prototype.toStepping=function(A){return A=cd(this.xVal,this.xPct,A),A},e.prototype.fromStepping=function(A){return ud(this.xVal,this.xPct,A)},e.prototype.getStep=function(A){return A=fd(this.xPct,this.xSteps,this.snap,A),A},e.prototype.getDefaultStep=function(A,t,r){var n=kr(A,this.xPct);return(A===100||t&&A===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/r},e.prototype.getNearbySteps=function(A){var t=kr(A,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var A=this.xNumSteps.map(rd);return Math.max.apply(null,A)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(A){return this.getStep(this.toStepping(A))},e.prototype.handleEntryPoint=function(A,t){var r;if(A==="min"?r=0:A==="max"?r=100:r=parseFloat(A),!it(r)||!it(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(r),this.xVal.push(t[0]);var n=Number(t[1]);r?this.xSteps.push(isNaN(n)?!1:n):isNaN(n)||(this.xSteps[0]=n),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(A,t){if(t){if(this.xVal[A]===this.xVal[A+1]){this.xSteps[A]=this.xHighestCompleteStep[A]=this.xVal[A];return}this.xSteps[A]=ps([this.xVal[A],this.xVal[A+1]],t,0)/ws(this.xPct[A],this.xPct[A+1]);var r=(this.xVal[A+1]-this.xVal[A])/this.xNumSteps[A],n=Math.ceil(Number(r.toFixed(3))-1),i=this.xVal[A]+this.xNumSteps[A]*n;this.xHighestCompleteStep[A]=i}},e}(),La={to:function(e){return e===void 0?"":e.toFixed(2)},from:Number},ka={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},kt={tooltips:".__tooltips",aria:".__aria"};function gd(e,A){if(!it(A))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=A}function Bd(e,A){if(!it(A))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=A}function dd(e,A){if(!it(A))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=A}function hd(e,A){if(!it(A))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=A}function wd(e,A){if(typeof A!="object"||Array.isArray(A))throw new Error("noUiSlider: 'range' is not an object.");if(A.min===void 0||A.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new xa(A,e.snap||!1,e.singleStep)}function pd(e,A){if(A=kn(A),!Array.isArray(A)||!A.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=A.length,e.start=A}function md(e,A){if(typeof A!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=A}function Qd(e,A){if(typeof A!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=A}function Cd(e,A){if(typeof A!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=A}function Ka(e,A){var t=[!1],r;if(A==="lower"?A=[!0,!1]:A==="upper"&&(A=[!1,!0]),A===!0||A===!1){for(r=1;r<e.handles;r++)t.push(A);t.push(!1)}else{if(!Array.isArray(A)||!A.length||A.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t=A}e.connect=t}function vd(e,A){switch(A){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Ma(e,A){if(!it(A))throw new Error("noUiSlider: 'margin' option must be numeric.");A!==0&&(e.margin=e.spectrum.getDistance(A))}function Ud(e,A){if(!it(A))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(A),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Fd(e,A){var t;if(!it(A)&&!Array.isArray(A))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(A)&&!(A.length===2||it(A[0])||it(A[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(A!==0){for(Array.isArray(A)||(A=[A,A]),e.padding=[e.spectrum.getDistance(A[0]),e.spectrum.getDistance(A[1])],t=0;t<e.spectrum.xNumSteps.length-1;t++)if(e.padding[0][t]<0||e.padding[1][t]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=A[0]+A[1],n=e.spectrum.xVal[0],i=e.spectrum.xVal[e.spectrum.xVal.length-1];if(r/(i-n)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function yd(e,A){switch(A){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function _d(e,A){if(typeof A!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var t=A.indexOf("tap")>=0,r=A.indexOf("drag")>=0,n=A.indexOf("fixed")>=0,i=A.indexOf("snap")>=0,s=A.indexOf("hover")>=0,o=A.indexOf("unconstrained")>=0,a=A.indexOf("invert-connects")>=0,l=A.indexOf("drag-all")>=0,c=A.indexOf("smooth-steps")>=0;if(n){if(e.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Ma(e,e.start[1]-e.start[0])}if(a&&e.handles!==2)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(o&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:t||i,drag:r,dragAll:l,smoothSteps:c,fixed:n,snap:i,hover:s,unconstrained:o,invertConnects:a}}function bd(e,A){if(A!==!1)if(A===!0||Ln(A)){e.tooltips=[];for(var t=0;t<e.handles;t++)e.tooltips.push(A)}else{if(A=kn(A),A.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");A.forEach(function(r){if(typeof r!="boolean"&&!Ln(r))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),e.tooltips=A}}function Ed(e,A){if(A.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=A}function Hd(e,A){if(!Ln(A))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=A}function Id(e,A){if(!qB(A))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=A}function Sd(e,A){if(typeof A!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=A}function xd(e,A){e.documentElement=A}function Ld(e,A){if(typeof A!="string"&&A!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=A}function kd(e,A){if(typeof A!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof e.cssPrefix=="string"?(e.cssClasses={},Object.keys(A).forEach(function(t){e.cssClasses[t]=e.cssPrefix+A[t]})):e.cssClasses=A}function Da(e){var A={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:La,format:La},t={step:{r:!1,t:gd},keyboardPageMultiplier:{r:!1,t:Bd},keyboardMultiplier:{r:!1,t:dd},keyboardDefaultStep:{r:!1,t:hd},start:{r:!0,t:pd},connect:{r:!0,t:Ka},direction:{r:!0,t:yd},snap:{r:!1,t:md},animate:{r:!1,t:Qd},animationDuration:{r:!1,t:Cd},range:{r:!0,t:wd},orientation:{r:!1,t:vd},margin:{r:!1,t:Ma},limit:{r:!1,t:Ud},padding:{r:!1,t:Fd},behaviour:{r:!0,t:_d},ariaFormat:{r:!1,t:Hd},format:{r:!1,t:Id},tooltips:{r:!1,t:bd},keyboardSupport:{r:!0,t:Sd},documentElement:{r:!1,t:xd},cssPrefix:{r:!0,t:Ld},cssClasses:{r:!0,t:kd},handleAttributes:{r:!1,t:Ed}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:ka,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(t).forEach(function(a){if(!hs(e[a])&&r[a]===void 0){if(t[a].r)throw new Error("noUiSlider: '"+a+"' is required.");return}t[a].t(A,hs(e[a])?e[a]:r[a])}),A.pips=e.pips;var n=document.createElement("div"),i=n.style.msTransform!==void 0,s=n.style.transform!==void 0;A.transformRule=s?"transform":i?"msTransform":"webkitTransform";var o=[["left","top"],["right","bottom"]];return A.style=o[A.dir][A.ort],A}function Kd(e,A,t){var r=id(),n=od(),i=n&&sd(),s=e,o,a,l,c,g,u,f=A.spectrum,d=[],B=[],w=[],h=0,F={},E=!1,Q=e.ownerDocument,C=A.documentElement||Q.documentElement,y=Q.body,H=Q.dir==="rtl"||A.ort===1?0:100;function U(_,b){var K=Q.createElement("div");return b&&Me(K,b),_.appendChild(K),K}function I(_,b){var K=U(_,A.cssClasses.origin),j=U(K,A.cssClasses.handle);if(U(j,A.cssClasses.touchArea),j.setAttribute("data-handle",String(b)),A.keyboardSupport&&(j.setAttribute("tabindex","0"),j.addEventListener("keydown",function(eA){return MA(eA,b)})),A.handleAttributes!==void 0){var AA=A.handleAttributes[b];Object.keys(AA).forEach(function(eA){j.setAttribute(eA,AA[eA])})}return j.setAttribute("role","slider"),j.setAttribute("aria-orientation",A.ort?"vertical":"horizontal"),b===0?Me(j,A.cssClasses.handleLower):b===A.handles-1&&Me(j,A.cssClasses.handleUpper),K.handle=j,K}function L(_,b){return b?U(_,A.cssClasses.connect):!1}function x(_,b){a=U(b,A.cssClasses.connects),l=[],c=[],c.push(L(a,_[0]));for(var K=0;K<A.handles;K++)l.push(I(b,K)),w[K]=K,c.push(L(a,_[K+1]))}function M(_){Me(_,A.cssClasses.target),A.dir===0?Me(_,A.cssClasses.ltr):Me(_,A.cssClasses.rtl),A.ort===0?Me(_,A.cssClasses.horizontal):Me(_,A.cssClasses.vertical);var b=getComputedStyle(_).direction;return b==="rtl"?Me(_,A.cssClasses.textDirectionRtl):Me(_,A.cssClasses.textDirectionLtr),U(_,A.cssClasses.base)}function V(_,b){return!A.tooltips||!A.tooltips[b]?!1:U(_.firstChild,A.cssClasses.tooltip)}function S(){return s.hasAttribute("disabled")}function P(_){var b=l[_];return b.hasAttribute("disabled")}function k(_){_!=null?(l[_].setAttribute("disabled",""),l[_].handle.removeAttribute("tabindex")):(s.setAttribute("disabled",""),l.forEach(function(b){b.handle.removeAttribute("tabindex")}))}function z(_){_!=null?(l[_].removeAttribute("disabled"),l[_].handle.setAttribute("tabindex","0")):(s.removeAttribute("disabled"),l.forEach(function(b){b.removeAttribute("disabled"),b.handle.setAttribute("tabindex","0")}))}function N(){u&&(ce("update"+kt.tooltips),u.forEach(function(_){_&&ba(_)}),u=null)}function W(){N(),u=l.map(V),Be("update"+kt.tooltips,function(_,b,K){if(!(!u||!A.tooltips)&&u[b]!==!1){var j=_[b];A.tooltips[b]!==!0&&(j=A.tooltips[b].to(K[b])),u[b].innerHTML=j}})}function J(){ce("update"+kt.aria),Be("update"+kt.aria,function(_,b,K,j,AA){w.forEach(function(eA){var wA=l[eA],cA=Oe(B,eA,0,!0,!0,!0),ZA=Oe(B,eA,100,!0,!0,!0),jA=AA[eA],yA=String(A.ariaFormat.to(K[eA]));cA=f.fromStepping(cA).toFixed(1),ZA=f.fromStepping(ZA).toFixed(1),jA=f.fromStepping(jA).toFixed(1),wA.children[0].setAttribute("aria-valuemin",cA),wA.children[0].setAttribute("aria-valuemax",ZA),wA.children[0].setAttribute("aria-valuenow",jA),wA.children[0].setAttribute("aria-valuetext",yA)})})}function nA(_){if(_.mode===Lt.Range||_.mode===Lt.Steps)return f.xVal;if(_.mode===Lt.Count){if(_.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var b=_.values-1,K=100/b,j=[];b--;)j[b]=b*K;return j.push(100),fA(j,_.stepped)}return _.mode===Lt.Positions?fA(_.values,_.stepped):_.mode===Lt.Values?_.stepped?_.values.map(function(AA){return f.fromStepping(f.getStep(f.toStepping(AA)))}):_.values:[]}function fA(_,b){return _.map(function(K){return f.fromStepping(b?f.getStep(K):K)})}function pA(_){function b(jA,yA){return Number((jA+yA).toFixed(7))}var K=nA(_),j={},AA=f.xVal[0],eA=f.xVal[f.xVal.length-1],wA=!1,cA=!1,ZA=0;return K=Ad(K.slice().sort(function(jA,yA){return jA-yA})),K[0]!==AA&&(K.unshift(AA),wA=!0),K[K.length-1]!==eA&&(K.push(eA),cA=!0),K.forEach(function(jA,yA){var JA,iA,_A,LA=jA,oe=K[yA+1],ue,Ht,It,Ar,Jg,zo,Wg,Yg=_.mode===Lt.Steps;for(Yg&&(JA=f.xNumSteps[yA]),JA||(JA=oe-LA),oe===void 0&&(oe=LA),JA=Math.max(JA,1e-7),iA=LA;iA<=oe;iA=b(iA,JA)){for(ue=f.toStepping(iA),Ht=ue-ZA,Jg=Ht/(_.density||1),zo=Math.round(Jg),Wg=Ht/zo,_A=1;_A<=zo;_A+=1)It=ZA+_A*Wg,j[It.toFixed(5)]=[f.fromStepping(It),0];Ar=K.indexOf(iA)>-1?Pe.LargeValue:Yg?Pe.SmallValue:Pe.NoValue,!yA&&wA&&iA!==oe&&(Ar=0),iA===oe&&cA||(j[ue.toFixed(5)]=[iA,Ar]),ZA=ue}}),j}function SA(_,b,K){var j,AA,eA=Q.createElement("div"),wA=(j={},j[Pe.None]="",j[Pe.NoValue]=A.cssClasses.valueNormal,j[Pe.LargeValue]=A.cssClasses.valueLarge,j[Pe.SmallValue]=A.cssClasses.valueSub,j),cA=(AA={},AA[Pe.None]="",AA[Pe.NoValue]=A.cssClasses.markerNormal,AA[Pe.LargeValue]=A.cssClasses.markerLarge,AA[Pe.SmallValue]=A.cssClasses.markerSub,AA),ZA=[A.cssClasses.valueHorizontal,A.cssClasses.valueVertical],jA=[A.cssClasses.markerHorizontal,A.cssClasses.markerVertical];Me(eA,A.cssClasses.pips),Me(eA,A.ort===0?A.cssClasses.pipsHorizontal:A.cssClasses.pipsVertical);function yA(iA,_A){var LA=_A===A.cssClasses.value,oe=LA?ZA:jA,ue=LA?wA:cA;return _A+" "+oe[A.ort]+" "+ue[iA]}function JA(iA,_A,LA){if(LA=b?b(_A,LA):LA,LA!==Pe.None){var oe=U(eA,!1);oe.className=yA(LA,A.cssClasses.marker),oe.style[A.style]=iA+"%",LA>Pe.NoValue&&(oe=U(eA,!1),oe.className=yA(LA,A.cssClasses.value),oe.setAttribute("data-value",String(_A)),oe.style[A.style]=iA+"%",oe.innerHTML=String(K.to(_A)))}}return Object.keys(_).forEach(function(iA){JA(iA,_[iA][0],_[iA][1])}),eA}function TA(){g&&(ba(g),g=null)}function xA(_){TA();var b=pA(_),K=_.filter,j=_.format||{to:function(AA){return String(Math.round(AA))}};return g=s.appendChild(SA(b,K,j)),g}function FA(){var _=o.getBoundingClientRect(),b="offset"+["Width","Height"][A.ort];return A.ort===0?_.width||o[b]:_.height||o[b]}function $(_,b,K,j){var AA=function(wA){var cA=oA(wA,j.pageOffset,j.target||b);if(!cA||S()&&!j.doNotReject||nd(s,A.cssClasses.tap)&&!j.doNotReject||_===r.start&&cA.buttons!==void 0&&cA.buttons>1||j.hover&&cA.buttons)return!1;i||cA.preventDefault(),cA.calcPoint=cA.points[A.ort],K(cA,j)},eA=[];return _.split(" ").forEach(function(wA){b.addEventListener(wA,AA,i?{passive:!0}:!1),eA.push([wA,AA])}),eA}function oA(_,b,K){var j=_.type.indexOf("touch")===0,AA=_.type.indexOf("mouse")===0,eA=_.type.indexOf("pointer")===0,wA=0,cA=0;if(_.type.indexOf("MSPointer")===0&&(eA=!0),_.type==="mousedown"&&!_.buttons&&!_.touches)return!1;if(j){var ZA=function(JA){var iA=JA.target;return iA===K||K.contains(iA)||_.composed&&_.composedPath().shift()===K};if(_.type==="touchstart"){var jA=Array.prototype.filter.call(_.touches,ZA);if(jA.length>1)return!1;wA=jA[0].pageX,cA=jA[0].pageY}else{var yA=Array.prototype.find.call(_.changedTouches,ZA);if(!yA)return!1;wA=yA.pageX,cA=yA.pageY}}return b=b||Sa(Q),(AA||eA)&&(wA=_.clientX+b.x,cA=_.clientY+b.y),_.pageOffset=b,_.points=[wA,cA],_.cursor=AA||eA,_}function tA(_){var b=_-td(o,A.ort),K=b*100/FA();return K=Ia(K),A.dir?100-K:K}function G(_){var b=100,K=!1;return l.forEach(function(j,AA){if(!P(AA)){var eA=B[AA],wA=Math.abs(eA-_),cA=wA===100&&b===100,ZA=wA<b,jA=wA<=b&&_>eA;(ZA||jA||cA)&&(K=AA,b=wA)}}),K}function q(_,b){_.type==="mouseout"&&_.target.nodeName==="HTML"&&_.relatedTarget===null&&OA(_,b)}function gA(_,b){if(navigator.appVersion.indexOf("MSIE 9")===-1&&_.buttons===0&&b.buttonsProperty!==0)return OA(_,b);var K=(A.dir?-1:1)*(_.calcPoint-b.startCalcPoint),j=K*100/b.baseSize;pe(K>0,j,b.locations,b.handleNumbers,b.connect)}function OA(_,b){b.handle&&(Kn(b.handle,A.cssClasses.active),h-=1),b.listeners.forEach(function(K){C.removeEventListener(K[0],K[1])}),h===0&&(Kn(s,A.cssClasses.drag),X(),_.cursor&&(y.style.cursor="",y.removeEventListener("selectstart",Ea))),A.events.smoothSteps&&(b.handleNumbers.forEach(function(K){dA(K,B[K],!0,!0,!1,!1)}),b.handleNumbers.forEach(function(K){DA("update",K)})),b.handleNumbers.forEach(function(K){DA("change",K),DA("set",K),DA("end",K)})}function zA(_,b){if(!b.handleNumbers.some(P)){var K;if(b.handleNumbers.length===1){var j=l[b.handleNumbers[0]];K=j.children[0],h+=1,Me(K,A.cssClasses.active)}_.stopPropagation();var AA=[],eA=$(r.move,C,gA,{target:_.target,handle:K,connect:b.connect,listeners:AA,startCalcPoint:_.calcPoint,baseSize:FA(),pageOffset:_.pageOffset,handleNumbers:b.handleNumbers,buttonsProperty:_.buttons,locations:B.slice()}),wA=$(r.end,C,OA,{target:_.target,handle:K,listeners:AA,doNotReject:!0,handleNumbers:b.handleNumbers}),cA=$("mouseout",C,q,{target:_.target,handle:K,listeners:AA,doNotReject:!0,handleNumbers:b.handleNumbers});AA.push.apply(AA,eA.concat(wA,cA)),_.cursor&&(y.style.cursor=getComputedStyle(_.target).cursor,l.length>1&&Me(s,A.cssClasses.drag),y.addEventListener("selectstart",Ea,!1)),b.handleNumbers.forEach(function(ZA){DA("start",ZA)})}}function bA(_){_.stopPropagation();var b=tA(_.calcPoint),K=G(b);K!==!1&&(A.events.snap||Ha(s,A.cssClasses.tap,A.animationDuration),dA(K,b,!0,!0),X(),DA("slide",K,!0),DA("update",K,!0),A.events.snap?zA(_,{handleNumbers:[K]}):(DA("change",K,!0),DA("set",K,!0)))}function KA(_){var b=tA(_.calcPoint),K=f.getStep(b),j=f.fromStepping(K);Object.keys(F).forEach(function(AA){AA.split(".")[0]==="hover"&&F[AA].forEach(function(eA){eA.call(me,j)})})}function MA(_,b){if(S()||P(b))return!1;var K=["Left","Right"],j=["Down","Up"],AA=["PageDown","PageUp"],eA=["Home","End"];A.dir&&!A.ort?K.reverse():A.ort&&!A.dir&&(j.reverse(),AA.reverse());var wA=_.key.replace("Arrow",""),cA=wA===AA[0],ZA=wA===AA[1],jA=wA===j[0]||wA===K[0]||cA,yA=wA===j[1]||wA===K[1]||ZA,JA=wA===eA[0],iA=wA===eA[1];if(!jA&&!yA&&!JA&&!iA)return!0;_.preventDefault();var _A;if(yA||jA){var LA=jA?0:1,oe=UA(b),ue=oe[LA];if(ue===null)return!1;ue===!1&&(ue=f.getDefaultStep(B[b],jA,A.keyboardDefaultStep)),ZA||cA?ue*=A.keyboardPageMultiplier:ue*=A.keyboardMultiplier,ue=Math.max(ue,1e-7),ue=(jA?-1:1)*ue,_A=d[b]+ue}else iA?_A=A.spectrum.xVal[A.spectrum.xVal.length-1]:_A=A.spectrum.xVal[0];return dA(b,f.toStepping(_A),!0,!0),DA("slide",b),DA("update",b),DA("change",b),DA("set",b),!1}function $A(_){_.fixed||l.forEach(function(b,K){$(r.start,b.children[0],zA,{handleNumbers:[K]})}),_.tap&&$(r.start,o,bA,{}),_.hover&&$(r.move,o,KA,{hover:!0}),_.drag&&c.forEach(function(b,K){if(!(b===!1||K===0||K===c.length-1)){var j=l[K-1],AA=l[K],eA=[b],wA=[j,AA],cA=[K-1,K];Me(b,A.cssClasses.draggable),_.fixed&&(eA.push(j.children[0]),eA.push(AA.children[0])),_.dragAll&&(wA=l,cA=w),eA.forEach(function(ZA){$(r.start,ZA,zA,{handles:wA,handleNumbers:cA,connect:b})})}})}function Be(_,b){F[_]=F[_]||[],F[_].push(b),_.split(".")[0]==="update"&&l.forEach(function(K,j){DA("update",j)})}function Se(_){return _===kt.aria||_===kt.tooltips}function ce(_){var b=_&&_.split(".")[0],K=b?_.substring(b.length):_;Object.keys(F).forEach(function(j){var AA=j.split(".")[0],eA=j.substring(AA.length);(!b||b===AA)&&(!K||K===eA)&&(!Se(eA)||K===eA)&&delete F[j]})}function DA(_,b,K){Object.keys(F).forEach(function(j){var AA=j.split(".")[0];_===AA&&F[j].forEach(function(eA){eA.call(me,d.map(A.format.to),b,d.slice(),K||!1,B.slice(),me)})})}function Oe(_,b,K,j,AA,eA,wA){var cA;return l.length>1&&!A.events.unconstrained&&(j&&b>0&&(cA=f.getAbsoluteDistance(_[b-1],A.margin,!1),K=Math.max(K,cA)),AA&&b<l.length-1&&(cA=f.getAbsoluteDistance(_[b+1],A.margin,!0),K=Math.min(K,cA))),l.length>1&&A.limit&&(j&&b>0&&(cA=f.getAbsoluteDistance(_[b-1],A.limit,!1),K=Math.min(K,cA)),AA&&b<l.length-1&&(cA=f.getAbsoluteDistance(_[b+1],A.limit,!0),K=Math.max(K,cA))),A.padding&&(b===0&&(cA=f.getAbsoluteDistance(0,A.padding[0],!1),K=Math.max(K,cA)),b===l.length-1&&(cA=f.getAbsoluteDistance(100,A.padding[1],!0),K=Math.min(K,cA))),wA||(K=f.getStep(K)),K=Ia(K),K===_[b]&&!eA?!1:K}function RA(_,b){var K=A.ort;return(K?b:_)+", "+(K?_:b)}function pe(_,b,K,j,AA){var eA=K.slice(),wA=j[0],cA=A.events.smoothSteps,ZA=[!_,_],jA=[_,!_];j=j.slice(),_&&j.reverse(),j.length>1?j.forEach(function(JA,iA){var _A=Oe(eA,JA,eA[JA]+b,ZA[iA],jA[iA],!1,cA);_A===!1?b=0:(b=_A-eA[JA],eA[JA]=_A)}):ZA=jA=[!0];var yA=!1;j.forEach(function(JA,iA){yA=dA(JA,K[JA]+b,ZA[iA],jA[iA],!1,cA)||yA}),yA&&(j.forEach(function(JA){DA("update",JA),DA("slide",JA)}),AA!=null&&DA("drag",wA))}function VA(_,b){return A.dir?100-_-b:_}function Qe(_,b){B[_]=b,d[_]=f.fromStepping(b);var K=VA(b,0)-H,j="translate("+RA(K+"%","0")+")";if(l[_].style[A.transformRule]=j,A.events.invertConnects&&B.length>1){var AA=B.every(function(eA,wA,cA){return wA===0||eA>=cA[wA-1]});if(E!==!AA){QA();return}}BA(_),BA(_+1),E&&(BA(_-1),BA(_+2))}function X(){w.forEach(function(_){var b=B[_]>50?-1:1,K=3+(l.length+b*_);l[_].style.zIndex=String(K)})}function dA(_,b,K,j,AA,eA){return AA||(b=Oe(B,_,b,K,j,!1,eA)),b===!1?!1:(Qe(_,b),!0)}function BA(_){if(c[_]){var b=B.slice();E&&b.sort(function(cA,ZA){return cA-ZA});var K=0,j=100;_!==0&&(K=b[_-1]),_!==c.length-1&&(j=b[_]);var AA=j-K,eA="translate("+RA(VA(K,AA)+"%","0")+")",wA="scale("+RA(AA/100,"1")+")";c[_].style[A.transformRule]=eA+" "+wA}}function se(_,b){return _===null||_===!1||_===void 0||(typeof _=="number"&&(_=String(_)),_=A.format.from(_),_!==!1&&(_=f.toStepping(_)),_===!1||isNaN(_))?B[b]:_}function WA(_,b,K){var j=kn(_),AA=B[0]===void 0;b=b===void 0?!0:b,A.animate&&!AA&&Ha(s,A.cssClasses.tap,A.animationDuration),w.forEach(function(cA){dA(cA,se(j[cA],cA),!0,!1,K)});var eA=w.length===1?0:1;if(AA&&f.hasNoSize()&&(K=!0,B[0]=0,w.length>1)){var wA=100/(w.length-1);w.forEach(function(cA){B[cA]=cA*wA})}for(;eA<w.length;++eA)w.forEach(function(cA){dA(cA,B[cA],!0,!0,K)});X(),w.forEach(function(cA){DA("update",cA),j[cA]!==null&&b&&DA("set",cA)})}function EA(_){WA(A.start,_)}function he(_,b,K,j){if(_=Number(_),!(_>=0&&_<w.length))throw new Error("noUiSlider: invalid handle number, got: "+_);dA(_,se(b,_),!0,!0,j),DA("update",_),K&&DA("set",_)}function vA(_){if(_===void 0&&(_=!1),_)return d.length===1?d[0]:d.slice(0);var b=d.map(A.format.to);return b.length===1?b[0]:b}function Ae(){for(ce(kt.aria),ce(kt.tooltips),Object.keys(A.cssClasses).forEach(function(_){Kn(s,A.cssClasses[_])});s.firstChild;)s.removeChild(s.firstChild);delete s.noUiSlider}function UA(_){var b=B[_],K=f.getNearbySteps(b),j=d[_],AA=K.thisStep.step,eA=null;if(A.snap)return[j-K.stepBefore.startValue||null,K.stepAfter.startValue-j||null];AA!==!1&&j+AA>K.stepAfter.startValue&&(AA=K.stepAfter.startValue-j),j>K.thisStep.startValue?eA=K.thisStep.step:K.stepBefore.step===!1?eA=!1:eA=j-K.stepBefore.highestStep,b===100?AA=null:b===0&&(eA=null);var wA=f.countStepDecimals();return AA!==null&&AA!==!1&&(AA=Number(AA.toFixed(wA))),eA!==null&&eA!==!1&&(eA=Number(eA.toFixed(wA))),[eA,AA]}function hA(){return w.map(UA)}function He(_,b){var K=vA(),j=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];j.forEach(function(eA){_[eA]!==void 0&&(t[eA]=_[eA])});var AA=Da(t);j.forEach(function(eA){_[eA]!==void 0&&(A[eA]=AA[eA])}),f=AA.spectrum,A.margin=AA.margin,A.limit=AA.limit,A.padding=AA.padding,A.pips?xA(A.pips):TA(),A.tooltips?W():N(),B=[],WA(hs(_.start)?_.start:K,b),_.connect&&Z()}function Z(){for(;a.firstChild;)a.removeChild(a.firstChild);for(var _=0;_<=A.handles;_++)c[_]=L(a,A.connect[_]),BA(_);$A({drag:A.events.drag,fixed:!0})}function QA(){E=!E,Ka(A,A.connect.map(function(_){return!_})),Z()}function CA(){o=M(s),x(A.connect,o),$A(A.events),WA(A.start),A.pips&&xA(A.pips),A.tooltips&&W(),J()}CA();var me={destroy:Ae,steps:hA,on:Be,off:ce,get:vA,set:WA,setHandle:he,reset:EA,disable:k,enable:z,__moveHandles:function(_,b,K){pe(_,b,B,K)},options:t,updateOptions:He,target:s,removePips:TA,removeTooltips:N,getPositions:function(){return B.slice()},getTooltips:function(){return u},getOrigins:function(){return l},pips:xA};return me}function Md(e,A){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var t=Da(A),r=Kd(e,t,A);return e.noUiSlider=r,r}const Dd={__spectrum:xa,cssClasses:ka,create:Md},Cb="",vb="";function Td(e){let A,t,r;return{c(){A=v("span"),t=aA(e[0]),m(A,"id",e[3]),m(A,"class",r="tooltip "+e[2]+" "+(e[1]?"display":"")+" svelte-1vbe6c4")},m(n,i){T(n,A,i),p(A,t)},p(n,[i]){i&1&&GA(t,n[0]),i&6&&r!==(r="tooltip "+n[2]+" "+(n[1]?"display":"")+" svelte-1vbe6c4")&&m(A,"class",r)},i:sA,o:sA,d(n){n&&D(A)}}}function Od(e,A,t){let r,n,i,s,{tooltipText:o}=A,{targetHtmlId:a}=A;const l=`tooltip-generic-${window.crypto.randomUUID()}`,c=()=>t(1,s=!0),g=()=>t(1,s=!1),u=()=>t(1,s=!s);return nr(()=>{i=a?document.getElementById(a):document.getElementById(l).parentElement,a&&!i&&(console.error(`TooltipGeneric: element with ID ${a} not found, defaulting to the parent element`),i=document.getElementById(l).targetElement),i.addEventListener("mouseover",c),i.addEventListener("mouseout",g),i.addEventListener("click",u)}),xr(()=>{i.removeEventListener("mouseover",c),i.removeEventListener("mouseout",g),i.removeEventListener("click",u)}),e.$$set=f=>{"tooltipText"in f&&t(0,o=f.tooltipText),"targetHtmlId"in f&&t(4,a=f.targetHtmlId)},e.$$.update=()=>{e.$$.dirty&33&&t(2,r=n(o))},t(5,n=f=>t(2,r=f.length>100?"tooltip-wide":f.length>20?"tooltip-mid":"tooltip-thin")),i=void 0,t(1,s=!1),[o,s,r,l,a,n]}class ms extends ne{constructor(A){super(),re(this,A,Od,Td,qA,{tooltipText:0,targetHtmlId:4})}}const Ub="";function Nd(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,d,B,w;return{c(){A=v("div"),t=v("span"),r=aA(e[2]),n=aA(" ("),i=aA(e[3]),s=aA(")"),o=O(),a=v("div"),l=v("span"),c=aA(e[0]),g=O(),u=v("div"),f=v("div"),d=O(),B=v("span"),w=aA(e[1]),m(l,"class","range-marker svelte-216mtn"),m(f,"class","slider"),m(f,"id",e[4]),m(u,"class","slider-wrapper svelte-216mtn"),m(B,"class","range-marker svelte-216mtn"),m(a,"class","slider-outer-wrapper is-flex flex-direction-row svelte-216mtn")},m(h,F){T(h,A,F),p(A,t),p(t,r),p(t,n),p(t,i),p(t,s),p(A,o),p(A,a),p(a,l),p(l,c),p(a,g),p(a,u),p(u,f),p(a,d),p(a,B),p(B,w)},p(h,[F]){F&4&&GA(r,h[2]),F&8&&GA(i,h[3]),F&1&&GA(c,h[0]),F&2&&GA(w,h[1])},i:sA,o:sA,d(h){h&&D(A)}}}function Rd(e,A,t){let r,{minVal:n}=A,{maxVal:i}=A,{start:s}=A,{step:o=void 0}=A,{roundTo:a=2}=A,{title:l=""}=A,{emitOnUpdate:c=!1}=A;const g=vn(),u=`slider-${window.crypto.randomUUID()}`,f=Array.isArray(s)&&s.length===2&&s.every(U=>!isNaN(parseFloat(U))),d=[],B=f?[`noUi-handle-${window.crypto.randomUUID()}`,`noUi-handle-${window.crypto.randomUUID()}`]:[`noUi-handle-${window.crypto.randomUUID()}`],w=_B();w.setCompareFn(f?bB:(U,I)=>F(U)===F(I)),w.set(s);const h=oa("resetTrigger")||void 0;h==null||h.subscribe(C);const F=U=>Number(U.toFixed(a)),E=(U,I)=>{U=Array.isArray(U)?U.map(F):F(U),t(3,r=U),(I==="set"||I==="update"&&c)&&(w.set(U),w.same()||g("updateSlider",w.get()))};function Q(U){d.length&&d.map((I,L)=>I.$set({tooltipText:f?U[L]:U}))}function C(){const U=document.getElementById(u);U!=null&&U.noUiSlider&&U.noUiSlider.reset()}function y(){const U=document.getElementById(u);let I;Dd.create(U,{start:s,step:o,connect:f?!0:"lower",range:{min:n,max:i},handleAttributes:B.map(L=>({id:L}))}),U.noUiSlider.on("update",()=>{I=U.noUiSlider.get(!0),E(I,"update")}),U.noUiSlider.on("set",()=>{I=U.noUiSlider.get(!0),E(I,"set")})}function H(){B.map((U,I)=>{d.push(new ms({target:document.getElementById(U),props:f?{tooltipText:r[I]}:{tooltipText:r}}))})}return nr(()=>{y(),H()}),xr(()=>{document.getElementById(u)&&(document.getElementById(u).innerHTML="")}),e.$$set=U=>{"minVal"in U&&t(0,n=U.minVal),"maxVal"in U&&t(1,i=U.maxVal),"start"in U&&t(5,s=U.start),"step"in U&&t(6,o=U.step),"roundTo"in U&&t(7,a=U.roundTo),"title"in U&&t(2,l=U.title),"emitOnUpdate"in U&&t(8,c=U.emitOnUpdate)},e.$$.update=()=>{e.$$.dirty&32&&t(3,r=s),e.$$.dirty&8&&Q(r)},[n,i,l,r,u,s,o,a,c]}class Ta extends ne{constructor(A){super(),re(this,A,Rd,Nd,qA,{minVal:0,maxVal:1,start:5,step:6,roundTo:7,title:2,emitOnUpdate:8})}}const Vd=e=>({}),Oa=e=>({});function Na(e,A,t){const r=e.slice();return r[44]=A[t],r}function Ra(e,A,t){const r=e.slice();return r[47]=A[t],r}function Va(e,A,t){const r=e.slice();return r[44]=A[t],r}function Ga(e,A,t){const r=e.slice();r[52]=A[t];const n=Object.keys(r[28][r[52]]||{});return r[53]=n,r}function Pa(e){var He;let A,t,r,n=((He=e[0])==null?void 0:He.title)+"",i,s,o,a,l,c,g,u,f,d=(e[3].pairs||0)+"",B,w,h,F,E,Q,C,y=(e[3].images||0)+"",H,U,I,L,x,M,V,S=(e[4]||0)+"",P,k,z,N,W,J,nA,fA,pA,SA,TA,xA,FA,$,oA,tA,G,q,gA,OA,zA,bA,KA,MA,$A,Be,Se,ce,DA,Oe,RA,pe=["Series","Witness","Work"],VA=[];for(let Z=0;Z<3;Z+=1)VA[Z]=Xa(Ga(e,pe,Z));W=new jB({props:{documentNodes:e[5],selectedRegions:e[6],toggleRegion:e[18],selectAllRegions:e[17]}});let Qe=["all","filtered"],X=[];for(let Z=0;Z<2;Z+=1)X[Z]=Ja(Va(e,Qe,Z));let dA=e[29],BA=[];for(let Z=0;Z<dA.length;Z+=1)BA[Z]=Wa(Ra(e,dA,Z));const se=Z=>Y(BA[Z],1,1,()=>{BA[Z]=null});let WA=["threshold","topk"],EA=[];for(let Z=0;Z<2;Z+=1)EA[Z]=Ya(Na(e,WA,Z));const he=[Xd,Pd],vA=[];function Ae(Z,QA){return Z[7]==="threshold"?0:1}KA=Ae(e),MA=vA[KA]=he[KA](e);const UA=e[35].datavizInfo,hA=Ne(UA,e,e[34],Oa);return{c(){A=v("div"),t=v("div"),r=v("h1"),i=aA(n),s=O(),o=v("div");for(let Z=0;Z<3;Z+=1)VA[Z].c();a=O(),l=v("div"),c=v("div"),g=v("p"),g.textContent=`${rA==="en"?"Pairs":"Paires"}`,u=O(),f=v("p"),B=aA(d),w=O(),h=v("div"),F=v("div"),E=v("p"),E.textContent="Images",Q=O(),C=v("p"),H=aA(y),U=O(),I=v("div"),L=v("div"),x=v("p"),x.textContent="Clusters",M=O(),V=v("p"),P=aA(S),k=O(),z=v("hr"),N=O(),kA(W.$$.fragment),J=O(),nA=v("hr"),fA=O(),pA=v("div"),SA=v("h3"),SA.textContent=`${rA==="en"?"Similarity categories":"Catégories de similarité"}`,TA=O(),xA=v("div");for(let Z=0;Z<2;Z+=1)X[Z].c();FA=O(),$=v("div");for(let Z=0;Z<BA.length;Z+=1)BA[Z].c();oA=O(),tA=v("hr"),G=O(),q=v("div"),gA=v("h3"),gA.textContent=`${rA==="en"?"Similarity score":"Score de similarité"}`,OA=O(),zA=v("div");for(let Z=0;Z<2;Z+=1)EA[Z].c();bA=O(),MA.c(),$A=O(),Be=v("hr"),Se=O(),ce=v("div"),DA=v("h3"),DA.textContent=`${rA==="en"?"Visualisation information":"Informations sur la visualisation"}`,Oe=O(),hA&&hA.c(),m(r,"class","title"),m(g,"class","heading"),m(f,"class","title is-5"),m(l,"class","level-item has-text-centered"),m(E,"class","heading"),m(C,"class","title is-5"),m(h,"class","level-item has-text-centered"),m(x,"class","heading"),m(V,"class","title is-5"),m(I,"class","level-item has-text-centered"),m(o,"class","level"),m(t,"class","pb-2"),m(SA,"class","title"),m(xA,"class","buttons mb-3"),m($,"class","level"),fe($,"is-disabled",e[1]==="all"),m(pA,"class","pt-2"),m(gA,"class","title"),m(zA,"class","buttons mb-3"),m(q,"class","pt-2"),m(DA,"class","title"),m(ce,"class","py-2"),m(A,"class","content is-small mt-4")},m(Z,QA){T(Z,A,QA),p(A,t),p(t,r),p(r,i),p(t,s),p(t,o);for(let CA=0;CA<3;CA+=1)VA[CA]&&VA[CA].m(o,null);p(o,a),p(o,l),p(l,c),p(c,g),p(c,u),p(c,f),p(f,B),p(o,w),p(o,h),p(h,F),p(F,E),p(F,Q),p(F,C),p(C,H),p(o,U),p(o,I),p(I,L),p(L,x),p(L,M),p(L,V),p(V,P),p(A,k),p(A,z),p(A,N),HA(W,A,null),p(A,J),p(A,nA),p(A,fA),p(A,pA),p(pA,SA),p(pA,TA),p(pA,xA);for(let CA=0;CA<2;CA+=1)X[CA]&&X[CA].m(xA,null);p(pA,FA),p(pA,$);for(let CA=0;CA<BA.length;CA+=1)BA[CA]&&BA[CA].m($,null);p(A,oA),p(A,tA),p(A,G),p(A,q),p(q,gA),p(q,OA),p(q,zA);for(let CA=0;CA<2;CA+=1)EA[CA]&&EA[CA].m(zA,null);p(q,bA),vA[KA].m(q,null),p(A,$A),p(A,Be),p(A,Se),p(A,ce),p(ce,DA),p(ce,Oe),hA&&hA.m(ce,null),RA=!0},p(Z,QA){var _;if((!RA||QA[0]&1)&&n!==(n=((_=Z[0])==null?void 0:_.title)+"")&&GA(i,n),QA[0]&268435456){pe=["Series","Witness","Work"];let b;for(b=0;b<3;b+=1){const K=Ga(Z,pe,b);VA[b]?VA[b].p(K,QA):(VA[b]=Xa(K),VA[b].c(),VA[b].m(o,a))}for(;b<3;b+=1)VA[b].d(1)}(!RA||QA[0]&8)&&d!==(d=(Z[3].pairs||0)+"")&&GA(B,d),(!RA||QA[0]&8)&&y!==(y=(Z[3].images||0)+"")&&GA(H,y),(!RA||QA[0]&16)&&S!==(S=(Z[4]||0)+"")&&GA(P,S);const CA={};if(QA[0]&32&&(CA.documentNodes=Z[5]),QA[0]&64&&(CA.selectedRegions=Z[6]),W.$set(CA),QA[0]&1073741826){Qe=["all","filtered"];let b;for(b=0;b<2;b+=1){const K=Va(Z,Qe,b);X[b]?X[b].p(K,QA):(X[b]=Ja(K),X[b].c(),X[b].m(xA,null))}for(;b<2;b+=1)X[b].d(1)}if(QA[0]&536903694){dA=Z[29];let b;for(b=0;b<dA.length;b+=1){const K=Ra(Z,dA,b);BA[b]?(BA[b].p(K,QA),R(BA[b],1)):(BA[b]=Wa(K),BA[b].c(),R(BA[b],1),BA[b].m($,null))}for(ee(),b=dA.length;b<BA.length;b+=1)se(b);te()}if((!RA||QA[0]&2)&&fe($,"is-disabled",Z[1]==="all"),QA[0]&128|QA[1]&1){WA=["threshold","topk"];let b;for(b=0;b<2;b+=1){const K=Na(Z,WA,b);EA[b]?EA[b].p(K,QA):(EA[b]=Ya(K),EA[b].c(),EA[b].m(zA,null))}for(;b<2;b+=1)EA[b].d(1)}let me=KA;KA=Ae(Z),KA===me?vA[KA].p(Z,QA):(ee(),Y(vA[me],1,1,()=>{vA[me]=null}),te(),MA=vA[KA],MA?MA.p(Z,QA):(MA=vA[KA]=he[KA](Z),MA.c()),R(MA,1),MA.m(q,null)),hA&&hA.p&&(!RA||QA[1]&8)&&Ve(hA,UA,Z,Z[34],RA?Re(UA,Z[34],QA,Vd):Ge(Z[34]),Oa)},i(Z){if(!RA){R(W.$$.fragment,Z);for(let QA=0;QA<dA.length;QA+=1)R(BA[QA]);R(MA),R(hA,Z),RA=!0}},o(Z){Y(W.$$.fragment,Z),BA=BA.filter(Boolean);for(let QA=0;QA<BA.length;QA+=1)Y(BA[QA]);Y(MA),Y(hA,Z),RA=!1},d(Z){Z&&D(A),xe(VA,Z),IA(W),xe(X,Z),xe(BA,Z),xe(EA,Z),vA[KA].d(),hA&&hA.d(Z)}}}function Gd(e){let A,t,r,n=In[e[52]]+"",i,s,o,a=(e[53].length||0)+"",l;return{c(){A=v("div"),t=v("div"),r=v("p"),i=aA(n),s=O(),o=v("p"),l=aA(a),m(r,"class","heading"),m(o,"class","title is-5"),m(A,"class","level-item has-text-centered")},m(c,g){T(c,A,g),p(A,t),p(t,r),p(r,i),p(t,s),p(t,o),p(o,l)},p:sA,d(c){c&&D(A)}}}function Xa(e){let A,t=e[53].length>0&&Gd(e);return{c(){t&&t.c(),A=Ke()},m(r,n){t&&t.m(r,n),T(r,A,n)},p(r,n){r[53].length>0&&t.p(r,n)},d(r){t&&t.d(r),r&&D(A)}}}function Ja(e){let A,t=e[44]==="all"?rA==="en"?"All pairs":"Toutes les paires":rA==="en"?"Filter by category":"Filtrer par catégorie",r,n,i,s;function o(){return e[36](e[44])}return{c(){A=v("button"),r=aA(t),n=O(),m(A,"class","button is-small is-flex-grow-1"),fe(A,"is-link",e[1]===e[44]),fe(A,"is-contrasted",e[1]!==e[44])},m(a,l){T(a,A,l),p(A,r),p(A,n),i||(s=mA(A,"click",o),i=!0)},p(a,l){e=a,l[0]&2&&fe(A,"is-link",e[1]===e[44]),l[0]&2&&fe(A,"is-contrasted",e[1]!==e[44])},d(a){a&&D(A),i=!1,s()}}}function Wa(e){let A,t,r,n,i,s=(e[3].categories[e[47]]||0)+"",o,a,l;return r=new XB({props:{category:e[47],isSelected:e[2].includes(e[47]),toggle:e[37],selectable:e[1]==="filtered"}}),{c(){A=v("div"),t=v("div"),kA(r.$$.fragment),n=O(),i=v("p"),o=aA(s),a=O(),m(i,"class","is-size-7 mt-1"),m(A,"class","level-item has-text-centered")},m(c,g){T(c,A,g),p(A,t),HA(r,t,null),p(t,n),p(t,i),p(i,o),p(A,a),l=!0},p(c,g){const u={};g[0]&4&&(u.isSelected=c[2].includes(c[47])),g[0]&2&&(u.toggle=c[37]),g[0]&2&&(u.selectable=c[1]==="filtered"),r.$set(u),(!l||g[0]&8)&&s!==(s=(c[3].categories[c[47]]||0)+"")&&GA(o,s)},i(c){l||(R(r.$$.fragment,c),l=!0)},o(c){Y(r.$$.fragment,c),l=!1},d(c){c&&D(A),IA(r)}}}function Ya(e){let A,t=e[44]==="threshold"?rA==="en"?"Score threshold":"Seuil de score":rA==="en"?"Top K pairs":"Top K paires",r,n,i,s;function o(){return e[38](e[44])}return{c(){A=v("button"),r=aA(t),n=O(),m(A,"class","button is-small is-flex-grow-1"),fe(A,"is-link",e[7]===e[44]),fe(A,"is-contrasted",e[7]!==e[44])},m(a,l){T(a,A,l),p(A,r),p(A,n),i||(s=mA(A,"click",o),i=!0)},p(a,l){e=a,l[0]&128&&fe(A,"is-link",e[7]===e[44]),l[0]&128&&fe(A,"is-contrasted",e[7]!==e[44])},d(a){a&&D(A),i=!1,s()}}}function Pd(e){let A,t,r,n,i,s,o,a,l,c,g,u;return r=new Ta({props:{minVal:1,maxVal:5,start:e[10]||3,step:1,roundTo:0,title:"K"}}),r.$on("updateSlider",e[40]),{c(){A=v("div"),t=v("div"),kA(r.$$.fragment),n=O(),i=v("div"),s=v("label"),o=v("input"),a=O(),l=v("span"),l.textContent=`${rA==="en"?"Mutual top K":"Top K mutuel"}`,m(t,"class","column is-two-thirds pl-4"),o.checked=e[11],m(o,"type","checkbox"),m(o,"class","mr-2"),m(l,"class","is-size-7"),m(s,"class","checkbox mt-3 is-flex is-align-items-center"),m(i,"class","column mt-2"),m(A,"class","columns mt-2")},m(f,d){T(f,A,d),p(A,t),HA(r,t,null),p(A,n),p(A,i),p(i,s),p(s,o),p(s,a),p(s,l),c=!0,g||(u=mA(o,"change",e[41]),g=!0)},p(f,d){const B={};d[0]&1024&&(B.start=f[10]||3),r.$set(B),(!c||d[0]&2048)&&(o.checked=f[11])},i(f){c||(R(r.$$.fragment,f),c=!0)},o(f){Y(r.$$.fragment,f),c=!1},d(f){f&&D(A),IA(r),g=!1,u()}}}function Xd(e){var r,n;let A,t;return A=new Ta({props:{minVal:((r=e[8].scoreRange)==null?void 0:r.min)||0,maxVal:((n=e[8].scoreRange)==null?void 0:n.max)||1,start:e[9],step:.01,roundTo:2,title:rA==="en"?"Minimum score":"Score minimum"}}),A.$on("updateSlider",e[39]),{c(){kA(A.$$.fragment)},m(i,s){HA(A,i,s),t=!0},p(i,s){var a,l;const o={};s[0]&256&&(o.minVal=((a=i[8].scoreRange)==null?void 0:a.min)||0),s[0]&256&&(o.maxVal=((l=i[8].scoreRange)==null?void 0:l.max)||1),s[0]&512&&(o.start=i[9]),A.$set(o)},i(i){t||(R(A.$$.fragment,i),t=!0)},o(i){Y(A.$$.fragment,i),t=!1},d(i){IA(A,i)}}}function Jd(e){let A,t,r=e[3]&&Pa(e);return{c(){A=v("div"),r&&r.c(),m(A,"class","m-4 py-5 px-4")},m(n,i){T(n,A,i),r&&r.m(A,null),t=!0},p(n,i){n[3]?r?(r.p(n,i),i[0]&8&&R(r,1)):(r=Pa(n),r.c(),R(r,1),r.m(A,null)):r&&(ee(),Y(r,1,1,()=>{r=null}),te())},i(n){t||(R(r),t=!0)},o(n){Y(r),t=!1},d(n){n&&D(A),r&&r.d()}}}function Wd(e,A,t){let r,n,i,s,o,a,l,c,g,u,{$$slots:f={},$$scope:d}=A,{docSet:B=null}=A,{documentSetStore:w}=A,{clusterStore:h}=A;const{docSetNumber:F,documentNodes:E,selectedCategories:Q,toggleCategory:C,selectedRegions:y,selectAllRegions:H,toggleRegion:U,threshold:I,setThreshold:L,topK:x,setTopK:M,mutualTopK:V,setMutualTopK:S,scoreMode:P,setScoreMode:k,pairStats:z}=w;NA(e,F,G=>t(3,n=G)),NA(e,E,G=>t(5,s=G)),NA(e,Q,G=>t(2,r=G)),NA(e,y,G=>t(6,o=G)),NA(e,I,G=>t(9,c=G)),NA(e,x,G=>t(10,g=G)),NA(e,V,G=>t(11,u=G)),NA(e,P,G=>t(7,a=G)),NA(e,z,G=>t(8,l=G));const{clusterNb:N,handlePageUpdate:W}=h;NA(e,N,G=>t(4,i=G));const J=oa("selectedDocuments"),nA=[0,1,2,3,5];let fA="filtered";function pA(G){t(1,fA=G),G==="all"&&r.length!==nA.length&&Q.set(nA)}function SA(G){W(1),k(G)}const TA=G=>pA(G),xA=G=>fA==="filtered"?C(G):null,FA=G=>SA(G),$=G=>L(G.detail),oA=G=>M(G.detail),tA=()=>S(!u);return e.$$set=G=>{"docSet"in G&&t(0,B=G.docSet),"documentSetStore"in G&&t(32,w=G.documentSetStore),"clusterStore"in G&&t(33,h=G.clusterStore),"$$scope"in G&&t(34,d=G.$$scope)},[B,fA,r,n,i,s,o,a,l,c,g,u,F,E,Q,C,y,H,U,I,L,x,M,V,S,P,z,N,J,nA,pA,SA,w,h,d,f,TA,xA,FA,$,oA,tA]}class Yd extends ne{constructor(A){super(),re(this,A,Wd,Jd,qA,{docSet:0,documentSetStore:32,clusterStore:33},null,[-1,-1])}}function Mn(e,A){return e==null||A==null?NaN:e<A?-1:e>A?1:e>=A?0:NaN}function zd(e,A){return e==null||A==null?NaN:A<e?-1:A>e?1:A>=e?0:NaN}function za(e){let A,t,r;e.length!==2?(A=Mn,t=(o,a)=>Mn(e(o),a),r=(o,a)=>e(o)-a):(A=e===Mn||e===zd?e:$d,t=e,r=e);function n(o,a,l=0,c=o.length){if(l<c){if(A(a,a)!==0)return c;do{const g=l+c>>>1;t(o[g],a)<0?l=g+1:c=g}while(l<c)}return l}function i(o,a,l=0,c=o.length){if(l<c){if(A(a,a)!==0)return c;do{const g=l+c>>>1;t(o[g],a)<=0?l=g+1:c=g}while(l<c)}return l}function s(o,a,l=0,c=o.length){const g=n(o,a,l,c-1);return g>l&&r(o[g-1],a)>-r(o[g],a)?g-1:g}return{left:n,center:s,right:i}}function $d(){return 0}function Zd(e){return e===null?NaN:+e}const jd=za(Mn).right;za(Zd).center;const qd=jd;class $a extends Map{constructor(A,t=th){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),A!=null)for(const[r,n]of A)this.set(r,n)}get(A){return super.get(Za(this,A))}has(A){return super.has(Za(this,A))}set(A,t){return super.set(Ah(this,A),t)}delete(A){return super.delete(eh(this,A))}}function Za({_intern:e,_key:A},t){const r=A(t);return e.has(r)?e.get(r):t}function Ah({_intern:e,_key:A},t){const r=A(t);return e.has(r)?e.get(r):(e.set(r,t),t)}function eh({_intern:e,_key:A},t){const r=A(t);return e.has(r)&&(t=e.get(r),e.delete(r)),t}function th(e){return e!==null&&typeof e=="object"?e.valueOf():e}const rh=Math.sqrt(50),nh=Math.sqrt(10),ih=Math.sqrt(2);function Dn(e,A,t){const r=(A-e)/Math.max(0,t),n=Math.floor(Math.log10(r)),i=r/Math.pow(10,n),s=i>=rh?10:i>=nh?5:i>=ih?2:1;let o,a,l;return n<0?(l=Math.pow(10,-n)/s,o=Math.round(e*l),a=Math.round(A*l),o/l<e&&++o,a/l>A&&--a,l=-l):(l=Math.pow(10,n)*s,o=Math.round(e/l),a=Math.round(A/l),o*l<e&&++o,a*l>A&&--a),a<o&&.5<=t&&t<2?Dn(e,A,t*2):[o,a,l]}function sh(e,A,t){if(A=+A,e=+e,t=+t,!(t>0))return[];if(e===A)return[e];const r=A<e,[n,i,s]=r?Dn(A,e,t):Dn(e,A,t);if(!(i>=n))return[];const o=i-n+1,a=new Array(o);if(r)if(s<0)for(let l=0;l<o;++l)a[l]=(i-l)/-s;else for(let l=0;l<o;++l)a[l]=(i-l)*s;else if(s<0)for(let l=0;l<o;++l)a[l]=(n+l)/-s;else for(let l=0;l<o;++l)a[l]=(n+l)*s;return a}function Qs(e,A,t){return A=+A,e=+e,t=+t,Dn(e,A,t)[2]}function oh(e,A,t){A=+A,e=+e,t=+t;const r=A<e,n=r?Qs(A,e,t):Qs(e,A,t);return(r?-1:1)*(n<0?1/-n:n)}function Tn(e,A,t){e=+e,A=+A,t=(n=arguments.length)<2?(A=e,e=0,1):n<3?1:+t;for(var r=-1,n=Math.max(0,Math.ceil((A-e)/t))|0,i=new Array(n);++r<n;)i[r]=e+r*t;return i}function ah(e){return e}var On=1,Cs=2,ja=3,Kr=4,qa=1e-6;function lh(e){return"translate("+e+",0)"}function ch(e){return"translate(0,"+e+")"}function uh(e){return A=>+e(A)}function fh(e,A){return A=Math.max(0,e.bandwidth()-A*2)/2,e.round()&&(A=Math.round(A)),t=>+e(t)+A}function gh(){return!this.__axis}function Al(e,A){var t=[],r=null,n=null,i=6,s=6,o=3,a=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===On||e===Kr?-1:1,c=e===Kr||e===Cs?"x":"y",g=e===On||e===ja?lh:ch;function u(f){var d=r??(A.ticks?A.ticks.apply(A,t):A.domain()),B=n??(A.tickFormat?A.tickFormat.apply(A,t):ah),w=Math.max(i,0)+o,h=A.range(),F=+h[0]+a,E=+h[h.length-1]+a,Q=(A.bandwidth?fh:uh)(A.copy(),a),C=f.selection?f.selection():f,y=C.selectAll(".domain").data([null]),H=C.selectAll(".tick").data(d,A).order(),U=H.exit(),I=H.enter().append("g").attr("class","tick"),L=H.select("line"),x=H.select("text");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),H=H.merge(I),L=L.merge(I.append("line").attr("stroke","currentColor").attr(c+"2",l*i)),x=x.merge(I.append("text").attr("fill","currentColor").attr(c,l*w).attr("dy",e===On?"0em":e===ja?"0.71em":"0.32em")),f!==C&&(y=y.transition(f),H=H.transition(f),L=L.transition(f),x=x.transition(f),U=U.transition(f).attr("opacity",qa).attr("transform",function(M){return isFinite(M=Q(M))?g(M+a):this.getAttribute("transform")}),I.attr("opacity",qa).attr("transform",function(M){var V=this.parentNode.__axis;return g((V&&isFinite(V=V(M))?V:Q(M))+a)})),U.remove(),y.attr("d",e===Kr||e===Cs?s?"M"+l*s+","+F+"H"+a+"V"+E+"H"+l*s:"M"+a+","+F+"V"+E:s?"M"+F+","+l*s+"V"+a+"H"+E+"V"+l*s:"M"+F+","+a+"H"+E),H.attr("opacity",1).attr("transform",function(M){return g(Q(M)+a)}),L.attr(c+"2",l*i),x.attr(c,l*w).text(B),C.filter(gh).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Cs?"start":e===Kr?"end":"middle"),C.each(function(){this.__axis=Q})}return u.scale=function(f){return arguments.length?(A=f,u):A},u.ticks=function(){return t=Array.from(arguments),u},u.tickArguments=function(f){return arguments.length?(t=f==null?[]:Array.from(f),u):t.slice()},u.tickValues=function(f){return arguments.length?(r=f==null?null:Array.from(f),u):r&&r.slice()},u.tickFormat=function(f){return arguments.length?(n=f,u):n},u.tickSize=function(f){return arguments.length?(i=s=+f,u):i},u.tickSizeInner=function(f){return arguments.length?(i=+f,u):i},u.tickSizeOuter=function(f){return arguments.length?(s=+f,u):s},u.tickPadding=function(f){return arguments.length?(o=+f,u):o},u.offset=function(f){return arguments.length?(a=+f,u):a},u}function el(e){return Al(On,e)}function tl(e){return Al(Kr,e)}var Bh={value:()=>{}};function Mr(){for(var e=0,A=arguments.length,t={},r;e<A;++e){if(!(r=arguments[e]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new Nn(t)}function Nn(e){this._=e}function dh(e,A){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!A.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}Nn.prototype=Mr.prototype={constructor:Nn,on:function(e,A){var t=this._,r=dh(e+"",t),n,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((n=(e=r[i]).type)&&(n=hh(t[n],e.name)))return n;return}if(A!=null&&typeof A!="function")throw new Error("invalid callback: "+A);for(;++i<s;)if(n=(e=r[i]).type)t[n]=rl(t[n],e.name,A);else if(A==null)for(n in t)t[n]=rl(t[n],e.name,null);return this},copy:function(){var e={},A=this._;for(var t in A)e[t]=A[t].slice();return new Nn(e)},call:function(e,A){if((n=arguments.length-2)>0)for(var t=new Array(n),r=0,n,i;r<n;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,n=i.length;r<n;++r)i[r].value.apply(A,t)},apply:function(e,A,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],n=0,i=r.length;n<i;++n)r[n].value.apply(A,t)}};function hh(e,A){for(var t=0,r=e.length,n;t<r;++t)if((n=e[t]).name===A)return n.value}function rl(e,A,t){for(var r=0,n=e.length;r<n;++r)if(e[r].name===A){e[r]=Bh,e=e.slice(0,r).concat(e.slice(r+1));break}return t!=null&&e.push({name:A,value:t}),e}var vs="http://www.w3.org/1999/xhtml";const nl={svg:"http://www.w3.org/2000/svg",xhtml:vs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Rn(e){var A=e+="",t=A.indexOf(":");return t>=0&&(A=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),nl.hasOwnProperty(A)?{space:nl[A],local:e}:e}function wh(e){return function(){var A=this.ownerDocument,t=this.namespaceURI;return t===vs&&A.documentElement.namespaceURI===vs?A.createElement(e):A.createElementNS(t,e)}}function ph(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function il(e){var A=Rn(e);return(A.local?ph:wh)(A)}function mh(){}function Us(e){return e==null?mh:function(){return this.querySelector(e)}}function Qh(e){typeof e!="function"&&(e=Us(e));for(var A=this._groups,t=A.length,r=new Array(t),n=0;n<t;++n)for(var i=A[n],s=i.length,o=r[n]=new Array(s),a,l,c=0;c<s;++c)(a=i[c])&&(l=e.call(a,a.__data__,c,i))&&("__data__"in a&&(l.__data__=a.__data__),o[c]=l);return new Ze(r,this._parents)}function Ch(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function vh(){return[]}function sl(e){return e==null?vh:function(){return this.querySelectorAll(e)}}function Uh(e){return function(){return Ch(e.apply(this,arguments))}}function Fh(e){typeof e=="function"?e=Uh(e):e=sl(e);for(var A=this._groups,t=A.length,r=[],n=[],i=0;i<t;++i)for(var s=A[i],o=s.length,a,l=0;l<o;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),n.push(a));return new Ze(r,n)}function ol(e){return function(){return this.matches(e)}}function al(e){return function(A){return A.matches(e)}}var yh=Array.prototype.find;function _h(e){return function(){return yh.call(this.children,e)}}function bh(){return this.firstElementChild}function Eh(e){return this.select(e==null?bh:_h(typeof e=="function"?e:al(e)))}var Hh=Array.prototype.filter;function Ih(){return Array.from(this.children)}function Sh(e){return function(){return Hh.call(this.children,e)}}function xh(e){return this.selectAll(e==null?Ih:Sh(typeof e=="function"?e:al(e)))}function Lh(e){typeof e!="function"&&(e=ol(e));for(var A=this._groups,t=A.length,r=new Array(t),n=0;n<t;++n)for(var i=A[n],s=i.length,o=r[n]=[],a,l=0;l<s;++l)(a=i[l])&&e.call(a,a.__data__,l,i)&&o.push(a);return new Ze(r,this._parents)}function ll(e){return new Array(e.length)}function kh(){return new Ze(this._enter||this._groups.map(ll),this._parents)}function Vn(e,A){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=A}Vn.prototype={constructor:Vn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,A){return this._parent.insertBefore(e,A)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Kh(e){return function(){return e}}function Mh(e,A,t,r,n,i){for(var s=0,o,a=A.length,l=i.length;s<l;++s)(o=A[s])?(o.__data__=i[s],r[s]=o):t[s]=new Vn(e,i[s]);for(;s<a;++s)(o=A[s])&&(n[s]=o)}function Dh(e,A,t,r,n,i,s){var o,a,l=new Map,c=A.length,g=i.length,u=new Array(c),f;for(o=0;o<c;++o)(a=A[o])&&(u[o]=f=s.call(a,a.__data__,o,A)+"",l.has(f)?n[o]=a:l.set(f,a));for(o=0;o<g;++o)f=s.call(e,i[o],o,i)+"",(a=l.get(f))?(r[o]=a,a.__data__=i[o],l.delete(f)):t[o]=new Vn(e,i[o]);for(o=0;o<c;++o)(a=A[o])&&l.get(u[o])===a&&(n[o]=a)}function Th(e){return e.__data__}function Oh(e,A){if(!arguments.length)return Array.from(this,Th);var t=A?Dh:Mh,r=this._parents,n=this._groups;typeof e!="function"&&(e=Kh(e));for(var i=n.length,s=new Array(i),o=new Array(i),a=new Array(i),l=0;l<i;++l){var c=r[l],g=n[l],u=g.length,f=Nh(e.call(c,c&&c.__data__,l,r)),d=f.length,B=o[l]=new Array(d),w=s[l]=new Array(d),h=a[l]=new Array(u);t(c,g,B,w,h,f,A);for(var F=0,E=0,Q,C;F<d;++F)if(Q=B[F]){for(F>=E&&(E=F+1);!(C=w[E])&&++E<d;);Q._next=C||null}}return s=new Ze(s,r),s._enter=o,s._exit=a,s}function Nh(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Rh(){return new Ze(this._exit||this._groups.map(ll),this._parents)}function Vh(e,A,t){var r=this.enter(),n=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),A!=null&&(n=A(n),n&&(n=n.selection())),t==null?i.remove():t(i),r&&n?r.merge(n).order():n}function Gh(e){for(var A=e.selection?e.selection():e,t=this._groups,r=A._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),a=0;a<s;++a)for(var l=t[a],c=r[a],g=l.length,u=o[a]=new Array(g),f,d=0;d<g;++d)(f=l[d]||c[d])&&(u[d]=f);for(;a<n;++a)o[a]=t[a];return new Ze(o,this._parents)}function Ph(){for(var e=this._groups,A=-1,t=e.length;++A<t;)for(var r=e[A],n=r.length-1,i=r[n],s;--n>=0;)(s=r[n])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function Xh(e){e||(e=Jh);function A(g,u){return g&&u?e(g.__data__,u.__data__):!g-!u}for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i){for(var s=t[i],o=s.length,a=n[i]=new Array(o),l,c=0;c<o;++c)(l=s[c])&&(a[c]=l);a.sort(A)}return new Ze(n,this._parents).order()}function Jh(e,A){return e<A?-1:e>A?1:e>=A?0:NaN}function Wh(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Yh(){return Array.from(this)}function zh(){for(var e=this._groups,A=0,t=e.length;A<t;++A)for(var r=e[A],n=0,i=r.length;n<i;++n){var s=r[n];if(s)return s}return null}function $h(){let e=0;for(const A of this)++e;return e}function Zh(){return!this.node()}function jh(e){for(var A=this._groups,t=0,r=A.length;t<r;++t)for(var n=A[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&e.call(o,o.__data__,i,n);return this}function qh(e){return function(){this.removeAttribute(e)}}function Aw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ew(e,A){return function(){this.setAttribute(e,A)}}function tw(e,A){return function(){this.setAttributeNS(e.space,e.local,A)}}function rw(e,A){return function(){var t=A.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}function nw(e,A){return function(){var t=A.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function iw(e,A){var t=Rn(e);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((A==null?t.local?Aw:qh:typeof A=="function"?t.local?nw:rw:t.local?tw:ew)(t,A))}function cl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function sw(e){return function(){this.style.removeProperty(e)}}function ow(e,A,t){return function(){this.style.setProperty(e,A,t)}}function aw(e,A,t){return function(){var r=A.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,t)}}function lw(e,A,t){return arguments.length>1?this.each((A==null?sw:typeof A=="function"?aw:ow)(e,A,t??"")):fr(this.node(),e)}function fr(e,A){return e.style.getPropertyValue(A)||cl(e).getComputedStyle(e,null).getPropertyValue(A)}function cw(e){return function(){delete this[e]}}function uw(e,A){return function(){this[e]=A}}function fw(e,A){return function(){var t=A.apply(this,arguments);t==null?delete this[e]:this[e]=t}}function gw(e,A){return arguments.length>1?this.each((A==null?cw:typeof A=="function"?fw:uw)(e,A)):this.node()[e]}function ul(e){return e.trim().split(/^|\s+/)}function Fs(e){return e.classList||new fl(e)}function fl(e){this._node=e,this._names=ul(e.getAttribute("class")||"")}fl.prototype={add:function(e){var A=this._names.indexOf(e);A<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var A=this._names.indexOf(e);A>=0&&(this._names.splice(A,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function gl(e,A){for(var t=Fs(e),r=-1,n=A.length;++r<n;)t.add(A[r])}function Bl(e,A){for(var t=Fs(e),r=-1,n=A.length;++r<n;)t.remove(A[r])}function Bw(e){return function(){gl(this,e)}}function dw(e){return function(){Bl(this,e)}}function hw(e,A){return function(){(A.apply(this,arguments)?gl:Bl)(this,e)}}function ww(e,A){var t=ul(e+"");if(arguments.length<2){for(var r=Fs(this.node()),n=-1,i=t.length;++n<i;)if(!r.contains(t[n]))return!1;return!0}return this.each((typeof A=="function"?hw:A?Bw:dw)(t,A))}function pw(){this.textContent=""}function mw(e){return function(){this.textContent=e}}function Qw(e){return function(){var A=e.apply(this,arguments);this.textContent=A??""}}function Cw(e){return arguments.length?this.each(e==null?pw:(typeof e=="function"?Qw:mw)(e)):this.node().textContent}function vw(){this.innerHTML=""}function Uw(e){return function(){this.innerHTML=e}}function Fw(e){return function(){var A=e.apply(this,arguments);this.innerHTML=A??""}}function yw(e){return arguments.length?this.each(e==null?vw:(typeof e=="function"?Fw:Uw)(e)):this.node().innerHTML}function _w(){this.nextSibling&&this.parentNode.appendChild(this)}function bw(){return this.each(_w)}function Ew(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hw(){return this.each(Ew)}function Iw(e){var A=typeof e=="function"?e:il(e);return this.select(function(){return this.appendChild(A.apply(this,arguments))})}function Sw(){return null}function xw(e,A){var t=typeof e=="function"?e:il(e),r=A==null?Sw:typeof A=="function"?A:Us(A);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function Lw(){var e=this.parentNode;e&&e.removeChild(this)}function kw(){return this.each(Lw)}function Kw(){var e=this.cloneNode(!1),A=this.parentNode;return A?A.insertBefore(e,this.nextSibling):e}function Mw(){var e=this.cloneNode(!0),A=this.parentNode;return A?A.insertBefore(e,this.nextSibling):e}function Dw(e){return this.select(e?Mw:Kw)}function Tw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ow(e){return function(A){e.call(this,A,this.__data__)}}function Nw(e){return e.trim().split(/^|\s+/).map(function(A){var t="",r=A.indexOf(".");return r>=0&&(t=A.slice(r+1),A=A.slice(0,r)),{type:A,name:t}})}function Rw(e){return function(){var A=this.__on;if(A){for(var t=0,r=-1,n=A.length,i;t<n;++t)i=A[t],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):A[++r]=i;++r?A.length=r:delete this.__on}}}function Vw(e,A,t){return function(){var r=this.__on,n,i=Ow(A);if(r){for(var s=0,o=r.length;s<o;++s)if((n=r[s]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=i,n.options=t),n.value=A;return}}this.addEventListener(e.type,i,t),n={type:e.type,name:e.name,value:A,listener:i,options:t},r?r.push(n):this.__on=[n]}}function Gw(e,A,t){var r=Nw(e+""),n,i=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var a=0,l=o.length,c;a<l;++a)for(n=0,c=o[a];n<i;++n)if((s=r[n]).type===c.type&&s.name===c.name)return c.value}return}for(o=A?Vw:Rw,n=0;n<i;++n)this.each(o(r[n],A,t));return this}function dl(e,A,t){var r=cl(e),n=r.CustomEvent;typeof n=="function"?n=new n(A,t):(n=r.document.createEvent("Event"),t?(n.initEvent(A,t.bubbles,t.cancelable),n.detail=t.detail):n.initEvent(A,!1,!1)),e.dispatchEvent(n)}function Pw(e,A){return function(){return dl(this,e,A)}}function Xw(e,A){return function(){return dl(this,e,A.apply(this,arguments))}}function Jw(e,A){return this.each((typeof A=="function"?Xw:Pw)(e,A))}function*Ww(){for(var e=this._groups,A=0,t=e.length;A<t;++A)for(var r=e[A],n=0,i=r.length,s;n<i;++n)(s=r[n])&&(yield s)}var hl=[null];function Ze(e,A){this._groups=e,this._parents=A}function Dr(){return new Ze([[document.documentElement]],hl)}function Yw(){return this}Ze.prototype=Dr.prototype={constructor:Ze,select:Qh,selectAll:Fh,selectChild:Eh,selectChildren:xh,filter:Lh,data:Oh,enter:kh,exit:Rh,join:Vh,merge:Gh,selection:Yw,order:Ph,sort:Xh,call:Wh,nodes:Yh,node:zh,size:$h,empty:Zh,each:jh,attr:iw,style:lw,property:gw,classed:ww,text:Cw,html:yw,raise:bw,lower:Hw,append:Iw,insert:xw,remove:kw,clone:Dw,datum:Tw,on:Gw,dispatch:Jw,[Symbol.iterator]:Ww};function we(e){return typeof e=="string"?new Ze([[document.querySelector(e)]],[document.documentElement]):new Ze([[e]],hl)}function zw(e){let A;for(;A=e.sourceEvent;)e=A;return e}function be(e,A){if(e=zw(e),A===void 0&&(A=e.currentTarget),A){var t=A.ownerSVGElement||A;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(A.getScreenCTM().inverse()),[r.x,r.y]}if(A.getBoundingClientRect){var n=A.getBoundingClientRect();return[e.clientX-n.left-A.clientLeft,e.clientY-n.top-A.clientTop]}}return[e.pageX,e.pageY]}const $w={passive:!1},Tr={capture:!0,passive:!1};function ys(e){e.stopImmediatePropagation()}function gr(e){e.preventDefault(),e.stopImmediatePropagation()}function wl(e){var A=e.document.documentElement,t=we(e).on("dragstart.drag",gr,Tr);"onselectstart"in A?t.on("selectstart.drag",gr,Tr):(A.__noselect=A.style.MozUserSelect,A.style.MozUserSelect="none")}function pl(e,A){var t=e.document.documentElement,r=we(e).on("dragstart.drag",null);A&&(r.on("click.drag",gr,Tr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const Gn=e=>()=>e;function _s(e,{sourceEvent:A,subject:t,target:r,identifier:n,active:i,x:s,y:o,dx:a,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:A,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:n,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}_s.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Zw(e){return!e.ctrlKey&&!e.button}function jw(){return this.parentNode}function qw(e,A){return A??{x:e.x,y:e.y}}function A0(){return navigator.maxTouchPoints||"ontouchstart"in this}function e0(){var e=Zw,A=jw,t=qw,r=A0,n={},i=Mr("start","drag","end"),s=0,o,a,l,c,g=0;function u(Q){Q.on("mousedown.drag",f).filter(r).on("touchstart.drag",w).on("touchmove.drag",h,$w).on("touchend.drag touchcancel.drag",F).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(Q,C){if(!(c||!e.call(this,Q,C))){var y=E(this,A.call(this,Q,C),Q,C,"mouse");y&&(we(Q.view).on("mousemove.drag",d,Tr).on("mouseup.drag",B,Tr),wl(Q.view),ys(Q),l=!1,o=Q.clientX,a=Q.clientY,y("start",Q))}}function d(Q){if(gr(Q),!l){var C=Q.clientX-o,y=Q.clientY-a;l=C*C+y*y>g}n.mouse("drag",Q)}function B(Q){we(Q.view).on("mousemove.drag mouseup.drag",null),pl(Q.view,l),gr(Q),n.mouse("end",Q)}function w(Q,C){if(e.call(this,Q,C)){var y=Q.changedTouches,H=A.call(this,Q,C),U=y.length,I,L;for(I=0;I<U;++I)(L=E(this,H,Q,C,y[I].identifier,y[I]))&&(ys(Q),L("start",Q,y[I]))}}function h(Q){var C=Q.changedTouches,y=C.length,H,U;for(H=0;H<y;++H)(U=n[C[H].identifier])&&(gr(Q),U("drag",Q,C[H]))}function F(Q){var C=Q.changedTouches,y=C.length,H,U;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),H=0;H<y;++H)(U=n[C[H].identifier])&&(ys(Q),U("end",Q,C[H]))}function E(Q,C,y,H,U,I){var L=i.copy(),x=be(I||y,C),M,V,S;if((S=t.call(Q,new _s("beforestart",{sourceEvent:y,target:u,identifier:U,active:s,x:x[0],y:x[1],dx:0,dy:0,dispatch:L}),H))!=null)return M=S.x-x[0]||0,V=S.y-x[1]||0,function P(k,z,N){var W=x,J;switch(k){case"start":n[U]=P,J=s++;break;case"end":delete n[U],--s;case"drag":x=be(N||z,C),J=s;break}L.call(k,Q,new _s(k,{sourceEvent:z,subject:S,target:u,identifier:U,active:J,x:x[0]+M,y:x[1]+V,dx:x[0]-W[0],dy:x[1]-W[1],dispatch:L}),H)}}return u.filter=function(Q){return arguments.length?(e=typeof Q=="function"?Q:Gn(!!Q),u):e},u.container=function(Q){return arguments.length?(A=typeof Q=="function"?Q:Gn(Q),u):A},u.subject=function(Q){return arguments.length?(t=typeof Q=="function"?Q:Gn(Q),u):t},u.touchable=function(Q){return arguments.length?(r=typeof Q=="function"?Q:Gn(!!Q),u):r},u.on=function(){var Q=i.on.apply(i,arguments);return Q===i?u:Q},u.clickDistance=function(Q){return arguments.length?(g=(Q=+Q)*Q,u):Math.sqrt(g)},u}function bs(e,A,t){e.prototype=A.prototype=t,t.constructor=e}function ml(e,A){var t=Object.create(e.prototype);for(var r in A)t[r]=A[r];return t}function Or(){}var Nr=.7,Pn=1/Nr,Br="\\s*([+-]?\\d+)\\s*",Rr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",t0=/^#([0-9a-f]{3,8})$/,r0=new RegExp(`^rgb\\(${Br},${Br},${Br}\\)$`),n0=new RegExp(`^rgb\\(${gt},${gt},${gt}\\)$`),i0=new RegExp(`^rgba\\(${Br},${Br},${Br},${Rr}\\)$`),s0=new RegExp(`^rgba\\(${gt},${gt},${gt},${Rr}\\)$`),o0=new RegExp(`^hsl\\(${Rr},${gt},${gt}\\)$`),a0=new RegExp(`^hsla\\(${Rr},${gt},${gt},${Rr}\\)$`),Ql={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bs(Or,Xt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Cl,formatHex:Cl,formatHex8:l0,formatHsl:c0,formatRgb:vl,toString:vl});function Cl(){return this.rgb().formatHex()}function l0(){return this.rgb().formatHex8()}function c0(){return bl(this).formatHsl()}function vl(){return this.rgb().formatRgb()}function Xt(e){var A,t;return e=(e+"").trim().toLowerCase(),(A=t0.exec(e))?(t=A[1].length,A=parseInt(A[1],16),t===6?Ul(A):t===3?new ze(A>>8&15|A>>4&240,A>>4&15|A&240,(A&15)<<4|A&15,1):t===8?Xn(A>>24&255,A>>16&255,A>>8&255,(A&255)/255):t===4?Xn(A>>12&15|A>>8&240,A>>8&15|A>>4&240,A>>4&15|A&240,((A&15)<<4|A&15)/255):null):(A=r0.exec(e))?new ze(A[1],A[2],A[3],1):(A=n0.exec(e))?new ze(A[1]*255/100,A[2]*255/100,A[3]*255/100,1):(A=i0.exec(e))?Xn(A[1],A[2],A[3],A[4]):(A=s0.exec(e))?Xn(A[1]*255/100,A[2]*255/100,A[3]*255/100,A[4]):(A=o0.exec(e))?_l(A[1],A[2]/100,A[3]/100,1):(A=a0.exec(e))?_l(A[1],A[2]/100,A[3]/100,A[4]):Ql.hasOwnProperty(e)?Ul(Ql[e]):e==="transparent"?new ze(NaN,NaN,NaN,0):null}function Ul(e){return new ze(e>>16&255,e>>8&255,e&255,1)}function Xn(e,A,t,r){return r<=0&&(e=A=t=NaN),new ze(e,A,t,r)}function u0(e){return e instanceof Or||(e=Xt(e)),e?(e=e.rgb(),new ze(e.r,e.g,e.b,e.opacity)):new ze}function Es(e,A,t,r){return arguments.length===1?u0(e):new ze(e,A,t,r??1)}function ze(e,A,t,r){this.r=+e,this.g=+A,this.b=+t,this.opacity=+r}bs(ze,Es,ml(Or,{brighter(e){return e=e==null?Pn:Math.pow(Pn,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nr:Math.pow(Nr,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ze(Jt(this.r),Jt(this.g),Jt(this.b),Jn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fl,formatHex:Fl,formatHex8:f0,formatRgb:yl,toString:yl}));function Fl(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}`}function f0(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}${Wt((isNaN(this.opacity)?1:this.opacity)*255)}`}function yl(){const e=Jn(this.opacity);return`${e===1?"rgb(":"rgba("}${Jt(this.r)}, ${Jt(this.g)}, ${Jt(this.b)}${e===1?")":`, ${e})`}`}function Jn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wt(e){return e=Jt(e),(e<16?"0":"")+e.toString(16)}function _l(e,A,t,r){return r<=0?e=A=t=NaN:t<=0||t>=1?e=A=NaN:A<=0&&(e=NaN),new st(e,A,t,r)}function bl(e){if(e instanceof st)return new st(e.h,e.s,e.l,e.opacity);if(e instanceof Or||(e=Xt(e)),!e)return new st;if(e instanceof st)return e;e=e.rgb();var A=e.r/255,t=e.g/255,r=e.b/255,n=Math.min(A,t,r),i=Math.max(A,t,r),s=NaN,o=i-n,a=(i+n)/2;return o?(A===i?s=(t-r)/o+(t<r)*6:t===i?s=(r-A)/o+2:s=(A-t)/o+4,o/=a<.5?i+n:2-i-n,s*=60):o=a>0&&a<1?0:s,new st(s,o,a,e.opacity)}function Wn(e,A,t,r){return arguments.length===1?bl(e):new st(e,A,t,r??1)}function st(e,A,t,r){this.h=+e,this.s=+A,this.l=+t,this.opacity=+r}bs(st,Wn,ml(Or,{brighter(e){return e=e==null?Pn:Math.pow(Pn,e),new st(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nr:Math.pow(Nr,e),new st(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,A=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*A,n=2*t-r;return new ze(Hs(e>=240?e-240:e+120,n,r),Hs(e,n,r),Hs(e<120?e+240:e-120,n,r),this.opacity)},clamp(){return new st(El(this.h),Yn(this.s),Yn(this.l),Jn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jn(this.opacity);return`${e===1?"hsl(":"hsla("}${El(this.h)}, ${Yn(this.s)*100}%, ${Yn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function El(e){return e=(e||0)%360,e<0?e+360:e}function Yn(e){return Math.max(0,Math.min(1,e||0))}function Hs(e,A,t){return(e<60?A+(t-A)*e/60:e<180?t:e<240?A+(t-A)*(240-e)/60:A)*255}const Is=e=>()=>e;function g0(e,A){return function(t){return e+t*A}}function B0(e,A,t){return e=Math.pow(e,t),A=Math.pow(A,t)-e,t=1/t,function(r){return Math.pow(e+r*A,t)}}function d0(e){return(e=+e)==1?Hl:function(A,t){return t-A?B0(A,t,e):Is(isNaN(A)?t:A)}}function Hl(e,A){var t=A-e;return t?g0(e,t):Is(isNaN(e)?A:e)}const zn=function e(A){var t=d0(A);function r(n,i){var s=t((n=Es(n)).r,(i=Es(i)).r),o=t(n.g,i.g),a=t(n.b,i.b),l=Hl(n.opacity,i.opacity);return function(c){return n.r=s(c),n.g=o(c),n.b=a(c),n.opacity=l(c),n+""}}return r.gamma=e,r}(1);function h0(e,A){A||(A=[]);var t=e?Math.min(A.length,e.length):0,r=A.slice(),n;return function(i){for(n=0;n<t;++n)r[n]=e[n]*(1-i)+A[n]*i;return r}}function w0(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function p0(e,A){var t=A?A.length:0,r=e?Math.min(t,e.length):0,n=new Array(r),i=new Array(t),s;for(s=0;s<r;++s)n[s]=Ls(e[s],A[s]);for(;s<t;++s)i[s]=A[s];return function(o){for(s=0;s<r;++s)i[s]=n[s](o);return i}}function m0(e,A){var t=new Date;return e=+e,A=+A,function(r){return t.setTime(e*(1-r)+A*r),t}}function ot(e,A){return e=+e,A=+A,function(t){return e*(1-t)+A*t}}function Q0(e,A){var t={},r={},n;(e===null||typeof e!="object")&&(e={}),(A===null||typeof A!="object")&&(A={});for(n in A)n in e?t[n]=Ls(e[n],A[n]):r[n]=A[n];return function(i){for(n in t)r[n]=t[n](i);return r}}var Ss=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xs=new RegExp(Ss.source,"g");function C0(e){return function(){return e}}function v0(e){return function(A){return e(A)+""}}function Il(e,A){var t=Ss.lastIndex=xs.lastIndex=0,r,n,i,s=-1,o=[],a=[];for(e=e+"",A=A+"";(r=Ss.exec(e))&&(n=xs.exec(A));)(i=n.index)>t&&(i=A.slice(t,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,a.push({i:s,x:ot(r,n)})),t=xs.lastIndex;return t<A.length&&(i=A.slice(t),o[s]?o[s]+=i:o[++s]=i),o.length<2?a[0]?v0(a[0].x):C0(A):(A=a.length,function(l){for(var c=0,g;c<A;++c)o[(g=a[c]).i]=g.x(l);return o.join("")})}function Ls(e,A){var t=typeof A,r;return A==null||t==="boolean"?Is(A):(t==="number"?ot:t==="string"?(r=Xt(A))?(A=r,zn):Il:A instanceof Xt?zn:A instanceof Date?m0:w0(A)?h0:Array.isArray(A)?p0:typeof A.valueOf!="function"&&typeof A.toString!="function"||isNaN(A)?Q0:ot)(e,A)}function U0(e,A){return e=+e,A=+A,function(t){return Math.round(e*(1-t)+A*t)}}var Sl=180/Math.PI,ks={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xl(e,A,t,r,n,i){var s,o,a;return(s=Math.sqrt(e*e+A*A))&&(e/=s,A/=s),(a=e*t+A*r)&&(t-=e*a,r-=A*a),(o=Math.sqrt(t*t+r*r))&&(t/=o,r/=o,a/=o),e*r<A*t&&(e=-e,A=-A,a=-a,s=-s),{translateX:n,translateY:i,rotate:Math.atan2(A,e)*Sl,skewX:Math.atan(a)*Sl,scaleX:s,scaleY:o}}var $n;function F0(e){const A=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return A.isIdentity?ks:xl(A.a,A.b,A.c,A.d,A.e,A.f)}function y0(e){return e==null||($n||($n=document.createElementNS("http://www.w3.org/2000/svg","g")),$n.setAttribute("transform",e),!(e=$n.transform.baseVal.consolidate()))?ks:(e=e.matrix,xl(e.a,e.b,e.c,e.d,e.e,e.f))}function Ll(e,A,t,r){function n(l){return l.length?l.pop()+" ":""}function i(l,c,g,u,f,d){if(l!==g||c!==u){var B=f.push("translate(",null,A,null,t);d.push({i:B-4,x:ot(l,g)},{i:B-2,x:ot(c,u)})}else(g||u)&&f.push("translate("+g+A+u+t)}function s(l,c,g,u){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),u.push({i:g.push(n(g)+"rotate(",null,r)-2,x:ot(l,c)})):c&&g.push(n(g)+"rotate("+c+r)}function o(l,c,g,u){l!==c?u.push({i:g.push(n(g)+"skewX(",null,r)-2,x:ot(l,c)}):c&&g.push(n(g)+"skewX("+c+r)}function a(l,c,g,u,f,d){if(l!==g||c!==u){var B=f.push(n(f)+"scale(",null,",",null,")");d.push({i:B-4,x:ot(l,g)},{i:B-2,x:ot(c,u)})}else(g!==1||u!==1)&&f.push(n(f)+"scale("+g+","+u+")")}return function(l,c){var g=[],u=[];return l=e(l),c=e(c),i(l.translateX,l.translateY,c.translateX,c.translateY,g,u),s(l.rotate,c.rotate,g,u),o(l.skewX,c.skewX,g,u),a(l.scaleX,l.scaleY,c.scaleX,c.scaleY,g,u),l=c=null,function(f){for(var d=-1,B=u.length,w;++d<B;)g[(w=u[d]).i]=w.x(f);return g.join("")}}}var _0=Ll(F0,"px, ","px)","deg)"),b0=Ll(y0,", ",")",")"),E0=1e-12;function kl(e){return((e=Math.exp(e))+1/e)/2}function H0(e){return((e=Math.exp(e))-1/e)/2}function I0(e){return((e=Math.exp(2*e))-1)/(e+1)}const S0=function e(A,t,r){function n(i,s){var o=i[0],a=i[1],l=i[2],c=s[0],g=s[1],u=s[2],f=c-o,d=g-a,B=f*f+d*d,w,h;if(B<E0)h=Math.log(u/l)/A,w=function(H){return[o+H*f,a+H*d,l*Math.exp(A*H*h)]};else{var F=Math.sqrt(B),E=(u*u-l*l+r*B)/(2*l*t*F),Q=(u*u-l*l-r*B)/(2*u*t*F),C=Math.log(Math.sqrt(E*E+1)-E),y=Math.log(Math.sqrt(Q*Q+1)-Q);h=(y-C)/A,w=function(H){var U=H*h,I=kl(C),L=l/(t*F)*(I*I0(A*U+C)-H0(C));return[o+L*f,a+L*d,l*I/kl(A*U+C)]}}return w.duration=h*1e3*A/Math.SQRT2,w}return n.rho=function(i){var s=Math.max(.001,+i),o=s*s,a=o*o;return e(s,o,a)},n}(Math.SQRT2,2,4);var dr=0,Vr=0,Gr=0,Kl=1e3,Zn,Pr,jn=0,Yt=0,qn=0,Xr=typeof performance=="object"&&performance.now?performance:Date,Ml=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ks(){return Yt||(Ml(x0),Yt=Xr.now()+qn)}function x0(){Yt=0}function Ai(){this._call=this._time=this._next=null}Ai.prototype=Ms.prototype={constructor:Ai,restart:function(e,A,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?Ks():+t)+(A==null?0:+A),!this._next&&Pr!==this&&(Pr?Pr._next=this:Zn=this,Pr=this),this._call=e,this._time=t,Ds()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ds())}};function Ms(e,A,t){var r=new Ai;return r.restart(e,A,t),r}function L0(){Ks(),++dr;for(var e=Zn,A;e;)(A=Yt-e._time)>=0&&e._call.call(void 0,A),e=e._next;--dr}function Dl(){Yt=(jn=Xr.now())+qn,dr=Vr=0;try{L0()}finally{dr=0,K0(),Yt=0}}function k0(){var e=Xr.now(),A=e-jn;A>Kl&&(qn-=A,jn=e)}function K0(){for(var e,A=Zn,t,r=1/0;A;)A._call?(r>A._time&&(r=A._time),e=A,A=A._next):(t=A._next,A._next=null,A=e?e._next=t:Zn=t);Pr=e,Ds(r)}function Ds(e){if(!dr){Vr&&(Vr=clearTimeout(Vr));var A=e-Yt;A>24?(e<1/0&&(Vr=setTimeout(Dl,e-Xr.now()-qn)),Gr&&(Gr=clearInterval(Gr))):(Gr||(jn=Xr.now(),Gr=setInterval(k0,Kl)),dr=1,Ml(Dl))}}function Tl(e,A,t){var r=new Ai;return A=A==null?0:+A,r.restart(n=>{r.stop(),e(n+A)},A,t),r}var M0=Mr("start","end","cancel","interrupt"),D0=[],Ol=0,Nl=1,Ts=2,ei=3,Rl=4,Os=5,ti=6;function ri(e,A,t,r,n,i){var s=e.__transition;if(!s)e.__transition={};else if(t in s)return;T0(e,t,{name:A,index:r,group:n,on:M0,tween:D0,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Ol})}function Ns(e,A){var t=at(e,A);if(t.state>Ol)throw new Error("too late; already scheduled");return t}function Bt(e,A){var t=at(e,A);if(t.state>ei)throw new Error("too late; already running");return t}function at(e,A){var t=e.__transition;if(!t||!(t=t[A]))throw new Error("transition not found");return t}function T0(e,A,t){var r=e.__transition,n;r[A]=t,t.timer=Ms(i,0,t.time);function i(l){t.state=Nl,t.timer.restart(s,t.delay,t.time),t.delay<=l&&s(l-t.delay)}function s(l){var c,g,u,f;if(t.state!==Nl)return a();for(c in r)if(f=r[c],f.name===t.name){if(f.state===ei)return Tl(s);f.state===Rl?(f.state=ti,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[c]):+c<A&&(f.state=ti,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete r[c])}if(Tl(function(){t.state===ei&&(t.state=Rl,t.timer.restart(o,t.delay,t.time),o(l))}),t.state=Ts,t.on.call("start",e,e.__data__,t.index,t.group),t.state===Ts){for(t.state=ei,n=new Array(u=t.tween.length),c=0,g=-1;c<u;++c)(f=t.tween[c].value.call(e,e.__data__,t.index,t.group))&&(n[++g]=f);n.length=g+1}}function o(l){for(var c=l<t.duration?t.ease.call(null,l/t.duration):(t.timer.restart(a),t.state=Os,1),g=-1,u=n.length;++g<u;)n[g].call(e,c);t.state===Os&&(t.on.call("end",e,e.__data__,t.index,t.group),a())}function a(){t.state=ti,t.timer.stop(),delete r[A];for(var l in r)return;delete e.__transition}}function ni(e,A){var t=e.__transition,r,n,i=!0,s;if(t){A=A==null?null:A+"";for(s in t){if((r=t[s]).name!==A){i=!1;continue}n=r.state>Ts&&r.state<Os,r.state=ti,r.timer.stop(),r.on.call(n?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete t[s]}i&&delete e.__transition}}function O0(e){return this.each(function(){ni(this,e)})}function N0(e,A){var t,r;return function(){var n=Bt(this,e),i=n.tween;if(i!==t){r=t=i;for(var s=0,o=r.length;s<o;++s)if(r[s].name===A){r=r.slice(),r.splice(s,1);break}}n.tween=r}}function R0(e,A,t){var r,n;if(typeof t!="function")throw new Error;return function(){var i=Bt(this,e),s=i.tween;if(s!==r){n=(r=s).slice();for(var o={name:A,value:t},a=0,l=n.length;a<l;++a)if(n[a].name===A){n[a]=o;break}a===l&&n.push(o)}i.tween=n}}function V0(e,A){var t=this._id;if(e+="",arguments.length<2){for(var r=at(this.node(),t).tween,n=0,i=r.length,s;n<i;++n)if((s=r[n]).name===e)return s.value;return null}return this.each((A==null?N0:R0)(t,e,A))}function Rs(e,A,t){var r=e._id;return e.each(function(){var n=Bt(this,r);(n.value||(n.value={}))[A]=t.apply(this,arguments)}),function(n){return at(n,r).value[A]}}function Vl(e,A){var t;return(typeof A=="number"?ot:A instanceof Xt?zn:(t=Xt(A))?(A=t,zn):Il)(e,A)}function G0(e){return function(){this.removeAttribute(e)}}function P0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function X0(e,A,t){var r,n=t+"",i;return function(){var s=this.getAttribute(e);return s===n?null:s===r?i:i=A(r=s,t)}}function J0(e,A,t){var r,n=t+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===n?null:s===r?i:i=A(r=s,t)}}function W0(e,A,t){var r,n,i;return function(){var s,o=t(this),a;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=o+"",s===a?null:s===r&&a===n?i:(n=a,i=A(r=s,o)))}}function Y0(e,A,t){var r,n,i;return function(){var s,o=t(this),a;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=o+"",s===a?null:s===r&&a===n?i:(n=a,i=A(r=s,o)))}}function z0(e,A){var t=Rn(e),r=t==="transform"?b0:Vl;return this.attrTween(e,typeof A=="function"?(t.local?Y0:W0)(t,r,Rs(this,"attr."+e,A)):A==null?(t.local?P0:G0)(t):(t.local?J0:X0)(t,r,A))}function $0(e,A){return function(t){this.setAttribute(e,A.call(this,t))}}function Z0(e,A){return function(t){this.setAttributeNS(e.space,e.local,A.call(this,t))}}function j0(e,A){var t,r;function n(){var i=A.apply(this,arguments);return i!==r&&(t=(r=i)&&Z0(e,i)),t}return n._value=A,n}function q0(e,A){var t,r;function n(){var i=A.apply(this,arguments);return i!==r&&(t=(r=i)&&$0(e,i)),t}return n._value=A,n}function Ap(e,A){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(A==null)return this.tween(t,null);if(typeof A!="function")throw new Error;var r=Rn(e);return this.tween(t,(r.local?j0:q0)(r,A))}function ep(e,A){return function(){Ns(this,e).delay=+A.apply(this,arguments)}}function tp(e,A){return A=+A,function(){Ns(this,e).delay=A}}function rp(e){var A=this._id;return arguments.length?this.each((typeof e=="function"?ep:tp)(A,e)):at(this.node(),A).delay}function np(e,A){return function(){Bt(this,e).duration=+A.apply(this,arguments)}}function ip(e,A){return A=+A,function(){Bt(this,e).duration=A}}function sp(e){var A=this._id;return arguments.length?this.each((typeof e=="function"?np:ip)(A,e)):at(this.node(),A).duration}function op(e,A){if(typeof A!="function")throw new Error;return function(){Bt(this,e).ease=A}}function ap(e){var A=this._id;return arguments.length?this.each(op(A,e)):at(this.node(),A).ease}function lp(e,A){return function(){var t=A.apply(this,arguments);if(typeof t!="function")throw new Error;Bt(this,e).ease=t}}function cp(e){if(typeof e!="function")throw new Error;return this.each(lp(this._id,e))}function up(e){typeof e!="function"&&(e=ol(e));for(var A=this._groups,t=A.length,r=new Array(t),n=0;n<t;++n)for(var i=A[n],s=i.length,o=r[n]=[],a,l=0;l<s;++l)(a=i[l])&&e.call(a,a.__data__,l,i)&&o.push(a);return new vt(r,this._parents,this._name,this._id)}function fp(e){if(e._id!==this._id)throw new Error;for(var A=this._groups,t=e._groups,r=A.length,n=t.length,i=Math.min(r,n),s=new Array(r),o=0;o<i;++o)for(var a=A[o],l=t[o],c=a.length,g=s[o]=new Array(c),u,f=0;f<c;++f)(u=a[f]||l[f])&&(g[f]=u);for(;o<r;++o)s[o]=A[o];return new vt(s,this._parents,this._name,this._id)}function gp(e){return(e+"").trim().split(/^|\s+/).every(function(A){var t=A.indexOf(".");return t>=0&&(A=A.slice(0,t)),!A||A==="start"})}function Bp(e,A,t){var r,n,i=gp(A)?Ns:Bt;return function(){var s=i(this,e),o=s.on;o!==r&&(n=(r=o).copy()).on(A,t),s.on=n}}function dp(e,A){var t=this._id;return arguments.length<2?at(this.node(),t).on.on(e):this.each(Bp(t,e,A))}function hp(e){return function(){var A=this.parentNode;for(var t in this.__transition)if(+t!==e)return;A&&A.removeChild(this)}}function wp(){return this.on("end.remove",hp(this._id))}function pp(e){var A=this._name,t=this._id;typeof e!="function"&&(e=Us(e));for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s)for(var o=r[s],a=o.length,l=i[s]=new Array(a),c,g,u=0;u<a;++u)(c=o[u])&&(g=e.call(c,c.__data__,u,o))&&("__data__"in c&&(g.__data__=c.__data__),l[u]=g,ri(l[u],A,t,u,l,at(c,t)));return new vt(i,this._parents,A,t)}function mp(e){var A=this._name,t=this._id;typeof e!="function"&&(e=sl(e));for(var r=this._groups,n=r.length,i=[],s=[],o=0;o<n;++o)for(var a=r[o],l=a.length,c,g=0;g<l;++g)if(c=a[g]){for(var u=e.call(c,c.__data__,g,a),f,d=at(c,t),B=0,w=u.length;B<w;++B)(f=u[B])&&ri(f,A,t,B,u,d);i.push(u),s.push(c)}return new vt(i,s,A,t)}var Qp=Dr.prototype.constructor;function Cp(){return new Qp(this._groups,this._parents)}function vp(e,A){var t,r,n;return function(){var i=fr(this,e),s=(this.style.removeProperty(e),fr(this,e));return i===s?null:i===t&&s===r?n:n=A(t=i,r=s)}}function Gl(e){return function(){this.style.removeProperty(e)}}function Up(e,A,t){var r,n=t+"",i;return function(){var s=fr(this,e);return s===n?null:s===r?i:i=A(r=s,t)}}function Fp(e,A,t){var r,n,i;return function(){var s=fr(this,e),o=t(this),a=o+"";return o==null&&(a=o=(this.style.removeProperty(e),fr(this,e))),s===a?null:s===r&&a===n?i:(n=a,i=A(r=s,o))}}function yp(e,A){var t,r,n,i="style."+A,s="end."+i,o;return function(){var a=Bt(this,e),l=a.on,c=a.value[i]==null?o||(o=Gl(A)):void 0;(l!==t||n!==c)&&(r=(t=l).copy()).on(s,n=c),a.on=r}}function _p(e,A,t){var r=(e+="")=="transform"?_0:Vl;return A==null?this.styleTween(e,vp(e,r)).on("end.style."+e,Gl(e)):typeof A=="function"?this.styleTween(e,Fp(e,r,Rs(this,"style."+e,A))).each(yp(this._id,e)):this.styleTween(e,Up(e,r,A),t).on("end.style."+e,null)}function bp(e,A,t){return function(r){this.style.setProperty(e,A.call(this,r),t)}}function Ep(e,A,t){var r,n;function i(){var s=A.apply(this,arguments);return s!==n&&(r=(n=s)&&bp(e,s,t)),r}return i._value=A,i}function Hp(e,A,t){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(A==null)return this.tween(r,null);if(typeof A!="function")throw new Error;return this.tween(r,Ep(e,A,t??""))}function Ip(e){return function(){this.textContent=e}}function Sp(e){return function(){var A=e(this);this.textContent=A??""}}function xp(e){return this.tween("text",typeof e=="function"?Sp(Rs(this,"text",e)):Ip(e==null?"":e+""))}function Lp(e){return function(A){this.textContent=e.call(this,A)}}function kp(e){var A,t;function r(){var n=e.apply(this,arguments);return n!==t&&(A=(t=n)&&Lp(n)),A}return r._value=e,r}function Kp(e){var A="text";if(arguments.length<1)return(A=this.tween(A))&&A._value;if(e==null)return this.tween(A,null);if(typeof e!="function")throw new Error;return this.tween(A,kp(e))}function Mp(){for(var e=this._name,A=this._id,t=Pl(),r=this._groups,n=r.length,i=0;i<n;++i)for(var s=r[i],o=s.length,a,l=0;l<o;++l)if(a=s[l]){var c=at(a,A);ri(a,e,t,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new vt(r,this._parents,e,t)}function Dp(){var e,A,t=this,r=t._id,n=t.size();return new Promise(function(i,s){var o={value:s},a={value:function(){--n===0&&i()}};t.each(function(){var l=Bt(this,r),c=l.on;c!==e&&(A=(e=c).copy(),A._.cancel.push(o),A._.interrupt.push(o),A._.end.push(a)),l.on=A}),n===0&&i()})}var Tp=0;function vt(e,A,t,r){this._groups=e,this._parents=A,this._name=t,this._id=r}function Pl(){return++Tp}var Ut=Dr.prototype;vt.prototype={constructor:vt,select:pp,selectAll:mp,selectChild:Ut.selectChild,selectChildren:Ut.selectChildren,filter:up,merge:fp,selection:Cp,transition:Mp,call:Ut.call,nodes:Ut.nodes,node:Ut.node,size:Ut.size,empty:Ut.empty,each:Ut.each,on:dp,attr:z0,attrTween:Ap,style:_p,styleTween:Hp,text:xp,textTween:Kp,remove:wp,tween:V0,delay:rp,duration:sp,ease:ap,easeVarying:cp,end:Dp,[Symbol.iterator]:Ut[Symbol.iterator]};function Op(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Np={time:null,delay:0,duration:250,ease:Op};function Rp(e,A){for(var t;!(t=e.__transition)||!(t=t[A]);)if(!(e=e.parentNode))throw new Error(`transition ${A} not found`);return t}function Vp(e){var A,t;e instanceof vt?(A=e._id,e=e._name):(A=Pl(),(t=Np).time=Ks(),e=e==null?null:e+"");for(var r=this._groups,n=r.length,i=0;i<n;++i)for(var s=r[i],o=s.length,a,l=0;l<o;++l)(a=s[l])&&ri(a,e,A,l,s,t||Rp(a,A));return new vt(r,this._parents,e,A)}Dr.prototype.interrupt=O0,Dr.prototype.transition=Vp;function Xl(e,A){var t,r=1;e==null&&(e=0),A==null&&(A=0);function n(){var i,s=t.length,o,a=0,l=0;for(i=0;i<s;++i)o=t[i],a+=o.x,l+=o.y;for(a=(a/s-e)*r,l=(l/s-A)*r,i=0;i<s;++i)o=t[i],o.x-=a,o.y-=l}return n.initialize=function(i){t=i},n.x=function(i){return arguments.length?(e=+i,n):e},n.y=function(i){return arguments.length?(A=+i,n):A},n.strength=function(i){return arguments.length?(r=+i,n):r},n}function Gp(e){const A=+this._x.call(null,e),t=+this._y.call(null,e);return Jl(this.cover(A,t),A,t,e)}function Jl(e,A,t,r){if(isNaN(A)||isNaN(t))return e;var n,i=e._root,s={data:r},o=e._x0,a=e._y0,l=e._x1,c=e._y1,g,u,f,d,B,w,h,F;if(!i)return e._root=s,e;for(;i.length;)if((B=A>=(g=(o+l)/2))?o=g:l=g,(w=t>=(u=(a+c)/2))?a=u:c=u,n=i,!(i=i[h=w<<1|B]))return n[h]=s,e;if(f=+e._x.call(null,i.data),d=+e._y.call(null,i.data),A===f&&t===d)return s.next=i,n?n[h]=s:e._root=s,e;do n=n?n[h]=new Array(4):e._root=new Array(4),(B=A>=(g=(o+l)/2))?o=g:l=g,(w=t>=(u=(a+c)/2))?a=u:c=u;while((h=w<<1|B)===(F=(d>=u)<<1|f>=g));return n[F]=i,n[h]=s,e}function Pp(e){var A,t,r=e.length,n,i,s=new Array(r),o=new Array(r),a=1/0,l=1/0,c=-1/0,g=-1/0;for(t=0;t<r;++t)isNaN(n=+this._x.call(null,A=e[t]))||isNaN(i=+this._y.call(null,A))||(s[t]=n,o[t]=i,n<a&&(a=n),n>c&&(c=n),i<l&&(l=i),i>g&&(g=i));if(a>c||l>g)return this;for(this.cover(a,l).cover(c,g),t=0;t<r;++t)Jl(this,s[t],o[t],e[t]);return this}function Xp(e,A){if(isNaN(e=+e)||isNaN(A=+A))return this;var t=this._x0,r=this._y0,n=this._x1,i=this._y1;if(isNaN(t))n=(t=Math.floor(e))+1,i=(r=Math.floor(A))+1;else{for(var s=n-t||1,o=this._root,a,l;t>e||e>=n||r>A||A>=i;)switch(l=(A<r)<<1|e<t,a=new Array(4),a[l]=o,o=a,s*=2,l){case 0:n=t+s,i=r+s;break;case 1:t=n-s,i=r+s;break;case 2:n=t+s,r=i-s;break;case 3:t=n-s,r=i-s;break}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._y0=r,this._x1=n,this._y1=i,this}function Jp(){var e=[];return this.visit(function(A){if(!A.length)do e.push(A.data);while(A=A.next)}),e}function Wp(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Xe(e,A,t,r,n){this.node=e,this.x0=A,this.y0=t,this.x1=r,this.y1=n}function Yp(e,A,t){var r,n=this._x0,i=this._y0,s,o,a,l,c=this._x1,g=this._y1,u=[],f=this._root,d,B;for(f&&u.push(new Xe(f,n,i,c,g)),t==null?t=1/0:(n=e-t,i=A-t,c=e+t,g=A+t,t*=t);d=u.pop();)if(!(!(f=d.node)||(s=d.x0)>c||(o=d.y0)>g||(a=d.x1)<n||(l=d.y1)<i))if(f.length){var w=(s+a)/2,h=(o+l)/2;u.push(new Xe(f[3],w,h,a,l),new Xe(f[2],s,h,w,l),new Xe(f[1],w,o,a,h),new Xe(f[0],s,o,w,h)),(B=(A>=h)<<1|e>=w)&&(d=u[u.length-1],u[u.length-1]=u[u.length-1-B],u[u.length-1-B]=d)}else{var F=e-+this._x.call(null,f.data),E=A-+this._y.call(null,f.data),Q=F*F+E*E;if(Q<t){var C=Math.sqrt(t=Q);n=e-C,i=A-C,c=e+C,g=A+C,r=f.data}}return r}function zp(e){if(isNaN(c=+this._x.call(null,e))||isNaN(g=+this._y.call(null,e)))return this;var A,t=this._root,r,n,i,s=this._x0,o=this._y0,a=this._x1,l=this._y1,c,g,u,f,d,B,w,h;if(!t)return this;if(t.length)for(;;){if((d=c>=(u=(s+a)/2))?s=u:a=u,(B=g>=(f=(o+l)/2))?o=f:l=f,A=t,!(t=t[w=B<<1|d]))return this;if(!t.length)break;(A[w+1&3]||A[w+2&3]||A[w+3&3])&&(r=A,h=w)}for(;t.data!==e;)if(n=t,!(t=t.next))return this;return(i=t.next)&&delete t.next,n?(i?n.next=i:delete n.next,this):A?(i?A[w]=i:delete A[w],(t=A[0]||A[1]||A[2]||A[3])&&t===(A[3]||A[2]||A[1]||A[0])&&!t.length&&(r?r[h]=t:this._root=t),this):(this._root=i,this)}function $p(e){for(var A=0,t=e.length;A<t;++A)this.remove(e[A]);return this}function Zp(){return this._root}function jp(){var e=0;return this.visit(function(A){if(!A.length)do++e;while(A=A.next)}),e}function qp(e){var A=[],t,r=this._root,n,i,s,o,a;for(r&&A.push(new Xe(r,this._x0,this._y0,this._x1,this._y1));t=A.pop();)if(!e(r=t.node,i=t.x0,s=t.y0,o=t.x1,a=t.y1)&&r.length){var l=(i+o)/2,c=(s+a)/2;(n=r[3])&&A.push(new Xe(n,l,c,o,a)),(n=r[2])&&A.push(new Xe(n,i,c,l,a)),(n=r[1])&&A.push(new Xe(n,l,s,o,c)),(n=r[0])&&A.push(new Xe(n,i,s,l,c))}return this}function Am(e){var A=[],t=[],r;for(this._root&&A.push(new Xe(this._root,this._x0,this._y0,this._x1,this._y1));r=A.pop();){var n=r.node;if(n.length){var i,s=r.x0,o=r.y0,a=r.x1,l=r.y1,c=(s+a)/2,g=(o+l)/2;(i=n[0])&&A.push(new Xe(i,s,o,c,g)),(i=n[1])&&A.push(new Xe(i,c,o,a,g)),(i=n[2])&&A.push(new Xe(i,s,g,c,l)),(i=n[3])&&A.push(new Xe(i,c,g,a,l))}t.push(r)}for(;r=t.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function em(e){return e[0]}function tm(e){return arguments.length?(this._x=e,this):this._x}function rm(e){return e[1]}function nm(e){return arguments.length?(this._y=e,this):this._y}function Vs(e,A,t){var r=new Gs(A??em,t??rm,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Gs(e,A,t,r,n,i){this._x=e,this._y=A,this._x0=t,this._y0=r,this._x1=n,this._y1=i,this._root=void 0}function Wl(e){for(var A={data:e.data},t=A;e=e.next;)t=t.next={data:e.data};return A}var Je=Vs.prototype=Gs.prototype;Je.copy=function(){var e=new Gs(this._x,this._y,this._x0,this._y0,this._x1,this._y1),A=this._root,t,r;if(!A)return e;if(!A.length)return e._root=Wl(A),e;for(t=[{source:A,target:e._root=new Array(4)}];A=t.pop();)for(var n=0;n<4;++n)(r=A.source[n])&&(r.length?t.push({source:r,target:A.target[n]=new Array(4)}):A.target[n]=Wl(r));return e},Je.add=Gp,Je.addAll=Pp,Je.cover=Xp,Je.data=Jp,Je.extent=Wp,Je.find=Yp,Je.remove=zp,Je.removeAll=$p,Je.root=Zp,Je.size=jp,Je.visit=qp,Je.visitAfter=Am,Je.x=tm,Je.y=nm;function We(e){return function(){return e}}function Kt(e){return(e()-.5)*1e-6}function im(e){return e.x+e.vx}function sm(e){return e.y+e.vy}function Yl(e){var A,t,r,n=1,i=1;typeof e!="function"&&(e=We(e==null?1:+e));function s(){for(var l,c=A.length,g,u,f,d,B,w,h=0;h<i;++h)for(g=Vs(A,im,sm).visitAfter(o),l=0;l<c;++l)u=A[l],B=t[u.index],w=B*B,f=u.x+u.vx,d=u.y+u.vy,g.visit(F);function F(E,Q,C,y,H){var U=E.data,I=E.r,L=B+I;if(U){if(U.index>u.index){var x=f-U.x-U.vx,M=d-U.y-U.vy,V=x*x+M*M;V<L*L&&(x===0&&(x=Kt(r),V+=x*x),M===0&&(M=Kt(r),V+=M*M),V=(L-(V=Math.sqrt(V)))/V*n,u.vx+=(x*=V)*(L=(I*=I)/(w+I)),u.vy+=(M*=V)*L,U.vx-=x*(L=1-L),U.vy-=M*L)}return}return Q>f+L||y<f-L||C>d+L||H<d-L}}function o(l){if(l.data)return l.r=t[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function a(){if(A){var l,c=A.length,g;for(t=new Array(c),l=0;l<c;++l)g=A[l],t[g.index]=+e(g,l,A)}}return s.initialize=function(l,c){A=l,r=c,a()},s.iterations=function(l){return arguments.length?(i=+l,s):i},s.strength=function(l){return arguments.length?(n=+l,s):n},s.radius=function(l){return arguments.length?(e=typeof l=="function"?l:We(+l),a(),s):e},s}function om(e){return e.index}function zl(e,A){var t=e.get(A);if(!t)throw new Error("node not found: "+A);return t}function $l(e){var A=om,t=g,r,n=We(30),i,s,o,a,l,c=1;e==null&&(e=[]);function g(w){return 1/Math.min(o[w.source.index],o[w.target.index])}function u(w){for(var h=0,F=e.length;h<c;++h)for(var E=0,Q,C,y,H,U,I,L;E<F;++E)Q=e[E],C=Q.source,y=Q.target,H=y.x+y.vx-C.x-C.vx||Kt(l),U=y.y+y.vy-C.y-C.vy||Kt(l),I=Math.sqrt(H*H+U*U),I=(I-i[E])/I*w*r[E],H*=I,U*=I,y.vx-=H*(L=a[E]),y.vy-=U*L,C.vx+=H*(L=1-L),C.vy+=U*L}function f(){if(s){var w,h=s.length,F=e.length,E=new Map(s.map((C,y)=>[A(C,y,s),C])),Q;for(w=0,o=new Array(h);w<F;++w)Q=e[w],Q.index=w,typeof Q.source!="object"&&(Q.source=zl(E,Q.source)),typeof Q.target!="object"&&(Q.target=zl(E,Q.target)),o[Q.source.index]=(o[Q.source.index]||0)+1,o[Q.target.index]=(o[Q.target.index]||0)+1;for(w=0,a=new Array(F);w<F;++w)Q=e[w],a[w]=o[Q.source.index]/(o[Q.source.index]+o[Q.target.index]);r=new Array(F),d(),i=new Array(F),B()}}function d(){if(s)for(var w=0,h=e.length;w<h;++w)r[w]=+t(e[w],w,e)}function B(){if(s)for(var w=0,h=e.length;w<h;++w)i[w]=+n(e[w],w,e)}return u.initialize=function(w,h){s=w,l=h,f()},u.links=function(w){return arguments.length?(e=w,f(),u):e},u.id=function(w){return arguments.length?(A=w,u):A},u.iterations=function(w){return arguments.length?(c=+w,u):c},u.strength=function(w){return arguments.length?(t=typeof w=="function"?w:We(+w),d(),u):t},u.distance=function(w){return arguments.length?(n=typeof w=="function"?w:We(+w),B(),u):n},u}const am=1664525,lm=1013904223,Zl=4294967296;function cm(){let e=1;return()=>(e=(am*e+lm)%Zl)/Zl}function um(e){return e.x}function fm(e){return e.y}var gm=10,Bm=Math.PI*(3-Math.sqrt(5));function jl(e){var A,t=1,r=.001,n=1-Math.pow(r,1/300),i=0,s=.6,o=new Map,a=Ms(g),l=Mr("tick","end"),c=cm();e==null&&(e=[]);function g(){u(),l.call("tick",A),t<r&&(a.stop(),l.call("end",A))}function u(B){var w,h=e.length,F;B===void 0&&(B=1);for(var E=0;E<B;++E)for(t+=(i-t)*n,o.forEach(function(Q){Q(t)}),w=0;w<h;++w)F=e[w],F.fx==null?F.x+=F.vx*=s:(F.x=F.fx,F.vx=0),F.fy==null?F.y+=F.vy*=s:(F.y=F.fy,F.vy=0);return A}function f(){for(var B=0,w=e.length,h;B<w;++B){if(h=e[B],h.index=B,h.fx!=null&&(h.x=h.fx),h.fy!=null&&(h.y=h.fy),isNaN(h.x)||isNaN(h.y)){var F=gm*Math.sqrt(.5+B),E=B*Bm;h.x=F*Math.cos(E),h.y=F*Math.sin(E)}(isNaN(h.vx)||isNaN(h.vy))&&(h.vx=h.vy=0)}}function d(B){return B.initialize&&B.initialize(e,c),B}return f(),A={tick:u,restart:function(){return a.restart(g),A},stop:function(){return a.stop(),A},nodes:function(B){return arguments.length?(e=B,f(),o.forEach(d),A):e},alpha:function(B){return arguments.length?(t=+B,A):t},alphaMin:function(B){return arguments.length?(r=+B,A):r},alphaDecay:function(B){return arguments.length?(n=+B,A):+n},alphaTarget:function(B){return arguments.length?(i=+B,A):i},velocityDecay:function(B){return arguments.length?(s=1-B,A):1-s},randomSource:function(B){return arguments.length?(c=B,o.forEach(d),A):c},force:function(B,w){return arguments.length>1?(w==null?o.delete(B):o.set(B,d(w)),A):o.get(B)},find:function(B,w,h){var F=0,E=e.length,Q,C,y,H,U;for(h==null?h=1/0:h*=h,F=0;F<E;++F)H=e[F],Q=B-H.x,C=w-H.y,y=Q*Q+C*C,y<h&&(U=H,h=y);return U},on:function(B,w){return arguments.length>1?(l.on(B,w),A):l.on(B)}}}function ql(){var e,A,t,r,n=We(-30),i,s=1,o=1/0,a=.81;function l(f){var d,B=e.length,w=Vs(e,um,fm).visitAfter(g);for(r=f,d=0;d<B;++d)A=e[d],w.visit(u)}function c(){if(e){var f,d=e.length,B;for(i=new Array(d),f=0;f<d;++f)B=e[f],i[B.index]=+n(B,f,e)}}function g(f){var d=0,B,w,h=0,F,E,Q;if(f.length){for(F=E=Q=0;Q<4;++Q)(B=f[Q])&&(w=Math.abs(B.value))&&(d+=B.value,h+=w,F+=w*B.x,E+=w*B.y);f.x=F/h,f.y=E/h}else{B=f,B.x=B.data.x,B.y=B.data.y;do d+=i[B.data.index];while(B=B.next)}f.value=d}function u(f,d,B,w){if(!f.value)return!0;var h=f.x-A.x,F=f.y-A.y,E=w-d,Q=h*h+F*F;if(E*E/a<Q)return Q<o&&(h===0&&(h=Kt(t),Q+=h*h),F===0&&(F=Kt(t),Q+=F*F),Q<s&&(Q=Math.sqrt(s*Q)),A.vx+=h*f.value*r/Q,A.vy+=F*f.value*r/Q),!0;if(f.length||Q>=o)return;(f.data!==A||f.next)&&(h===0&&(h=Kt(t),Q+=h*h),F===0&&(F=Kt(t),Q+=F*F),Q<s&&(Q=Math.sqrt(s*Q)));do f.data!==A&&(E=i[f.data.index]*r/Q,A.vx+=h*E,A.vy+=F*E);while(f=f.next)}return l.initialize=function(f,d){e=f,t=d,c()},l.strength=function(f){return arguments.length?(n=typeof f=="function"?f:We(+f),c(),l):n},l.distanceMin=function(f){return arguments.length?(s=f*f,l):Math.sqrt(s)},l.distanceMax=function(f){return arguments.length?(o=f*f,l):Math.sqrt(o)},l.theta=function(f){return arguments.length?(a=f*f,l):Math.sqrt(a)},l}function Ac(e){var A=We(.1),t,r,n;typeof e!="function"&&(e=We(e==null?0:+e));function i(o){for(var a=0,l=t.length,c;a<l;++a)c=t[a],c.vx+=(n[a]-c.x)*r[a]*o}function s(){if(t){var o,a=t.length;for(r=new Array(a),n=new Array(a),o=0;o<a;++o)r[o]=isNaN(n[o]=+e(t[o],o,t))?0:+A(t[o],o,t)}}return i.initialize=function(o){t=o,s()},i.strength=function(o){return arguments.length?(A=typeof o=="function"?o:We(+o),s(),i):A},i.x=function(o){return arguments.length?(e=typeof o=="function"?o:We(+o),s(),i):e},i}function ec(e){var A=We(.1),t,r,n;typeof e!="function"&&(e=We(e==null?0:+e));function i(o){for(var a=0,l=t.length,c;a<l;++a)c=t[a],c.vy+=(n[a]-c.y)*r[a]*o}function s(){if(t){var o,a=t.length;for(r=new Array(a),n=new Array(a),o=0;o<a;++o)r[o]=isNaN(n[o]=+e(t[o],o,t))?0:+A(t[o],o,t)}}return i.initialize=function(o){t=o,s()},i.strength=function(o){return arguments.length?(A=typeof o=="function"?o:We(+o),s(),i):A},i.y=function(o){return arguments.length?(e=typeof o=="function"?o:We(+o),s(),i):e},i}function dm(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ii(e,A){if((t=(e=A?e.toExponential(A-1):e.toExponential()).indexOf("e"))<0)return null;var t,r=e.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+e.slice(t+1)]}function hr(e){return e=ii(Math.abs(e)),e?e[1]:NaN}function hm(e,A){return function(t,r){for(var n=t.length,i=[],s=0,o=e[0],a=0;n>0&&o>0&&(a+o+1>r&&(o=Math.max(1,r-a)),i.push(t.substring(n-=o,n+o)),!((a+=o+1)>r));)o=e[s=(s+1)%e.length];return i.reverse().join(A)}}function wm(e){return function(A){return A.replace(/[0-9]/g,function(t){return e[+t]})}}var pm=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function si(e){if(!(A=pm.exec(e)))throw new Error("invalid format: "+e);var A;return new Ps({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}si.prototype=Ps.prototype;function Ps(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ps.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function mm(e){A:for(var A=e.length,t=1,r=-1,n;t<A;++t)switch(e[t]){case".":r=n=t;break;case"0":r===0&&(r=t),n=t;break;default:if(!+e[t])break A;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(n+1):e}var tc;function Qm(e,A){var t=ii(e,A);if(!t)return e+"";var r=t[0],n=t[1],i=n-(tc=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ii(e,Math.max(0,A+i-1))[0]}function rc(e,A){var t=ii(e,A);if(!t)return e+"";var r=t[0],n=t[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}const nc={"%":(e,A)=>(e*100).toFixed(A),b:e=>Math.round(e).toString(2),c:e=>e+"",d:dm,e:(e,A)=>e.toExponential(A),f:(e,A)=>e.toFixed(A),g:(e,A)=>e.toPrecision(A),o:e=>Math.round(e).toString(8),p:(e,A)=>rc(e*100,A),r:rc,s:Qm,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ic(e){return e}var sc=Array.prototype.map,oc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Cm(e){var A=e.grouping===void 0||e.thousands===void 0?ic:hm(sc.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?ic:wm(sc.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function l(g){g=si(g);var u=g.fill,f=g.align,d=g.sign,B=g.symbol,w=g.zero,h=g.width,F=g.comma,E=g.precision,Q=g.trim,C=g.type;C==="n"?(F=!0,C="g"):nc[C]||(E===void 0&&(E=12),Q=!0,C="g"),(w||u==="0"&&f==="=")&&(w=!0,u="0",f="=");var y=B==="$"?t:B==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",H=B==="$"?r:/[%p]/.test(C)?s:"",U=nc[C],I=/[defgprs%]/.test(C);E=E===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function L(x){var M=y,V=H,S,P,k;if(C==="c")V=U(x)+V,x="";else{x=+x;var z=x<0||1/x<0;if(x=isNaN(x)?a:U(Math.abs(x),E),Q&&(x=mm(x)),z&&+x==0&&d!=="+"&&(z=!1),M=(z?d==="("?d:o:d==="-"||d==="("?"":d)+M,V=(C==="s"?oc[8+tc/3]:"")+V+(z&&d==="("?")":""),I){for(S=-1,P=x.length;++S<P;)if(k=x.charCodeAt(S),48>k||k>57){V=(k===46?n+x.slice(S+1):x.slice(S))+V,x=x.slice(0,S);break}}}F&&!w&&(x=A(x,1/0));var N=M.length+x.length+V.length,W=N<h?new Array(h-N+1).join(u):"";switch(F&&w&&(x=A(W+x,W.length?h-V.length:1/0),W=""),f){case"<":x=M+x+V+W;break;case"=":x=M+W+x+V;break;case"^":x=W.slice(0,N=W.length>>1)+M+x+V+W.slice(N);break;default:x=W+M+x+V;break}return i(x)}return L.toString=function(){return g+""},L}function c(g,u){var f=l((g=si(g),g.type="f",g)),d=Math.max(-8,Math.min(8,Math.floor(hr(u)/3)))*3,B=Math.pow(10,-d),w=oc[8+d/3];return function(h){return f(B*h)+w}}return{format:l,formatPrefix:c}}var oi,ac,lc;vm({thousands:",",grouping:[3],currency:["$",""]});function vm(e){return oi=Cm(e),ac=oi.format,lc=oi.formatPrefix,oi}function Um(e){return Math.max(0,-hr(Math.abs(e)))}function Fm(e,A){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hr(A)/3)))*3-hr(Math.abs(e)))}function ym(e,A){return e=Math.abs(e),A=Math.abs(A)-e,Math.max(0,hr(A)-hr(e))+1}function Xs(e,A){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(A).domain(e);break}return this}const cc=Symbol("implicit");function uc(){var e=new $a,A=[],t=[],r=cc;function n(i){let s=e.get(i);if(s===void 0){if(r!==cc)return r;e.set(i,s=A.push(i)-1)}return t[s%t.length]}return n.domain=function(i){if(!arguments.length)return A.slice();A=[],e=new $a;for(const s of i)e.has(s)||e.set(s,A.push(s)-1);return n},n.range=function(i){return arguments.length?(t=Array.from(i),n):t.slice()},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return uc(A,t).unknown(r)},Xs.apply(n,arguments),n}function fc(){var e=uc().unknown(void 0),A=e.domain,t=e.range,r=0,n=1,i,s,o=!1,a=0,l=0,c=.5;delete e.unknown;function g(){var u=A().length,f=n<r,d=f?n:r,B=f?r:n;i=(B-d)/Math.max(1,u-a+l*2),o&&(i=Math.floor(i)),d+=(B-d-i*(u-a))*c,s=i*(1-a),o&&(d=Math.round(d),s=Math.round(s));var w=Tn(u).map(function(h){return d+i*h});return t(f?w.reverse():w)}return e.domain=function(u){return arguments.length?(A(u),g()):A()},e.range=function(u){return arguments.length?([r,n]=u,r=+r,n=+n,g()):[r,n]},e.rangeRound=function(u){return[r,n]=u,r=+r,n=+n,o=!0,g()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(u){return arguments.length?(o=!!u,g()):o},e.padding=function(u){return arguments.length?(a=Math.min(1,l=+u),g()):a},e.paddingInner=function(u){return arguments.length?(a=Math.min(1,u),g()):a},e.paddingOuter=function(u){return arguments.length?(l=+u,g()):l},e.align=function(u){return arguments.length?(c=Math.max(0,Math.min(1,u)),g()):c},e.copy=function(){return fc(A(),[r,n]).round(o).paddingInner(a).paddingOuter(l).align(c)},Xs.apply(g(),arguments)}function _m(e){return function(){return e}}function bm(e){return+e}var gc=[0,1];function wr(e){return e}function Js(e,A){return(A-=e=+e)?function(t){return(t-e)/A}:_m(isNaN(A)?NaN:.5)}function Em(e,A){var t;return e>A&&(t=e,e=A,A=t),function(r){return Math.max(e,Math.min(A,r))}}function Hm(e,A,t){var r=e[0],n=e[1],i=A[0],s=A[1];return n<r?(r=Js(n,r),i=t(s,i)):(r=Js(r,n),i=t(i,s)),function(o){return i(r(o))}}function Im(e,A,t){var r=Math.min(e.length,A.length)-1,n=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),A=A.slice().reverse());++s<r;)n[s]=Js(e[s],e[s+1]),i[s]=t(A[s],A[s+1]);return function(o){var a=qd(e,o,1,r)-1;return i[a](n[a](o))}}function Sm(e,A){return A.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function xm(){var e=gc,A=gc,t=Ls,r,n,i,s=wr,o,a,l;function c(){var u=Math.min(e.length,A.length);return s!==wr&&(s=Em(e[0],e[u-1])),o=u>2?Im:Hm,a=l=null,g}function g(u){return u==null||isNaN(u=+u)?i:(a||(a=o(e.map(r),A,t)))(r(s(u)))}return g.invert=function(u){return s(n((l||(l=o(A,e.map(r),ot)))(u)))},g.domain=function(u){return arguments.length?(e=Array.from(u,bm),c()):e.slice()},g.range=function(u){return arguments.length?(A=Array.from(u),c()):A.slice()},g.rangeRound=function(u){return A=Array.from(u),t=U0,c()},g.clamp=function(u){return arguments.length?(s=u?!0:wr,c()):s!==wr},g.interpolate=function(u){return arguments.length?(t=u,c()):t},g.unknown=function(u){return arguments.length?(i=u,g):i},function(u,f){return r=u,n=f,c()}}function Lm(){return xm()(wr,wr)}function km(e,A,t,r){var n=oh(e,A,t),i;switch(r=si(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(A));return r.precision==null&&!isNaN(i=Fm(n,s))&&(r.precision=i),lc(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=ym(n,Math.max(Math.abs(e),Math.abs(A))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Um(n))&&(r.precision=i-(r.type==="%")*2);break}}return ac(r)}function Km(e){var A=e.domain;return e.ticks=function(t){var r=A();return sh(r[0],r[r.length-1],t??10)},e.tickFormat=function(t,r){var n=A();return km(n[0],n[n.length-1],t??10,r)},e.nice=function(t){t==null&&(t=10);var r=A(),n=0,i=r.length-1,s=r[n],o=r[i],a,l,c=10;for(o<s&&(l=s,s=o,o=l,l=n,n=i,i=l);c-- >0;){if(l=Qs(s,o,t),l===a)return r[n]=s,r[i]=o,A(r);if(l>0)s=Math.floor(s/l)*l,o=Math.ceil(o/l)*l;else if(l<0)s=Math.ceil(s*l)/l,o=Math.floor(o*l)/l;else break;a=l}return e},e}function Jr(){var e=Lm();return e.copy=function(){return Sm(e,Jr())},Xs.apply(e,arguments),Km(e)}const ai=e=>()=>e;function Mm(e,{sourceEvent:A,target:t,transform:r,dispatch:n}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:A,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:n}})}function Ft(e,A,t){this.k=e,this.x=A,this.y=t}Ft.prototype={constructor:Ft,scale:function(e){return e===1?this:new Ft(this.k*e,this.x,this.y)},translate:function(e,A){return e===0&A===0?this:new Ft(this.k,this.x+this.k*e,this.y+this.k*A)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ws=new Ft(1,0,0);Ft.prototype;function Ys(e){e.stopImmediatePropagation()}function Wr(e){e.preventDefault(),e.stopImmediatePropagation()}function Dm(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Tm(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Bc(){return this.__zoom||Ws}function Om(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Nm(){return navigator.maxTouchPoints||"ontouchstart"in this}function Rm(e,A,t){var r=e.invertX(A[0][0])-t[0][0],n=e.invertX(A[1][0])-t[1][0],i=e.invertY(A[0][1])-t[0][1],s=e.invertY(A[1][1])-t[1][1];return e.translate(n>r?(r+n)/2:Math.min(0,r)||Math.max(0,n),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function dc(){var e=Dm,A=Tm,t=Rm,r=Om,n=Nm,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,a=S0,l=Mr("start","zoom","end"),c,g,u,f=500,d=150,B=0,w=10;function h(S){S.property("__zoom",Bc).on("wheel.zoom",U,{passive:!1}).on("mousedown.zoom",I).on("dblclick.zoom",L).filter(n).on("touchstart.zoom",x).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.transform=function(S,P,k,z){var N=S.selection?S.selection():S;N.property("__zoom",Bc),S!==N?C(S,P,k,z):N.interrupt().each(function(){y(this,arguments).event(z).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},h.scaleBy=function(S,P,k,z){h.scaleTo(S,function(){var N=this.__zoom.k,W=typeof P=="function"?P.apply(this,arguments):P;return N*W},k,z)},h.scaleTo=function(S,P,k,z){h.transform(S,function(){var N=A.apply(this,arguments),W=this.__zoom,J=k==null?Q(N):typeof k=="function"?k.apply(this,arguments):k,nA=W.invert(J),fA=typeof P=="function"?P.apply(this,arguments):P;return t(E(F(W,fA),J,nA),N,s)},k,z)},h.translateBy=function(S,P,k,z){h.transform(S,function(){return t(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof k=="function"?k.apply(this,arguments):k),A.apply(this,arguments),s)},null,z)},h.translateTo=function(S,P,k,z,N){h.transform(S,function(){var W=A.apply(this,arguments),J=this.__zoom,nA=z==null?Q(W):typeof z=="function"?z.apply(this,arguments):z;return t(Ws.translate(nA[0],nA[1]).scale(J.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof k=="function"?-k.apply(this,arguments):-k),W,s)},z,N)};function F(S,P){return P=Math.max(i[0],Math.min(i[1],P)),P===S.k?S:new Ft(P,S.x,S.y)}function E(S,P,k){var z=P[0]-k[0]*S.k,N=P[1]-k[1]*S.k;return z===S.x&&N===S.y?S:new Ft(S.k,z,N)}function Q(S){return[(+S[0][0]+ +S[1][0])/2,(+S[0][1]+ +S[1][1])/2]}function C(S,P,k,z){S.on("start.zoom",function(){y(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){y(this,arguments).event(z).end()}).tween("zoom",function(){var N=this,W=arguments,J=y(N,W).event(z),nA=A.apply(N,W),fA=k==null?Q(nA):typeof k=="function"?k.apply(N,W):k,pA=Math.max(nA[1][0]-nA[0][0],nA[1][1]-nA[0][1]),SA=N.__zoom,TA=typeof P=="function"?P.apply(N,W):P,xA=a(SA.invert(fA).concat(pA/SA.k),TA.invert(fA).concat(pA/TA.k));return function(FA){if(FA===1)FA=TA;else{var $=xA(FA),oA=pA/$[2];FA=new Ft(oA,fA[0]-$[0]*oA,fA[1]-$[1]*oA)}J.zoom(null,FA)}})}function y(S,P,k){return!k&&S.__zooming||new H(S,P)}function H(S,P){this.that=S,this.args=P,this.active=0,this.sourceEvent=null,this.extent=A.apply(S,P),this.taps=0}H.prototype={event:function(S){return S&&(this.sourceEvent=S),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(S,P){return this.mouse&&S!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&S!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&S!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(S){var P=we(this.that).datum();l.call(S,this.that,new Mm(S,{sourceEvent:this.sourceEvent,target:h,type:S,transform:this.that.__zoom,dispatch:l}),P)}};function U(S,...P){if(!e.apply(this,arguments))return;var k=y(this,P).event(S),z=this.__zoom,N=Math.max(i[0],Math.min(i[1],z.k*Math.pow(2,r.apply(this,arguments)))),W=be(S);if(k.wheel)(k.mouse[0][0]!==W[0]||k.mouse[0][1]!==W[1])&&(k.mouse[1]=z.invert(k.mouse[0]=W)),clearTimeout(k.wheel);else{if(z.k===N)return;k.mouse=[W,z.invert(W)],ni(this),k.start()}Wr(S),k.wheel=setTimeout(J,d),k.zoom("mouse",t(E(F(z,N),k.mouse[0],k.mouse[1]),k.extent,s));function J(){k.wheel=null,k.end()}}function I(S,...P){if(u||!e.apply(this,arguments))return;var k=S.currentTarget,z=y(this,P,!0).event(S),N=we(S.view).on("mousemove.zoom",fA,!0).on("mouseup.zoom",pA,!0),W=be(S,k),J=S.clientX,nA=S.clientY;wl(S.view),Ys(S),z.mouse=[W,this.__zoom.invert(W)],ni(this),z.start();function fA(SA){if(Wr(SA),!z.moved){var TA=SA.clientX-J,xA=SA.clientY-nA;z.moved=TA*TA+xA*xA>B}z.event(SA).zoom("mouse",t(E(z.that.__zoom,z.mouse[0]=be(SA,k),z.mouse[1]),z.extent,s))}function pA(SA){N.on("mousemove.zoom mouseup.zoom",null),pl(SA.view,z.moved),Wr(SA),z.event(SA).end()}}function L(S,...P){if(e.apply(this,arguments)){var k=this.__zoom,z=be(S.changedTouches?S.changedTouches[0]:S,this),N=k.invert(z),W=k.k*(S.shiftKey?.5:2),J=t(E(F(k,W),z,N),A.apply(this,P),s);Wr(S),o>0?we(this).transition().duration(o).call(C,J,z,S):we(this).call(h.transform,J,z,S)}}function x(S,...P){if(e.apply(this,arguments)){var k=S.touches,z=k.length,N=y(this,P,S.changedTouches.length===z).event(S),W,J,nA,fA;for(Ys(S),J=0;J<z;++J)nA=k[J],fA=be(nA,this),fA=[fA,this.__zoom.invert(fA),nA.identifier],N.touch0?!N.touch1&&N.touch0[2]!==fA[2]&&(N.touch1=fA,N.taps=0):(N.touch0=fA,W=!0,N.taps=1+!!c);c&&(c=clearTimeout(c)),W&&(N.taps<2&&(g=fA[0],c=setTimeout(function(){c=null},f)),ni(this),N.start())}}function M(S,...P){if(this.__zooming){var k=y(this,P).event(S),z=S.changedTouches,N=z.length,W,J,nA,fA;for(Wr(S),W=0;W<N;++W)J=z[W],nA=be(J,this),k.touch0&&k.touch0[2]===J.identifier?k.touch0[0]=nA:k.touch1&&k.touch1[2]===J.identifier&&(k.touch1[0]=nA);if(J=k.that.__zoom,k.touch1){var pA=k.touch0[0],SA=k.touch0[1],TA=k.touch1[0],xA=k.touch1[1],FA=(FA=TA[0]-pA[0])*FA+(FA=TA[1]-pA[1])*FA,$=($=xA[0]-SA[0])*$+($=xA[1]-SA[1])*$;J=F(J,Math.sqrt(FA/$)),nA=[(pA[0]+TA[0])/2,(pA[1]+TA[1])/2],fA=[(SA[0]+xA[0])/2,(SA[1]+xA[1])/2]}else if(k.touch0)nA=k.touch0[0],fA=k.touch0[1];else return;k.zoom("touch",t(E(J,nA,fA),k.extent,s))}}function V(S,...P){if(this.__zooming){var k=y(this,P).event(S),z=S.changedTouches,N=z.length,W,J;for(Ys(S),u&&clearTimeout(u),u=setTimeout(function(){u=null},f),W=0;W<N;++W)J=z[W],k.touch0&&k.touch0[2]===J.identifier?delete k.touch0:k.touch1&&k.touch1[2]===J.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(J=be(J,this),Math.hypot(g[0]-J[0],g[1]-J[1])<w)){var nA=we(this).on("dblclick.zoom");nA&&nA.apply(this,arguments)}}}return h.wheelDelta=function(S){return arguments.length?(r=typeof S=="function"?S:ai(+S),h):r},h.filter=function(S){return arguments.length?(e=typeof S=="function"?S:ai(!!S),h):e},h.touchable=function(S){return arguments.length?(n=typeof S=="function"?S:ai(!!S),h):n},h.extent=function(S){return arguments.length?(A=typeof S=="function"?S:ai([[+S[0][0],+S[0][1]],[+S[1][0],+S[1][1]]]),h):A},h.scaleExtent=function(S){return arguments.length?(i[0]=+S[0],i[1]=+S[1],h):[i[0],i[1]]},h.translateExtent=function(S){return arguments.length?(s[0][0]=+S[0][0],s[1][0]=+S[1][0],s[0][1]=+S[0][1],s[1][1]=+S[1][1],h):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},h.constrain=function(S){return arguments.length?(t=S,h):t},h.duration=function(S){return arguments.length?(o=+S,h):o},h.interpolate=function(S){return arguments.length?(a=S,h):a},h.on=function(){var S=l.on.apply(l,arguments);return S===l?h:S},h.clickDistance=function(S){return arguments.length?(B=(S=+S)*S,h):Math.sqrt(B)},h.tapDistance=function(S){return arguments.length?(w=+S,h):w},h}function Vm(e,A,t=null,r,n=null){const i=we(e);i.selectAll("*").remove();const s=i.node(),o=s.getBoundingClientRect();let a=o.width||800,l=o.height||600;const c=a/2,g=l/2,u=i.append("canvas").attr("class","network-canvas").attr("width",a).attr("height",l).style("width",a+"px").style("height",l+"px").style("cursor","default"),f=u.node().getContext("2d",{alpha:!1});let d=Ws;const B=new Set,w={current:null};function h(){const x=s.getBoundingClientRect(),M=x.width||800,V=x.height||600;(M!==a||V!==l)&&(a=M,l=V,u.attr("width",a).attr("height",l).style("width",a+"px").style("height",l+"px"),L())}const F=new ResizeObserver(h);F.observe(s);const E=jl(A).force("link",$l(t).id(x=>x.id).distance(x=>x.distance)).force("charge",ql().strength(-250)).force("center",Xl(c,g).strength(.7)).force("collide",Yl(x=>x.radius+10).strength(.5)).force("x",Ac(c).strength(.025)).force("y",ec(g).strength(.025)).alphaDecay(.05).velocityDecay(.6);let Q=null;E.on("tick",()=>{Q||(Q=requestAnimationFrame(()=>{L(),Q=null}))}),E.tick(100);for(let x=0;x<100;x++)E.tick();E.alphaTarget(0);const C=Gm({canvas:u,nodes:A,transform:()=>d,hoveredNode:w,onSelectionChange:(x,M)=>{B.clear(),x.forEach(S=>B.add(S));const V=Xm(A,x,M);r(V),L()},render:()=>L()}),y=dc().scaleExtent([.1,10]).filter(x=>!C.isSelectionMode()||x.type==="wheel").on("zoom",({transform:x})=>{d=x,L()});u.call(y);const{dragstarted:H,dragged:U,dragended:I}=Pm(u,A,E,()=>d,w,()=>!C.isSelectionMode(),L);C.setupInteractions(u,{start:H,drag:U,end:I});function L(){f.save(),f.fillRect(0,0,a,l),f.translate(d.x,d.y),f.scale(d.k,d.k),f.strokeStyle="#8a8a8a",f.lineWidth=1/d.k,t.forEach(M=>{const V=M.source.x,S=M.source.y,P=M.target.x,k=M.target.y;f.globalAlpha=Math.max(.2,M.strength),f.lineWidth=M.width/d.k,f.beginPath(),f.moveTo(V,S),f.lineTo(P,k),f.stroke()}),f.globalAlpha=1,A.forEach(M=>{const V=B.has(M.id);f.fillStyle=M.color,f.beginPath(),f.arc(M.x,M.y,M.radius,0,2*Math.PI),f.fill(),V&&(f.strokeStyle="#0f2bff",f.lineWidth=3/d.k,f.stroke())});const x=C.getSelectionRect();if(x){f.strokeStyle="#0f2bff",f.fillStyle="rgba(15, 43, 255, 0.2)",f.lineWidth=2/d.k;const M=Math.min(x.x1,x.x2),V=Math.min(x.y1,x.y2),S=Math.abs(x.x2-x.x1),P=Math.abs(x.y2-x.y1);f.fillRect(M,V,S,P),f.strokeRect(M,V,S,P)}f.restore()}return L(),{destroy:()=>{Q&&cancelAnimationFrame(Q),E.stop(),F.disconnect(),u.remove()},toggleSelectionMode:()=>{const x=C.toggleSelectionMode();return n&&n(x),L(),x}}}function Gm(e){const{canvas:A,nodes:t,transform:r,hoveredNode:n,onSelectionChange:i,render:s}=e,o=new Set,a=[];let l=!1,c=null;function g(){return l=!l,A.style("cursor",l?"crosshair":"default"),l}function u(B){if(o.has(B)){o.delete(B);const w=a.indexOf(B);w>-1&&a.splice(w,1)}else o.add(B),a.push(B);i(o,a)}function f(B,w){const h=r(),F=(B-h.x)/h.k,E=(w-h.y)/h.k;for(let Q=t.length-1;Q>=0;Q--){const C=t[Q],y=F-C.x,H=E-C.y;if(Math.sqrt(y*y+H*H)<C.radius)return C}return null}function d(B,w){let h=null;B.on("mousedown",function(F){const[E,Q]=be(F),C=f(E,Q);if(l){const y=r(),H=(E-y.x)/y.k,U=(Q-y.y)/y.k;c={x1:H,y1:U,x2:H,y2:U},s()}else C&&(h=C,w.start(F,C))}),B.on("mousemove",function(F){const[E,Q]=be(F);if(l){if(c){const C=r(),y=(E-C.x)/C.k,H=(Q-C.y)/C.k;c.x2=y,c.y2=H,s()}}else if(h)w.drag(F,h,E,Q);else{const C=f(E,Q);n.current!==C&&(n.current=C,B.style("cursor",C?"pointer":"default"),s())}}),B.on("mouseup",function(F){if(l){if(c){const E=Math.min(c.x1,c.x2),Q=Math.min(c.y1,c.y2),C=Math.max(c.x1,c.x2),y=Math.max(c.y1,c.y2);o.clear(),a.length=0;const H=[];t.forEach(U=>{U.x>=E&&U.x<=C&&U.y>=Q&&U.y<=y&&H.push({id:U.id,y:U.y})}),H.sort((U,I)=>U.y-I.y),H.forEach(({id:U})=>{o.add(U),a.push(U)}),i(o,a),c=null,s()}}else if(h)w.end(F,h),h=null;else{const[E,Q]=be(F),C=f(E,Q);C&&u(C.id)}})}return{toggleSelectionMode:g,isSelectionMode:()=>l,setupInteractions:d,getSelectionRect:()=>c}}function Pm(e,A,t,r,n,i,s){let o=null;function a(g,u){i()&&(g.active||t.alphaTarget(.3).restart(),o=u,u.fx=u.x,u.fy=u.y)}function l(g,u,f,d){if(!o||!i())return;const B=r();u.fx=(f-B.x)/B.k,u.fy=(d-B.y)/B.k,s()}function c(g,u){!o||!i()||(g.active||t.alphaTarget(0),u.fx=null,u.fy=null,o=null)}return{dragstarted:a,dragged:l,dragended:c}}function Xm(e,A,t){const r=new Map(e.map(n=>[n.id,n]));return t.map(n=>r.get(n)).filter(Boolean)}const hc=8,Jm=1.5,Wm=50,wc=.5,Ym=800,zm=600;function $m(e,A,t=null,r=null,n=null){const i=Ym/2,s=zm/2,a=we(e).append("svg").attr("class","network-svg"),l=a.append("g"),c=l.append("g").selectAll("line").data(t).join("line").attr("class","link").attr("stroke-width",d=>d.width||Jm).attr("stroke-opacity",d=>Math.max(.2,d.strength||wc)),g=l.append("g").selectAll("circle").data(A).join("circle").attr("class","node").attr("r",d=>d.radius||hc).attr("fill",d=>d.color);g.append("title").text(d=>d.label);const u=jl(A).force("link",$l(t).id(d=>d.id).distance(d=>d.distance||Wm)).force("charge",ql().strength(-250)).force("center",Xl(i,s).strength(.7)).force("collide",Yl(d=>(d.radius||hc)+10).strength(wc)).force("x",Ac(i).strength(.025)).force("y",ec(s).strength(.025));let f=null;if(r){f=Zm({svg:a,g:l,nodes:A,onSelectionChange:(h,F)=>{g.classed("selected",Q=>h.has(Q.id));const E=qm(A,h,F);r(E)}}),a.call(dc().scaleExtent([.1,10]).filter(h=>!f.isSelectionMode()||h.type==="wheel").on("zoom",({transform:h})=>l.attr("transform",h)));const{dragstarted:d,dragged:B,dragended:w}=jm(u,c,g);f.setupNodeClick(g),f.setupDrag(g,{start:d,drag:B,end:w})}return{destroy:()=>{u.stop(),a.remove()},toggleSelectionMode:()=>{if(f){const d=f.toggleSelectionMode();return n&&n(d),d}}}}function Zm(e){const{svg:A,g:t,nodes:r,onSelectionChange:n,getNodePosition:i=B=>({x:B.x,y:B.y}),getNodeId:s=B=>B.id}=e,o=new Set,a=[];let l=!1;function c(){return l=!l,A.style("cursor",l?"crosshair":"default"),l}function g(B){if(o.has(B)){o.delete(B);const w=a.indexOf(B);w>-1&&a.splice(w,1)}else o.add(B),a.push(B);n(o,a)}function u(){o.clear(),a.length=0,n(o,a)}let f=null,d=null;return A.on("mousedown",function(B){if(!l)return;B.preventDefault();const[w,h]=be(B,t.node());f={x:w,y:h},d=t.append("rect").attr("class","selection-rect").attr("x",w).attr("y",h).attr("width",0).attr("height",0)}).on("mousemove",function(B){if(!l||!d)return;const[w,h]=be(B,t.node()),F=w-f.x,E=h-f.y;d.attr("x",F<0?w:f.x).attr("y",E<0?h:f.y).attr("width",Math.abs(F)).attr("height",Math.abs(E))}).on("mouseup",function(B){if(!l||!d)return;const[w,h]=be(B,t.node()),F=Math.min(f.x,w),E=Math.min(f.y,h),Q=Math.max(f.x,w),C=Math.max(f.y,h);o.clear(),a.length=0;const y=[];r.forEach(H=>{const U=i(H);U.x>=F&&U.x<=Q&&U.y>=E&&U.y<=C&&y.push({id:s(H),y:U.y})}),y.sort((H,U)=>H.y-U.y),y.forEach(({id:H})=>{o.add(H),a.push(H)}),n(o,a),d.remove(),d=null,f=null}),{toggleSelectionMode:c,toggleNode:g,clearSelection:u,isSelectionMode:()=>l,getSelectedNodes:()=>o,getSelectionOrder:()=>a,setupNodeClick:B=>{B.on("click",function(w,h){w.stopPropagation(),g(s(h))})},setupDrag:(B,w)=>{B.call(e0().filter(()=>!l).on("start",w.start).on("drag",w.drag).on("end",w.end))}}}function jm(e,A,t){e.on("tick",()=>{A.attr("x1",s=>s.source.x).attr("y1",s=>s.source.y).attr("x2",s=>s.target.x).attr("y2",s=>s.target.y),t.attr("cx",s=>s.x).attr("cy",s=>s.y)});function r(s){s.active||e.alphaTarget(.3).restart(),s.subject.fx=s.subject.x,s.subject.fy=s.subject.y}function n(s){s.subject.fx=s.x,s.subject.fy=s.y}function i(s){s.active||e.alphaTarget(0),s.subject.fx=null,s.subject.fy=null}return{dragstarted:r,dragged:n,dragended:i}}function qm(e,A,t){const r=new Map(e.map(n=>[n.id,n]));return t.map(n=>r.get(n)).filter(Boolean)}const AQ=/^(?:(\d+)_)?wit(\d+)_([a-z]{3})(\d+)(?:_anno(\d+))?_(\d+)(?:_([\d,]+))?(?:\.jpg)?$/;function eQ(e){if(!e)return null;const A=e.match(AQ);if(!A)return null;const[,t,r,n,i,s,o,a]=A;return{witnessId:parseInt(r,10),digitizationType:n,digitizationId:parseInt(i,10),regionId:t?parseInt(t,10):s?parseInt(s,10):null,canvasNb:parseInt(o,10),canvasDigits:o.length,coord:a?a.split(",").map(Number):null,imgRoot:`wit${r}_${n}${i}_${o}.jpg`}}class li{constructor(A){this.id=A.id,this.img=A.img??A.ref,this.title=A.title,this.xywh=Array.isArray(A.xywh)?A.xywh.map(Number):A.xywh,this.canvas=A.canvas,this.ref=A.ref,this.type=A.type??QB,this._parsed=null}get parsed(){return this._parsed||(this._parsed=eQ(this.img)||{}),this._parsed}get witnessId(){return this.parsed.witnessId}get regionId(){return this.parsed.regionId}get canvasNb(){return this.parsed.canvasNb}get canvasDigits(){return this.parsed.canvasDigits}get imgRoot(){return this.parsed.imgRoot}get coord(){return this.parsed.coord??this.xywh}canvasStr(A=this.canvasNb,t=this.canvasDigits){return String(A).padStart(t,"0")}get iiifRoot(){return this.imgRoot?`${Sn()}/iiif/2/${this.imgRoot}`:null}url(A=null,t="full"){if(!this.iiifRoot)return"https://placehold.co/96x96/png?text=No+image";let r=A??this.coord??"full";return Array.isArray(r)&&(r=r.join(",")),`${this.iiifRoot}/${r}/${t}/0/default.jpg`}infoUrl(){return this.iiifRoot?`${this.iiifRoot}/info.json`:null}urlForCanvas(A=this.canvasNb,t="full",r="full"){const n=this.imgRoot.replace(`_${this.canvasStr()}.jpg`,`_${this.canvasStr(A)}.jpg`),i=Array.isArray(t)?t.join(","):t;return`${Sn()}/iiif/2/${n}/${i}/${r}/0/default.jpg`}infoUrlForCanvas(A=this.canvasNb){const t=this.imgRoot.replace(`_${this.canvasStr()}.jpg`,`_${this.canvasStr(A)}.jpg`);return`${Sn()}/iiif/2/${t}/info.json`}}function tQ(){const e=`${window.location.origin}${window.location.pathname}`,A=YA(1),t=YA({}),r=YA({}),n=YA("");fa(A,"p");function i(c){n.update(g=>{const u=g===c?"":c;return navigator.clipboard.writeText(u).then(f=>""),u})}const s=(async()=>{try{const c=await fetch(`${e}canvas`);if(!c.ok)return{};const g=await c.json();let u={};return Object.values(g).forEach(f=>{Object.entries(f).forEach(([d,B])=>{u[d]=B})}),t.set(u),g}catch{return{}}})(),o=Fe(A,c=>(async()=>{const u=await(await fetch(`${e}canvas?p=${c}`)).json();return r.set(u),u})());function a(c){ga(c,A,"p")}function l(c){t.update(g=>(delete g[c],{...g})),r.update(g=>{for(const u in g)if(g[u][c]){const{[c]:f,...d}=g[u];return g[u]=d,g}return g})}return{currentPage:A,pageRegions:r,allRegions:t,fetchPages:o,fetchAll:s,handlePageUpdate:a,remove:l,clipBoard:n,copyRef:i}}const pc=tQ();function zs(e){const{type:A,modelName:t,title:r,extractMeta:n=f=>f}=e,i={id:null,type:A,title:r,is_public:!1,selected:{}},s=JSON.parse(localStorage.getItem(A))||i,o=YA(s),a=YA(!1);function l(f,d=!1){a.set(d),localStorage.setItem(A,JSON.stringify(f))}function c(){o.update(f=>{if(A!=="documentSet")return console.error("Document set management is the only type currently supported for saving."),f;const d=Object.fromEntries(Object.entries(f.selected).map(([w,h])=>[w,Object.keys(h)])),B=f.id?`${f.id}/edit`:"new";return fetch(`${window.location.origin}/${t}/${B}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":fs},body:JSON.stringify({title:f.title,is_public:f.is_public,selection:f,...d})}).then(w=>w.json()).then(w=>{if(!(w!=null&&w.document_set_id))throw new Error("Failed to save");o.update(h=>(h.id=w.document_set_id,h.title=w.document_set_title,h.is_public=w.is_public,l(h,!0),h))}).catch(w=>console.error("Error:",w)),f})}const g=f=>o.update(()=>{const d=f.selection.id?f.selection:{...f.selection,id:f.id};return l(d),d}),u=()=>o.update(()=>{const f={...i,selected:{}};return l(f),f});return{type:A,subscribe:o.subscribe,add:f=>o.update(d=>(d.selected[f.class]={...d.selected[f.class]||{},[f.id]:n(f)},l(d),d)),addAll:f=>o.update(d=>(f.forEach(B=>{d.selected[B.class]={...d.selected[B.class]||{},[B.id]:n(B)}}),l(d),d)),remove:(f,d)=>o.update(B=>{const{[f]:w,...h}=B.selected[d];return B.selected[d]=h,l(B),B}),removeAll:(f,d)=>o.update(B=>(f.forEach(w=>{var h;return(h=B.selected[d])==null?!0:delete h[w]}),l(B),B)),toggle:f=>o.update(d=>{var B;if((B=d.selected[f.class])!=null&&B[f.id]){const{[f.id]:w,...h}=d.selected[f.class];d.selected[f.class]=h}else d.selected[f.class]={...d.selected[f.class]||{},[f.id]:n(f)};return l(d),d}),toggleSet:f=>{_e(o).id===f.id?u():g(f)},empty:()=>o.update(f=>(f.id=null,f.title=r,f.selected={},l(f,!0),f)),updateTitle:f=>o.update(d=>(d.title=f,l(d,!0),d)),updatePublic:f=>o.update(d=>(d.is_public=f,l(d,!0),d)),save:c,isSaved:a,selection:o,selectionTitle:Fe(o,f=>f.title),isSelected:Fe(o,f=>d=>{var B;return((B=f.selected[d.class])==null?void 0:B[d.id])||!1}),selected:Fe(o,f=>f.selected),nbSelected:Fe(o,f=>Object.entries(f.selected).reduce((d,[B,w])=>B==="User"?d:d+Object.keys(w).length,0)),isSetSelected:Fe(o,f=>d=>f.id===d.id)}}const rQ=zs({type:"documentSet",modelName:"document-set",title:rA==="en"?"Document set":"Set de documents",extractMeta:e=>({title:e.title,url:e.url})}),mc=zs({type:"regionsSet",modelName:"regions-set",title:rA==="en"?"Regions set":"Set de régions",extractMeta:e=>e});function nQ(e){if(!e.startsWith("wit"))return e;const[A,...t]=e.split("_wit");return`wit${t}`}const ci=zs({type:"clusterSet",modelName:"cluster-set",title:rA==="en"?"Selected regions":"Régions sélectionnées",extractMeta:e=>({imgRef:e.id,clusterId:e.clusterId,title:e.title,xywh:e.xywh,img:nQ(e.id)})}),yb="";function iQ(e){let A,t,r,n,i,s,o,a,l,c,g;return a=new ms({props:{targetHtmlId:e[1],tooltipText:e[2]}}),{c(){A=v("div"),t=v("button"),r=pt("svg"),n=pt("path"),i=pt("path"),s=pt("path"),o=O(),kA(a.$$.fragment),m(n,"d","M53.6443 14.25C47.7042 5.33 37.7293 0 26.9801 0C16.2206 0 6.24576 5.33 0.305653 14.25L0 14.71L0.305653 15.17C6.24576 24.09 16.2206 29.42 26.9801 29.42C37.7293 29.42 47.7042 24.09 53.6443 15.16L53.95 14.71L53.6443 14.25ZM3.25025 14.71C7.63146 8.69001 14.0606 4.65 21.2641 3.22C20.0619 3.83 18.9411 4.62 17.963 5.59C15.5176 8.02 14.1625 11.25 14.1625 14.67C14.1625 18.11 15.5176 21.34 17.963 23.76C19.0124 24.79 20.1943 25.61 21.4781 26.23C14.1829 24.85 7.6824 20.78 3.25025 14.71ZM27.1125 22.64C22.7008 22.64 19.1041 19.08 19.1041 14.7C19.1041 12.59 19.9396 10.6 21.4475 9.10001C22.9555 7.60001 24.9729 6.77 27.1125 6.77C29.2522 6.77 31.2594 7.60001 32.7775 9.10001C34.2855 10.6 35.121 12.59 35.121 14.7C35.121 16.82 34.2855 18.82 32.7775 20.32C31.2594 21.81 29.242 22.64 27.1125 22.64ZM32.9915 26.14C34.204 25.53 35.3146 24.74 36.3029 23.77C38.7482 21.34 40.0932 18.11 40.0932 14.68C40.0932 9.75 37.281 5.47001 33.1647 3.32001C40.1747 4.81001 46.4102 8.83001 50.6896 14.71C46.3797 20.64 40.0728 24.67 32.9915 26.14Z"),m(n,"class","svelte-109pj58"),m(i,"d","M26.9804 25.98C33.3222 25.98 38.4633 20.9343 38.4633 14.71C38.4633 8.48576 33.3222 3.44 26.9804 3.44C20.6386 3.44 15.4976 8.48576 15.4976 14.71C15.4976 20.9343 20.6386 25.98 26.9804 25.98Z"),m(i,"class","svelte-109pj58"),m(s,"d","M17.9529 23.85L36.2928 5.85001"),m(s,"stroke-width","3"),m(s,"stroke-miterlimit","10"),m(s,"class","svelte-109pj58"),m(r,"width","54"),m(r,"height","30"),m(r,"viewBox","0 0 54 30"),m(r,"fill","none"),m(r,"xmlns","http://www.w3.org/2000/svg"),m(r,"class","svelte-109pj58"),m(t,"class","button tag svelte-109pj58"),m(t,"title",e[2]),m(A,"id",e[1])},m(u,f){T(u,A,f),p(A,t),p(t,r),p(r,n),p(r,i),p(r,s),p(t,o),HA(a,t,null),l=!0,c||(g=mA(t,"click",na(e[3])),c=!0)},p:sA,i(u){l||(R(a.$$.fragment,u),l=!0)},o(u){Y(a.$$.fragment,u),l=!1},d(u){u&&D(A),IA(a),c=!1,g()}}}function sQ(e){const A=vn(),t=`modal-opener-${window.crypto.randomUUID()}`;return[A,t,rA==="fr"?"Vue détaillée":"Detailed view",()=>A("open")]}class oQ extends ne{constructor(A){super(),re(this,A,sQ,iQ,qA,{})}}const _b="",aQ=e=>({}),Qc=e=>({});function Cc(e){let A,t,r,n,i,s;function o(f,d){return f[10]?cQ:lQ}let a=o(e),l=a(e);function c(f,d){return f[10]?fQ:uQ}let g=c(e),u=g(e);return{c(){A=v("button"),t=pt("svg"),l.c(),r=O(),n=v("span"),u.c(),m(t,"xmlns","http://www.w3.org/2000/svg"),m(t,"viewBox","0 0 384 512"),m(t,"class","svelte-g5axbe"),m(n,"class","tooltip"),m(A,"class","button tag")},m(f,d){T(f,A,d),p(A,t),l.m(t,null),p(A,r),p(A,n),u.m(n,null),i||(s=mA(A,"click",na(e[21])),i=!0)},p(f,d){a!==(a=o(f))&&(l.d(1),l=a(f),l&&(l.c(),l.m(t,null))),g===(g=c(f))&&u?u.p(f,d):(u.d(1),u=g(f),u&&(u.c(),u.m(n,null)))},d(f){f&&D(A),l.d(),u.d(),i=!1,s()}}}function lQ(e){let A;return{c(){A=pt("path"),m(A,"d","M384 336H192c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16l140.1 0L400 115.9V320c0 8.8-7.2 16-16 16zM192 384H384c35.3 0 64-28.7 64-64V115.9c0-12.7-5.1-24.9-14.1-33.9L366.1 14.1c-9-9-21.2-14.1-33.9-14.1H192c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64zM64 128c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H256c35.3 0 64-28.7 64-64V416H272v32c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192c0-8.8 7.2-16 16-16H96V128H64z"),m(A,"class","svelte-g5axbe")},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function cQ(e){let A;return{c(){A=pt("path"),m(A,"d","M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"),m(A,"class","svelte-g5axbe")},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function uQ(e){let A=rA==="en"?"Copy ID":"Copier l'ID",t;return{c(){t=aA(A)},m(r,n){T(r,t,n)},p:sA,d(r){r&&D(t)}}}function fQ(e){let A=rA==="en"?"Copied!":"Copié !",t;return{c(){t=aA(A)},m(r,n){T(r,t,n)},p:sA,d(r){r&&D(t)}}}function vc(e){let A,t;return A=new oQ({}),A.$on("open",e[14]),{c(){kA(A.$$.fragment)},m(r,n){HA(A,r,n),t=!0},p:sA,i(r){t||(R(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){IA(A,r)}}}function gQ(e){let A,t,r,n,i,s,o,a=e[8].title+"",l,c,g,u,f,d,B,w,h,F,E,Q=e[4]&&Cc(e),C=!e[5]&&vc(e);const y=e[19].actions,H=Ne(y,e,e[18],Qc);return{c(){A=v("div"),t=v("figure"),r=v("img"),i=O(),s=v("div"),o=v("span"),g=O(),u=v("div"),Q&&Q.c(),f=O(),C&&C.c(),d=O(),H&&H.c(),m(r,"class","region-img svelte-g5axbe"),ut(r.src,n=e[9])||m(r,"src",n),m(r,"alt","Extracted region"),m(o,"class","overlay-desc"),m(s,"class","overlay is-center svelte-g5axbe"),m(t,"class",l="image card region-image "+(e[0]?"is-96x96":"")+" svelte-g5axbe"),m(t,"tabindex","-1"),m(t,"style",c=(e[7]==="full"?"height: 100%":`height: ${e[7]}px; min-width: ${e[7]}px`)+"; "+(e[3]?`border: 5px solid ${e[3]};`:"")),m(u,"class","region-btn ml-1"),m(A,"class",B="region is-center "+(e[6]&&e[11](e[2])?"checked":"")+" svelte-g5axbe"),m(A,"style",w=e[7]==="full"?"height: 100%":"")},m(U,I){T(U,A,I),p(A,t),p(t,r),p(t,i),p(t,s),p(s,o),o.innerHTML=a,p(A,g),p(A,u),Q&&Q.m(u,null),p(u,f),C&&C.m(u,null),p(u,d),H&&H.m(u,null),h=!0,F||(E=[mA(t,"click",e[20]),mA(t,"keyup",null)],F=!0)},p(U,[I]){(!h||I&512&&!ut(r.src,n=U[9]))&&m(r,"src",n),(!h||I&256)&&a!==(a=U[8].title+"")&&(o.innerHTML=a),(!h||I&1&&l!==(l="image card region-image "+(U[0]?"is-96x96":"")+" svelte-g5axbe"))&&m(t,"class",l),(!h||I&136&&c!==(c=(U[7]==="full"?"height: 100%":`height: ${U[7]}px; min-width: ${U[7]}px`)+"; "+(U[3]?`border: 5px solid ${U[3]};`:"")))&&m(t,"style",c),U[4]?Q?Q.p(U,I):(Q=Cc(U),Q.c(),Q.m(u,f)):Q&&(Q.d(1),Q=null),U[5]?C&&(ee(),Y(C,1,1,()=>{C=null}),te()):C?(C.p(U,I),I&32&&R(C,1)):(C=vc(U),C.c(),R(C,1),C.m(u,d)),H&&H.p&&(!h||I&262144)&&Ve(H,y,U,U[18],h?Re(y,U[18],I,aQ):Ge(U[18]),Qc),(!h||I&2116&&B!==(B="region is-center "+(U[6]&&U[11](U[2])?"checked":"")+" svelte-g5axbe"))&&m(A,"class",B),(!h||I&128&&w!==(w=U[7]==="full"?"height: 100%":""))&&m(A,"style",w)},i(U){h||(R(C),R(H,U),h=!0)},o(U){Y(C),Y(H,U),h=!1},d(U){U&&D(A),Q&&Q.d(),C&&C.d(),H&&H.d(U),F=!1,Ue(E)}}}function BQ(e,A,t){let r,n,i,s,o,{$$slots:a={},$$scope:l}=A;const{clipBoard:c}=pc;NA(e,c,L=>t(17,s=L));let{selectionStore:g}=A;g||(g=mc);let{toggleSelection:u=g.toggle}=A;const{isSelected:f}=g;NA(e,f,L=>t(11,o=L));let{item:d}=A,{index:B=null}=A,{borderColor:w=null}=A,{copyable:h=!1}=A,{isInModal:F=!1}=A,{selectable:E=!F}=A,{isSquare:Q=!1}=A,{height:C=Q?96:140}=A;C==="full"&&(Q=!1);const y=vn(),H=()=>F?null:y("openModal",{index:B}),U=()=>E?u(r):H(),I=()=>pc.copyRef(d.ref);return e.$$set=L=>{"selectionStore"in L&&t(15,g=L.selectionStore),"toggleSelection"in L&&t(1,u=L.toggleSelection),"item"in L&&t(2,d=L.item),"index"in L&&t(16,B=L.index),"borderColor"in L&&t(3,w=L.borderColor),"copyable"in L&&t(4,h=L.copyable),"isInModal"in L&&t(5,F=L.isInModal),"selectable"in L&&t(6,E=L.selectable),"isSquare"in L&&t(0,Q=L.isSquare),"height"in L&&t(7,C=L.height),"$$scope"in L&&t(18,l=L.$$scope)},e.$$.update=()=>{e.$$.dirty&4&&t(8,r=new li(d)),e.$$.dirty&131328&&t(10,n=r.ref===s),e.$$.dirty&385&&t(9,i=r.url(null,C==="full"?"full":Q?`${C},`:`,${C}`))},[Q,u,d,w,h,F,E,C,r,i,n,o,c,f,H,g,B,s,l,a,U,I]}class ui extends ne{constructor(A){super(),re(this,A,BQ,gQ,qA,{selectionStore:15,toggleSelection:1,item:2,index:16,borderColor:3,copyable:4,isInModal:5,selectable:6,isSquare:0,height:7})}}const bb="",dQ=e=>({item:e&4,index:e&1}),Uc=e=>({item:e[2],index:e[0],close:e[4]});function Fc(e){let A,t,r,n,i,s,o,a,l,c,g,u,f=e[3]&&yc(e);const d=e[8].default,B=Ne(d,e,e[7],Uc);let w=e[3]&&_c(e);return{c(){A=v("div"),t=v("div"),r=O(),n=v("div"),f&&f.c(),i=O(),s=v("div"),B&&B.c(),o=O(),w&&w.c(),a=O(),l=v("button"),m(t,"class","modal-background"),m(s,"class","modal-inner svelte-1da92kq"),m(n,"class","modal-content svelte-1da92kq"),m(l,"class","modal-close is-large"),m(l,"aria-label","close"),m(A,"class","modal is-active")},m(h,F){T(h,A,F),p(A,t),p(A,r),p(A,n),f&&f.m(n,null),p(n,i),p(n,s),B&&B.m(s,null),p(n,o),w&&w.m(n,null),p(A,a),p(A,l),c=!0,g||(u=[mA(t,"click",e[4]),mA(t,"keyup",e[9]),mA(l,"click",e[4])],g=!0)},p(h,F){h[3]?f?f.p(h,F):(f=yc(h),f.c(),f.m(n,i)):f&&(f.d(1),f=null),B&&B.p&&(!c||F&133)&&Ve(B,d,h,h[7],c?Re(d,h[7],F,dQ):Ge(h[7]),Uc),h[3]?w?w.p(h,F):(w=_c(h),w.c(),w.m(n,null)):w&&(w.d(1),w=null)},i(h){c||(R(B,h),c=!0)},o(h){Y(B,h),c=!1},d(h){h&&D(A),f&&f.d(),B&&B.d(h),w&&w.d(),g=!1,Ue(u)}}}function yc(e){let A,t,r;return{c(){A=v("button"),A.innerHTML='<span class="icon"><i class="fas fa-chevron-left"></i></span>',m(A,"class","nav-btn svelte-1da92kq")},m(n,i){T(n,A,i),t||(r=mA(A,"click",e[10]),t=!0)},p:sA,d(n){n&&D(A),t=!1,r()}}}function _c(e){let A,t,r;return{c(){A=v("button"),A.innerHTML='<span class="icon"><i class="fas fa-chevron-right"></i></span>',m(A,"class","nav-btn svelte-1da92kq")},m(n,i){T(n,A,i),t||(r=mA(A,"click",e[11]),t=!0)},p:sA,d(n){n&&D(A),t=!1,r()}}}function hQ(e){let A,t,r=e[1]&&Fc(e);return{c(){r&&r.c(),A=Ke()},m(n,i){r&&r.m(n,i),T(n,A,i),t=!0},p(n,[i]){n[1]?r?(r.p(n,i),i&2&&R(r,1)):(r=Fc(n),r.c(),R(r,1),r.m(A.parentNode,A)):r&&(ee(),Y(r,1,1,()=>{r=null}),te())},i(n){t||(R(r),t=!0)},o(n){Y(r),t=!1},d(n){r&&r.d(n),n&&D(A)}}}function wQ(e,A,t){let r,n,{$$slots:i={},$$scope:s}=A,{open:o=!1}=A,{items:a=[]}=A,{currentIndex:l=0}=A;const c=vn(),g=()=>{t(1,o=!1),c("close")},u=h=>{r&&(t(0,l=(l+h+a.length)%a.length),c("navigate",{index:l,item:n}))},f=h=>{o&&(h.key==="Escape"?g():h.key==="ArrowLeft"?u(-1):h.key==="ArrowRight"&&u(1))};nr(()=>document.addEventListener("keydown",f)),xr(()=>document.removeEventListener("keydown",f));function d(h){lB.call(this,e,h)}const B=()=>u(-1),w=()=>u(1);return e.$$set=h=>{"open"in h&&t(1,o=h.open),"items"in h&&t(6,a=h.items),"currentIndex"in h&&t(0,l=h.currentIndex),"$$scope"in h&&t(7,s=h.$$scope)},e.$$.update=()=>{e.$$.dirty&64&&t(3,r=a.length>1),e.$$.dirty&65&&t(2,n=a[l]??null)},[l,o,n,r,g,u,a,s,i,d,B,w]}class bc extends ne{constructor(A){super(),re(this,A,wQ,hQ,qA,{open:1,items:6,currentIndex:0})}}const Eb="";function pQ(e){let A,t,r,n,i,s,o,a;return{c(){A=v("button"),t=v("span"),r=v("i"),m(r,"class",n="fas fa-chevron-"+e[0]+" svelte-v4yed0"),m(t,"class","icon is-small p-0"),m(A,"class",i="nav-btn nav-"+e[0]+" svelte-v4yed0"),m(A,"aria-label",s="Navigate "+e[0])},m(l,c){T(l,A,c),p(A,t),p(t,r),o||(a=mA(A,"click",e[4]),o=!0)},p(l,[c]){c&1&&n!==(n="fas fa-chevron-"+l[0]+" svelte-v4yed0")&&m(r,"class",n),c&1&&i!==(i="nav-btn nav-"+l[0]+" svelte-v4yed0")&&m(A,"class",i),c&1&&s!==(s="Navigate "+l[0])&&m(A,"aria-label",s)},i:sA,o:sA,d(l){l&&D(A),o=!1,a()}}}function mQ(e,A,t){let{direction:r=""}=A,{delta:n=0}=A,{axis:i=null}=A,{navigationFct:s=()=>{}}=A;const o=()=>s(n,i);return e.$$set=a=>{"direction"in a&&t(0,r=a.direction),"delta"in a&&t(1,n=a.delta),"axis"in a&&t(2,i=a.axis),"navigationFct"in a&&t(3,s=a.navigationFct)},[r,n,i,s,o]}class fi extends ne{constructor(A){super(),re(this,A,mQ,pQ,qA,{direction:0,delta:1,axis:2,navigationFct:3})}}const Hb="";function Ec(e){e[9]=e[13][0],e[10]=e[13][1],e[11]=e[13][2],e[12]=e[13][3]}function Hc(e){let A,t,r={ctx:e,current:null,token:null,hasCatch:!1,pending:vQ,then:CQ,catch:QQ,value:13};return _n(t=e[2],r),{c(){A=Ke(),r.block.c()},m(n,i){T(n,A,i),r.block.m(n,r.anchor=i),r.mount=()=>A.parentNode,r.anchor=A},p(n,i){e=n,r.ctx=e,i&4&&t!==(t=e[2])&&_n(t,r)||aa(r,e,i)},d(n){n&&D(A),r.block.d(n),r.token=null,r=null}}}function QQ(e){return{c:sA,m:sA,p:sA,d:sA}}function CQ(e){Ec(e);let A,t=`${e[9]}%`,r=`${e[10]}%`,n=`${e[11]}%`,i=`${e[12]}%`;return{c(){A=v("div"),m(A,"class","modal-context-bbox svelte-zgr10j"),PA(A,"left",t),PA(A,"top",r),PA(A,"width",n),PA(A,"height",i)},m(s,o){T(s,A,o)},p(s,o){Ec(s),o&4&&t!==(t=`${s[9]}%`)&&PA(A,"left",t),o&4&&r!==(r=`${s[10]}%`)&&PA(A,"top",r),o&4&&n!==(n=`${s[11]}%`)&&PA(A,"width",n),o&4&&i!==(i=`${s[12]}%`)&&PA(A,"height",i)},d(s){s&&D(A)}}}function vQ(e){return{c:sA,m:sA,p:sA,d:sA}}function UQ(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,d,B;a=new fi({props:{direction:"left",delta:-1,navigationFct:e[4]}});let w=e[0]===0&&Hc(e);return d=new fi({props:{direction:"right",delta:1,navigationFct:e[4]}}),{c(){A=v("div"),t=v("div"),r=v("p"),n=aA("Page "),i=aA(e[1]),s=O(),o=v("div"),kA(a.$$.fragment),l=O(),c=v("img"),u=O(),w&&w.c(),f=O(),kA(d.$$.fragment),m(r,"class","tag is-small has-text-grey"),m(t,"class","has-text-centered m-2"),m(c,"class","card modal-context-full-page svelte-zgr10j"),ut(c.src,g=e[3])||m(c,"src",g),m(c,"alt",rA==="fr"?"Vue de la page d'où la région est extraite":"View of the page the region is extracted from"),m(o,"class","modal-context-wrapper svelte-zgr10j"),m(A,"class","modal-context-outer is-flex-direction-column pb-4 svelte-zgr10j")},m(h,F){T(h,A,F),p(A,t),p(t,r),p(r,n),p(r,i),p(A,s),p(A,o),HA(a,o,null),p(o,l),p(o,c),p(o,u),w&&w.m(o,null),p(o,f),HA(d,o,null),B=!0},p(h,[F]){(!B||F&2)&&GA(i,h[1]),(!B||F&8&&!ut(c.src,g=h[3]))&&m(c,"src",g),h[0]===0?w?w.p(h,F):(w=Hc(h),w.c(),w.m(o,f)):w&&(w.d(1),w=null)},i(h){B||(R(a.$$.fragment,h),R(d.$$.fragment,h),B=!0)},o(h){Y(a.$$.fragment,h),Y(d.$$.fragment,h),B=!1},d(h){h&&D(A),IA(a),w&&w.d(),IA(d)}}}function FQ(e,A,t){let r,n,i,s,o,a,{item:l}=A,c=0;const g=u=>t(0,c+=u);return e.$$set=u=>{"item"in u&&t(5,l=u.item)},e.$$.update=()=>{e.$$.dirty&32&&t(8,r=new li(l)),e.$$.dirty&257&&t(1,n=r.canvasNb+c),e.$$.dirty&258&&t(3,i=r.urlForCanvas(n)),e.$$.dirty&258&&t(7,s=r.infoUrlForCanvas(n)),e.$$.dirty&256&&t(6,o=r.coord),e.$$.dirty&192&&t(2,a=fetch(s).then(u=>u.json()).then(({width:u,height:f})=>[o[0]/u*100,o[1]/f*100,o[2]/u*100,o[3]/f*100]))},[c,n,a,i,g,l,o,s,r]}class Ic extends ne{constructor(A){super(),re(this,A,FQ,UQ,qA,{item:5})}}const Ib="",yQ=e=>({activeTab:e&1}),Sc=e=>({activeTab:e[0]});function xc(e,A,t){const r=e.slice();return r[5]=A[t].id,r[6]=A[t].label,r}function Lc(e){let A,t,r,n=e[1],i=[];for(let s=0;s<n.length;s+=1)i[s]=kc(xc(e,n,s));return{c(){A=v("nav"),t=v("div"),r=v("ul");for(let s=0;s<i.length;s+=1)i[s].c();m(r,"class","svelte-d8a4vd"),m(t,"class","tabs svelte-d8a4vd"),m(A,"class","tabs-bar")},m(s,o){T(s,A,o),p(A,t),p(t,r);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,null)},p(s,o){if(o&3){n=s[1];let a;for(a=0;a<n.length;a+=1){const l=xc(s,n,a);i[a]?i[a].p(l,o):(i[a]=kc(l),i[a].c(),i[a].m(r,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},d(s){s&&D(A),xe(i,s)}}}function kc(e){let A,t,r=e[6]+"",n,i,s,o;function a(){return e[4](e[5])}return{c(){A=v("li"),t=v("a"),n=aA(r),i=O(),m(t,"href",null),fe(A,"is-active",e[0]===e[5])},m(l,c){T(l,A,c),p(A,t),p(t,n),p(A,i),s||(o=mA(t,"click",St(a)),s=!0)},p(l,c){e=l,c&2&&r!==(r=e[6]+"")&&GA(n,r),c&3&&fe(A,"is-active",e[0]===e[5])},d(l){l&&D(A),s=!1,o()}}}function _Q(e){let A,t,r,n=e[1].length>1&&Lc(e);const i=e[3].default,s=Ne(i,e,e[2],Sc);return{c(){n&&n.c(),A=O(),t=v("div"),s&&s.c(),m(t,"class","tab-content svelte-d8a4vd")},m(o,a){n&&n.m(o,a),T(o,A,a),T(o,t,a),s&&s.m(t,null),r=!0},p(o,[a]){o[1].length>1?n?n.p(o,a):(n=Lc(o),n.c(),n.m(A.parentNode,A)):n&&(n.d(1),n=null),s&&s.p&&(!r||a&5)&&Ve(s,i,o,o[2],r?Re(i,o[2],a,yQ):Ge(o[2]),Sc)},i(o){r||(R(s,o),r=!0)},o(o){Y(s,o),r=!1},d(o){n&&n.d(o),o&&D(A),o&&D(t),s&&s.d(o)}}}function bQ(e,A,t){var a;let{$$slots:r={},$$scope:n}=A,{tabs:i=[]}=A,{activeTab:s=((a=i[0])==null?void 0:a.id)??""}=A;const o=l=>t(0,s=l);return e.$$set=l=>{"tabs"in l&&t(1,i=l.tabs),"activeTab"in l&&t(0,s=l.activeTab),"$$scope"in l&&t(2,n=l.$$scope)},[s,i,n,r,o]}class Kc extends ne{constructor(A){super(),re(this,A,bQ,_Q,qA,{tabs:1,activeTab:0})}}const Sb="";function Mc(e,A,t){const r=e.slice();return r[20]=A[t],r}function Dc(e,A,t){const r=e.slice();return r[23]=A[t],r}function $s(e){const A=e.slice(),t=A[1].get(A[20][A[23]].id);return A[26]=t,A}function Tc(e,A,t){const r=e.slice();return r[23]=A[t],r}function Oc(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,d,B=e[0].regions,w=[];for(let U=0;U<B.length;U+=1)w[U]=Nc(Tc(e,B,U));const h=U=>Y(w[U],1,1,()=>{w[U]=null});let F=e[0].rows,E=[];for(let U=0;U<F.length;U+=1)E[U]=Gc(Mc(e,F,U));const Q=U=>Y(E[U],1,1,()=>{E[U]=null});function C(U){e[14](U)}function y(U){e[15](U)}let H={items:e[6],$$slots:{default:[SQ,({item:U})=>({18:U}),({item:U})=>U?262144:0]},$$scope:{ctx:e}};return e[4]!==void 0&&(H.currentIndex=e[4]),e[3]!==void 0&&(H.open=e[3]),g=new bc({props:H}),qe.push(()=>En(g,"currentIndex",C)),qe.push(()=>En(g,"open",y)),{c(){A=v("div"),t=v("h3"),t.textContent="Aligned Documents",r=O(),n=v("div"),i=v("table"),s=v("thead"),o=v("tr");for(let U=0;U<w.length;U+=1)w[U].c();a=O(),l=v("tbody");for(let U=0;U<E.length;U+=1)E[U].c();c=O(),kA(g.$$.fragment),m(t,"class","title is-5"),m(s,"class","region-header svelte-1hxxzoa"),m(i,"class","table is-fullwidth svelte-1hxxzoa"),m(n,"class","table-container svelte-1hxxzoa"),m(A,"class","box mt-4")},m(U,I){T(U,A,I),p(A,t),p(A,r),p(A,n),p(n,i),p(i,s),p(s,o);for(let L=0;L<w.length;L+=1)w[L]&&w[L].m(o,null);p(i,a),p(i,l);for(let L=0;L<E.length;L+=1)E[L]&&E[L].m(l,null);T(U,c,I),HA(g,U,I),d=!0},p(U,I){if(I&5){B=U[0].regions;let x;for(x=0;x<B.length;x+=1){const M=Tc(U,B,x);w[x]?(w[x].p(M,I),R(w[x],1)):(w[x]=Nc(M),w[x].c(),R(w[x],1),w[x].m(o,null))}for(ee(),x=B.length;x<w.length;x+=1)h(x);te()}if(I&3203){F=U[0].rows;let x;for(x=0;x<F.length;x+=1){const M=Mc(U,F,x);E[x]?(E[x].p(M,I),R(E[x],1)):(E[x]=Gc(M),E[x].c(),R(E[x],1),E[x].m(l,null))}for(ee(),x=F.length;x<E.length;x+=1)Q(x);te()}const L={};I&64&&(L.items=U[6]),I&537133088&&(L.$$scope={dirty:I,ctx:U}),!u&&I&16&&(u=!0,L.currentIndex=U[4],Un(()=>u=!1)),!f&&I&8&&(f=!0,L.open=U[3],Un(()=>f=!1)),g.$set(L)},i(U){if(!d){for(let I=0;I<B.length;I+=1)R(w[I]);for(let I=0;I<F.length;I+=1)R(E[I]);R(g.$$.fragment,U),d=!0}},o(U){w=w.filter(Boolean);for(let I=0;I<w.length;I+=1)Y(w[I]);E=E.filter(Boolean);for(let I=0;I<E.length;I+=1)Y(E[I]);Y(g.$$.fragment,U),d=!1},d(U){U&&D(A),xe(w,U),xe(E,U),U&&D(c),IA(g,U)}}}function Nc(e){let A,t,r,n;return t=new Fa({props:{id:e[23],meta:e[2].get(e[23])||{},clickable:!1}}),{c(){A=v("th"),kA(t.$$.fragment),r=O(),m(A,"class","is-vcentered")},m(i,s){T(i,A,s),HA(t,A,null),p(A,r),n=!0},p(i,s){const o={};s&1&&(o.id=i[23]),s&5&&(o.meta=i[2].get(i[23])||{}),t.$set(o)},i(i){n||(R(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){i&&D(A),IA(t)}}}function Rc(e){let A,t,r,n,i=e[20][e[23]].page+"",s,o;return A=new ui({props:{item:e[26],height:96,borderColor:e[10](e[20][e[23]],e[7]),selectable:!1,copyable:!1}}),A.$on("openModal",e[11]),{c(){kA(A.$$.fragment),t=O(),r=v("div"),n=aA("Page "),s=aA(i),m(r,"class","has-text-grey-dark mt-2")},m(a,l){HA(A,a,l),T(a,t,l),T(a,r,l),p(r,n),p(r,s),o=!0},p(a,l){const c={};l&3&&(c.item=a[26]),l&129&&(c.borderColor=a[10](a[20][a[23]],a[7])),A.$set(c),(!o||l&1)&&i!==(i=a[20][a[23]].page+"")&&GA(s,i)},i(a){o||(R(A.$$.fragment,a),o=!0)},o(a){Y(A.$$.fragment,a),o=!1},d(a){IA(A,a),a&&D(t),a&&D(r)}}}function Vc(e){let A,t,r=e[20][e[23]]&&Rc($s(e));return{c(){A=v("td"),r&&r.c(),m(A,"class","has-text-centered"),PA(A,"vertical-align","top")},m(n,i){T(n,A,i),r&&r.m(A,null),t=!0},p(n,i){n[20][n[23]]?r?(r.p($s(n),i),i&1&&R(r,1)):(r=Rc($s(n)),r.c(),R(r,1),r.m(A,null)):r&&(ee(),Y(r,1,1,()=>{r=null}),te())},i(n){t||(R(r),t=!0)},o(n){Y(r),t=!1},d(n){n&&D(A),r&&r.d()}}}function Gc(e){let A,t,r,n=e[0].regions,i=[];for(let o=0;o<n.length;o+=1)i[o]=Vc(Dc(e,n,o));const s=o=>Y(i[o],1,1,()=>{i[o]=null});return{c(){A=v("tr");for(let o=0;o<i.length;o+=1)i[o].c();t=O()},m(o,a){T(o,A,a);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(A,null);p(A,t),r=!0},p(o,a){if(a&3203){n=o[0].regions;let l;for(l=0;l<n.length;l+=1){const c=Dc(o,n,l);i[l]?(i[l].p(c,a),R(i[l],1)):(i[l]=Vc(c),i[l].c(),R(i[l],1),i[l].m(A,t))}for(ee(),l=n.length;l<i.length;l+=1)s(l);te()}},i(o){if(!r){for(let a=0;a<n.length;a+=1)R(i[a]);r=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)Y(i[a]);r=!1},d(o){o&&D(A),xe(i,o)}}}function EQ(e){let A,t;return A=new Ic({props:{item:e[18]}}),{c(){kA(A.$$.fragment)},m(r,n){HA(A,r,n),t=!0},p(r,n){const i={};n&262144&&(i.item=r[18]),A.$set(i)},i(r){t||(R(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){IA(A,r)}}}function HQ(e){let A,t,r;return t=new ui({props:{item:e[18],height:"full",isInModal:!0}}),{c(){A=v("div"),kA(t.$$.fragment),m(A,"class","modal-region")},m(n,i){T(n,A,i),HA(t,A,null),r=!0},p(n,i){const s={};i&262144&&(s.item=n[18]),t.$set(s)},i(n){r||(R(t.$$.fragment,n),r=!0)},o(n){Y(t.$$.fragment,n),r=!1},d(n){n&&D(A),IA(t)}}}function IQ(e){let A,t,r,n;const i=[HQ,EQ],s=[];function o(a,l){return a[19]==="region"?0:a[19]==="page"?1:-1}return~(A=o(e))&&(t=s[A]=i[A](e)),{c(){t&&t.c(),r=Ke()},m(a,l){~A&&s[A].m(a,l),T(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?~A&&s[A].p(a,l):(t&&(ee(),Y(s[c],1,1,()=>{s[c]=null}),te()),~A?(t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),R(t,1),t.m(r.parentNode,r)):t=null)},i(a){n||(R(t),n=!0)},o(a){Y(t),n=!1},d(a){~A&&s[A].d(a),a&&D(r)}}}function SQ(e){let A,t;return A=new Kc({props:{tabs:e[5],$$slots:{default:[IQ,({activeTab:r})=>({19:r}),({activeTab:r})=>r?524288:0]},$$scope:{ctx:e}}}),{c(){kA(A.$$.fragment)},m(r,n){HA(A,r,n),t=!0},p(r,n){const i={};n&32&&(i.tabs=r[5]),n&537657344&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(R(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){IA(A,r)}}}function xQ(e){let A,t,r=e[0]&&Oc(e);return{c(){r&&r.c(),A=Ke()},m(n,i){r&&r.m(n,i),T(n,A,i),t=!0},p(n,[i]){n[0]?r?(r.p(n,i),i&1&&R(r,1)):(r=Oc(n),r.c(),R(r,1),r.m(A.parentNode,A)):r&&(ee(),Y(r,1,1,()=>{r=null}),te())},i(n){t||(R(r),t=!0)},o(n){Y(r),t=!1},d(n){r&&r.d(n),n&&D(A)}}}function LQ(e){let A=0;for(let s=0;s<e.length;s++)A=e.charCodeAt(s)+((A<<5)-A),A=A&A;const r=A*.618033988749895%1*360,n=65+A%20,i=80+A%10;return`hsl(${Math.floor(r)}, ${n}%, ${i}%)`}function kQ(e,A,t){let r,n,i,s,o,{selectedDocuments:a=[]}=A,{documentSetStore:l}=A;const{buildAlignedImageMatrix:c,documentNodes:g,imageNodes:u}=l;NA(e,g,C=>t(2,o=C)),NA(e,u,C=>t(1,s=C));let f=null;function d(C,y){if(!C)return;const H=C.id;if(y.get(H)!==1)return B.has(H)||B.set(H,LQ(H)),B.get(H)}const B=new Map;let w=!1,h=0;const F=C=>{t(4,h=C.detail.index??0),t(3,w=!0)};function E(C){h=C,t(4,h)}function Q(C){w=C,t(3,w)}return e.$$set=C=>{"selectedDocuments"in C&&t(12,a=C.selectedDocuments),"documentSetStore"in C&&t(13,l=C.documentSetStore)},e.$$.update=()=>{if(e.$$.dirty&4102)if(a.length>0&&s&&o){const C=a.map(y=>y.id);t(0,f=c(C))}else t(0,f=null);e.$$.dirty&1&&t(7,r=f?(()=>{const C=new Map;return f.rows.forEach(y=>{Object.values(y).forEach(H=>{C.set(H.id,(C.get(H.id)||0)+1)})}),C})():new Map),e.$$.dirty&3&&t(6,n=f?f.rows.flatMap(C=>f.regions.map(y=>C[y]).filter(y=>y).map(y=>s.get(y.id))):[])},t(5,i=[{id:"region",label:rA==="en"?"Main view":"Vue principale"},{id:"page",label:rA==="en"?"Page View":"Vue de la page"}]),[f,s,o,w,h,i,n,r,g,u,d,F,a,l,E,Q]}class KQ extends ne{constructor(A){super(),re(this,A,kQ,xQ,qA,{selectedDocuments:12,documentSetStore:13})}}const xb="";function Pc(e,A,t){const r=e.slice();return r[15]=A[t],r[17]=t,r}function Xc(e,A){let t,r,n;return r=new ui({props:{item:new li(A[15]),index:A[17],height:A[2],copyable:A[4],selectable:A[3],selectionStore:A[0]}}),r.$on("openModal",A[8]),{key:e,first:null,c(){t=Ke(),kA(r.$$.fragment),this.first=t},m(i,s){T(i,t,s),HA(r,i,s),n=!0},p(i,s){A=i;const o={};s&2&&(o.item=new li(A[15])),s&2&&(o.index=A[17]),s&4&&(o.height=A[2]),s&16&&(o.copyable=A[4]),s&8&&(o.selectable=A[3]),s&1&&(o.selectionStore=A[0]),r.$set(o)},i(i){n||(R(r.$$.fragment,i),n=!0)},o(i){Y(r.$$.fragment,i),n=!1},d(i){i&&D(t),IA(r,i)}}}function MQ(e){let A,t;return A=new Ic({props:{item:e[13]}}),{c(){kA(A.$$.fragment)},m(r,n){HA(A,r,n),t=!0},p(r,n){const i={};n&8192&&(i.item=r[13]),A.$set(i)},i(r){t||(R(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){IA(A,r)}}}function DQ(e){let A,t,r;return t=new ui({props:{item:e[13],height:"full",isInModal:!0,selectable:!1}}),{c(){A=v("div"),kA(t.$$.fragment),m(A,"class","modal-region svelte-jba7xn")},m(n,i){T(n,A,i),HA(t,A,null),r=!0},p(n,i){const s={};i&8192&&(s.item=n[13]),t.$set(s)},i(n){r||(R(t.$$.fragment,n),r=!0)},o(n){Y(t.$$.fragment,n),r=!1},d(n){n&&D(A),IA(t)}}}function TQ(e){let A,t,r,n;const i=[DQ,MQ],s=[];function o(a,l){return a[14]==="region"?0:a[14]==="page"?1:-1}return~(A=o(e))&&(t=s[A]=i[A](e)),{c(){t&&t.c(),r=Ke()},m(a,l){~A&&s[A].m(a,l),T(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?~A&&s[A].p(a,l):(t&&(ee(),Y(s[c],1,1,()=>{s[c]=null}),te()),~A?(t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),R(t,1),t.m(r.parentNode,r)):t=null)},i(a){n||(R(t),n=!0)},o(a){Y(t),n=!1},d(a){~A&&s[A].d(a),a&&D(r)}}}function OQ(e){let A,t;return A=new Kc({props:{tabs:e[7],$$slots:{default:[TQ,({activeTab:r})=>({14:r}),({activeTab:r})=>r?16384:0]},$$scope:{ctx:e}}}),{c(){kA(A.$$.fragment)},m(r,n){HA(A,r,n),t=!0},p(r,n){const i={};n&128&&(i.tabs=r[7]),n&286720&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(R(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){IA(A,r)}}}function NQ(e){let A=[],t=new Map,r,n,i,s,o,a=Object.values(e[1]);const l=f=>f[15].id;for(let f=0;f<a.length;f+=1){let d=Pc(e,a,f),B=l(d);t.set(B,A[f]=Xc(B,d))}function c(f){e[10](f)}function g(f){e[11](f)}let u={items:e[1],$$slots:{default:[OQ,({item:f})=>({13:f}),({item:f})=>f?8192:0]},$$scope:{ctx:e}};return e[6]!==void 0&&(u.currentIndex=e[6]),e[5]!==void 0&&(u.open=e[5]),n=new bc({props:u}),qe.push(()=>En(n,"currentIndex",c)),qe.push(()=>En(n,"open",g)),n.$on("navigate",e[9]),{c(){for(let f=0;f<A.length;f+=1)A[f].c();r=O(),kA(n.$$.fragment)},m(f,d){for(let B=0;B<A.length;B+=1)A[B]&&A[B].m(f,d);T(f,r,d),HA(n,f,d),o=!0},p(f,[d]){d&287&&(a=Object.values(f[1]),ee(),A=bn(A,d,l,1,f,a,t,r.parentNode,ca,Xc,r,Pc),te());const B={};d&2&&(B.items=f[1]),d&270464&&(B.$$scope={dirty:d,ctx:f}),!i&&d&64&&(i=!0,B.currentIndex=f[6],Un(()=>i=!1)),!s&&d&32&&(s=!0,B.open=f[5],Un(()=>s=!1)),n.$set(B)},i(f){if(!o){for(let d=0;d<a.length;d+=1)R(A[d]);R(n.$$.fragment,f),o=!0}},o(f){for(let d=0;d<A.length;d+=1)Y(A[d]);Y(n.$$.fragment,f),o=!1},d(f){for(let d=0;d<A.length;d+=1)A[d].d(f);f&&D(r),IA(n,f)}}}function RQ(e,A,t){let r,{selectionStore:n=mc}=A,{items:i=[]}=A,{height:s=96}=A,{selectable:o=!0}=A,{copyable:a=!0}=A,l=!1,c=0;const g=B=>{t(6,c=B.detail.index??0),t(5,l=!0)},u=B=>{t(6,c=B.detail.index)};function f(B){c=B,t(6,c)}function d(B){l=B,t(5,l)}return e.$$set=B=>{"selectionStore"in B&&t(0,n=B.selectionStore),"items"in B&&t(1,i=B.items),"height"in B&&t(2,s=B.height),"selectable"in B&&t(3,o=B.selectable),"copyable"in B&&t(4,a=B.copyable)},t(7,r=[{id:"region",label:rA==="en"?"Main view":"Vue principale"},{id:"page",label:rA==="en"?"Page View":"Vue de la page"}]),[n,i,s,o,a,l,c,r,g,u,f,d]}class Jc extends ne{constructor(A){super(),re(this,A,RQ,NQ,qA,{selectionStore:0,items:1,height:2,selectable:3,copyable:4})}}const Lb="";function VQ(e){let A;return{c(){A=v("span"),A.innerHTML='<i class="fas fa-crop-alt"></i>',m(A,"class","icon px-4")},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function GQ(e){let A;return{c(){A=v("span"),A.innerHTML='<i class="fas fa-hand-pointer"></i>',m(A,"class","icon px-4")},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function Wc(e){let A,t,r,n;const i=[XQ,PQ],s=[];function o(a,l){return a[0]==="img"?0:a[0]==="doc"?1:-1}return~(A=o(e))&&(t=s[A]=i[A](e)),{c(){t&&t.c(),r=Ke()},m(a,l){~A&&s[A].m(a,l),T(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?~A&&s[A].p(a,l):(t&&(ee(),Y(s[c],1,1,()=>{s[c]=null}),te()),~A?(t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),R(t,1),t.m(r.parentNode,r)):t=null)},i(a){n||(R(t),n=!0)},o(a){Y(t),n=!1},d(a){~A&&s[A].d(a),a&&D(r)}}}function PQ(e){let A,t;return A=new KQ({props:{selectedDocuments:e[5],documentSetStore:e[1]}}),{c(){kA(A.$$.fragment)},m(r,n){HA(A,r,n),t=!0},p(r,n){const i={};n&32&&(i.selectedDocuments=r[5]),n&2&&(i.documentSetStore=r[1]),A.$set(i)},i(r){t||(R(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){IA(A,r)}}}function XQ(e){let A,t,r=rA==="en"?"Selected regions":"Régions sélectionnées",n,i,s=e[5].length+"",o,a,l,c,g,u;return g=new Jc({props:{items:e[5],selectable:!1,copyable:!1}}),{c(){A=v("div"),t=v("h3"),n=aA(r),i=aA(" ("),o=aA(s),a=aA(")"),l=O(),c=v("div"),kA(g.$$.fragment),m(t,"class","title is-5"),m(c,"class","selected-nodes grid is-gap-2 mt-5 svelte-1a3kdxu"),m(A,"class","selected-panel box mt-4 svelte-1a3kdxu")},m(f,d){T(f,A,d),p(A,t),p(t,n),p(t,i),p(t,o),p(t,a),p(A,l),p(A,c),HA(g,c,null),u=!0},p(f,d){(!u||d&32)&&s!==(s=f[5].length+"")&&GA(o,s);const B={};d&32&&(B.items=f[5]),g.$set(B)},i(f){u||(R(g.$$.fragment,f),u=!0)},o(f){Y(g.$$.fragment,f),u=!1},d(f){f&&D(A),IA(g)}}}function JQ(e){let A,t,r,n=e[3]?"click":"selection",i,s,o,a,l,c,g,u;function f(h,F){return h[3]?GQ:VQ}let d=f(e),B=d(e),w=e[5].length>0&&Wc(e);return{c(){A=v("div"),t=v("button"),B.c(),r=aA(`
        Switch to `),i=aA(n),s=aA(" mode"),o=O(),a=v("div"),l=O(),w&&w.c(),m(t,"class","toggle-button button is-small is-link mb-3"),m(a,"class","visualization-container")},m(h,F){T(h,A,F),p(A,t),B.m(t,null),p(t,r),p(t,i),p(t,s),p(A,o),p(A,a),e[9](a),p(A,l),w&&w.m(A,null),c=!0,g||(u=mA(t,"click",e[7]),g=!0)},p(h,[F]){d!==(d=f(h))&&(B.d(1),B=d(h),B&&(B.c(),B.m(t,r))),(!c||F&8)&&n!==(n=h[3]?"click":"selection")&&GA(i,n),h[5].length>0?w?(w.p(h,F),F&32&&R(w,1)):(w=Wc(h),w.c(),R(w,1),w.m(A,null)):w&&(ee(),Y(w,1,1,()=>{w=null}),te())},i(h){c||(R(w),c=!0)},o(h){Y(w),c=!1},d(h){h&&D(A),B.d(),e[9](null),w&&w.d(),g=!1,u()}}}const WQ=1e3;function YQ(e,A,t){let r,n,i=sA,s=()=>(i(),i=wn(r,Q=>t(8,n=Q)),r),o;e.$$.on_destroy.push(()=>i());let{type:a="img"}=A,{documentSetStore:l}=A;const{imageNetwork:c,documentNetwork:g,selectedNodes:u,updateSelectedNodes:f}=l;NA(e,u,Q=>t(5,o=Q));let d,B,w=!1;function h(){d&&(d.destroy(),f([]));function Q(y){f(y)}d=(n.nodes.length<WQ?$m:Vm)(B,n.nodes,n.links,Q,y=>{t(3,w=y)}),t(3,w=a==="img"),w&&d.toggleSelectionMode()}function F(){d&&t(3,w=d.toggleSelectionMode())}xr(()=>{d==null||d.destroy()});function E(Q){qe[Q?"unshift":"push"](()=>{B=Q,t(2,B)})}return e.$$set=Q=>{"type"in Q&&t(0,a=Q.type),"documentSetStore"in Q&&t(1,l=Q.documentSetStore)},e.$$.update=()=>{e.$$.dirty&1&&s(t(4,r=a==="img"?c:g)),e.$$.dirty&260&&n&&B&&h()},[a,l,B,w,r,o,u,F,n,E]}class zQ extends ne{constructor(A){super(),re(this,A,YQ,JQ,qA,{type:0,documentSetStore:1})}}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var Zs=function(e,A){return Zs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])},Zs(e,A)};function lt(e,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");Zs(e,A);function t(){this.constructor=e}e.prototype=A===null?Object.create(A):(t.prototype=A.prototype,new t)}var js=function(){return js=Object.assign||function(A){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(A[i]=t[i])}return A},js.apply(this,arguments)};function Ye(e,A,t,r){function n(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(c){try{l(r.next(c))}catch(g){s(g)}}function a(c){try{l(r.throw(c))}catch(g){s(g)}}function l(c){c.done?i(c.value):n(c.value).then(o,a)}l((r=r.apply(e,A||[])).next())})}function De(e,A){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,n,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(c){return a([l,c])}}function a(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,n&&(i=l[0]&2?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,n=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){t.label=l[1];break}if(l[0]===6&&t.label<i[1]){t.label=i[1],i=l;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(l);break}i[2]&&t.ops.pop(),t.trys.pop();continue}l=A.call(e,t)}catch(c){l=[6,c],n=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function gi(e,A,t){if(t||arguments.length===2)for(var r=0,n=A.length,i;r<n;r++)(i||!(r in A))&&(i||(i=Array.prototype.slice.call(A,0,r)),i[r]=A[r]);return e.concat(i||A)}for(var yt=function(){function e(A,t,r,n){this.left=A,this.top=t,this.width=r,this.height=n}return e.prototype.add=function(A,t,r,n){return new e(this.left+A,this.top+t,this.width+r,this.height+n)},e.fromClientRect=function(A,t){return new e(t.left+A.windowBounds.left,t.top+A.windowBounds.top,t.width,t.height)},e.fromDOMRectList=function(A,t){var r=Array.from(t).find(function(n){return n.width!==0});return r?new e(r.left+A.windowBounds.left,r.top+A.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),Bi=function(e,A){return yt.fromClientRect(e,A.getBoundingClientRect())},$Q=function(e){var A=e.body,t=e.documentElement;if(!A||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(A.scrollWidth,t.scrollWidth),Math.max(A.offsetWidth,t.offsetWidth),Math.max(A.clientWidth,t.clientWidth)),n=Math.max(Math.max(A.scrollHeight,t.scrollHeight),Math.max(A.offsetHeight,t.offsetHeight),Math.max(A.clientHeight,t.clientHeight));return new yt(0,0,r,n)},di=function(e){for(var A=[],t=0,r=e.length;t<r;){var n=e.charCodeAt(t++);if(n>=55296&&n<=56319&&t<r){var i=e.charCodeAt(t++);(i&64512)===56320?A.push(((n&1023)<<10)+(i&1023)+65536):(A.push(n),t--)}else A.push(n)}return A},Ce=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var r=[],n=-1,i="";++n<t;){var s=e[n];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(n+1===t||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},Yc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ZQ=typeof Uint8Array>"u"?[]:new Uint8Array(256),hi=0;hi<Yc.length;hi++)ZQ[Yc.charCodeAt(hi)]=hi;for(var zc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yr=typeof Uint8Array>"u"?[]:new Uint8Array(256),wi=0;wi<zc.length;wi++)Yr[zc.charCodeAt(wi)]=wi;for(var jQ=function(e){var A=e.length*.75,t=e.length,r,n=0,i,s,o,a;e[e.length-1]==="="&&(A--,e[e.length-2]==="="&&A--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),c=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<t;r+=4)i=Yr[e.charCodeAt(r)],s=Yr[e.charCodeAt(r+1)],o=Yr[e.charCodeAt(r+2)],a=Yr[e.charCodeAt(r+3)],c[n++]=i<<2|s>>4,c[n++]=(s&15)<<4|o>>2,c[n++]=(o&3)<<6|a&63;return l},qQ=function(e){for(var A=e.length,t=[],r=0;r<A;r+=2)t.push(e[r+1]<<8|e[r]);return t},AC=function(e){for(var A=e.length,t=[],r=0;r<A;r+=4)t.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return t},zt=5,qs=6+5,Ao=2,eC=qs-zt,$c=65536>>zt,tC=1<<zt,eo=tC-1,rC=1024>>zt,nC=$c+rC,iC=nC,sC=32,oC=iC+sC,aC=65536>>qs,lC=1<<eC,cC=lC-1,Zc=function(e,A,t){return e.slice?e.slice(A,t):new Uint16Array(Array.prototype.slice.call(e,A,t))},uC=function(e,A,t){return e.slice?e.slice(A,t):new Uint32Array(Array.prototype.slice.call(e,A,t))},fC=function(e,A){var t=jQ(e),r=Array.isArray(t)?AC(t):new Uint32Array(t),n=Array.isArray(t)?qQ(t):new Uint16Array(t),i=24,s=Zc(n,i/2,r[4]/2),o=r[5]===2?Zc(n,(i+r[4])/2):uC(r,Math.ceil((i+r[4])/4));return new gC(r[0],r[1],r[2],r[3],s,o)},gC=function(){function e(A,t,r,n,i,s){this.initialValue=A,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=s}return e.prototype.get=function(A){var t;if(A>=0){if(A<55296||A>56319&&A<=65535)return t=this.index[A>>zt],t=(t<<Ao)+(A&eo),this.data[t];if(A<=65535)return t=this.index[$c+(A-55296>>zt)],t=(t<<Ao)+(A&eo),this.data[t];if(A<this.highStart)return t=oC-aC+(A>>qs),t=this.index[t],t+=A>>zt&cC,t=this.index[t],t=(t<<Ao)+(A&eo),this.data[t];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",BC=typeof Uint8Array>"u"?[]:new Uint8Array(256),pi=0;pi<jc.length;pi++)BC[jc.charCodeAt(pi)]=pi;var dC="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",qc=50,hC=1,Au=2,eu=3,wC=4,pC=5,tu=7,ru=8,nu=9,Mt=10,to=11,iu=12,ro=13,mC=14,zr=15,no=16,mi=17,$r=18,QC=19,su=20,io=21,Zr=22,so=23,pr=24,je=25,jr=26,qr=27,mr=28,CC=29,$t=30,vC=31,Qi=32,Ci=33,oo=34,ao=35,lo=36,An=37,co=38,vi=39,Ui=40,uo=41,ou=42,UC=43,FC=[9001,65288],au="!",XA="×",Fi="÷",fo=fC(dC),_t=[$t,lo],go=[hC,Au,eu,pC],lu=[Mt,ru],cu=[qr,jr],yC=go.concat(lu),uu=[co,vi,Ui,oo,ao],_C=[zr,ro],bC=function(e,A){A===void 0&&(A="strict");var t=[],r=[],n=[];return e.forEach(function(i,s){var o=fo.get(i);if(o>qc?(n.push(!0),o-=qc):n.push(!1),["normal","auto","loose"].indexOf(A)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(s),t.push(no);if(o===wC||o===to){if(s===0)return r.push(s),t.push($t);var a=t[s-1];return yC.indexOf(a)===-1?(r.push(r[s-1]),t.push(a)):(r.push(s),t.push($t))}if(r.push(s),o===vC)return t.push(A==="strict"?io:An);if(o===ou||o===CC)return t.push($t);if(o===UC)return i>=131072&&i<=196605||i>=196608&&i<=262141?t.push(An):t.push($t);t.push(o)}),[r,t,n]},Bo=function(e,A,t,r){var n=r[t];if(Array.isArray(e)?e.indexOf(n)!==-1:e===n)for(var i=t;i<=r.length;){i++;var s=r[i];if(s===A)return!0;if(s!==Mt)break}if(n===Mt)for(var i=t;i>0;){i--;var o=r[i];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var a=t;a<=r.length;){a++;var s=r[a];if(s===A)return!0;if(s!==Mt)break}if(o!==Mt)break}return!1},fu=function(e,A){for(var t=e;t>=0;){var r=A[t];if(r===Mt)t--;else return r}return 0},EC=function(e,A,t,r,n){if(t[r]===0)return XA;var i=r-1;if(Array.isArray(n)&&n[i]===!0)return XA;var s=i-1,o=i+1,a=A[i],l=s>=0?A[s]:0,c=A[o];if(a===Au&&c===eu)return XA;if(go.indexOf(a)!==-1)return au;if(go.indexOf(c)!==-1||lu.indexOf(c)!==-1)return XA;if(fu(i,A)===ru)return Fi;if(fo.get(e[i])===to||(a===Qi||a===Ci)&&fo.get(e[o])===to||a===tu||c===tu||a===nu||[Mt,ro,zr].indexOf(a)===-1&&c===nu||[mi,$r,QC,pr,mr].indexOf(c)!==-1||fu(i,A)===Zr||Bo(so,Zr,i,A)||Bo([mi,$r],io,i,A)||Bo(iu,iu,i,A))return XA;if(a===Mt)return Fi;if(a===so||c===so)return XA;if(c===no||a===no)return Fi;if([ro,zr,io].indexOf(c)!==-1||a===mC||l===lo&&_C.indexOf(a)!==-1||a===mr&&c===lo||c===su||_t.indexOf(c)!==-1&&a===je||_t.indexOf(a)!==-1&&c===je||a===qr&&[An,Qi,Ci].indexOf(c)!==-1||[An,Qi,Ci].indexOf(a)!==-1&&c===jr||_t.indexOf(a)!==-1&&cu.indexOf(c)!==-1||cu.indexOf(a)!==-1&&_t.indexOf(c)!==-1||[qr,jr].indexOf(a)!==-1&&(c===je||[Zr,zr].indexOf(c)!==-1&&A[o+1]===je)||[Zr,zr].indexOf(a)!==-1&&c===je||a===je&&[je,mr,pr].indexOf(c)!==-1)return XA;if([je,mr,pr,mi,$r].indexOf(c)!==-1)for(var g=i;g>=0;){var u=A[g];if(u===je)return XA;if([mr,pr].indexOf(u)!==-1)g--;else break}if([qr,jr].indexOf(c)!==-1)for(var g=[mi,$r].indexOf(a)!==-1?s:i;g>=0;){var u=A[g];if(u===je)return XA;if([mr,pr].indexOf(u)!==-1)g--;else break}if(co===a&&[co,vi,oo,ao].indexOf(c)!==-1||[vi,oo].indexOf(a)!==-1&&[vi,Ui].indexOf(c)!==-1||[Ui,ao].indexOf(a)!==-1&&c===Ui||uu.indexOf(a)!==-1&&[su,jr].indexOf(c)!==-1||uu.indexOf(c)!==-1&&a===qr||_t.indexOf(a)!==-1&&_t.indexOf(c)!==-1||a===pr&&_t.indexOf(c)!==-1||_t.concat(je).indexOf(a)!==-1&&c===Zr&&FC.indexOf(e[o])===-1||_t.concat(je).indexOf(c)!==-1&&a===$r)return XA;if(a===uo&&c===uo){for(var f=t[i],d=1;f>0&&(f--,A[f]===uo);)d++;if(d%2!==0)return XA}return a===Qi&&c===Ci?XA:Fi},HC=function(e,A){A||(A={lineBreak:"normal",wordBreak:"normal"});var t=bC(e,A.lineBreak),r=t[0],n=t[1],i=t[2];(A.wordBreak==="break-all"||A.wordBreak==="break-word")&&(n=n.map(function(o){return[je,$t,ou].indexOf(o)!==-1?An:o}));var s=A.wordBreak==="keep-all"?i.map(function(o,a){return o&&e[a]>=19968&&e[a]<=40959}):void 0;return[r,n,s]},IC=function(){function e(A,t,r,n){this.codePoints=A,this.required=t===au,this.start=r,this.end=n}return e.prototype.slice=function(){return Ce.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),SC=function(e,A){var t=di(e),r=HC(t,A),n=r[0],i=r[1],s=r[2],o=t.length,a=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var c=XA;l<o&&(c=EC(t,i,n,++l,s))===XA;);if(c!==XA||l===o){var g=new IC(t,c,a,l);return a=l,{value:g,done:!1}}return{done:!0,value:null}}}},xC=1,LC=2,en=4,gu=8,yi=10,Bu=47,tn=92,kC=9,KC=32,_i=34,rn=61,MC=35,DC=36,TC=37,bi=39,Ei=40,nn=41,OC=95,$e=45,NC=33,RC=60,VC=62,GC=64,PC=91,XC=93,JC=61,WC=123,Hi=63,YC=125,du=124,zC=126,$C=128,hu=65533,ho=42,Zt=43,ZC=44,jC=58,qC=59,sn=46,Av=0,ev=8,tv=11,rv=14,nv=31,iv=127,dt=-1,wu=48,pu=97,mu=101,sv=102,ov=117,av=122,Qu=65,Cu=69,vu=70,lv=85,cv=90,Te=function(e){return e>=wu&&e<=57},uv=function(e){return e>=55296&&e<=57343},Qr=function(e){return Te(e)||e>=Qu&&e<=vu||e>=pu&&e<=sv},fv=function(e){return e>=pu&&e<=av},gv=function(e){return e>=Qu&&e<=cv},Bv=function(e){return fv(e)||gv(e)},dv=function(e){return e>=$C},Ii=function(e){return e===yi||e===kC||e===KC},Si=function(e){return Bv(e)||dv(e)||e===OC},Uu=function(e){return Si(e)||Te(e)||e===$e},hv=function(e){return e>=Av&&e<=ev||e===tv||e>=rv&&e<=nv||e===iv},Dt=function(e,A){return e!==tn?!1:A!==yi},xi=function(e,A,t){return e===$e?Si(A)||Dt(A,t):Si(e)?!0:!!(e===tn&&Dt(e,A))},wo=function(e,A,t){return e===Zt||e===$e?Te(A)?!0:A===sn&&Te(t):Te(e===sn?A:e)},wv=function(e){var A=0,t=1;(e[A]===Zt||e[A]===$e)&&(e[A]===$e&&(t=-1),A++);for(var r=[];Te(e[A]);)r.push(e[A++]);var n=r.length?parseInt(Ce.apply(void 0,r),10):0;e[A]===sn&&A++;for(var i=[];Te(e[A]);)i.push(e[A++]);var s=i.length,o=s?parseInt(Ce.apply(void 0,i),10):0;(e[A]===Cu||e[A]===mu)&&A++;var a=1;(e[A]===Zt||e[A]===$e)&&(e[A]===$e&&(a=-1),A++);for(var l=[];Te(e[A]);)l.push(e[A++]);var c=l.length?parseInt(Ce.apply(void 0,l),10):0;return t*(n+o*Math.pow(10,-s))*Math.pow(10,a*c)},pv={type:2},mv={type:3},Qv={type:4},Cv={type:13},vv={type:8},Uv={type:21},Fv={type:9},yv={type:10},_v={type:11},bv={type:12},Ev={type:14},Li={type:23},Hv={type:1},Iv={type:25},Sv={type:24},xv={type:26},Lv={type:27},kv={type:28},Kv={type:29},Mv={type:31},po={type:32},Fu=function(){function e(){this._value=[]}return e.prototype.write=function(A){this._value=this._value.concat(di(A))},e.prototype.read=function(){for(var A=[],t=this.consumeToken();t!==po;)A.push(t),t=this.consumeToken();return A},e.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case _i:return this.consumeStringToken(_i);case MC:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);if(Uu(t)||Dt(r,n)){var i=xi(t,r,n)?LC:xC,s=this.consumeName();return{type:5,value:s,flags:i}}break;case DC:if(this.peekCodePoint(0)===rn)return this.consumeCodePoint(),Cv;break;case bi:return this.consumeStringToken(bi);case Ei:return pv;case nn:return mv;case ho:if(this.peekCodePoint(0)===rn)return this.consumeCodePoint(),Ev;break;case Zt:if(wo(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case ZC:return Qv;case $e:var o=A,a=this.peekCodePoint(0),l=this.peekCodePoint(1);if(wo(o,a,l))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(xi(o,a,l))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(a===$e&&l===VC)return this.consumeCodePoint(),this.consumeCodePoint(),Sv;break;case sn:if(wo(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case Bu:if(this.peekCodePoint(0)===ho)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===ho&&(c=this.consumeCodePoint(),c===Bu))return this.consumeToken();if(c===dt)return this.consumeToken()}break;case jC:return xv;case qC:return Lv;case RC:if(this.peekCodePoint(0)===NC&&this.peekCodePoint(1)===$e&&this.peekCodePoint(2)===$e)return this.consumeCodePoint(),this.consumeCodePoint(),Iv;break;case GC:var g=this.peekCodePoint(0),u=this.peekCodePoint(1),f=this.peekCodePoint(2);if(xi(g,u,f)){var s=this.consumeName();return{type:7,value:s}}break;case PC:return kv;case tn:if(Dt(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case XC:return Kv;case JC:if(this.peekCodePoint(0)===rn)return this.consumeCodePoint(),vv;break;case WC:return _v;case YC:return bv;case ov:case lv:var d=this.peekCodePoint(0),B=this.peekCodePoint(1);return d===Zt&&(Qr(B)||B===Hi)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case du:if(this.peekCodePoint(0)===rn)return this.consumeCodePoint(),Fv;if(this.peekCodePoint(0)===du)return this.consumeCodePoint(),Uv;break;case zC:if(this.peekCodePoint(0)===rn)return this.consumeCodePoint(),yv;break;case dt:return po}return Ii(A)?(this.consumeWhiteSpace(),Mv):Te(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):Si(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:6,value:Ce(A)}},e.prototype.consumeCodePoint=function(){var A=this._value.shift();return typeof A>"u"?-1:A},e.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},e.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},e.prototype.consumeUnicodeRangeToken=function(){for(var A=[],t=this.consumeCodePoint();Qr(t)&&A.length<6;)A.push(t),t=this.consumeCodePoint();for(var r=!1;t===Hi&&A.length<6;)A.push(t),t=this.consumeCodePoint(),r=!0;if(r){var n=parseInt(Ce.apply(void 0,A.map(function(a){return a===Hi?wu:a})),16),i=parseInt(Ce.apply(void 0,A.map(function(a){return a===Hi?vu:a})),16);return{type:30,start:n,end:i}}var s=parseInt(Ce.apply(void 0,A),16);if(this.peekCodePoint(0)===$e&&Qr(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];Qr(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var i=parseInt(Ce.apply(void 0,o),16);return{type:30,start:s,end:i}}else return{type:30,start:s,end:s}},e.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return A.toLowerCase()==="url"&&this.peekCodePoint(0)===Ei?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ei?(this.consumeCodePoint(),{type:19,value:A}):{type:20,value:A}},e.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===dt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===bi||t===_i){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===dt||this.peekCodePoint(0)===nn)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Li)}for(;;){var n=this.consumeCodePoint();if(n===dt||n===nn)return{type:22,value:Ce.apply(void 0,A)};if(Ii(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===dt||this.peekCodePoint(0)===nn?(this.consumeCodePoint(),{type:22,value:Ce.apply(void 0,A)}):(this.consumeBadUrlRemnants(),Li);if(n===_i||n===bi||n===Ei||hv(n))return this.consumeBadUrlRemnants(),Li;if(n===tn)if(Dt(n,this.peekCodePoint(0)))A.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Li;else A.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;Ii(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(A===nn||A===dt)return;Dt(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(A){for(var t=5e4,r="";A>0;){var n=Math.min(t,A);r+=Ce.apply(void 0,this._value.splice(0,n)),A-=n}return this._value.shift(),r},e.prototype.consumeStringToken=function(A){var t="",r=0;do{var n=this._value[r];if(n===dt||n===void 0||n===A)return t+=this.consumeStringSlice(r),{type:0,value:t};if(n===yi)return this._value.splice(0,r),Hv;if(n===tn){var i=this._value[r+1];i!==dt&&i!==void 0&&(i===yi?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):Dt(n,i)&&(t+=this.consumeStringSlice(r),t+=Ce(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var A=[],t=en,r=this.peekCodePoint(0);for((r===Zt||r===$e)&&A.push(this.consumeCodePoint());Te(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(r===sn&&Te(n))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),t=gu;Te(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===Cu||r===mu)&&((n===Zt||n===$e)&&Te(i)||Te(n)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),t=gu;Te(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[wv(A),t]},e.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),t=A[0],r=A[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),s=this.peekCodePoint(2);if(xi(n,i,s)){var o=this.consumeName();return{type:15,number:t,flags:r,unit:o}}return n===TC?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(Qr(A)){for(var t=Ce(A);Qr(this.peekCodePoint(0))&&t.length<6;)t+=Ce(this.consumeCodePoint());Ii(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||uv(r)||r>1114111?hu:r}return A===dt?hu:A},e.prototype.consumeName=function(){for(var A="";;){var t=this.consumeCodePoint();if(Uu(t))A+=Ce(t);else if(Dt(t,this.peekCodePoint(0)))A+=Ce(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),A}},e}(),yu=function(){function e(A){this._tokens=A}return e.create=function(A){var t=new Fu;return t.write(A),new e(t.read())},e.parseValue=function(A){return e.create(A).parseComponentValue()},e.parseValues=function(A){return e.create(A).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var A=this.consumeToken();A.type===31;)A=this.consumeToken();if(A.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(A);var t=this.consumeComponentValue();do A=this.consumeToken();while(A.type===31);if(A.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var A=[];;){var t=this.consumeComponentValue();if(t.type===32)return A;A.push(t),A.push()}},e.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case 11:case 28:case 2:return this.consumeSimpleBlock(A.type);case 19:return this.consumeFunction(A)}return A},e.prototype.consumeSimpleBlock=function(A){for(var t={type:A,values:[]},r=this.consumeToken();;){if(r.type===32||Tv(r,A))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(A){for(var t={name:A.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var A=this._tokens.shift();return typeof A>"u"?po:A},e.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},e}(),on=function(e){return e.type===15},Cr=function(e){return e.type===17},ae=function(e){return e.type===20},Dv=function(e){return e.type===0},mo=function(e,A){return ae(e)&&e.value===A},_u=function(e){return e.type!==31},vr=function(e){return e.type!==31&&e.type!==4},ht=function(e){var A=[],t=[];return e.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");A.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&A.push(t),A},Tv=function(e,A){return A===11&&e.type===12||A===28&&e.type===29?!0:A===2&&e.type===3},Tt=function(e){return e.type===17||e.type===15},ye=function(e){return e.type===16||Tt(e)},bu=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Le={type:17,number:0,flags:en},Qo={type:16,number:50,flags:en},Ot={type:16,number:100,flags:en},an=function(e,A,t){var r=e[0],n=e[1];return[ge(r,A),ge(typeof n<"u"?n:r,t)]},ge=function(e,A){if(e.type===16)return e.number/100*A;if(on(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Eu="deg",Hu="grad",Iu="rad",Su="turn",ki={name:"angle",parse:function(e,A){if(A.type===15)switch(A.unit){case Eu:return Math.PI*A.number/180;case Hu:return Math.PI/200*A.number;case Iu:return A.number;case Su:return Math.PI*2*A.number}throw new Error("Unsupported angle type")}},xu=function(e){return e.type===15&&(e.unit===Eu||e.unit===Hu||e.unit===Iu||e.unit===Su)},Lu=function(e){var A=e.filter(ae).map(function(t){return t.value}).join(" ");switch(A){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Le,Le];case"to top":case"bottom":return At(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Le,Ot];case"to right":case"left":return At(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ot,Ot];case"to bottom":case"top":return At(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ot,Le];case"to left":case"right":return At(270)}return 0},At=function(e){return Math.PI*e/180},Nt={name:"color",parse:function(e,A){if(A.type===18){var t=Ov[A.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+A.name+'"');return t(e,A.values)}if(A.type===5){if(A.value.length===3){var r=A.value.substring(0,1),n=A.value.substring(1,2),i=A.value.substring(2,3);return Vt(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),1)}if(A.value.length===4){var r=A.value.substring(0,1),n=A.value.substring(1,2),i=A.value.substring(2,3),s=A.value.substring(3,4);return Vt(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16)/255)}if(A.value.length===6){var r=A.value.substring(0,2),n=A.value.substring(2,4),i=A.value.substring(4,6);return Vt(parseInt(r,16),parseInt(n,16),parseInt(i,16),1)}if(A.value.length===8){var r=A.value.substring(0,2),n=A.value.substring(2,4),i=A.value.substring(4,6),s=A.value.substring(6,8);return Vt(parseInt(r,16),parseInt(n,16),parseInt(i,16),parseInt(s,16)/255)}}if(A.type===20){var o=bt[A.value.toUpperCase()];if(typeof o<"u")return o}return bt.TRANSPARENT}},Rt=function(e){return(255&e)===0},Ie=function(e){var A=255&e,t=255&e>>8,r=255&e>>16,n=255&e>>24;return A<255?"rgba("+n+","+r+","+t+","+A/255+")":"rgb("+n+","+r+","+t+")"},Vt=function(e,A,t,r){return(e<<24|A<<16|t<<8|Math.round(r*255)<<0)>>>0},ku=function(e,A){if(e.type===17)return e.number;if(e.type===16){var t=A===3?1:255;return A===3?e.number/100*t:Math.round(e.number/100*t)}return 0},Ku=function(e,A){var t=A.filter(vr);if(t.length===3){var r=t.map(ku),n=r[0],i=r[1],s=r[2];return Vt(n,i,s,1)}if(t.length===4){var o=t.map(ku),n=o[0],i=o[1],s=o[2],a=o[3];return Vt(n,i,s,a)}return 0};function Co(e,A,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(A-e)*t*6+e:t<1/2?A:t<2/3?(A-e)*6*(2/3-t)+e:e}var Mu=function(e,A){var t=A.filter(vr),r=t[0],n=t[1],i=t[2],s=t[3],o=(r.type===17?At(r.number):ki.parse(e,r))/(Math.PI*2),a=ye(n)?n.number/100:0,l=ye(i)?i.number/100:0,c=typeof s<"u"&&ye(s)?ge(s,1):1;if(a===0)return Vt(l*255,l*255,l*255,1);var g=l<=.5?l*(a+1):l+a-l*a,u=l*2-g,f=Co(u,g,o+1/3),d=Co(u,g,o),B=Co(u,g,o-1/3);return Vt(f*255,d*255,B*255,c)},Ov={hsl:Mu,hsla:Mu,rgb:Ku,rgba:Ku},ln=function(e,A){return Nt.parse(e,yu.create(A).parseComponentValue())},bt={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Nv={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,A){return A.map(function(t){if(ae(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Rv={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Ki=function(e,A){var t=Nt.parse(e,A[0]),r=A[1];return r&&ye(r)?{color:t,stop:r}:{color:t,stop:null}},Du=function(e,A){var t=e[0],r=e[e.length-1];t.stop===null&&(t.stop=Le),r.stop===null&&(r.stop=Ot);for(var n=[],i=0,s=0;s<e.length;s++){var o=e[s].stop;if(o!==null){var a=ge(o,A);a>i?n.push(a):n.push(i),i=a}else n.push(null)}for(var l=null,s=0;s<n.length;s++){var c=n[s];if(c===null)l===null&&(l=s);else if(l!==null){for(var g=s-l,u=n[l-1],f=(c-u)/(g+1),d=1;d<=g;d++)n[l+d-1]=f*d;l=null}}return e.map(function(B,w){var h=B.color;return{color:h,stop:Math.max(Math.min(1,n[w]/A),0)}})},Vv=function(e,A,t){var r=A/2,n=t/2,i=ge(e[0],A)-r,s=n-ge(e[1],t);return(Math.atan2(s,i)+Math.PI*2)%(Math.PI*2)},Gv=function(e,A,t){var r=typeof e=="number"?e:Vv(e,A,t),n=Math.abs(A*Math.sin(r))+Math.abs(t*Math.cos(r)),i=A/2,s=t/2,o=n/2,a=Math.sin(r-Math.PI/2)*o,l=Math.cos(r-Math.PI/2)*o;return[n,i-l,i+l,s-a,s+a]},ct=function(e,A){return Math.sqrt(e*e+A*A)},Tu=function(e,A,t,r,n){var i=[[0,0],[0,A],[e,0],[e,A]];return i.reduce(function(s,o){var a=o[0],l=o[1],c=ct(t-a,r-l);return(n?c<s.optimumDistance:c>s.optimumDistance)?{optimumCorner:o,optimumDistance:c}:s},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},Pv=function(e,A,t,r,n){var i=0,s=0;switch(e.size){case 0:e.shape===0?i=s=Math.min(Math.abs(A),Math.abs(A-r),Math.abs(t),Math.abs(t-n)):e.shape===1&&(i=Math.min(Math.abs(A),Math.abs(A-r)),s=Math.min(Math.abs(t),Math.abs(t-n)));break;case 2:if(e.shape===0)i=s=Math.min(ct(A,t),ct(A,t-n),ct(A-r,t),ct(A-r,t-n));else if(e.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-n))/Math.min(Math.abs(A),Math.abs(A-r)),a=Tu(r,n,A,t,!0),l=a[0],c=a[1];i=ct(l-A,(c-t)/o),s=o*i}break;case 1:e.shape===0?i=s=Math.max(Math.abs(A),Math.abs(A-r),Math.abs(t),Math.abs(t-n)):e.shape===1&&(i=Math.max(Math.abs(A),Math.abs(A-r)),s=Math.max(Math.abs(t),Math.abs(t-n)));break;case 3:if(e.shape===0)i=s=Math.max(ct(A,t),ct(A,t-n),ct(A-r,t),ct(A-r,t-n));else if(e.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-n))/Math.max(Math.abs(A),Math.abs(A-r)),g=Tu(r,n,A,t,!1),l=g[0],c=g[1];i=ct(l-A,(c-t)/o),s=o*i}break}return Array.isArray(e.size)&&(i=ge(e.size[0],r),s=e.size.length===2?ge(e.size[1],n):i),[i,s]},Xv=function(e,A){var t=At(180),r=[];return ht(A).forEach(function(n,i){if(i===0){var s=n[0];if(s.type===20&&s.value==="to"){t=Lu(n);return}else if(xu(s)){t=ki.parse(e,s);return}}var o=Ki(e,n);r.push(o)}),{angle:t,stops:r,type:1}},Mi=function(e,A){var t=At(180),r=[];return ht(A).forEach(function(n,i){if(i===0){var s=n[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){t=Lu(n);return}else if(xu(s)){t=(ki.parse(e,s)+At(270))%At(360);return}}var o=Ki(e,n);r.push(o)}),{angle:t,stops:r,type:1}},Jv=function(e,A){var t=At(180),r=[],n=1,i=0,s=3,o=[];return ht(A).forEach(function(a,l){var c=a[0];if(l===0){if(ae(c)&&c.value==="linear"){n=1;return}else if(ae(c)&&c.value==="radial"){n=2;return}}if(c.type===18){if(c.name==="from"){var g=Nt.parse(e,c.values[0]);r.push({stop:Le,color:g})}else if(c.name==="to"){var g=Nt.parse(e,c.values[0]);r.push({stop:Ot,color:g})}else if(c.name==="color-stop"){var u=c.values.filter(vr);if(u.length===2){var g=Nt.parse(e,u[1]),f=u[0];Cr(f)&&r.push({stop:{type:16,number:f.number*100,flags:f.flags},color:g})}}}}),n===1?{angle:(t+At(180))%At(360),stops:r,type:n}:{size:s,shape:i,stops:r,position:o,type:n}},Ou="closest-side",Nu="farthest-side",Ru="closest-corner",Vu="farthest-corner",Gu="circle",Pu="ellipse",Xu="cover",Ju="contain",Wv=function(e,A){var t=0,r=3,n=[],i=[];return ht(A).forEach(function(s,o){var a=!0;if(o===0){var l=!1;a=s.reduce(function(g,u){if(l)if(ae(u))switch(u.value){case"center":return i.push(Qo),g;case"top":case"left":return i.push(Le),g;case"right":case"bottom":return i.push(Ot),g}else(ye(u)||Tt(u))&&i.push(u);else if(ae(u))switch(u.value){case Gu:return t=0,!1;case Pu:return t=1,!1;case"at":return l=!0,!1;case Ou:return r=0,!1;case Xu:case Nu:return r=1,!1;case Ju:case Ru:return r=2,!1;case Vu:return r=3,!1}else if(Tt(u)||ye(u))return Array.isArray(r)||(r=[]),r.push(u),!1;return g},a)}if(a){var c=Ki(e,s);n.push(c)}}),{size:r,shape:t,stops:n,position:i,type:2}},Di=function(e,A){var t=0,r=3,n=[],i=[];return ht(A).forEach(function(s,o){var a=!0;if(o===0?a=s.reduce(function(c,g){if(ae(g))switch(g.value){case"center":return i.push(Qo),!1;case"top":case"left":return i.push(Le),!1;case"right":case"bottom":return i.push(Ot),!1}else if(ye(g)||Tt(g))return i.push(g),!1;return c},a):o===1&&(a=s.reduce(function(c,g){if(ae(g))switch(g.value){case Gu:return t=0,!1;case Pu:return t=1,!1;case Ju:case Ou:return r=0,!1;case Nu:return r=1,!1;case Ru:return r=2,!1;case Xu:case Vu:return r=3,!1}else if(Tt(g)||ye(g))return Array.isArray(r)||(r=[]),r.push(g),!1;return c},a)),a){var l=Ki(e,s);n.push(l)}}),{size:r,shape:t,stops:n,position:i,type:2}},Yv=function(e){return e.type===1},zv=function(e){return e.type===2},vo={name:"image",parse:function(e,A){if(A.type===22){var t={url:A.value,type:0};return e.cache.addImage(A.value),t}if(A.type===18){var r=Wu[A.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+A.name+'"');return r(e,A.values)}throw new Error("Unsupported image type "+A.type)}};function $v(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Wu[e.name])}var Wu={"linear-gradient":Xv,"-moz-linear-gradient":Mi,"-ms-linear-gradient":Mi,"-o-linear-gradient":Mi,"-webkit-linear-gradient":Mi,"radial-gradient":Wv,"-moz-radial-gradient":Di,"-ms-radial-gradient":Di,"-o-radial-gradient":Di,"-webkit-radial-gradient":Di,"-webkit-gradient":Jv},Zv={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,A){if(A.length===0)return[];var t=A[0];return t.type===20&&t.value==="none"?[]:A.filter(function(r){return vr(r)&&$v(r)}).map(function(r){return vo.parse(e,r)})}},jv={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,A){return A.map(function(t){if(ae(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},qv={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,A){return ht(A).map(function(t){return t.filter(ye)}).map(bu)}},A1={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,A){return ht(A).map(function(t){return t.filter(ae).map(function(r){return r.value}).join(" ")}).map(e1)}},e1=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ur;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Ur||(Ur={}));var t1={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,A){return ht(A).map(function(t){return t.filter(r1)})}},r1=function(e){return ae(e)||ye(e)},Ti=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},n1=Ti("top"),i1=Ti("right"),s1=Ti("bottom"),o1=Ti("left"),Oi=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(A,t){return bu(t.filter(ye))}}},a1=Oi("top-left"),l1=Oi("top-right"),c1=Oi("bottom-right"),u1=Oi("bottom-left"),Ni=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(A,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},f1=Ni("top"),g1=Ni("right"),B1=Ni("bottom"),d1=Ni("left"),Ri=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(A,t){return on(t)?t.number:0}}},h1=Ri("top"),w1=Ri("right"),p1=Ri("bottom"),m1=Ri("left"),Q1={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},C1={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,A){switch(A){case"rtl":return 1;case"ltr":default:return 0}}},v1={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,A){return A.filter(ae).reduce(function(t,r){return t|U1(r.value)},0)}},U1=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},F1={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},y1={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,A){return A.type===20&&A.value==="normal"?0:A.type===17||A.type===15?A.number:0}},Vi;(function(e){e.NORMAL="normal",e.STRICT="strict"})(Vi||(Vi={}));var _1={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"strict":return Vi.STRICT;case"normal":default:return Vi.NORMAL}}},b1={name:"line-height",initialValue:"normal",prefix:!1,type:4},Yu=function(e,A){return ae(e)&&e.value==="normal"?1.2*A:e.type===17?A*e.number:ye(e)?ge(e,A):A},E1={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,A){return A.type===20&&A.value==="none"?null:vo.parse(e,A)}},H1={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,A){switch(A){case"inside":return 0;case"outside":default:return 1}}},Uo={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Gi=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},I1=Gi("top"),S1=Gi("right"),x1=Gi("bottom"),L1=Gi("left"),k1={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,A){return A.filter(ae).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},K1={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"break-word":return"break-word";case"normal":default:return"normal"}}},Pi=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},M1=Pi("top"),D1=Pi("right"),T1=Pi("bottom"),O1=Pi("left"),N1={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,A){switch(A){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},R1={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,A){switch(A){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},V1={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.length===1&&mo(A[0],"none")?[]:ht(A).map(function(t){for(var r={color:bt.TRANSPARENT,offsetX:Le,offsetY:Le,blur:Le},n=0,i=0;i<t.length;i++){var s=t[i];Tt(s)?(n===0?r.offsetX=s:n===1?r.offsetY=s:r.blur=s,n++):r.color=Nt.parse(e,s)}return r})}},G1={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},P1={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,A){if(A.type===20&&A.value==="none")return null;if(A.type===18){var t=W1[A.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+A.name+'"');return t(A.values)}return null}},X1=function(e){var A=e.filter(function(t){return t.type===17}).map(function(t){return t.number});return A.length===6?A:null},J1=function(e){var A=e.filter(function(a){return a.type===17}).map(function(a){return a.number}),t=A[0],r=A[1];A[2],A[3];var n=A[4],i=A[5];A[6],A[7],A[8],A[9],A[10],A[11];var s=A[12],o=A[13];return A[14],A[15],A.length===16?[t,r,n,i,s,o]:null},W1={matrix:X1,matrix3d:J1},zu={type:16,number:50,flags:en},Y1=[zu,zu],z1={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,A){var t=A.filter(ye);return t.length!==2?Y1:[t[0],t[1]]}},$1={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},cn;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(cn||(cn={}));for(var Z1={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"break-all":return cn.BREAK_ALL;case"keep-all":return cn.KEEP_ALL;case"normal":default:return cn.NORMAL}}},j1={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,A){if(A.type===20)return{auto:!0,order:0};if(Cr(A))return{auto:!1,order:A.number};throw new Error("Invalid z-index number parsed")}},$u={name:"time",parse:function(e,A){if(A.type===15)switch(A.unit.toLowerCase()){case"s":return 1e3*A.number;case"ms":return A.number}throw new Error("Unsupported time type")}},q1={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,A){return Cr(A)?A.number:1}},AU={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},eU={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,A){return A.filter(ae).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},tU={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,A){var t=[],r=[];return A.forEach(function(n){switch(n.type){case 20:case 0:t.push(n.value);break;case 17:t.push(n.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},rU={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},nU={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,A){if(Cr(A))return A.number;if(ae(A))switch(A.value){case"bold":return 700;case"normal":default:return 400}return 400}},iU={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.filter(ae).map(function(t){return t.value})}},sU={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ee=function(e,A){return(e&A)!==0},oU={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,A){if(A.length===0)return[];var t=A[0];return t.type===20&&t.value==="none"?[]:A}},aU={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(A.length===0)return null;var t=A[0];if(t.type===20&&t.value==="none")return null;for(var r=[],n=A.filter(_u),i=0;i<n.length;i++){var s=n[i],o=n[i+1];if(s.type===20){var a=o&&Cr(o)?o.number:1;r.push({counter:s.value,increment:a})}}return r}},lU={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(A.length===0)return[];for(var t=[],r=A.filter(_u),n=0;n<r.length;n++){var i=r[n],s=r[n+1];if(ae(i)&&i.value!=="none"){var o=s&&Cr(s)?s.number:0;t.push({counter:i.value,reset:o})}}return t}},cU={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,A){return A.filter(on).map(function(t){return $u.parse(e,t)})}},uU={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(A.length===0)return null;var t=A[0];if(t.type===20&&t.value==="none")return null;var r=[],n=A.filter(Dv);if(n.length%2!==0)return null;for(var i=0;i<n.length;i+=2){var s=n[i].value,o=n[i+1].value;r.push({open:s,close:o})}return r}},Zu=function(e,A,t){if(!e)return"";var r=e[Math.min(A,e.length-1)];return r?t?r.open:r.close:""},fU={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.length===1&&mo(A[0],"none")?[]:ht(A).map(function(t){for(var r={color:255,offsetX:Le,offsetY:Le,blur:Le,spread:Le,inset:!1},n=0,i=0;i<t.length;i++){var s=t[i];mo(s,"inset")?r.inset=!0:Tt(s)?(n===0?r.offsetX=s:n===1?r.offsetY=s:n===2?r.blur=s:r.spread=s,n++):r.color=Nt.parse(e,s)}return r})}},gU={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,A){var t=[0,1,2],r=[];return A.filter(ae).forEach(function(n){switch(n.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(n){r.indexOf(n)===-1&&r.push(n)}),r}},BU={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},dU={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,A){return on(A)?A.number:0}},hU=function(){function e(A,t){var r,n;this.animationDuration=uA(A,cU,t.animationDuration),this.backgroundClip=uA(A,Nv,t.backgroundClip),this.backgroundColor=uA(A,Rv,t.backgroundColor),this.backgroundImage=uA(A,Zv,t.backgroundImage),this.backgroundOrigin=uA(A,jv,t.backgroundOrigin),this.backgroundPosition=uA(A,qv,t.backgroundPosition),this.backgroundRepeat=uA(A,A1,t.backgroundRepeat),this.backgroundSize=uA(A,t1,t.backgroundSize),this.borderTopColor=uA(A,n1,t.borderTopColor),this.borderRightColor=uA(A,i1,t.borderRightColor),this.borderBottomColor=uA(A,s1,t.borderBottomColor),this.borderLeftColor=uA(A,o1,t.borderLeftColor),this.borderTopLeftRadius=uA(A,a1,t.borderTopLeftRadius),this.borderTopRightRadius=uA(A,l1,t.borderTopRightRadius),this.borderBottomRightRadius=uA(A,c1,t.borderBottomRightRadius),this.borderBottomLeftRadius=uA(A,u1,t.borderBottomLeftRadius),this.borderTopStyle=uA(A,f1,t.borderTopStyle),this.borderRightStyle=uA(A,g1,t.borderRightStyle),this.borderBottomStyle=uA(A,B1,t.borderBottomStyle),this.borderLeftStyle=uA(A,d1,t.borderLeftStyle),this.borderTopWidth=uA(A,h1,t.borderTopWidth),this.borderRightWidth=uA(A,w1,t.borderRightWidth),this.borderBottomWidth=uA(A,p1,t.borderBottomWidth),this.borderLeftWidth=uA(A,m1,t.borderLeftWidth),this.boxShadow=uA(A,fU,t.boxShadow),this.color=uA(A,Q1,t.color),this.direction=uA(A,C1,t.direction),this.display=uA(A,v1,t.display),this.float=uA(A,F1,t.cssFloat),this.fontFamily=uA(A,tU,t.fontFamily),this.fontSize=uA(A,rU,t.fontSize),this.fontStyle=uA(A,sU,t.fontStyle),this.fontVariant=uA(A,iU,t.fontVariant),this.fontWeight=uA(A,nU,t.fontWeight),this.letterSpacing=uA(A,y1,t.letterSpacing),this.lineBreak=uA(A,_1,t.lineBreak),this.lineHeight=uA(A,b1,t.lineHeight),this.listStyleImage=uA(A,E1,t.listStyleImage),this.listStylePosition=uA(A,H1,t.listStylePosition),this.listStyleType=uA(A,Uo,t.listStyleType),this.marginTop=uA(A,I1,t.marginTop),this.marginRight=uA(A,S1,t.marginRight),this.marginBottom=uA(A,x1,t.marginBottom),this.marginLeft=uA(A,L1,t.marginLeft),this.opacity=uA(A,q1,t.opacity);var i=uA(A,k1,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=uA(A,K1,t.overflowWrap),this.paddingTop=uA(A,M1,t.paddingTop),this.paddingRight=uA(A,D1,t.paddingRight),this.paddingBottom=uA(A,T1,t.paddingBottom),this.paddingLeft=uA(A,O1,t.paddingLeft),this.paintOrder=uA(A,gU,t.paintOrder),this.position=uA(A,R1,t.position),this.textAlign=uA(A,N1,t.textAlign),this.textDecorationColor=uA(A,AU,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=uA(A,eU,(n=t.textDecorationLine)!==null&&n!==void 0?n:t.textDecoration),this.textShadow=uA(A,V1,t.textShadow),this.textTransform=uA(A,G1,t.textTransform),this.transform=uA(A,P1,t.transform),this.transformOrigin=uA(A,z1,t.transformOrigin),this.visibility=uA(A,$1,t.visibility),this.webkitTextStrokeColor=uA(A,BU,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=uA(A,dU,t.webkitTextStrokeWidth),this.wordBreak=uA(A,Z1,t.wordBreak),this.zIndex=uA(A,j1,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Rt(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Ee(this.display,4)||Ee(this.display,33554432)||Ee(this.display,268435456)||Ee(this.display,536870912)||Ee(this.display,67108864)||Ee(this.display,134217728)},e}(),wU=function(){function e(A,t){this.content=uA(A,oU,t.content),this.quotes=uA(A,uU,t.quotes)}return e}(),ju=function(){function e(A,t){this.counterIncrement=uA(A,aU,t.counterIncrement),this.counterReset=uA(A,lU,t.counterReset)}return e}(),uA=function(e,A,t){var r=new Fu,n=t!==null&&typeof t<"u"?t.toString():A.initialValue;r.write(n);var i=new yu(r.read());switch(A.type){case 2:var s=i.parseComponentValue();return A.parse(e,ae(s)?s.value:A.initialValue);case 0:return A.parse(e,i.parseComponentValue());case 1:return A.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(A.format){case"angle":return ki.parse(e,i.parseComponentValue());case"color":return Nt.parse(e,i.parseComponentValue());case"image":return vo.parse(e,i.parseComponentValue());case"length":var o=i.parseComponentValue();return Tt(o)?o:Le;case"length-percentage":var a=i.parseComponentValue();return ye(a)?a:Le;case"time":return $u.parse(e,i.parseComponentValue())}break}},pU="data-html2canvas-debug",mU=function(e){var A=e.getAttribute(pU);switch(A){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Fo=function(e,A){var t=mU(e);return t===1||A===t},wt=function(){function e(A,t){if(this.context=A,this.textNodes=[],this.elements=[],this.flags=0,Fo(t,3))debugger;this.styles=new hU(A,window.getComputedStyle(t,null)),To(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=Bi(this.context,t),Fo(t,4)&&(this.flags|=16)}return e}(),QU="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",qu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",un=typeof Uint8Array>"u"?[]:new Uint8Array(256),Xi=0;Xi<qu.length;Xi++)un[qu.charCodeAt(Xi)]=Xi;for(var CU=function(e){var A=e.length*.75,t=e.length,r,n=0,i,s,o,a;e[e.length-1]==="="&&(A--,e[e.length-2]==="="&&A--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),c=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<t;r+=4)i=un[e.charCodeAt(r)],s=un[e.charCodeAt(r+1)],o=un[e.charCodeAt(r+2)],a=un[e.charCodeAt(r+3)],c[n++]=i<<2|s>>4,c[n++]=(s&15)<<4|o>>2,c[n++]=(o&3)<<6|a&63;return l},vU=function(e){for(var A=e.length,t=[],r=0;r<A;r+=2)t.push(e[r+1]<<8|e[r]);return t},UU=function(e){for(var A=e.length,t=[],r=0;r<A;r+=4)t.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return t},jt=5,yo=6+5,_o=2,FU=yo-jt,Af=65536>>jt,yU=1<<jt,bo=yU-1,_U=1024>>jt,bU=Af+_U,EU=bU,HU=32,IU=EU+HU,SU=65536>>yo,xU=1<<FU,LU=xU-1,ef=function(e,A,t){return e.slice?e.slice(A,t):new Uint16Array(Array.prototype.slice.call(e,A,t))},kU=function(e,A,t){return e.slice?e.slice(A,t):new Uint32Array(Array.prototype.slice.call(e,A,t))},KU=function(e,A){var t=CU(e),r=Array.isArray(t)?UU(t):new Uint32Array(t),n=Array.isArray(t)?vU(t):new Uint16Array(t),i=24,s=ef(n,i/2,r[4]/2),o=r[5]===2?ef(n,(i+r[4])/2):kU(r,Math.ceil((i+r[4])/4));return new MU(r[0],r[1],r[2],r[3],s,o)},MU=function(){function e(A,t,r,n,i,s){this.initialValue=A,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=s}return e.prototype.get=function(A){var t;if(A>=0){if(A<55296||A>56319&&A<=65535)return t=this.index[A>>jt],t=(t<<_o)+(A&bo),this.data[t];if(A<=65535)return t=this.index[Af+(A-55296>>jt)],t=(t<<_o)+(A&bo),this.data[t];if(A<this.highStart)return t=IU-SU+(A>>yo),t=this.index[t],t+=A>>jt&LU,t=this.index[t],t=(t<<_o)+(A&bo),this.data[t];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DU=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ji=0;Ji<tf.length;Ji++)DU[tf.charCodeAt(Ji)]=Ji;var TU=1,Eo=2,Ho=3,rf=4,nf=5,OU=7,sf=8,Io=9,So=10,of=11,af=12,lf=13,cf=14,xo=15,NU=function(e){for(var A=[],t=0,r=e.length;t<r;){var n=e.charCodeAt(t++);if(n>=55296&&n<=56319&&t<r){var i=e.charCodeAt(t++);(i&64512)===56320?A.push(((n&1023)<<10)+(i&1023)+65536):(A.push(n),t--)}else A.push(n)}return A},RU=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var r=[],n=-1,i="";++n<t;){var s=e[n];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(n+1===t||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},VU=KU(QU),et="×",Lo="÷",GU=function(e){return VU.get(e)},PU=function(e,A,t){var r=t-2,n=A[r],i=A[t-1],s=A[t];if(i===Eo&&s===Ho)return et;if(i===Eo||i===Ho||i===rf||s===Eo||s===Ho||s===rf)return Lo;if(i===sf&&[sf,Io,of,af].indexOf(s)!==-1||(i===of||i===Io)&&(s===Io||s===So)||(i===af||i===So)&&s===So||s===lf||s===nf||s===OU||i===TU)return et;if(i===lf&&s===cf){for(;n===nf;)n=A[--r];if(n===cf)return et}if(i===xo&&s===xo){for(var o=0;n===xo;)o++,n=A[--r];if(o%2===0)return et}return Lo},XU=function(e){var A=NU(e),t=A.length,r=0,n=0,i=A.map(GU);return{next:function(){if(r>=t)return{done:!0,value:null};for(var s=et;r<t&&(s=PU(A,i,++r))===et;);if(s!==et||r===t){var o=RU.apply(null,A.slice(n,r));return n=r,{value:o,done:!1}}return{done:!0,value:null}}}},JU=function(e){for(var A=XU(e),t=[],r;!(r=A.next()).done;)r.value&&t.push(r.value.slice());return t},WU=function(e){var A=123;if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=A+"px",r.style.display="block",e.body.appendChild(r),t.selectNode(r);var n=t.getBoundingClientRect(),i=Math.round(n.height);if(e.body.removeChild(r),i===A)return!0}}return!1},YU=function(e){var A=e.createElement("boundtest");A.style.width="50px",A.style.display="block",A.style.fontSize="12px",A.style.letterSpacing="0px",A.style.wordSpacing="0px",e.body.appendChild(A);var t=e.createRange();A.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=A.firstChild,n=di(r.data).map(function(a){return Ce(a)}),i=0,s={},o=n.every(function(a,l){t.setStart(r,i),t.setEnd(r,i+a.length);var c=t.getBoundingClientRect();i+=a.length;var g=c.x>s.x||c.y>s.y;return s=c,l===0?!0:g});return e.body.removeChild(A),o},zU=function(){return typeof new Image().crossOrigin<"u"},$U=function(){return typeof new XMLHttpRequest().responseType=="string"},ZU=function(e){var A=new Image,t=e.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;A.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(A,0,0),t.toDataURL()}catch{return!1}return!0},uf=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},jU=function(e){var A=e.createElement("canvas"),t=100;A.width=t,A.height=t;var r=A.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var n=new Image,i=A.toDataURL();n.src=i;var s=ko(t,t,0,0,n);return r.fillStyle="red",r.fillRect(0,0,t,t),ff(s).then(function(o){r.drawImage(o,0,0);var a=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var l=e.createElement("div");return l.style.backgroundImage="url("+i+")",l.style.height=t+"px",uf(a)?ff(ko(t,t,0,0,l)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),uf(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},ko=function(e,A,t,r,n){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return s.setAttributeNS(null,"width",e.toString()),s.setAttributeNS(null,"height",A.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(n),s},ff=function(e){return new Promise(function(A,t){var r=new Image;r.onload=function(){return A(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},ke={get SUPPORT_RANGE_BOUNDS(){var e=WU(document);return Object.defineProperty(ke,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=ke.SUPPORT_RANGE_BOUNDS&&YU(document);return Object.defineProperty(ke,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=ZU(document);return Object.defineProperty(ke,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?jU(document):Promise.resolve(!1);return Object.defineProperty(ke,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=zU();return Object.defineProperty(ke,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=$U();return Object.defineProperty(ke,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ke,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ke,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},fn=function(){function e(A,t){this.text=A,this.bounds=t}return e}(),qU=function(e,A,t,r){var n=tF(A,t),i=[],s=0;return n.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(ke.SUPPORT_RANGE_BOUNDS){var a=gf(r,s,o.length).getClientRects();if(a.length>1){var l=Ko(o),c=0;l.forEach(function(u){i.push(new fn(u,yt.fromDOMRectList(e,gf(r,c+s,u.length).getClientRects()))),c+=u.length})}else i.push(new fn(o,yt.fromDOMRectList(e,a)))}else{var g=r.splitText(o.length);i.push(new fn(o,AF(e,r))),r=g}else ke.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));s+=o.length}),i},AF=function(e,A){var t=A.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(A.cloneNode(!0));var n=A.parentNode;if(n){n.replaceChild(r,A);var i=Bi(e,r);return r.firstChild&&n.replaceChild(r.firstChild,r),i}}return yt.EMPTY},gf=function(e,A,t){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var n=r.createRange();return n.setStart(e,A),n.setEnd(e,A+t),n},Ko=function(e){if(ke.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(A.segment(e)).map(function(t){return t.segment})}return JU(e)},eF=function(e,A){if(ke.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return nF(e,A)},tF=function(e,A){return A.letterSpacing!==0?Ko(e):eF(e,A)},rF=[32,160,4961,65792,65793,4153,4241],nF=function(e,A){for(var t=SC(e,{lineBreak:A.lineBreak,wordBreak:A.overflowWrap==="break-word"?"break-word":A.wordBreak}),r=[],n,i=function(){if(n.value){var s=n.value.slice(),o=di(s),a="";o.forEach(function(l){rF.indexOf(l)===-1?a+=Ce(l):(a.length&&r.push(a),r.push(Ce(l)),a="")}),a.length&&r.push(a)}};!(n=t.next()).done;)i();return r},iF=function(){function e(A,t,r){this.text=sF(t.data,r.textTransform),this.textBounds=qU(A,this.text,r,t)}return e}(),sF=function(e,A){switch(A){case 1:return e.toLowerCase();case 3:return e.replace(oF,aF);case 2:return e.toUpperCase();default:return e}},oF=/(^|\s|:|-|\(|\))([a-z])/g,aF=function(e,A,t){return e.length>0?A+t.toUpperCase():e},Bf=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.src=r.currentSrc||r.src,n.intrinsicWidth=r.naturalWidth,n.intrinsicHeight=r.naturalHeight,n.context.cache.addImage(n.src),n}return A}(wt),df=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.canvas=r,n.intrinsicWidth=r.width,n.intrinsicHeight=r.height,n}return A}(wt),hf=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this,i=new XMLSerializer,s=Bi(t,r);return r.setAttribute("width",s.width+"px"),r.setAttribute("height",s.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),n.intrinsicWidth=r.width.baseVal.value,n.intrinsicHeight=r.height.baseVal.value,n.context.cache.addImage(n.svg),n}return A}(wt),wf=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return A}(wt),Mo=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.start=r.start,n.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,n}return A}(wt),lF=[{type:15,flags:0,unit:"px",number:3}],cF=[{type:16,flags:0,number:50}],uF=function(e){return e.width>e.height?new yt(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new yt(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},fF=function(e){var A=e.type===gF?new Array(e.value.length+1).join("•"):e.value;return A.length===0?e.placeholder||"":A},Wi="checkbox",Yi="radio",gF="password",pf=707406591,Do=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;switch(n.type=r.type.toLowerCase(),n.checked=r.checked,n.value=fF(r),(n.type===Wi||n.type===Yi)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=uF(n.bounds)),n.type){case Wi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=lF;break;case Yi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=cF;break}return n}return A}(wt),mf=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this,i=r.options[r.selectedIndex||0];return n.value=i&&i.text||"",n}return A}(wt),Qf=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return A}(wt),Cf=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;n.src=r.src,n.width=parseInt(r.width,10)||0,n.height=parseInt(r.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){n.tree=Uf(t,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?ln(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):bt.TRANSPARENT,s=r.contentWindow.document.body?ln(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):bt.TRANSPARENT;n.backgroundColor=Rt(i)?Rt(s)?n.styles.backgroundColor:s:i}}catch{}return n}return A}(wt),BF=["OL","UL","MENU"],zi=function(e,A,t,r){for(var n=A.firstChild,i=void 0;n;n=i)if(i=n.nextSibling,Ff(n)&&n.data.trim().length>0)t.textNodes.push(new iF(e,n,t.styles));else if(Fr(n))if(If(n)&&n.assignedNodes)n.assignedNodes().forEach(function(o){return zi(e,o,t,r)});else{var s=vf(e,n);s.styles.isVisible()&&(dF(n,s,r)?s.flags|=4:hF(s.styles)&&(s.flags|=2),BF.indexOf(n.tagName)!==-1&&(s.flags|=8),t.elements.push(s),n.slot,n.shadowRoot?zi(e,n.shadowRoot,s,r):!Zi(n)&&!yf(n)&&!ji(n)&&zi(e,n,s,r))}},vf=function(e,A){return No(A)?new Bf(e,A):_f(A)?new df(e,A):yf(A)?new hf(e,A):wF(A)?new wf(e,A):pF(A)?new Mo(e,A):mF(A)?new Do(e,A):ji(A)?new mf(e,A):Zi(A)?new Qf(e,A):Ef(A)?new Cf(e,A):new wt(e,A)},Uf=function(e,A){var t=vf(e,A);return t.flags|=4,zi(e,A,t,t),t},dF=function(e,A,t){return A.styles.isPositionedWithZIndex()||A.styles.opacity<1||A.styles.isTransformed()||Oo(e)&&t.styles.isTransparent()},hF=function(e){return e.isPositioned()||e.isFloating()},Ff=function(e){return e.nodeType===Node.TEXT_NODE},Fr=function(e){return e.nodeType===Node.ELEMENT_NODE},To=function(e){return Fr(e)&&typeof e.style<"u"&&!$i(e)},$i=function(e){return typeof e.className=="object"},wF=function(e){return e.tagName==="LI"},pF=function(e){return e.tagName==="OL"},mF=function(e){return e.tagName==="INPUT"},QF=function(e){return e.tagName==="HTML"},yf=function(e){return e.tagName==="svg"},Oo=function(e){return e.tagName==="BODY"},_f=function(e){return e.tagName==="CANVAS"},bf=function(e){return e.tagName==="VIDEO"},No=function(e){return e.tagName==="IMG"},Ef=function(e){return e.tagName==="IFRAME"},Hf=function(e){return e.tagName==="STYLE"},CF=function(e){return e.tagName==="SCRIPT"},Zi=function(e){return e.tagName==="TEXTAREA"},ji=function(e){return e.tagName==="SELECT"},If=function(e){return e.tagName==="SLOT"},Sf=function(e){return e.tagName.indexOf("-")>0},vF=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(A){var t=this.counters[A];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(A){var t=this.counters[A];return t||[]},e.prototype.pop=function(A){var t=this;A.forEach(function(r){return t.counters[r].pop()})},e.prototype.parse=function(A){var t=this,r=A.counterIncrement,n=A.counterReset,i=!0;r!==null&&r.forEach(function(o){var a=t.counters[o.counter];a&&o.increment!==0&&(i=!1,a.length||a.push(1),a[Math.max(0,a.length-1)]+=o.increment)});var s=[];return i&&n.forEach(function(o){var a=t.counters[o.counter];s.push(o.counter),a||(a=t.counters[o.counter]=[]),a.push(o.reset)}),s},e}(),xf={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Lf={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},UF={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},FF={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},yr=function(e,A,t,r,n,i){return e<A||e>t?Bn(e,n,i.length>0):r.integers.reduce(function(s,o,a){for(;e>=o;)e-=o,s+=r.values[a];return s},"")+i},kf=function(e,A,t,r){var n="";do t||e--,n=r(e)+n,e/=A;while(e*A>=A);return n},ve=function(e,A,t,r,n){var i=t-A+1;return(e<0?"-":"")+(kf(Math.abs(e),i,r,function(s){return Ce(Math.floor(s%i)+A)})+n)},qt=function(e,A,t){t===void 0&&(t=". ");var r=A.length;return kf(Math.abs(e),r,!1,function(n){return A[Math.floor(n%r)]})+t},_r=1,Gt=2,Pt=4,gn=8,Et=function(e,A,t,r,n,i){if(e<-9999||e>9999)return Bn(e,4,n.length>0);var s=Math.abs(e),o=n;if(s===0)return A[0]+o;for(var a=0;s>0&&a<=4;a++){var l=s%10;l===0&&Ee(i,_r)&&o!==""?o=A[l]+o:l>1||l===1&&a===0||l===1&&a===1&&Ee(i,Gt)||l===1&&a===1&&Ee(i,Pt)&&e>100||l===1&&a>1&&Ee(i,gn)?o=A[l]+(a>0?t[a-1]:"")+o:l===1&&a>0&&(o=t[a-1]+o),s=Math.floor(s/10)}return(e<0?r:"")+o},Kf="十百千萬",Mf="拾佰仟萬",Df="マイナス",Ro="마이너스",Bn=function(e,A,t){var r=t?". ":"",n=t?"、":"",i=t?", ":"",s=t?" ":"";switch(A){case 0:return"•"+s;case 1:return"◦"+s;case 2:return"◾"+s;case 5:var o=ve(e,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return qt(e,"〇一二三四五六七八九",n);case 6:return yr(e,1,3999,xf,3,r).toLowerCase();case 7:return yr(e,1,3999,xf,3,r);case 8:return ve(e,945,969,!1,r);case 9:return ve(e,97,122,!1,r);case 10:return ve(e,65,90,!1,r);case 11:return ve(e,1632,1641,!0,r);case 12:case 49:return yr(e,1,9999,Lf,3,r);case 35:return yr(e,1,9999,Lf,3,r).toLowerCase();case 13:return ve(e,2534,2543,!0,r);case 14:case 30:return ve(e,6112,6121,!0,r);case 15:return qt(e,"子丑寅卯辰巳午未申酉戌亥",n);case 16:return qt(e,"甲乙丙丁戊己庚辛壬癸",n);case 17:case 48:return Et(e,"零一二三四五六七八九",Kf,"負",n,Gt|Pt|gn);case 47:return Et(e,"零壹貳參肆伍陸柒捌玖",Mf,"負",n,_r|Gt|Pt|gn);case 42:return Et(e,"零一二三四五六七八九",Kf,"负",n,Gt|Pt|gn);case 41:return Et(e,"零壹贰叁肆伍陆柒捌玖",Mf,"负",n,_r|Gt|Pt|gn);case 26:return Et(e,"〇一二三四五六七八九","十百千万",Df,n,0);case 25:return Et(e,"零壱弐参四伍六七八九","拾百千万",Df,n,_r|Gt|Pt);case 31:return Et(e,"영일이삼사오육칠팔구","십백천만",Ro,i,_r|Gt|Pt);case 33:return Et(e,"零一二三四五六七八九","十百千萬",Ro,i,0);case 32:return Et(e,"零壹貳參四五六七八九","拾百千",Ro,i,_r|Gt|Pt);case 18:return ve(e,2406,2415,!0,r);case 20:return yr(e,1,19999,FF,3,r);case 21:return ve(e,2790,2799,!0,r);case 22:return ve(e,2662,2671,!0,r);case 22:return yr(e,1,10999,UF,3,r);case 23:return qt(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return qt(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return ve(e,3302,3311,!0,r);case 28:return qt(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",n);case 29:return qt(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",n);case 34:return ve(e,3792,3801,!0,r);case 37:return ve(e,6160,6169,!0,r);case 38:return ve(e,4160,4169,!0,r);case 39:return ve(e,2918,2927,!0,r);case 40:return ve(e,1776,1785,!0,r);case 43:return ve(e,3046,3055,!0,r);case 44:return ve(e,3174,3183,!0,r);case 45:return ve(e,3664,3673,!0,r);case 46:return ve(e,3872,3881,!0,r);case 3:default:return ve(e,48,57,!0,r)}},Tf="data-html2canvas-ignore",Of=function(){function e(A,t,r){if(this.context=A,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new vF,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(A,t){var r=this,n=yF(A,t);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var i=A.defaultView.pageXOffset,s=A.defaultView.pageYOffset,o=n.contentWindow,a=o.document,l=EF(n).then(function(){return Ye(r,void 0,void 0,function(){var c,g;return De(this,function(u){switch(u.label){case 0:return this.scrolledElements.forEach(xF),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),c=this.options.onclone,g=this.clonedReferenceElement,typeof g>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:u.sent(),u.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,bF(a)]:[3,4];case 3:u.sent(),u.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(a,g)}).then(function(){return n})]:[2,n]}})})});return a.open(),a.write(IF(document.doctype)+"<html></html>"),SF(this.referenceElement.ownerDocument,i,s),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),l},e.prototype.createElementClone=function(A){if(Fo(A,2))debugger;if(_f(A))return this.createCanvasClone(A);if(bf(A))return this.createVideoClone(A);if(Hf(A))return this.createStyleClone(A);var t=A.cloneNode(!1);return No(t)&&(No(A)&&A.currentSrc&&A.currentSrc!==A.src&&(t.src=A.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),Sf(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(A){var t=document.createElement("html2canvascustomelement");return Vo(A.style,t),t},e.prototype.createStyleClone=function(A){try{var t=A.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(i,s){return s&&typeof s.cssText=="string"?i+s.cssText:i},""),n=A.cloneNode(!1);return n.textContent=r,n}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return A.cloneNode(!1)},e.prototype.createCanvasClone=function(A){var t;if(this.options.inlineImages&&A.ownerDocument){var r=A.ownerDocument.createElement("img");try{return r.src=A.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",A)}}var n=A.cloneNode(!1);try{n.width=A.width,n.height=A.height;var i=A.getContext("2d"),s=n.getContext("2d");if(s)if(!this.options.allowTaint&&i)s.putImageData(i.getImageData(0,0,A.width,A.height),0,0);else{var o=(t=A.getContext("webgl2"))!==null&&t!==void 0?t:A.getContext("webgl");if(o){var a=o.getContextAttributes();(a==null?void 0:a.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",A)}s.drawImage(A,0,0)}return n}catch{this.context.logger.info("Unable to clone canvas as it is tainted",A)}return n},e.prototype.createVideoClone=function(A){var t=A.ownerDocument.createElement("canvas");t.width=A.offsetWidth,t.height=A.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(A,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",A)}var n=A.ownerDocument.createElement("canvas");return n.width=A.offsetWidth,n.height=A.offsetHeight,n},e.prototype.appendChildNode=function(A,t,r){(!Fr(t)||!CF(t)&&!t.hasAttribute(Tf)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Fr(t)||!Hf(t))&&A.appendChild(this.cloneNode(t,r))},e.prototype.cloneChildNodes=function(A,t,r){for(var n=this,i=A.shadowRoot?A.shadowRoot.firstChild:A.firstChild;i;i=i.nextSibling)if(Fr(i)&&If(i)&&typeof i.assignedNodes=="function"){var s=i.assignedNodes();s.length&&s.forEach(function(o){return n.appendChildNode(t,o,r)})}else this.appendChildNode(t,i,r)},e.prototype.cloneNode=function(A,t){if(Ff(A))return document.createTextNode(A.data);if(!A.ownerDocument)return A.cloneNode(!1);var r=A.ownerDocument.defaultView;if(r&&Fr(A)&&(To(A)||$i(A))){var n=this.createElementClone(A);n.style.transitionProperty="none";var i=r.getComputedStyle(A),s=r.getComputedStyle(A,":before"),o=r.getComputedStyle(A,":after");this.referenceElement===A&&To(n)&&(this.clonedReferenceElement=n),Oo(n)&&KF(n);var a=this.counters.parse(new ju(this.context,i)),l=this.resolvePseudoContent(A,n,s,dn.BEFORE);Sf(A)&&(t=!0),bf(A)||this.cloneChildNodes(A,n,t),l&&n.insertBefore(l,n.firstChild);var c=this.resolvePseudoContent(A,n,o,dn.AFTER);return c&&n.appendChild(c),this.counters.pop(a),(i&&(this.options.copyStyles||$i(A))&&!Ef(A)||t)&&Vo(i,n),(A.scrollTop!==0||A.scrollLeft!==0)&&this.scrolledElements.push([n,A.scrollLeft,A.scrollTop]),(Zi(A)||ji(A))&&(Zi(n)||ji(n))&&(n.value=A.value),n}return A.cloneNode(!1)},e.prototype.resolvePseudoContent=function(A,t,r,n){var i=this;if(r){var s=r.content,o=t.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||r.display==="none")){this.counters.parse(new ju(this.context,r));var a=new wU(this.context,r),l=o.createElement("html2canvaspseudoelement");Vo(r,l),a.content.forEach(function(g){if(g.type===0)l.appendChild(o.createTextNode(g.value));else if(g.type===22){var u=o.createElement("img");u.src=g.value,u.style.opacity="1",l.appendChild(u)}else if(g.type===18){if(g.name==="attr"){var f=g.values.filter(ae);f.length&&l.appendChild(o.createTextNode(A.getAttribute(f[0].value)||""))}else if(g.name==="counter"){var d=g.values.filter(vr),B=d[0],w=d[1];if(B&&ae(B)){var h=i.counters.getCounterValue(B.value),F=w&&ae(w)?Uo.parse(i.context,w.value):3;l.appendChild(o.createTextNode(Bn(h,F,!1)))}}else if(g.name==="counters"){var E=g.values.filter(vr),B=E[0],Q=E[1],w=E[2];if(B&&ae(B)){var C=i.counters.getCounterValues(B.value),y=w&&ae(w)?Uo.parse(i.context,w.value):3,H=Q&&Q.type===0?Q.value:"",U=C.map(function(x){return Bn(x,y,!1)}).join(H);l.appendChild(o.createTextNode(U))}}}else if(g.type===20)switch(g.value){case"open-quote":l.appendChild(o.createTextNode(Zu(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(Zu(a.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(g.value))}}),l.className=Go+" "+Po;var c=n===dn.BEFORE?" "+Go:" "+Po;return $i(t)?t.className.baseValue+=c:t.className+=c,l}}},e.destroy=function(A){return A.parentNode?(A.parentNode.removeChild(A),!0):!1},e}(),dn;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(dn||(dn={}));var yF=function(e,A){var t=e.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=A.width.toString(),t.height=A.height.toString(),t.scrolling="no",t.setAttribute(Tf,"true"),e.body.appendChild(t),t},_F=function(e){return new Promise(function(A){if(e.complete){A();return}if(!e.src){A();return}e.onload=A,e.onerror=A})},bF=function(e){return Promise.all([].slice.call(e.images,0).map(_F))},EF=function(e){return new Promise(function(A,t){var r=e.contentWindow;if(!r)return t("No window assigned for iframe");var n=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var i=setInterval(function(){n.body.childNodes.length>0&&n.readyState==="complete"&&(clearInterval(i),A(e))},50)}})},HF=["all","d","content"],Vo=function(e,A){for(var t=e.length-1;t>=0;t--){var r=e.item(t);HF.indexOf(r)===-1&&A.style.setProperty(r,e.getPropertyValue(r))}return A},IF=function(e){var A="";return e&&(A+="<!DOCTYPE ",e.name&&(A+=e.name),e.internalSubset&&(A+=e.internalSubset),e.publicId&&(A+='"'+e.publicId+'"'),e.systemId&&(A+='"'+e.systemId+'"'),A+=">"),A},SF=function(e,A,t){e&&e.defaultView&&(A!==e.defaultView.pageXOffset||t!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(A,t)},xF=function(e){var A=e[0],t=e[1],r=e[2];A.scrollLeft=t,A.scrollTop=r},LF=":before",kF=":after",Go="___html2canvas___pseudoelement_before",Po="___html2canvas___pseudoelement_after",Nf=`{
    content: "" !important;
    display: none !important;
}`,KF=function(e){MF(e,"."+Go+LF+Nf+`
         .`+Po+kF+Nf)},MF=function(e,A){var t=e.ownerDocument;if(t){var r=t.createElement("style");r.textContent=A,e.appendChild(r)}},Rf=function(){function e(){}return e.getOrigin=function(A){var t=e._link;return t?(t.href=A,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},e.isSameOrigin=function(A){return e.getOrigin(A)===e._origin},e.setContext=function(A){e._link=A.document.createElement("a"),e._origin=e.getOrigin(A.location.href)},e._origin="about:blank",e}(),DF=function(){function e(A,t){this.context=A,this._options=t,this._cache={}}return e.prototype.addImage=function(A){var t=Promise.resolve();return this.has(A)||(Jo(A)||RF(A))&&(this._cache[A]=this.loadImage(A)).catch(function(){}),t},e.prototype.match=function(A){return this._cache[A]},e.prototype.loadImage=function(A){return Ye(this,void 0,void 0,function(){var t,r,n,i,s=this;return De(this,function(o){switch(o.label){case 0:return t=Rf.isSameOrigin(A),r=!Xo(A)&&this._options.useCORS===!0&&ke.SUPPORT_CORS_IMAGES&&!t,n=!Xo(A)&&!t&&!Jo(A)&&typeof this._options.proxy=="string"&&ke.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!Xo(A)&&!Jo(A)&&!n&&!r?[2]:(i=A,n?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+A.substring(0,256)),[4,new Promise(function(a,l){var c=new Image;c.onload=function(){return a(c)},c.onerror=l,(VF(i)||r)&&(c.crossOrigin="anonymous"),c.src=i,c.complete===!0&&setTimeout(function(){return a(c)},500),s._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(A){return typeof this._cache[A]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(A){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var n=A.substring(0,256);return new Promise(function(i,s){var o=ke.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(a.status===200)if(o==="text")i(a.response);else{var g=new FileReader;g.addEventListener("load",function(){return i(g.result)},!1),g.addEventListener("error",function(u){return s(u)},!1),g.readAsDataURL(a.response)}else s("Failed to proxy resource "+n+" with status code "+a.status)},a.onerror=s;var l=r.indexOf("?")>-1?"&":"?";if(a.open("GET",""+r+l+"url="+encodeURIComponent(A)+"&responseType="+o),o!=="text"&&a instanceof XMLHttpRequest&&(a.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;a.timeout=c,a.ontimeout=function(){return s("Timed out ("+c+"ms) proxying "+n)}}a.send()})},e}(),TF=/^data:image\/svg\+xml/i,OF=/^data:image\/.*;base64,/i,NF=/^data:image\/.*/i,RF=function(e){return ke.SUPPORT_SVG_DRAWING||!GF(e)},Xo=function(e){return NF.test(e)},VF=function(e){return OF.test(e)},Jo=function(e){return e.substr(0,4)==="blob"},GF=function(e){return e.substr(-3).toLowerCase()==="svg"||TF.test(e)},lA=function(){function e(A,t){this.type=0,this.x=A,this.y=t}return e.prototype.add=function(A,t){return new e(this.x+A,this.y+t)},e}(),br=function(e,A,t){return new lA(e.x+(A.x-e.x)*t,e.y+(A.y-e.y)*t)},qi=function(){function e(A,t,r,n){this.type=1,this.start=A,this.startControl=t,this.endControl=r,this.end=n}return e.prototype.subdivide=function(A,t){var r=br(this.start,this.startControl,A),n=br(this.startControl,this.endControl,A),i=br(this.endControl,this.end,A),s=br(r,n,A),o=br(n,i,A),a=br(s,o,A);return t?new e(this.start,r,s,a):new e(a,o,i,this.end)},e.prototype.add=function(A,t){return new e(this.start.add(A,t),this.startControl.add(A,t),this.endControl.add(A,t),this.end.add(A,t))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),tt=function(e){return e.type===1},PF=function(){function e(A){var t=A.styles,r=A.bounds,n=an(t.borderTopLeftRadius,r.width,r.height),i=n[0],s=n[1],o=an(t.borderTopRightRadius,r.width,r.height),a=o[0],l=o[1],c=an(t.borderBottomRightRadius,r.width,r.height),g=c[0],u=c[1],f=an(t.borderBottomLeftRadius,r.width,r.height),d=f[0],B=f[1],w=[];w.push((i+a)/r.width),w.push((d+g)/r.width),w.push((s+B)/r.height),w.push((l+u)/r.height);var h=Math.max.apply(Math,w);h>1&&(i/=h,s/=h,a/=h,l/=h,g/=h,u/=h,d/=h,B/=h);var F=r.width-a,E=r.height-u,Q=r.width-g,C=r.height-B,y=t.borderTopWidth,H=t.borderRightWidth,U=t.borderBottomWidth,I=t.borderLeftWidth,L=ge(t.paddingTop,A.bounds.width),x=ge(t.paddingRight,A.bounds.width),M=ge(t.paddingBottom,A.bounds.width),V=ge(t.paddingLeft,A.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||s>0?de(r.left+I/3,r.top+y/3,i-I/3,s-y/3,ie.TOP_LEFT):new lA(r.left+I/3,r.top+y/3),this.topRightBorderDoubleOuterBox=i>0||s>0?de(r.left+F,r.top+y/3,a-H/3,l-y/3,ie.TOP_RIGHT):new lA(r.left+r.width-H/3,r.top+y/3),this.bottomRightBorderDoubleOuterBox=g>0||u>0?de(r.left+Q,r.top+E,g-H/3,u-U/3,ie.BOTTOM_RIGHT):new lA(r.left+r.width-H/3,r.top+r.height-U/3),this.bottomLeftBorderDoubleOuterBox=d>0||B>0?de(r.left+I/3,r.top+C,d-I/3,B-U/3,ie.BOTTOM_LEFT):new lA(r.left+I/3,r.top+r.height-U/3),this.topLeftBorderDoubleInnerBox=i>0||s>0?de(r.left+I*2/3,r.top+y*2/3,i-I*2/3,s-y*2/3,ie.TOP_LEFT):new lA(r.left+I*2/3,r.top+y*2/3),this.topRightBorderDoubleInnerBox=i>0||s>0?de(r.left+F,r.top+y*2/3,a-H*2/3,l-y*2/3,ie.TOP_RIGHT):new lA(r.left+r.width-H*2/3,r.top+y*2/3),this.bottomRightBorderDoubleInnerBox=g>0||u>0?de(r.left+Q,r.top+E,g-H*2/3,u-U*2/3,ie.BOTTOM_RIGHT):new lA(r.left+r.width-H*2/3,r.top+r.height-U*2/3),this.bottomLeftBorderDoubleInnerBox=d>0||B>0?de(r.left+I*2/3,r.top+C,d-I*2/3,B-U*2/3,ie.BOTTOM_LEFT):new lA(r.left+I*2/3,r.top+r.height-U*2/3),this.topLeftBorderStroke=i>0||s>0?de(r.left+I/2,r.top+y/2,i-I/2,s-y/2,ie.TOP_LEFT):new lA(r.left+I/2,r.top+y/2),this.topRightBorderStroke=i>0||s>0?de(r.left+F,r.top+y/2,a-H/2,l-y/2,ie.TOP_RIGHT):new lA(r.left+r.width-H/2,r.top+y/2),this.bottomRightBorderStroke=g>0||u>0?de(r.left+Q,r.top+E,g-H/2,u-U/2,ie.BOTTOM_RIGHT):new lA(r.left+r.width-H/2,r.top+r.height-U/2),this.bottomLeftBorderStroke=d>0||B>0?de(r.left+I/2,r.top+C,d-I/2,B-U/2,ie.BOTTOM_LEFT):new lA(r.left+I/2,r.top+r.height-U/2),this.topLeftBorderBox=i>0||s>0?de(r.left,r.top,i,s,ie.TOP_LEFT):new lA(r.left,r.top),this.topRightBorderBox=a>0||l>0?de(r.left+F,r.top,a,l,ie.TOP_RIGHT):new lA(r.left+r.width,r.top),this.bottomRightBorderBox=g>0||u>0?de(r.left+Q,r.top+E,g,u,ie.BOTTOM_RIGHT):new lA(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=d>0||B>0?de(r.left,r.top+C,d,B,ie.BOTTOM_LEFT):new lA(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||s>0?de(r.left+I,r.top+y,Math.max(0,i-I),Math.max(0,s-y),ie.TOP_LEFT):new lA(r.left+I,r.top+y),this.topRightPaddingBox=a>0||l>0?de(r.left+Math.min(F,r.width-H),r.top+y,F>r.width+H?0:Math.max(0,a-H),Math.max(0,l-y),ie.TOP_RIGHT):new lA(r.left+r.width-H,r.top+y),this.bottomRightPaddingBox=g>0||u>0?de(r.left+Math.min(Q,r.width-I),r.top+Math.min(E,r.height-U),Math.max(0,g-H),Math.max(0,u-U),ie.BOTTOM_RIGHT):new lA(r.left+r.width-H,r.top+r.height-U),this.bottomLeftPaddingBox=d>0||B>0?de(r.left+I,r.top+Math.min(C,r.height-U),Math.max(0,d-I),Math.max(0,B-U),ie.BOTTOM_LEFT):new lA(r.left+I,r.top+r.height-U),this.topLeftContentBox=i>0||s>0?de(r.left+I+V,r.top+y+L,Math.max(0,i-(I+V)),Math.max(0,s-(y+L)),ie.TOP_LEFT):new lA(r.left+I+V,r.top+y+L),this.topRightContentBox=a>0||l>0?de(r.left+Math.min(F,r.width+I+V),r.top+y+L,F>r.width+I+V?0:a-I+V,l-(y+L),ie.TOP_RIGHT):new lA(r.left+r.width-(H+x),r.top+y+L),this.bottomRightContentBox=g>0||u>0?de(r.left+Math.min(Q,r.width-(I+V)),r.top+Math.min(E,r.height+y+L),Math.max(0,g-(H+x)),u-(U+M),ie.BOTTOM_RIGHT):new lA(r.left+r.width-(H+x),r.top+r.height-(U+M)),this.bottomLeftContentBox=d>0||B>0?de(r.left+I+V,r.top+C,Math.max(0,d-(I+V)),B-(U+M),ie.BOTTOM_LEFT):new lA(r.left+I+V,r.top+r.height-(U+M))}return e}(),ie;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ie||(ie={}));var de=function(e,A,t,r,n){var i=4*((Math.sqrt(2)-1)/3),s=t*i,o=r*i,a=e+t,l=A+r;switch(n){case ie.TOP_LEFT:return new qi(new lA(e,l),new lA(e,l-o),new lA(a-s,A),new lA(a,A));case ie.TOP_RIGHT:return new qi(new lA(e,A),new lA(e+s,A),new lA(a,l-o),new lA(a,l));case ie.BOTTOM_RIGHT:return new qi(new lA(a,A),new lA(a,A+o),new lA(e+s,l),new lA(e,l));case ie.BOTTOM_LEFT:default:return new qi(new lA(a,l),new lA(a-s,l),new lA(e,A+o),new lA(e,A))}},As=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},XF=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},es=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},JF=function(){function e(A,t,r){this.offsetX=A,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return e}(),ts=function(){function e(A,t){this.path=A,this.target=t,this.type=1}return e}(),WF=function(){function e(A){this.opacity=A,this.type=2,this.target=6}return e}(),YF=function(e){return e.type===0},Vf=function(e){return e.type===1},zF=function(e){return e.type===2},Gf=function(e,A){return e.length===A.length?e.some(function(t,r){return t===A[r]}):!1},$F=function(e,A,t,r,n){return e.map(function(i,s){switch(s){case 0:return i.add(A,t);case 1:return i.add(A+r,t);case 2:return i.add(A+r,t+n);case 3:return i.add(A,t+n)}return i})},Pf=function(){function e(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Xf=function(){function e(A,t){if(this.container=A,this.parent=t,this.effects=[],this.curves=new PF(this.container),this.container.styles.opacity<1&&this.effects.push(new WF(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new JF(r,n,i))}if(this.container.styles.overflowX!==0){var s=As(this.curves),o=es(this.curves);Gf(s,o)?this.effects.push(new ts(s,6)):(this.effects.push(new ts(s,2)),this.effects.push(new ts(o,4)))}}return e.prototype.getEffects=function(A){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,n=this.effects.slice(0);r;){var i=r.effects.filter(function(a){return!Vf(a)});if(t||r.container.styles.position!==0||!r.parent){if(n.unshift.apply(n,i),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var s=As(r.curves),o=es(r.curves);Gf(s,o)||n.unshift(new ts(o,6))}}else n.unshift.apply(n,i);r=r.parent}return n.filter(function(a){return Ee(a.target,A)})},e}(),Wo=function(e,A,t,r){e.container.elements.forEach(function(n){var i=Ee(n.flags,4),s=Ee(n.flags,2),o=new Xf(n,e);Ee(n.styles.display,2048)&&r.push(o);var a=Ee(n.flags,8)?[]:r;if(i||s){var l=i||n.styles.isPositioned()?t:A,c=new Pf(o);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var g=n.styles.zIndex.order;if(g<0){var u=0;l.negativeZIndex.some(function(d,B){return g>d.element.container.styles.zIndex.order?(u=B,!1):u>0}),l.negativeZIndex.splice(u,0,c)}else if(g>0){var f=0;l.positiveZIndex.some(function(d,B){return g>=d.element.container.styles.zIndex.order?(f=B+1,!1):f>0}),l.positiveZIndex.splice(f,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else n.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);Wo(o,c,i?c:t,a)}else n.styles.isInlineLevel()?A.inlineLevel.push(o):A.nonInlineLevel.push(o),Wo(o,A,t,a);Ee(n.flags,8)&&Jf(n,a)})},Jf=function(e,A){for(var t=e instanceof Mo?e.start:1,r=e instanceof Mo?e.reversed:!1,n=0;n<A.length;n++){var i=A[n];i.container instanceof wf&&typeof i.container.value=="number"&&i.container.value!==0&&(t=i.container.value),i.listValue=Bn(t,i.container.styles.listStyleType,!0),t+=r?-1:1}},ZF=function(e){var A=new Xf(e,null),t=new Pf(A),r=[];return Wo(A,t,t,r),Jf(A.container,r),t},Wf=function(e,A){switch(A){case 0:return rt(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return rt(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return rt(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return rt(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},jF=function(e,A){switch(A){case 0:return rt(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return rt(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return rt(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return rt(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},qF=function(e,A){switch(A){case 0:return rt(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return rt(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return rt(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return rt(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},Ay=function(e,A){switch(A){case 0:return rs(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return rs(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return rs(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return rs(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},rs=function(e,A){var t=[];return tt(e)?t.push(e.subdivide(.5,!1)):t.push(e),tt(A)?t.push(A.subdivide(.5,!0)):t.push(A),t},rt=function(e,A,t,r){var n=[];return tt(e)?n.push(e.subdivide(.5,!1)):n.push(e),tt(t)?n.push(t.subdivide(.5,!0)):n.push(t),tt(r)?n.push(r.subdivide(.5,!0).reverse()):n.push(r),tt(A)?n.push(A.subdivide(.5,!1).reverse()):n.push(A),n},Yf=function(e){var A=e.bounds,t=e.styles;return A.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},ns=function(e){var A=e.styles,t=e.bounds,r=ge(A.paddingLeft,t.width),n=ge(A.paddingRight,t.width),i=ge(A.paddingTop,t.width),s=ge(A.paddingBottom,t.width);return t.add(r+A.borderLeftWidth,i+A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth+r+n),-(A.borderTopWidth+A.borderBottomWidth+i+s))},ey=function(e,A){return e===0?A.bounds:e===2?ns(A):Yf(A)},ty=function(e,A){return e===0?A.bounds:e===2?ns(A):Yf(A)},Yo=function(e,A,t){var r=ey(Hr(e.styles.backgroundOrigin,A),e),n=ty(Hr(e.styles.backgroundClip,A),e),i=ry(Hr(e.styles.backgroundSize,A),t,r),s=i[0],o=i[1],a=an(Hr(e.styles.backgroundPosition,A),r.width-s,r.height-o),l=ny(Hr(e.styles.backgroundRepeat,A),a,i,r,n),c=Math.round(r.left+a[0]),g=Math.round(r.top+a[1]);return[l,c,g,s,o]},Er=function(e){return ae(e)&&e.value===Ur.AUTO},is=function(e){return typeof e=="number"},ry=function(e,A,t){var r=A[0],n=A[1],i=A[2],s=e[0],o=e[1];if(!s)return[0,0];if(ye(s)&&o&&ye(o))return[ge(s,t.width),ge(o,t.height)];var a=is(i);if(ae(s)&&(s.value===Ur.CONTAIN||s.value===Ur.COVER)){if(is(i)){var l=t.width/t.height;return l<i!=(s.value===Ur.COVER)?[t.width,t.width/i]:[t.height*i,t.height]}return[t.width,t.height]}var c=is(r),g=is(n),u=c||g;if(Er(s)&&(!o||Er(o))){if(c&&g)return[r,n];if(!a&&!u)return[t.width,t.height];if(u&&a){var f=c?r:n*i,d=g?n:r/i;return[f,d]}var B=c?r:t.width,w=g?n:t.height;return[B,w]}if(a){var h=0,F=0;return ye(s)?h=ge(s,t.width):ye(o)&&(F=ge(o,t.height)),Er(s)?h=F*i:(!o||Er(o))&&(F=h/i),[h,F]}var E=null,Q=null;if(ye(s)?E=ge(s,t.width):o&&ye(o)&&(Q=ge(o,t.height)),E!==null&&(!o||Er(o))&&(Q=c&&g?E/r*n:t.height),Q!==null&&Er(s)&&(E=c&&g?Q/n*r:t.width),E!==null&&Q!==null)return[E,Q];throw new Error("Unable to calculate background-size for element")},Hr=function(e,A){var t=e[A];return typeof t>"u"?e[0]:t},ny=function(e,A,t,r,n){var i=A[0],s=A[1],o=t[0],a=t[1];switch(e){case 2:return[new lA(Math.round(r.left),Math.round(r.top+s)),new lA(Math.round(r.left+r.width),Math.round(r.top+s)),new lA(Math.round(r.left+r.width),Math.round(a+r.top+s)),new lA(Math.round(r.left),Math.round(a+r.top+s))];case 3:return[new lA(Math.round(r.left+i),Math.round(r.top)),new lA(Math.round(r.left+i+o),Math.round(r.top)),new lA(Math.round(r.left+i+o),Math.round(r.height+r.top)),new lA(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new lA(Math.round(r.left+i),Math.round(r.top+s)),new lA(Math.round(r.left+i+o),Math.round(r.top+s)),new lA(Math.round(r.left+i+o),Math.round(r.top+s+a)),new lA(Math.round(r.left+i),Math.round(r.top+s+a))];default:return[new lA(Math.round(n.left),Math.round(n.top)),new lA(Math.round(n.left+n.width),Math.round(n.top)),new lA(Math.round(n.left+n.width),Math.round(n.height+n.top)),new lA(Math.round(n.left),Math.round(n.height+n.top))]}},iy="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",zf="Hidden Text",sy=function(){function e(A){this._data={},this._document=A}return e.prototype.parseMetrics=function(A,t){var r=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),s=this._document.body;r.style.visibility="hidden",r.style.fontFamily=A,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",s.appendChild(r),n.src=iy,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=A,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(zf)),r.appendChild(i),r.appendChild(n);var o=n.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(zf)),r.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-r.offsetTop+2;return s.removeChild(r),{baseline:o,middle:a}},e.prototype.getMetrics=function(A,t){var r=A+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(A,t)),this._data[r]},e}(),$f=function(){function e(A,t){this.context=A,this.options=t}return e}(),oy=1e4,ay=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n._activeEffects=[],n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),r.canvas||(n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px"),n.fontMetrics=new sy(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),n}return A.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(n){return r.applyEffect(n)})},A.prototype.applyEffect=function(t){this.ctx.save(),zF(t)&&(this.ctx.globalAlpha=t.opacity),YF(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),Vf(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},A.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},A.prototype.renderStack=function(t){return Ye(this,void 0,void 0,function(){var r;return De(this,function(n){switch(n.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},A.prototype.renderNode=function(t){return Ye(this,void 0,void 0,function(){return De(this,function(r){switch(r.label){case 0:if(Ee(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},A.prototype.renderTextWithLetterSpacing=function(t,r,n){var i=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+n);else{var s=Ko(t.text);s.reduce(function(o,a){return i.ctx.fillText(a,o,t.bounds.top+n),o+i.ctx.measureText(a).width},t.bounds.left)}},A.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),n=gy(t.fontFamily).join(", "),i=on(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,i,n].join(" "),n,i]},A.prototype.renderTextNode=function(t,r){return Ye(this,void 0,void 0,function(){var n,i,s,o,a,l,c,g,u=this;return De(this,function(f){return n=this.createFontStyle(r),i=n[0],s=n[1],o=n[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(s,o),l=a.baseline,c=a.middle,g=r.paintOrder,t.textBounds.forEach(function(d){g.forEach(function(B){switch(B){case 0:u.ctx.fillStyle=Ie(r.color),u.renderTextWithLetterSpacing(d,r.letterSpacing,l);var w=r.textShadow;w.length&&d.text.trim().length&&(w.slice(0).reverse().forEach(function(h){u.ctx.shadowColor=Ie(h.color),u.ctx.shadowOffsetX=h.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=h.offsetY.number*u.options.scale,u.ctx.shadowBlur=h.blur.number,u.renderTextWithLetterSpacing(d,r.letterSpacing,l)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),r.textDecorationLine.length&&(u.ctx.fillStyle=Ie(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(h){switch(h){case 1:u.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top+l),d.bounds.width,1);break;case 2:u.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top),d.bounds.width,1);break;case 3:u.ctx.fillRect(d.bounds.left,Math.ceil(d.bounds.top+c),d.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&d.text.trim().length&&(u.ctx.strokeStyle=Ie(r.webkitTextStrokeColor),u.ctx.lineWidth=r.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(d.text,d.bounds.left,d.bounds.top+l)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter";break}})}),[2]})})},A.prototype.renderReplacedElement=function(t,r,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=ns(t),s=es(r);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},A.prototype.renderNodeContent=function(t){return Ye(this,void 0,void 0,function(){var r,n,i,s,o,a,F,F,l,c,g,u,Q,f,d,C,B,w,h,F,E,Q,C;return De(this,function(y){switch(y.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,n=t.curves,i=r.styles,s=0,o=r.textNodes,y.label=1;case 1:return s<o.length?(a=o[s],[4,this.renderTextNode(a,i)]):[3,4];case 2:y.sent(),y.label=3;case 3:return s++,[3,1];case 4:if(!(r instanceof Bf))return[3,8];y.label=5;case 5:return y.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return F=y.sent(),this.renderReplacedElement(r,n,F),[3,8];case 7:return y.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof df&&this.renderReplacedElement(r,n,r.canvas),!(r instanceof hf))return[3,12];y.label=9;case 9:return y.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return F=y.sent(),this.renderReplacedElement(r,n,F),[3,12];case 11:return y.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof Cf&&r.tree?(l=new A(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,l.render(r.tree)]):[3,14];case 13:c=y.sent(),r.width&&r.height&&this.ctx.drawImage(c,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),y.label=14;case 14:if(r instanceof Do&&(g=Math.min(r.bounds.width,r.bounds.height),r.type===Wi?r.checked&&(this.ctx.save(),this.path([new lA(r.bounds.left+g*.39363,r.bounds.top+g*.79),new lA(r.bounds.left+g*.16,r.bounds.top+g*.5549),new lA(r.bounds.left+g*.27347,r.bounds.top+g*.44071),new lA(r.bounds.left+g*.39694,r.bounds.top+g*.5649),new lA(r.bounds.left+g*.72983,r.bounds.top+g*.23),new lA(r.bounds.left+g*.84,r.bounds.top+g*.34085),new lA(r.bounds.left+g*.39363,r.bounds.top+g*.79)]),this.ctx.fillStyle=Ie(pf),this.ctx.fill(),this.ctx.restore()):r.type===Yi&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+g/2,r.bounds.top+g/2,g/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ie(pf),this.ctx.fill(),this.ctx.restore())),ly(r)&&r.value.length){switch(u=this.createFontStyle(i),Q=u[0],f=u[1],d=this.fontMetrics.getMetrics(Q,f).baseline,this.ctx.font=Q,this.ctx.fillStyle=Ie(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=uy(r.styles.textAlign),C=ns(r),B=0,r.styles.textAlign){case 1:B+=C.width/2;break;case 2:B+=C.width;break}w=C.add(B,0,0,-C.height/2+1),this.ctx.save(),this.path([new lA(C.left,C.top),new lA(C.left+C.width,C.top),new lA(C.left+C.width,C.top+C.height),new lA(C.left,C.top+C.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new fn(r.value,w),i.letterSpacing,d),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ee(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(h=r.styles.listStyleImage,h.type!==0)return[3,18];F=void 0,E=h.url,y.label=15;case 15:return y.trys.push([15,17,,18]),[4,this.context.cache.match(E)];case 16:return F=y.sent(),this.ctx.drawImage(F,r.bounds.left-(F.width+10),r.bounds.top),[3,18];case 17:return y.sent(),this.context.logger.error("Error loading list-style-image "+E),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(Q=this.createFontStyle(i)[0],this.ctx.font=Q,this.ctx.fillStyle=Ie(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",C=new yt(r.bounds.left,r.bounds.top+ge(r.styles.paddingTop,r.bounds.width),r.bounds.width,Yu(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new fn(t.listValue,C),i.letterSpacing,Yu(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),y.label=20;case 20:return[2]}})})},A.prototype.renderStackContent=function(t){return Ye(this,void 0,void 0,function(){var r,n,h,i,s,h,o,a,h,l,c,h,g,u,h,f,d,h,B,w,h;return De(this,function(F){switch(F.label){case 0:if(Ee(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:F.sent(),r=0,n=t.negativeZIndex,F.label=2;case 2:return r<n.length?(h=n[r],[4,this.renderStack(h)]):[3,5];case 3:F.sent(),F.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:F.sent(),i=0,s=t.nonInlineLevel,F.label=7;case 7:return i<s.length?(h=s[i],[4,this.renderNode(h)]):[3,10];case 8:F.sent(),F.label=9;case 9:return i++,[3,7];case 10:o=0,a=t.nonPositionedFloats,F.label=11;case 11:return o<a.length?(h=a[o],[4,this.renderStack(h)]):[3,14];case 12:F.sent(),F.label=13;case 13:return o++,[3,11];case 14:l=0,c=t.nonPositionedInlineLevel,F.label=15;case 15:return l<c.length?(h=c[l],[4,this.renderStack(h)]):[3,18];case 16:F.sent(),F.label=17;case 17:return l++,[3,15];case 18:g=0,u=t.inlineLevel,F.label=19;case 19:return g<u.length?(h=u[g],[4,this.renderNode(h)]):[3,22];case 20:F.sent(),F.label=21;case 21:return g++,[3,19];case 22:f=0,d=t.zeroOrAutoZIndexOrTransformedOrOpacity,F.label=23;case 23:return f<d.length?(h=d[f],[4,this.renderStack(h)]):[3,26];case 24:F.sent(),F.label=25;case 25:return f++,[3,23];case 26:B=0,w=t.positiveZIndex,F.label=27;case 27:return B<w.length?(h=w[B],[4,this.renderStack(h)]):[3,30];case 28:F.sent(),F.label=29;case 29:return B++,[3,27];case 30:return[2]}})})},A.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},A.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},A.prototype.formatPath=function(t){var r=this;t.forEach(function(n,i){var s=tt(n)?n.start:n;i===0?r.ctx.moveTo(s.x,s.y):r.ctx.lineTo(s.x,s.y),tt(n)&&r.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},A.prototype.renderRepeat=function(t,r,n,i){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},A.prototype.resizeImage=function(t,r,n){var i;if(t.width===r&&t.height===n)return t;var s=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=s.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,n);var a=o.getContext("2d");return a.drawImage(t,0,0,t.width,t.height,0,0,r,n),o},A.prototype.renderBackgroundImage=function(t){return Ye(this,void 0,void 0,function(){var r,n,i,s,o,a;return De(this,function(l){switch(l.label){case 0:r=t.styles.backgroundImage.length-1,n=function(c){var g,u,f,L,k,z,V,S,U,d,L,k,z,V,S,B,w,h,F,E,Q,C,y,H,U,I,L,x,M,V,S,P,k,z,N,W,J,nA,fA,pA,SA,TA;return De(this,function(xA){switch(xA.label){case 0:if(c.type!==0)return[3,5];g=void 0,u=c.url,xA.label=1;case 1:return xA.trys.push([1,3,,4]),[4,i.context.cache.match(u)];case 2:return g=xA.sent(),[3,4];case 3:return xA.sent(),i.context.logger.error("Error loading background-image "+u),[3,4];case 4:return g&&(f=Yo(t,r,[g.width,g.height,g.width/g.height]),L=f[0],k=f[1],z=f[2],V=f[3],S=f[4],U=i.ctx.createPattern(i.resizeImage(g,V,S),"repeat"),i.renderRepeat(L,U,k,z)),[3,6];case 5:Yv(c)?(d=Yo(t,r,[null,null,null]),L=d[0],k=d[1],z=d[2],V=d[3],S=d[4],B=Gv(c.angle,V,S),w=B[0],h=B[1],F=B[2],E=B[3],Q=B[4],C=document.createElement("canvas"),C.width=V,C.height=S,y=C.getContext("2d"),H=y.createLinearGradient(h,E,F,Q),Du(c.stops,w).forEach(function(FA){return H.addColorStop(FA.stop,Ie(FA.color))}),y.fillStyle=H,y.fillRect(0,0,V,S),V>0&&S>0&&(U=i.ctx.createPattern(C,"repeat"),i.renderRepeat(L,U,k,z))):zv(c)&&(I=Yo(t,r,[null,null,null]),L=I[0],x=I[1],M=I[2],V=I[3],S=I[4],P=c.position.length===0?[Qo]:c.position,k=ge(P[0],V),z=ge(P[P.length-1],S),N=Pv(c,k,z,V,S),W=N[0],J=N[1],W>0&&J>0&&(nA=i.ctx.createRadialGradient(x+k,M+z,0,x+k,M+z,W),Du(c.stops,W*2).forEach(function(FA){return nA.addColorStop(FA.stop,Ie(FA.color))}),i.path(L),i.ctx.fillStyle=nA,W!==J?(fA=t.bounds.left+.5*t.bounds.width,pA=t.bounds.top+.5*t.bounds.height,SA=J/W,TA=1/SA,i.ctx.save(),i.ctx.translate(fA,pA),i.ctx.transform(1,0,0,SA,0,0),i.ctx.translate(-fA,-pA),i.ctx.fillRect(x,TA*(M-pA)+pA,V,S*TA),i.ctx.restore()):i.ctx.fill())),xA.label=6;case 6:return r--,[2]}})},i=this,s=0,o=t.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return s<o.length?(a=o[s],[5,n(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},A.prototype.renderSolidBorder=function(t,r,n){return Ye(this,void 0,void 0,function(){return De(this,function(i){return this.path(Wf(n,r)),this.ctx.fillStyle=Ie(t),this.ctx.fill(),[2]})})},A.prototype.renderDoubleBorder=function(t,r,n,i){return Ye(this,void 0,void 0,function(){var s,o;return De(this,function(a){switch(a.label){case 0:return r<3?[4,this.renderSolidBorder(t,n,i)]:[3,2];case 1:return a.sent(),[2];case 2:return s=jF(i,n),this.path(s),this.ctx.fillStyle=Ie(t),this.ctx.fill(),o=qF(i,n),this.path(o),this.ctx.fill(),[2]}})})},A.prototype.renderNodeBackgroundAndBorders=function(t){return Ye(this,void 0,void 0,function(){var r,n,i,s,o,a,l,c,g=this;return De(this,function(u){switch(u.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,n=!Rt(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],s=cy(Hr(r.backgroundClip,0),t.curves),n||r.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),Rt(r.backgroundColor)||(this.ctx.fillStyle=Ie(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:u.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(f){g.ctx.save();var d=As(t.curves),B=f.inset?0:oy,w=$F(d,-B+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(g.path(d),g.ctx.clip(),g.mask(w)):(g.mask(d),g.ctx.clip(),g.path(w)),g.ctx.shadowOffsetX=f.offsetX.number+B,g.ctx.shadowOffsetY=f.offsetY.number,g.ctx.shadowColor=Ie(f.color),g.ctx.shadowBlur=f.blur.number,g.ctx.fillStyle=f.inset?Ie(f.color):"rgba(0,0,0,1)",g.ctx.fill(),g.ctx.restore()}),u.label=2;case 2:o=0,a=0,l=i,u.label=3;case 3:return a<l.length?(c=l[a],c.style!==0&&!Rt(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return u.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,3)];case 6:return u.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,t.curves)];case 8:return u.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,t.curves)];case 10:u.sent(),u.label=11;case 11:o++,u.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},A.prototype.renderDashedDottedBorder=function(t,r,n,i,s){return Ye(this,void 0,void 0,function(){var o,a,l,c,g,u,f,d,B,w,h,F,E,Q,C,y,C,y;return De(this,function(H){return this.ctx.save(),o=Ay(i,n),a=Wf(i,n),s===2&&(this.path(a),this.ctx.clip()),tt(a[0])?(l=a[0].start.x,c=a[0].start.y):(l=a[0].x,c=a[0].y),tt(a[1])?(g=a[1].end.x,u=a[1].end.y):(g=a[1].x,u=a[1].y),n===0||n===2?f=Math.abs(l-g):f=Math.abs(c-u),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(a.slice(0,2)),d=r<3?r*3:r*2,B=r<3?r*2:r,s===3&&(d=r,B=r),w=!0,f<=d*2?w=!1:f<=d*2+B?(h=f/(2*d+B),d*=h,B*=h):(F=Math.floor((f+B)/(d+B)),E=(f-F*d)/(F-1),Q=(f-(F+1)*d)/F,B=Q<=0||Math.abs(B-E)<Math.abs(B-Q)?E:Q),w&&(s===3?this.ctx.setLineDash([0,d+B]):this.ctx.setLineDash([d,B])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Ie(t),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(tt(a[0])&&(C=a[3],y=a[0],this.ctx.beginPath(),this.formatPath([new lA(C.end.x,C.end.y),new lA(y.start.x,y.start.y)]),this.ctx.stroke()),tt(a[1])&&(C=a[1],y=a[2],this.ctx.beginPath(),this.formatPath([new lA(C.end.x,C.end.y),new lA(y.start.x,y.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},A.prototype.render=function(t){return Ye(this,void 0,void 0,function(){var r;return De(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ie(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=ZF(t),[4,this.renderStack(r)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},A}($f),ly=function(e){return e instanceof Qf||e instanceof mf?!0:e instanceof Do&&e.type!==Yi&&e.type!==Wi},cy=function(e,A){switch(e){case 0:return As(A);case 2:return XF(A);case 1:default:return es(A)}},uy=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},fy=["-apple-system","system-ui"],gy=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(A){return fy.indexOf(A)===-1}):e},By=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=r,n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),n}return A.prototype.render=function(t){return Ye(this,void 0,void 0,function(){var r,n;return De(this,function(i){switch(i.label){case 0:return r=ko(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,dy(r)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ie(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},A}($f),dy=function(e){return new Promise(function(A,t){var r=new Image;r.onload=function(){A(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},hy=function(){function e(A){var t=A.id,r=A.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,gi([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,gi([this.id,this.getTime()+"ms"],A))},e.prototype.warn=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,gi([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},e.prototype.error=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,gi([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},e.instances={},e}(),wy=function(){function e(A,t){var r;this.windowBounds=t,this.instanceName="#"+e.instanceCount++,this.logger=new hy({id:this.instanceName,enabled:A.logging}),this.cache=(r=A.cache)!==null&&r!==void 0?r:new DF(this,A)}return e.instanceCount=1,e}(),py=function(e,A){return A===void 0&&(A={}),my(e,A)};typeof window<"u"&&Rf.setContext(window);var my=function(e,A){return Ye(void 0,void 0,void 0,function(){var t,r,n,i,s,o,a,l,c,g,u,f,d,B,w,h,F,E,Q,C,H,y,H,U,I,L,x,M,V,S,P,k,z,N,W,J,nA,fA,pA,SA;return De(this,function(TA){switch(TA.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=e.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return n={allowTaint:(U=A.allowTaint)!==null&&U!==void 0?U:!1,imageTimeout:(I=A.imageTimeout)!==null&&I!==void 0?I:15e3,proxy:A.proxy,useCORS:(L=A.useCORS)!==null&&L!==void 0?L:!1},i=js({logging:(x=A.logging)!==null&&x!==void 0?x:!0,cache:A.cache},n),s={windowWidth:(M=A.windowWidth)!==null&&M!==void 0?M:r.innerWidth,windowHeight:(V=A.windowHeight)!==null&&V!==void 0?V:r.innerHeight,scrollX:(S=A.scrollX)!==null&&S!==void 0?S:r.pageXOffset,scrollY:(P=A.scrollY)!==null&&P!==void 0?P:r.pageYOffset},o=new yt(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),a=new wy(i,o),l=(k=A.foreignObjectRendering)!==null&&k!==void 0?k:!1,c={allowTaint:(z=A.allowTaint)!==null&&z!==void 0?z:!1,onclone:A.onclone,ignoreElements:A.ignoreElements,inlineImages:l,copyStyles:l},a.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),g=new Of(a,e,c),u=g.clonedReferenceElement,u?[4,g.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=TA.sent(),d=Oo(u)||QF(u)?$Q(u.ownerDocument):Bi(a,u),B=d.width,w=d.height,h=d.left,F=d.top,E=Qy(a,u,A.backgroundColor),Q={canvas:A.canvas,backgroundColor:E,scale:(W=(N=A.scale)!==null&&N!==void 0?N:r.devicePixelRatio)!==null&&W!==void 0?W:1,x:((J=A.x)!==null&&J!==void 0?J:0)+h,y:((nA=A.y)!==null&&nA!==void 0?nA:0)+F,width:(fA=A.width)!==null&&fA!==void 0?fA:Math.ceil(B),height:(pA=A.height)!==null&&pA!==void 0?pA:Math.ceil(w)},l?(a.logger.debug("Document cloned, using foreign object rendering"),H=new By(a,Q),[4,H.render(u)]):[3,3];case 2:return C=TA.sent(),[3,5];case 3:return a.logger.debug("Document cloned, element located at "+h+","+F+" with size "+B+"x"+w+" using computed rendering"),a.logger.debug("Starting DOM parsing"),y=Uf(a,u),E===y.styles.backgroundColor&&(y.styles.backgroundColor=bt.TRANSPARENT),a.logger.debug("Starting renderer for element at "+Q.x+","+Q.y+" with size "+Q.width+"x"+Q.height),H=new ay(a,Q),[4,H.render(y)];case 4:C=TA.sent(),TA.label=5;case 5:return(!((SA=A.removeContainer)!==null&&SA!==void 0)||SA)&&(Of.destroy(f)||a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),a.logger.debug("Finished rendering"),[2,C]}})})},Qy=function(e,A,t){var r=A.ownerDocument,n=r.documentElement?ln(e,getComputedStyle(r.documentElement).backgroundColor):bt.TRANSPARENT,i=r.body?ln(e,getComputedStyle(r.body).backgroundColor):bt.TRANSPARENT,s=typeof t=="string"?ln(e,t):t===null?bt.TRANSPARENT:4294967295;return A===r.documentElement?Rt(n)?Rt(i)?s:i:n:s};function Cy(e){let A,t,r,n;return{c(){A=v("button"),t=v("span"),t.innerHTML='<i class="fas fa-download"></i>',m(t,"class","icon is-small p-0"),m(A,"class","tag is-link"),m(A,"title",rA==="en"?"Download as PNG":"Télécharger en PNG")},m(i,s){T(i,A,s),p(A,t),r||(n=mA(A,"click",e[0]),r=!0)},p:sA,i:sA,o:sA,d(i){i&&D(A),r=!1,n()}}}function vy(e){for(;e&&e!==document.body;){const A=getComputedStyle(e);if(/(auto|scroll|hidden)/.test(A.overflow+A.overflowX+A.overflowY))return e;e=e.parentElement}return null}function Uy(e,A,t){let{targetId:r}=A,{filename:n="export.png"}=A;async function i(){await Bs(async()=>{const s=document.getElementById(r);if(!s)return;const o=vy(s),a=o?{overflow:o.style.overflow,maxHeight:o.style.maxHeight,height:o.style.height}:null;try{o&&(o.style.overflow="visible",o.style.maxHeight="none",o.style.height="auto");const l=await py(s,{backgroundColor:null,scale:2,logging:!1,useCORS:!0,scrollX:0,scrollY:0}),c=document.createElement("a");c.download=n,c.href=l.toDataURL("image/png"),c.click()}catch(l){await Ct(`Error generating PNG: ${l}`,rA==="en"?"Error":"Erreur")}finally{o&&a&&(o.style.overflow=a.overflow,o.style.maxHeight=a.maxHeight,o.style.height=a.height)}})}return e.$$set=s=>{"targetId"in s&&t(1,r=s.targetId),"filename"in s&&t(2,n=s.filename)},[i,r,n]}class Zf extends ne{constructor(A){super(),re(this,A,Uy,Cy,qA,{targetId:1,filename:2})}}const kb="",{Map:Fy}=ta;function jf(e,A,t){const r=e.slice();return r[62]=A[t],r[64]=t,r}function qf(e,A,t){const r=e.slice();return r[62]=A[t],r[66]=t,r}function Ag(e,A,t){const r=e.slice();return r[67]=A[t],r}function eg(e,A,t){const r=e.slice();return r[70]=A[t],r}function yy(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,d,B,w,h,F=e[23]("normalize")+"",E,Q,C,y,H,U,I,L,x,M,V,S,P,k,z,N,W,J,nA,fA,pA,SA;o=new Zf({props:{targetId:"matrix-viz",filename:"document-matrix.png"}});let TA=["col","row"],xA=[];for(let G=0;G<2;G+=1)xA[G]=rg(Ag(e,TA,G));let FA=e[2]&&ng(e);function $(G,q){return G[2]?Ey:by}let oA=$(e),tA=oA(e);return{c(){A=v("div"),t=v("div"),r=v("div"),n=v("h4"),n.textContent=`${e[23]("title")}`,i=O(),s=v("div"),kA(o.$$.fragment),a=O(),l=v("div"),c=v("div"),g=v("select"),u=v("option"),u.textContent=`${e[23]("byName")}`,f=v("option"),f.textContent=`${e[23]("byScore")}`,d=O(),B=v("label"),w=v("input"),h=O(),E=aA(F),Q=O(),C=v("div"),y=v("div"),H=v("div"),U=O();for(let G=0;G<2;G+=1)xA[G].c();I=O(),L=v("div"),x=O(),M=v("div"),V=O(),S=v("div"),P=v("div"),k=v("div"),z=v("h4"),z.textContent=`${e[23]("pageByPage")}`,N=O(),W=v("div"),FA&&FA.c(),J=O(),nA=v("div"),tA.c(),m(n,"class","title is-6 mb-0"),u.__value="name",u.value=u.__value,f.__value="score",f.value=f.__value,e[3]===void 0&&nt(()=>e[37].call(g)),m(c,"class","select is-small"),m(l,"class","control"),m(w,"type","checkbox"),w.checked=e[9],m(B,"title",e[23]("normalization")),m(B,"class","checkbox is-size-7"),m(s,"class","is-flex is-align-items-center"),PA(s,"gap","0.5rem"),m(r,"class","is-flex is-justify-content-space-between is-align-items-center mb-3"),PA(r,"flex-wrap","wrap"),PA(r,"gap","0.5rem"),m(H,"class","matrix-corner svelte-2hfx3t"),m(L,"class","matrix-canvas svelte-2hfx3t"),m(y,"id","matrix-viz"),m(y,"class","matrix-grid svelte-2hfx3t"),PA(y,"--cell-size",cg+"px"),m(C,"class","scroll-area svelte-2hfx3t"),m(t,"class","box panel-box svelte-2hfx3t"),m(A,"class","split-panel svelte-2hfx3t"),PA(A,"width",e[14]+"px"),m(M,"class","split-divider svelte-2hfx3t"),m(M,"role","separator"),m(M,"tabindex","0"),m(z,"class","title is-6 mb-0"),m(W,"class","is-flex is-align-items-center"),PA(W,"gap","0.5rem"),m(k,"class","is-flex is-justify-content-space-between is-align-items-center mb-3"),PA(k,"flex-wrap","wrap"),PA(k,"gap","0.5rem"),m(nA,"class","scroll-area svelte-2hfx3t"),m(P,"class","box panel-box svelte-2hfx3t"),m(S,"class","split-panel svelte-2hfx3t"),PA(S,"width",e[13]+"px")},m(G,q){T(G,A,q),p(A,t),p(t,r),p(r,n),p(r,i),p(r,s),HA(o,s,null),p(s,a),p(s,l),p(l,c),p(c,g),p(g,u),p(g,f),xt(g,e[3],!0),p(s,d),p(s,B),p(B,w),p(B,h),p(B,E),p(t,Q),p(t,C),p(C,y),p(y,H),p(y,U);for(let gA=0;gA<2;gA+=1)xA[gA]&&xA[gA].m(y,null);p(y,I),p(y,L),e[39](L),T(G,x,q),T(G,M,q),T(G,V,q),T(G,S,q),p(S,P),p(P,k),p(k,z),p(k,N),p(k,W),FA&&FA.m(W,null),p(P,J),p(P,nA),tA.m(nA,null),fA=!0,pA||(SA=[mA(g,"change",e[37]),mA(w,"change",e[38]),mA(M,"mousedown",e[25]),mA(M,"touchstart",e[25])],pA=!0)},p(G,q){if(q[0]&8&&xt(g,G[3]),(!fA||q[0]&512)&&(w.checked=G[9]),q[0]&64){TA=["col","row"];let gA;for(gA=0;gA<2;gA+=1){const OA=Ag(G,TA,gA);xA[gA]?xA[gA].p(OA,q):(xA[gA]=rg(OA),xA[gA].c(),xA[gA].m(y,I))}for(;gA<2;gA+=1)xA[gA].d(1)}(!fA||q[0]&16384)&&PA(A,"width",G[14]+"px"),G[2]?FA?(FA.p(G,q),q[0]&4&&R(FA,1)):(FA=ng(G),FA.c(),R(FA,1),FA.m(W,null)):FA&&(ee(),Y(FA,1,1,()=>{FA=null}),te()),oA===(oA=$(G))&&tA?tA.p(G,q):(tA.d(1),tA=oA(G),tA&&(tA.c(),tA.m(nA,null))),(!fA||q[0]&8192)&&PA(S,"width",G[13]+"px")},i(G){fA||(R(o.$$.fragment,G),R(FA),fA=!0)},o(G){Y(o.$$.fragment,G),Y(FA),fA=!1},d(G){G&&D(A),IA(o),xe(xA,G),e[39](null),G&&D(x),G&&D(M),G&&D(V),G&&D(S),FA&&FA.d(),tA.d(),pA=!1,Ue(SA)}}}function _y(e){let A;return{c(){A=v("div"),A.textContent=`${e[23]("noDocuments")}`,m(A,"class","notification is-info"),PA(A,"width","100%")},m(t,r){T(t,A,r)},p:sA,i:sA,o:sA,d(t){t&&D(A)}}}function tg(e,A){let t,r,n;return{key:e,first:null,c(){t=v("div"),r=v("span"),m(r,"class","color-dot svelte-2hfx3t"),PA(r,"background-color",A[70].color),m(r,"title",n=A[70].title+" "+In.Witness+" #"+A[70].witnessId),m(t,"class","header-cell svelte-2hfx3t"),this.first=t},m(i,s){T(i,t,s),p(t,r)},p(i,s){A=i,s[0]&64&&PA(r,"background-color",A[70].color),s[0]&64&&n!==(n=A[70].title+" "+In.Witness+" #"+A[70].witnessId)&&m(r,"title",n)},d(i){i&&D(t)}}}function rg(e){let A,t=[],r=new Fy,n=e[6].docs;const i=s=>s[70].id;for(let s=0;s<n.length;s+=1){let o=eg(e,n,s),a=i(o);r.set(a,t[s]=tg(a,o))}return{c(){A=v("div");for(let s=0;s<t.length;s+=1)t[s].c();m(A,"class",e[67]+"-headers svelte-2hfx3t")},m(s,o){T(s,A,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(A,null)},p(s,o){o[0]&64&&(n=s[6].docs,t=bn(t,o,i,1,s,n,r,A,la,tg,null,eg))},d(s){s&&D(A);for(let o=0;o<t.length;o+=1)t[o].d()}}}function ng(e){let A,t,r,n,i,s,o,a,l,c;return A=new Zf({props:{targetId:"scatter-viz",filename:"document-comparison.png"}}),{c(){kA(A.$$.fragment),t=O(),r=v("div"),n=v("div"),i=v("select"),s=v("option"),s.textContent=`${e[23]("byPage")}`,o=v("option"),o.textContent=`${e[23]("byImage")}`,s.__value="page",s.value=s.__value,o.__value="image",o.value=o.__value,e[4]===void 0&&nt(()=>e[40].call(i)),m(n,"class","select is-small"),m(r,"class","control")},m(g,u){HA(A,g,u),T(g,t,u),T(g,r,u),p(r,n),p(n,i),p(i,s),p(i,o),xt(i,e[4],!0),a=!0,l||(c=mA(i,"change",e[40]),l=!0)},p(g,u){u[0]&16&&xt(i,g[4])},i(g){a||(R(A.$$.fragment,g),a=!0)},o(g){Y(A.$$.fragment,g),a=!1},d(g){IA(A,g),g&&D(t),g&&D(r),l=!1,c()}}}function by(e){let A;return{c(){A=v("p"),A.textContent=`${e[23]("selectCell")}`,m(A,"class","has-text-grey is-size-7")},m(t,r){T(t,A,r)},p:sA,d(t){t&&D(A)}}}function Ey(e){let A;return{c(){A=v("div"),m(A,"id","scatter-viz"),m(A,"class","scatter-container svelte-2hfx3t")},m(t,r){T(t,A,r),e[41](A)},p:sA,d(t){t&&D(A),e[41](null)}}}function ig(e){let A,t,r,n,i,s,o,a,l=e[12].items,c=[];for(let B=0;B<l.length;B+=1)c[B]=sg(qf(e,l,B));let g=e[12].score!==void 0&&og(e),u=e[12].items,f=[];for(let B=0;B<u.length;B+=1)f[B]=ag(jf(e,u,B));const d=B=>Y(f[B],1,1,()=>{f[B]=null});return{c(){A=v("table"),t=v("thead"),r=v("tr");for(let B=0;B<c.length;B+=1)c[B].c();n=O(),i=v("tbody"),g&&g.c(),s=O(),o=v("tr");for(let B=0;B<f.length;B+=1)f[B].c();m(A,"class","table is-fullwidth p-3 has-text-centered")},m(B,w){T(B,A,w),p(A,t),p(t,r);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(r,null);p(A,n),p(A,i),g&&g.m(i,null),p(i,s),p(i,o);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(o,null);a=!0},p(B,w){if(w[0]&4096){l=B[12].items;let h;for(h=0;h<l.length;h+=1){const F=qf(B,l,h);c[h]?c[h].p(F,w):(c[h]=sg(F),c[h].c(),c[h].m(r,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=l.length}if(B[12].score!==void 0?g?g.p(B,w):(g=og(B),g.c(),g.m(i,s)):g&&(g.d(1),g=null),w[0]&16781344){u=B[12].items;let h;for(h=0;h<u.length;h+=1){const F=jf(B,u,h);f[h]?(f[h].p(F,w),R(f[h],1)):(f[h]=ag(F),f[h].c(),R(f[h],1),f[h].m(o,null))}for(ee(),h=u.length;h<f.length;h+=1)d(h);te()}},i(B){if(!a){for(let w=0;w<u.length;w+=1)R(f[w]);a=!0}},o(B){f=f.filter(Boolean);for(let w=0;w<f.length;w+=1)Y(f[w]);a=!1},d(B){B&&D(A),xe(c,B),g&&g.d(),xe(f,B)}}}function sg(e){let A,t,r,n,i,s=e[62].doc.title+"",o,a,l,c=e[62].label+"",g,u;return{c(){A=v("th"),t=v("span"),r=aA("●"),n=O(),i=v("strong"),o=aA(s),a=O(),l=v("p"),g=aA(c),u=O(),PA(t,"color",e[62].doc.color),m(l,"class","is-size-7 has-text-grey mt-2"),m(A,"class","doc-title svelte-2hfx3t")},m(f,d){T(f,A,d),p(A,t),p(t,r),p(A,n),p(A,i),p(i,o),p(A,a),p(A,l),p(l,g),p(A,u)},p(f,d){d[0]&4096&&PA(t,"color",f[62].doc.color),d[0]&4096&&s!==(s=f[62].doc.title+"")&&GA(o,s),d[0]&4096&&c!==(c=f[62].label+"")&&GA(g,c)},d(f){f&&D(A)}}}function og(e){let A,t,r,n=e[23]("score")+"",i,s,o=e[12].score.toFixed(2)+"",a;return{c(){A=v("tr"),t=v("td"),r=v("span"),i=aA(n),s=O(),a=aA(o),m(r,"class","tag is-small is-link is-bold"),m(t,"colspan","2"),m(t,"class","has-text-centered")},m(l,c){T(l,A,c),p(A,t),p(t,r),p(r,i),p(r,s),p(r,a)},p(l,c){c[0]&4096&&o!==(o=l[12].score.toFixed(2)+"")&&GA(a,o)},d(l){l&&D(A)}}}function ag(e){let A,t,r,n,i,s,o,a,l,c,g,u;return r=new fi({props:{direction:e[64]!==0?"up":"left",delta:-1,axis:e[64]!==0?"vertical":"horizontal",navigationFct:e[24]}}),c=new fi({props:{direction:e[64]!==0?"down":"right",delta:1,axis:e[64]!==0?"vertical":"horizontal",navigationFct:e[24]}}),{c(){var f;A=v("td"),t=v("div"),kA(r.$$.fragment),n=O(),i=v("figure"),s=v("img"),l=O(),kA(c.$$.fragment),g=O(),ut(s.src,o=e[62].imgUrl)||m(s,"src",o),m(s,"alt",a=(((f=e[5])==null?void 0:f.mode)==="image"?"Image":"Page")+" "+e[62].label),m(s,"class","img-preview svelte-2hfx3t"),m(i,"class","image"),m(t,"class","image-nav-container svelte-2hfx3t"),m(A,"class","modal-cell svelte-2hfx3t")},m(f,d){T(f,A,d),p(A,t),HA(r,t,null),p(t,n),p(t,i),p(i,s),p(t,l),HA(c,t,null),p(A,g),u=!0},p(f,d){var B;(!u||d[0]&4096&&!ut(s.src,o=f[62].imgUrl))&&m(s,"src",o),(!u||d[0]&4128&&a!==(a=(((B=f[5])==null?void 0:B.mode)==="image"?"Image":"Page")+" "+f[62].label))&&m(s,"alt",a)},i(f){u||(R(r.$$.fragment,f),R(c.$$.fragment,f),u=!0)},o(f){Y(r.$$.fragment,f),Y(c.$$.fragment,f),u=!1},d(f){f&&D(A),IA(r),IA(c)}}}function Hy(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,d,B,w,h,F,E,Q,C,y,H;const U=[_y,yy],I=[];function L(M,V){return M[7].length?1:0}g=L(e),u=I[g]=U[g](e);let x=e[12]&&ig(e);return{c(){A=v("div"),t=v("label"),t.textContent=`${e[23]("filtering")}`,r=O(),n=v("div"),i=v("div"),s=v("select"),o=v("option"),o.textContent=`${e[23]("allPairs")}`,a=v("option"),a.textContent=`${e[23]("filteredPairs")}`,l=O(),c=v("div"),u.c(),f=O(),d=v("div"),B=v("div"),w=O(),h=v("div"),F=v("div"),x&&x.c(),E=O(),Q=v("button"),m(t,"class","label is-small"),m(t,"for","matrix-mode"),o.__value="all",o.value=o.__value,a.__value="filtered",a.value=a.__value,m(s,"id","matrix-mode"),e[8]===void 0&&nt(()=>e[36].call(s)),m(i,"class","select is-small is-fullwidth"),m(n,"class","control"),m(A,"class","field mb-4"),m(c,"class","split-container svelte-2hfx3t"),m(B,"class","modal-background"),m(F,"class","box p-5"),m(h,"class","modal-content"),PA(h,"width","auto"),PA(h,"max-width","70vw"),m(Q,"class","modal-close is-large"),m(Q,"aria-label","close"),m(d,"id","matrix-page-modal"),m(d,"class","modal")},m(M,V){T(M,A,V),p(A,t),p(A,r),p(A,n),p(n,i),p(i,s),p(s,o),p(s,a),xt(s,e[8],!0),T(M,l,V),T(M,c,V),I[g].m(c,null),e[42](c),T(M,f,V),T(M,d,V),p(d,B),p(d,w),p(d,h),p(h,F),x&&x.m(F,null),p(d,E),p(d,Q),e[43](d),C=!0,y||(H=[mA(s,"change",e[36]),Ir(ds.call(null,d))],y=!0)},p(M,V){V[0]&256&&xt(s,M[8]);let S=g;g=L(M),g===S?I[g].p(M,V):(ee(),Y(I[S],1,1,()=>{I[S]=null}),te(),u=I[g],u?u.p(M,V):(u=I[g]=U[g](M),u.c()),R(u,1),u.m(c,null)),M[12]?x?(x.p(M,V),V[0]&4096&&R(x,1)):(x=ig(M),x.c(),R(x,1),x.m(F,null)):x&&(ee(),Y(x,1,1,()=>{x=null}),te())},i(M){C||(R(u),R(x),C=!0)},o(M){Y(u),Y(x),C=!1},d(M){M&&D(A),M&&D(l),M&&D(c),I[g].d(),e[42](null),M&&D(f),M&&D(d),x&&x.d(),e[43](null),y=!1,Ue(H)}}}const lg=300,cg=30,le=5;function Iy(e){if(e.mode==="image")return{max1:e.images1.length,max2:e.images2.length};const A=Math.max(...e.points.map(r=>r.page1)),t=Math.max(...e.points.map(r=>r.page2));return{max1:A,max2:t}}function Sy(e,A,t){const r=new Map;let n=1/0,i=-1/0;for(const o of t){const[a,l,c]=o.regions_id_1===e.id?[o.page_1,o.page_2,o.weightedScore||0]:[o.page_2,o.page_1,o.weightedScore||0],g=`${a}-${l}`;r.has(g)||r.set(g,{page1:a,page2:l,scores:[]}),r.get(g).scores.push(c),c<n&&(n=c),c>i&&(i=c)}return{mode:"page",points:Array.from(r.values()).map(({page1:o,page2:a,scores:l})=>({page1:o,page2:a,score:l.reduce((c,g)=>c+g,0)/l.length,count:l.length})),minScore:n,maxScore:i,doc1:e,doc2:A}}function xy(e,A,t){const r=e.images||[],n=A.images||[];if(!r.length||!n.length)return null;const i=new Map(r.map((c,g)=>[c.id,g])),s=new Map(n.map((c,g)=>[c.id,g])),o=new Map;let a=1/0,l=-1/0;return t.forEach(c=>{const[g,u,f]=c.regions_id_1===e.id?[c.id_1,c.id_2,c.weightedScore||0]:[c.id_2,c.id_1,c.weightedScore||0],d=i.get(g),B=s.get(u);if(d!==void 0&&B!==void 0){const w=`${d}-${B}`;o.set(w,{idx1:d,idx2:B,imgId1:g,imgId2:u,score:f}),f<a&&(a=f),f>l&&(l=f)}}),{mode:"image",images1:r,images2:n,pairScores:o,minScore:a,maxScore:l,doc1:e,doc2:A}}function ug(e){const A=[];let t=null,r=0;return e.forEach((n,i)=>{n.canvas!==t&&(t!==null&&A.push({start:r,end:i,page:t,count:i-r}),t=n.canvas,r=i)}),t!==null&&A.push({start:r,end:e.length,page:t,count:e.length-r}),A}function Ly(e,A,t){let r,n,i,s,o,a,l,c,g,u,f,d,B,w,h,{documentSetStore:F}=A;const{documentNodes:E,pairIndex:Q,activeDocPairStats:C,activeDocStats:y,imageCountMap:H,visiblePairIds:U,matrixMode:I,normalizeByImages:L}=F;NA(e,E,X=>t(35,h=X)),NA(e,Q,X=>t(46,c=X)),NA(e,C,X=>t(34,w=X)),NA(e,y,X=>t(33,B=X)),NA(e,H,X=>t(32,f=X)),NA(e,U,X=>t(31,g=X)),NA(e,I,X=>t(8,u=X)),NA(e,L,X=>t(9,d=X));const x={title:{en:"Document Matrix",fr:"Matrice de documents"},order:{en:"Order",fr:"Ordre"},byName:{en:"By title",fr:"Par titre"},byScore:{en:"By score",fr:"Par score"},noDocuments:{en:"No documents available",fr:"Aucun document disponible"},pageByPage:{en:"Page-by-page similarity",fr:"Similarité page par page"},page:{en:"page",fr:"page"},score:{en:"Score",fr:"Score"},noPairs:{en:"No pairs",fr:"Aucune paire"},selectCell:{en:"Click a cell to view page-by-page similarity",fr:"Cliquez sur une cellule pour voir la similarité page par page"},byPage:{en:"By page",fr:"Par page"},byImage:{en:"By image",fr:"Par image"},image:{en:"image",fr:"image"},normalize:{en:"Normalize",fr:"Normaliser"},normalization:{en:"Normalization by document image counts",fr:"Normalisation par le nombre d'images des documents"},allPairs:{en:"All pairs in the document set",fr:"Toutes les paires du corpus"},filteredPairs:{en:"Filtered pairs",fr:"Paires après filtrage"},filtering:{en:"Source of image pairs for the visualizations",fr:"Source des paires d’images pour les visualisations"}},M=X=>{var dA,BA;return((dA=x[X])==null?void 0:dA[rA])||((BA=x[X])==null?void 0:BA.en)||X};let V,S,P,k,z=null,N="name",W=.5,J=!1,nA=0,fA,pA=null,SA="page";function TA(X,dA){const BA="600,";return cr(`wit${X.witnessId}_${X.digitizationRef}_${String(dA).padStart(X.zeros,"0")}`,"full",BA)}function xA(X){var BA;const dA="600,";return cr(X.ref,(BA=X.xywh)==null?void 0:BA.join(","),dA)}function FA(X,dA,BA){var Ae,UA;if(!X||!dA||!BA)return null;const{doc1:se,doc2:WA}=dA;if(dA.mode==="image"){const hA=(Ae=dA.images1)==null?void 0:Ae[X.idx1],He=(UA=dA.images2)==null?void 0:UA[X.idx2];if(!hA||!He)return null;const Z=`${X.idx1}-${X.idx2}`,QA=dA.pairScores.get(Z);return{items:[{doc:se,label:`Canvas ${hA.canvas} — Image #${X.idx1+1}`,imgUrl:xA(hA)},{doc:WA,label:`Canvas ${He.canvas} — Image #${X.idx2+1}`,imgUrl:xA(He)}],score:QA==null?void 0:QA.score}}const EA=X.idx1+1,he=X.idx2+1,vA=dA.points.find(hA=>hA.page1===EA&&hA.page2===he);return{items:[{doc:se,label:`Page ${EA}`,imgUrl:TA(se,EA)},{doc:WA,label:`Page ${he}`,imgUrl:TA(WA,he)}],score:vA==null?void 0:vA.score}}function $(X,dA){!pA||!i||(dA==="horizontal"?t(29,pA.idx1=(pA.idx1+X+a.max1)%a.max1,pA):t(29,pA.idx2=(pA.idx2+X+a.max2)%a.max2,pA),t(29,pA))}function oA(X){if(!pA||!(k!=null&&k.classList.contains("is-active")))return;const BA={ArrowUp:[-1,"vertical"],ArrowDown:[1,"vertical"],ArrowLeft:[-1,"horizontal"],ArrowRight:[1,"horizontal"]}[X.key];BA&&(X.preventDefault(),$(BA[0],BA[1]))}function tA(X,dA,BA,se,WA,EA){var He;if(!X.length)return{docs:[],matrix:[],maxScore:0};X.forEach((Z,QA)=>{var CA;Z.index=QA,Z.count=((CA=BA==null?void 0:BA.get(Z.id))==null?void 0:CA.count)||0});const vA={name:Tn(X.length).sort((Z,QA)=>X[Z].title.localeCompare(X[QA].title)),score:Tn(X.length).sort((Z,QA)=>X[QA].count-X[Z].count)}[se].map(Z=>X[Z]),Ae=vA.length,UA=[];let hA=0;for(let Z=0;Z<Ae;Z++){const QA=[];for(let CA=0;CA<Ae;CA++)if(Z!==CA){const me=vA[Z].id<vA[CA].id?`${vA[Z].id}-${vA[CA].id}`:`${vA[CA].id}-${vA[Z].id}`;let _=((He=dA==null?void 0:dA.get(me))==null?void 0:He.score)||0;if(WA&&_>0){const b=EA.get(vA[Z].id)||1,K=EA.get(vA[CA].id)||1;_/=Math.sqrt(b*K)}_>hA&&(hA=_),QA.push({x:CA,y:Z,z:_,doc1:vA[Z],doc2:vA[CA]})}else QA.push({x:CA,y:Z,z:0,diagonal:!0});UA.push(QA)}return{docs:vA,matrix:UA,maxScore:hA}}function G(X,dA,BA,se){const{doc1:WA,doc2:EA}=X,he=WA.id<EA.id?`${WA.id}-${EA.id}`:`${EA.id}-${WA.id}`;let vA=c.byDocPair.get(he)||[];return BA&&se.size>0&&(vA=vA.filter(Ae=>se.has(`${Ae.id_1}-${Ae.id_2}`))),vA.length?dA==="image"?xy(WA,EA,vA):Sy(WA,EA,vA):null}function q(){if(!S||!n.docs.length)return;const{docs:X,matrix:dA,maxScore:BA}=n,se=X.length*cg;we(S).selectAll("*").remove();const WA=we(S).append("svg").attr("width",se).attr("height",se),EA=fc().range([0,se]).domain(Tn(X.length)).padding(.02),he=we("body").selectAll(".matrix-tooltip").data([0]).join("div").attr("class","matrix-tooltip").style("position","fixed").style("background","var(--bulma-scheme-main)").style("border","1px solid var(--bulma-border)").style("border-radius","4px").style("padding","8px").style("pointer-events","none").style("opacity",0).style("font-size","12px").style("box-shadow","0 2px 4px rgba(0,0,0,0.15)").style("z-index","9999").style("color","var(--bulma-text)");WA.selectAll(".row").data(dA).join("g").attr("class","row").attr("transform",(Ae,UA)=>`translate(0,${EA(UA)})`).each(function(Ae){we(this).selectAll(".cell").data(Ae.filter(UA=>!UA.diagonal)).join("rect").attr("class","cell").attr("x",UA=>EA(UA.x)).attr("width",EA.bandwidth()).attr("height",EA.bandwidth()).attr("fill",UA=>{if(UA.z===0)return"var(--bulma-text)";const hA=Wn(233,.951,.52);return hA.opacity=BA>0?.2+.8*(UA.z/BA):.2,hA}).attr("stroke",UA=>gA(UA)?"var(--bulma-text)":"var(--bulma-scheme-main)").attr("stroke-width",UA=>gA(UA)?2:.5).style("cursor","pointer").on("mouseover",function(UA,hA){gA(hA)||we(this).attr("stroke","var(--bulma-text)").attr("stroke-width",2),he.style("opacity",1)}).on("mousemove",function(UA,hA){const He=`<span style="color:${hA.doc1.color}">●</span> ${hA.doc1.title}<br/>↔<br/><span style="color:${hA.doc2.color}">●</span> ${hA.doc2.title}`,Z=hA.z===0?`${He}<br/><br/><em>${M("noPairs")}</em>`:`${He}<br/><br/>${M("score")}: ${hA.z.toFixed(2)}`;he.html(Z).style("left",UA.clientX+15+"px").style("top",UA.clientY+15+"px")}).on("mouseleave",function(UA,hA){gA(hA)||we(this).attr("stroke","var(--bulma-scheme-main)").attr("stroke-width",.5),he.style("opacity",0)}).on("click",(UA,hA)=>{t(2,z={row:hA.y,col:hA.x,doc1:hA.doc1,doc2:hA.doc2}),OA()})}),WA.selectAll(".row").selectAll(".cell-diagonal").data(Ae=>Ae.filter(UA=>UA.diagonal)).join("rect").attr("class","cell-diagonal").attr("x",Ae=>EA(Ae.x)).attr("width",EA.bandwidth()).attr("height",EA.bandwidth()).attr("fill","var(--contrasted)")}function gA(X){return z&&z.doc1.id===X.doc1.id&&z.doc2.id===X.doc2.id}function OA(){S&&we(S).selectAll(".cell").attr("stroke",X=>gA(X)?"var(--bulma-text)":"var(--bulma-scheme-main)").attr("stroke-width",X=>gA(X)?2:.5)}function zA(){!P||!i||(we(P).selectAll("*").remove(),i.mode==="image"?KA():bA())}function bA(){const{points:X,minScore:dA,maxScore:BA,doc1:se,doc2:WA}=i;if(!X.length)return;const EA={top:65,right:40,bottom:20,left:80},he=10,vA=Math.max(...X.map(iA=>iA.page1)),Ae=Math.max(...X.map(iA=>iA.page2)),UA=vA*le,hA=Ae*le,He=new Map(X.map(iA=>[`${iA.page1}-${iA.page2}`,iA])),Z=UA+EA.left+EA.right,QA=hA+EA.top+EA.bottom,me=we(P).append("svg").attr("width",Z).attr("height",QA).append("g").attr("transform",`translate(${EA.left},${EA.top})`),_=Jr().domain([0,vA]).range([0,UA]),b=Jr().domain([0,Ae]).range([0,hA]),K=we("body").selectAll(".scatter-tooltip").data([0]).join("div").attr("class","scatter-tooltip").style("position","fixed").style("background","var(--bulma-scheme-main)").style("border","1px solid var(--bulma-border)").style("border-radius","4px").style("padding","6px 10px").style("pointer-events","none").style("opacity",0).style("font-size","11px").style("box-shadow","0 2px 4px rgba(0,0,0,0.15)").style("z-index","9999").style("color","var(--bulma-text)"),j=new Array(vA).fill(0),AA=new Array(Ae).fill(0);X.forEach(iA=>{j[iA.page1-1]++,AA[iA.page2-1]++});const eA=Math.max(...j),wA=Math.max(...AA),cA=me.append("g").attr("transform",`translate(0,${-22-he})`);j.forEach((iA,_A)=>{iA!==0&&cA.append("rect").attr("x",_A*le).attr("width",le).attr("height",he).attr("fill",se.color).attr("opacity",.15+.85*(iA/eA)).style("cursor","default").on("mouseover",()=>K.style("opacity",1)).on("mousemove",LA=>{K.html(`<strong>${iA}</strong> image${iA>1?"s":""}<br/>${M("page")} ${_A+1}`).style("left",LA.clientX+10+"px").style("top",LA.clientY-30+"px")}).on("mouseleave",()=>K.style("opacity",0))});const ZA=me.append("g").attr("transform","translate(-55,0)");AA.forEach((iA,_A)=>{iA!==0&&ZA.append("rect").attr("x",0).attr("y",_A*le).attr("width",he).attr("height",le).attr("fill",WA.color).attr("opacity",.15+.85*(iA/wA)).style("cursor","default").on("mouseover",()=>K.style("opacity",1)).on("mousemove",LA=>{K.html(`<strong>${iA}</strong> image${iA>1?"s":""}<br/>${M("page")} ${_A+1}`).style("left",LA.clientX+10+"px").style("top",LA.clientY-30+"px")}).on("mouseleave",()=>K.style("opacity",0))}),me.append("g").call(el(_).ticks(Math.min(vA,10))),me.append("g").call(tl(b).ticks(Math.min(Ae,10)));const jA=(iA,_A)=>{const LA=Math.floor(_A/6);return iA.length>LA?iA.slice(0,LA-1)+"…":iA},yA=me.append("g").attr("transform",`translate(${UA/2},-50)`);yA.append("circle").attr("r",4).attr("cx",-UA/2+4).attr("fill",se.color),yA.append("text").attr("x",-UA/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(jA(`${se.title} (${M("page")})`,UA-20));const JA=me.append("g").attr("transform",`translate(-68,${hA/2}) rotate(-90)`);JA.append("circle").attr("r",4).attr("cx",-hA/2+4).attr("fill",WA.color),JA.append("text").attr("x",-hA/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(jA(`${WA.title} (${M("page")})`,hA-20)),me.append("rect").attr("class","hover-overlay").attr("width",UA).attr("height",hA).attr("fill","transparent").style("cursor","pointer").on("mousemove",iA=>{const[_A,LA]=be(iA,me.node()),oe=Math.floor(_A/le)+1,ue=Math.floor(LA/le)+1;if(oe<1||oe>vA||ue<1||ue>Ae){K.style("opacity",0);return}const Ht=He.get(`${oe}-${ue}`),It=`<span style="color:${se.color}">●</span> ${M("page")} ${oe}<br/><span style="color:${WA.color}">●</span> ${M("page")} ${ue}`,Ar=Ht?`${It}<br/>${M("score")}: ${Ht.score.toFixed(2)}`:It;K.style("opacity",1).html(Ar).style("left",iA.clientX+10+"px").style("top",iA.clientY-40+"px")}).on("mouseleave",()=>K.style("opacity",0)).on("click",iA=>{const[_A,LA]=be(iA,me.node()),oe=Math.floor(_A/le)+1,ue=Math.floor(LA/le)+1;oe<1||oe>vA||ue<1||ue>Ae||(t(29,pA={idx1:oe-1,idx2:ue-1}),k==null||k.classList.add("is-active"))}),me.selectAll(".cell").data(X).join("rect").attr("class","cell").attr("x",iA=>(iA.page1-1)*le).attr("y",iA=>(iA.page2-1)*le).attr("width",le).attr("height",le).attr("fill",Wn(233,.951,.52)).attr("opacity",iA=>BA>dA?.2+.8*(iA.score-dA)/(BA-dA):.5).attr("pointer-events","none"),t(1,P.style.width=Z+"px",P),t(1,P.style.height=QA+"px",P)}function KA(){const{images1:X,images2:dA,pairScores:BA,minScore:se,maxScore:WA,doc1:EA,doc2:he}=i;if(!X.length||!dA.length)return;const vA={top:65,right:40,bottom:20,left:80},Ae=10,UA=X.length*le,hA=dA.length*le,He=UA+vA.left+vA.right,Z=hA+vA.top+vA.bottom,CA=we(P).append("svg").attr("width",He).attr("height",Z).append("g").attr("transform",`translate(${vA.left},${vA.top})`),me=Jr().domain([0,X.length]).range([0,UA]),_=Jr().domain([0,dA.length]).range([0,hA]),b=we("body").selectAll(".scatter-tooltip").data([0]).join("div").attr("class","scatter-tooltip").style("position","fixed").style("background","var(--bulma-scheme-main)").style("border","1px solid var(--bulma-border)").style("border-radius","4px").style("padding","6px 10px").style("pointer-events","none").style("opacity",0).style("font-size","11px").style("box-shadow","0 2px 4px rgba(0,0,0,0.15)").style("z-index","9999").style("color","var(--bulma-text)"),K=ug(X),j=ug(dA),AA=CA.append("g").attr("transform",`translate(0,${-22-Ae})`);K.forEach(({start:yA,end:JA,page:iA,count:_A})=>{AA.append("rect").attr("x",yA*le).attr("width",(JA-yA)*le).attr("height",Ae).attr("fill",EA.color).attr("opacity",.5).style("cursor","default").on("mouseover",()=>b.style("opacity",1)).on("mousemove",LA=>{b.html(`${M("page")} ${iA}<br/><strong>${_A}</strong> image${_A>1?"s":""}`).style("left",LA.clientX+10+"px").style("top",LA.clientY-30+"px")}).on("mouseleave",()=>b.style("opacity",0))});const eA=CA.append("g").attr("transform","translate(-55,0)");j.forEach(({start:yA,end:JA,page:iA,count:_A})=>{eA.append("rect").attr("x",0).attr("y",yA*le).attr("width",Ae).attr("height",(JA-yA)*le).attr("fill",he.color).attr("opacity",.5).style("cursor","default").on("mouseover",()=>b.style("opacity",1)).on("mousemove",LA=>{b.html(`${M("page")} ${iA}<br/><strong>${_A}</strong> image${_A>1?"s":""}`).style("left",LA.clientX+10+"px").style("top",LA.clientY-30+"px")}).on("mouseleave",()=>b.style("opacity",0))}),CA.append("g").call(el(me).ticks(Math.min(X.length,10))),CA.append("g").call(tl(_).ticks(Math.min(dA.length,10)));const wA=(yA,JA)=>{const iA=Math.floor(JA/6);return yA.length>iA?yA.slice(0,iA-1)+"…":yA},cA=CA.append("g").attr("transform",`translate(${UA/2},-50)`);cA.append("circle").attr("r",4).attr("cx",-UA/2+4).attr("fill",EA.color),cA.append("text").attr("x",-UA/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(wA(`${EA.title} (${M("image")})`,UA-20));const ZA=CA.append("g").attr("transform",`translate(-68,${hA/2}) rotate(-90)`);ZA.append("circle").attr("r",4).attr("cx",-hA/2+4).attr("fill",he.color),ZA.append("text").attr("x",-hA/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(wA(`${he.title} (${M("image")})`,hA-20)),CA.append("rect").attr("class","hover-overlay").attr("width",UA).attr("height",hA).attr("fill","transparent").style("cursor","pointer").on("mousemove",yA=>{const[JA,iA]=be(yA,CA.node()),_A=Math.floor(JA/le),LA=Math.floor(iA/le);if(_A<0||_A>=X.length||LA<0||LA>=dA.length){b.style("opacity",0);return}const oe=X[_A],ue=dA[LA],Ht=BA.get(`${_A}-${LA}`),It=`<span style="color:${EA.color}">●</span> ${M("page")} ${oe.canvas}, ${M("image")} ${_A+1}<br/><span style="color:${he.color}">●</span> ${M("page")} ${ue.canvas}, ${M("image")} ${LA+1}`,Ar=Ht?`${It}<br/>${M("score")}: ${Ht.score.toFixed(2)}`:It;b.style("opacity",1).html(Ar).style("left",yA.clientX+10+"px").style("top",yA.clientY-40+"px")}).on("mouseleave",()=>b.style("opacity",0)).on("click",yA=>{const[JA,iA]=be(yA,CA.node()),_A=Math.floor(JA/le),LA=Math.floor(iA/le);_A>=0&&_A<X.length&&LA>=0&&LA<dA.length&&(t(29,pA={idx1:_A,idx2:LA}),k==null||k.classList.add("is-active"))});const jA=Array.from(BA.values());CA.selectAll(".cell").data(jA).join("rect").attr("class","cell").attr("x",yA=>yA.idx1*le).attr("y",yA=>yA.idx2*le).attr("width",le).attr("height",le).attr("fill",Wn(233,.951,.52)).attr("opacity",yA=>WA>se?.2+.8*(yA.score-se)/(WA-se):.5).attr("pointer-events","none"),t(1,P.style.width=He+"px",P),t(1,P.style.height=Z+"px",P)}function MA(X){J=!0,X.preventDefault()}function $A(X){var se,WA;if(!J||!V)return;const dA=V.getBoundingClientRect(),BA=(X.clientX||((WA=(se=X.touches)==null?void 0:se[0])==null?void 0:WA.clientX))-dA.left;t(27,W=Math.max(.2,Math.min(.8,BA/dA.width)))}function Be(){J=!1}nr(()=>{V&&(t(28,nA=V.offsetWidth),fA=new ResizeObserver(X=>{t(28,nA=X[0].contentRect.width)}),fA.observe(V)),window.addEventListener("mousemove",$A),window.addEventListener("mouseup",Be),window.addEventListener("touchmove",$A),window.addEventListener("touchend",Be),window.addEventListener("keydown",oA)}),xr(()=>{fA==null||fA.disconnect(),window.removeEventListener("mousemove",$A),window.removeEventListener("mouseup",Be),window.removeEventListener("touchmove",$A),window.removeEventListener("touchend",Be),window.removeEventListener("keydown",oA)});function Se(){u=mn(this),I.set(u)}function ce(){N=mn(this),t(3,N)}const DA=X=>L.set(X.target.checked);function Oe(X){qe[X?"unshift":"push"](()=>{S=X,t(0,S)})}function RA(){SA=mn(this),t(4,SA)}function pe(X){qe[X?"unshift":"push"](()=>{P=X,t(1,P)})}function VA(X){qe[X?"unshift":"push"](()=>{V=X,t(10,V)})}function Qe(X){qe[X?"unshift":"push"](()=>{k=X,t(11,k)})}return e.$$set=X=>{"documentSetStore"in X&&t(26,F=X.documentSetStore)},e.$$.update=()=>{e.$$.dirty[1]&16&&t(7,r=Array.from((h==null?void 0:h.values())||[])),e.$$.dirty[0]&648|e.$$.dirty[1]&14&&t(6,n=tA(r,w.scoreCount,B.scoreCount,N,d,f)),e.$$.dirty[0]&276|e.$$.dirty[1]&1&&t(5,i=z?G(z,SA,u==="filtered",g):null),e.$$.dirty[0]&402653184&&t(14,s=Math.max(lg,nA*W-4)),e.$$.dirty[0]&402653184&&t(13,o=Math.max(lg,nA*(1-W)-4)),e.$$.dirty[0]&32&&t(30,a=i?Iy(i):{max1:0,max2:0,pages1:[],pages2:[]}),e.$$.dirty[0]&1610612768&&t(12,l=pA&&i&&a?FA(pA,i,a):null),e.$$.dirty[0]&65&&S&&n.docs.length&&q(),e.$$.dirty[0]&34&&P&&i&&zA()},[S,P,z,N,SA,i,n,r,u,d,V,k,l,o,s,E,Q,C,y,H,U,I,L,M,$,MA,F,W,nA,pA,a,g,f,B,w,h,Se,ce,DA,Oe,RA,pe,VA,Qe]}class ky extends ne{constructor(A){super(),re(this,A,Ly,Hy,qA,{documentSetStore:26},null,[-1,-1,-1])}}const Ky=1e4;async function My(e,A,t={}){const{onProgress:r,onError:n,signal:i}=t,s=await fetch(e,{signal:i});if(!s.ok){const f=await s.json().catch(()=>({error:s.statusText}));throw new Error(f.error||`HTTP ${s.status}`)}const o=s.body.getReader(),a=new TextDecoder;let l="",c=[],g=0,u=!1;try{for(;;){const{done:f,value:d}=await o.read();if(f){if(l.trim()){const w=fg(l);w&&c.push(w)}return c.length>0?(g+=c.length,A.postMessage({type:"batch",pairs:c,isLast:!0})):A.postMessage({type:"done"}),r==null||r(g,!0),g}l+=a.decode(d,{stream:!0});const B=l.split(`
`);l=B.pop()||"";for(const w of B){if(!w)continue;const h=fg(w);h&&(c.push(h),c.length>=Ky&&(u||(A.postMessage({type:"init"}),u=!0),g+=c.length,A.postMessage({type:"batch",pairs:c,isLast:!1}),c=[],r==null||r(g,!1)))}}}catch(f){throw f.name==="AbortError"?(A.postMessage({type:"abort"}),f):(n==null||n(f),f)}}function fg(e){try{return JSON.parse(e)}catch{return console.warn("Parse error:",e.slice(0,50)),null}}const gg="https://vhs.huma-num.fr",Dy=()=>new Worker("/static/js/pairWorker.js",{type:"module"});function Ty(e){const A=YA(null),t=YA(!1),r=YA({loaded:0,done:!1}),n=YA([]),i=YA(new Set),s=YA([]),o=YA(0),a=YA(3),l=YA(!1),c=YA("threshold"),g=YA([]),u=YA(new Map);let f,d=null;const B=YA({byImage:new Map,byDocPair:new Map,byDoc:new Map}),w=YA(new Map),h=YA(new Map),F=YA({}),E=YA({}),Q=YA({}),C=YA({}),y=YA({documents:0,pairs:null,images:0,categories:{}}),H=Fe(n,($,oA)=>{if($.length===0){oA(Promise.resolve(0));return}f&&f.terminate()&&(f=null),d&&d.abort(),d=new AbortController;const tA=418,G=new Promise((q,gA)=>{t.set(!0),r.set({loaded:0,done:!1}),A.set(null),(async()=>{try{f=Dy(),f.onmessage=async bA=>{const{type:KA}=bA.data;if(KA==="progress"){r.set({loaded:bA.data.count,done:!1});return}if(KA!=="complete")return;const{allPairs:MA,imageNodes:$A,pairIndex:Be,categories:Se,stats:ce}=bA.data;B.set(Be),F.set(ce.pairStats),W(),E.set(ce.documentStats),Q.set(ce.imageStats),C.set(ce.docPairStats);const DA=Array.from(ce.documentStats.scoreCount.keys());_e(i).size===0&&i.set(new Set(DA));const Oe=await Promise.all(DA.map(VA=>U(VA).then(Qe=>({id:VA,info:Qe})))),RA=new Map;Oe.forEach(({id:VA,info:Qe})=>RA.set(VA,Qe)),u.set(RA);const pe=new Map;DA.forEach((VA,Qe)=>{const X=RA.get(VA)||{};pe.set(VA,{id:VA,title:X.title||`Region Extraction ${VA}`,color:X.color||EB(Qe),images:[],...X})}),$A.forEach(VA=>{const Qe=pe.get(VA.regionId);Qe&&(VA.color=Qe.color,VA.title=`${Qe.title} | Page ${VA.canvas}`,Qe.images.push(VA))}),pe.forEach(VA=>VA.images.sort((Qe,X)=>{var dA,BA;return Qe.canvas!==X.canvas?Qe.canvas-X.canvas:(parseInt((dA=Qe.xywh)==null?void 0:dA[1])||0)-(parseInt((BA=X.xywh)==null?void 0:BA[1])||0)})),w.set($A),h.set(pe),y.set({documents:DA.length,pairs:MA.length,images:$A.size,categories:Se}),g.set(MA),t.set(!1),r.set({loaded:MA.length,done:!0}),f.terminate(),f=null,q(MA.length)},f.onerror=bA=>{console.error("Worker error",bA),A.set(`Worker error: ${bA.message}`),t.set(!1),gA(bA)};const zA=`${gg}/document-set/${tA}/pairs/stream?category=${$.join(",")}`;await My(zA,f,{signal:d.signal,onProgress:(bA,KA)=>{r.set({loaded:bA,done:KA})},onError:bA=>{A.set(`Stream error: ${bA.message}`)}})}catch(zA){if(zA.name==="AbortError"){console.log("Request aborted");return}A.set(`Fetch error: ${zA.message}`),t.set(!1),gA(zA)}})()});oA(G)});async function U($){try{const oA=await fetch(`${gg}/search/regions/?id=${$}`);if(!oA.ok)throw new Error(`HTTP ${oA.status}`);const{results:tA}=await oA.json();if(!(tA!=null&&tA.length))return{title:`Region Extraction ${$}`};const G=tA[0],[,...q]=G.title.split(" | "),[gA,OA]=(G.ref||"_").split("_");return{title:q.join(" | "),ref:G.ref,witnessId:UB(gA),digitizationRef:OA,zeros:G.zeros,img_nb:G.img_nb,url:G.url}}catch(oA){return A.set(`Error fetching region #${$}: ${oA.message}`),{title:`Region Extraction ${$}`}}}const I=Fe([g,o,a,l,i],([$,oA,tA,G,q])=>{if(!$)return[];const gA=[],OA=_e(c);for(let zA=0;zA<$.length;zA++){const bA=$[zA];if(OA==="threshold"&&bA.weightedScore<oA)break;if(!(!q.has(bA.regions_id_1)||!q.has(bA.regions_id_2))){if(OA==="topk"&&tA!==null){const KA=bA.rank_1??1/0,MA=bA.rank_2??1/0;if(G){if(KA>tA||MA>tA)continue}else if(KA>tA&&MA>tA)continue}gA.push(bA)}}return gA}),L=Fe([I,h],([$,oA])=>{if(!$.length||oA.size===0)return[];const tA=new Set;for(const q of $)tA.add(q.regions_id_1),tA.add(q.regions_id_2);const G=[];return tA.forEach(q=>{const gA=oA.get(q);gA&&G.push(gA)}),G.sort((q,gA)=>gA.id-q.id)});function x($,oA,tA=10,G=200,q=2,gA=25){if(!oA)return{strength:.5,distance:100,width:2};const{min:OA,_:zA,range:bA}=oA,KA=bA===0?.5:($-OA)/bA,MA=G-KA*(G-tA),$A=q+KA*(gA-q);return{strength:KA,distance:MA,width:$A}}function M($,oA,tA=10,G=60){if(!oA)return tA;const{min:q,_:gA,range:OA}=oA;return OA===0?(tA+G)/2:tA+($-q)/OA*(G-tA)}const V=Fe([I],([$])=>{var zA;const oA=_e(w),tA=_e(Q),G=_e(F),q=new Set,gA=[];for(const bA of $){const{strength:KA,distance:MA,width:$A}=x(bA.weightedScore,G.scoreRange);gA.push({source:bA.id_1,target:bA.id_2,strength:KA,distance:MA,width:$A}),q.has(bA.id_1)||q.add(bA.id_1),q.has(bA.id_2)||q.add(bA.id_2)}const OA=[];for(const bA of q){const KA=oA.get(bA);if(KA){const MA=(zA=tA.scoreCount)==null?void 0:zA.get(bA),{count:$A,score:Be}=MA;OA.push({...KA,radius:M(Be,tA.scoreRange),label:`Region: ${KA.regionId}
Page: ${KA.canvas}
Connections: ${$A}
Total score: ${Be.toFixed(2)}`})}}return{nodes:OA,links:gA}}),S=Fe(L,$=>{const oA=_e(C),tA=_e(E);if($.size===0)return{nodes:[],links:[]};const G=Array.from($.values()).map(gA=>{var KA;const OA=(KA=tA.scoreCount)==null?void 0:KA.get(gA.id),{count:zA,score:bA}=OA;return{...gA,radius:M(zA,tA.countRange),label:`${gA.title}
Images: ${zA}
Total score: ${bA.toFixed(2)}`}}),q=Array.from(oA.scoreCount.entries()).map(([gA,OA])=>{const[zA,bA]=gA.split("-").map(Number),{strength:KA,distance:MA,width:$A}=x(OA.score,oA.scoreRange);return{source:zA,target:bA,strength:KA,distance:MA,width:$A}});return{nodes:G,links:q}});function P($){if(!$.length)return{regions:[],rows:[]};const oA=_e(h),tA=_e(B),G=$[0],q=oA.get(G);if(!(q!=null&&q.images))return{regions:$,rows:[]};const gA=q.images,OA=(MA,$A,Be)=>{const{r1:Se,r2:ce}={r1:$A,r2:Be},DA=Se<ce?`${Se}-${ce}`:`${ce}-${Se}`;return(tA.byDocPair.get(DA)||[]).map(RA=>RA.id_1===MA&&RA.regions_id_1===$A?{id:RA.id_2,page:RA.page_2}:RA.id_2===MA&&RA.regions_id_2===$A?{id:RA.id_1,page:RA.page_1}:null).filter(Boolean)},zA=[];for(const MA of gA){let $A=[{[G]:{id:MA.id,page:MA.canvas}}];for(let Be=1;Be<$.length;Be++){const Se=$[Be],ce=[];for(const DA of $A){const Oe=[];for(let RA=0;RA<Be;RA++){const pe=$[RA];if(DA[pe]){const VA=OA(DA[pe].id,pe,Se);Oe.push(...VA)}}if(Oe.length===0)ce.push(DA);else{const RA=new Map;Oe.forEach(pe=>{RA.has(pe.id)||RA.set(pe.id,pe)});for(const pe of RA.values()){const VA={...DA,[Se]:pe};ce.push(VA)}}}$A=ce}zA.push(...$A)}const bA=[],KA=new Set;for(const MA of zA){const $A=$.map(Be=>{var Se;return((Se=MA[Be])==null?void 0:Se.id)||""}).join("|");KA.has($A)||(KA.add($A),bA.push(MA))}return{regions:$,rows:bA}}function k($){n.update(oA=>oA.indexOf($)>-1?oA.filter(G=>G!==$):[...oA,$].sort((G,q)=>G-q))}function z($){i.update(oA=>{const tA=new Set(oA);return tA.has($)?tA.delete($):tA.add($),tA})}function N(){const $=Array.from(_e(h).keys());i.set(new Set($))}function W(){if(!_e(n).includes(0))return;const{min:$,max:oA}=_e(F).scoreRange||{};$==null||oA==null||_e(o)===$&&o.set(($+oA)/2)}const J=YA("filtered"),nA=YA(!1),fA=Fe(I,$=>{const oA=new Set;for(const tA of $)oA.add(`${tA.id_1}-${tA.id_2}`);return oA}),pA=Fe(I,$=>{const oA=new Map;if(!($!=null&&$.length))return{scoreCount:oA,scoreRange:{min:0,max:0,range:0}};let tA=1/0,G=-1/0;for(const q of $){const gA=q.regions_id_1<q.regions_id_2?`${q.regions_id_1}-${q.regions_id_2}`:`${q.regions_id_2}-${q.regions_id_1}`,OA=oA.get(gA)||{score:0,count:0};OA.score+=q.weightedScore||0,OA.count++,oA.set(gA,OA)}for(const{score:q}of oA.values())q<tA&&(tA=q),q>G&&(G=q);return tA===1/0&&(tA=G=0),{scoreCount:oA,scoreRange:{min:tA,max:G,range:G-tA}}}),SA=Fe(I,$=>{const oA=new Map;if(!($!=null&&$.length))return{scoreCount:oA,countRange:{min:0,max:0,range:0}};for(const q of $)for(const gA of[q.regions_id_1,q.regions_id_2]){const OA=oA.get(gA)||{score:0,count:0};OA.score+=q.weightedScore||0,OA.count++,oA.set(gA,OA)}let tA=1/0,G=-1/0;for(const{count:q}of oA.values())q<tA&&(tA=q),q>G&&(G=q);return tA===1/0&&(tA=G=0),{scoreCount:oA,countRange:{min:tA,max:G,range:G-tA}}}),TA=Fe([J,C,pA],([$,oA,tA])=>$==="filtered"?tA:oA),xA=Fe([J,E,SA],([$,oA,tA])=>$==="filtered"?tA:oA),FA=Fe(h,$=>{var tA;const oA=new Map;for(const[G,q]of $)oA.set(G,Math.max(1,((tA=q.images)==null?void 0:tA.length)||q.img_nb||1));return oA});return{error:A,loadingProgress:r,cancelLoading:()=>{d&&(d.abort(),t.set(!1))},allPairs:g,visiblePairs:I,pairIndex:B,documentNodes:h,imageNodes:w,fetchPairs:H,imageNetwork:V,documentNetwork:S,selectedCategories:n,pairStats:F,documentStats:E,imageStats:Q,docPairStats:C,docSetNumber:y,selectedNodes:s,selectedRegions:i,updateSelectedNodes:$=>s.set($),toggleCategory:k,toggleRegion:z,selectAllRegions:N,buildAlignedImageMatrix:P,threshold:o,setThreshold:$=>o.set($),topK:a,setTopK:$=>a.set($),mutualTopK:l,setMutualTopK:$=>l.set($),scoreMode:c,setScoreMode:$=>c.set($),matrixMode:J,setMatrixMode:$=>J.set($),normalizeByImages:nA,activeDocPairStats:TA,activeDocStats:xA,imageCountMap:FA,visiblePairIds:fA}}function Oy(e){let A,t,r;const n=e[1].default,i=Ne(n,e,e[0],null);return{c(){A=v("table"),t=v("tbody"),i&&i.c(),m(A,"class","table is-fullwidth")},m(s,o){T(s,A,o),p(A,t),i&&i.m(t,null),r=!0},p(s,[o]){i&&i.p&&(!r||o&1)&&Ve(i,n,s,s[0],r?Re(n,s[0],o,null):Ge(s[0]),null)},i(s){r||(R(i,s),r=!0)},o(s){Y(i,s),r=!1},d(s){s&&D(A),i&&i.d(s)}}}function Ny(e,A,t){let{$$slots:r={},$$scope:n}=A;return e.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,r]}class Ry extends ne{constructor(A){super(),re(this,A,Ny,Oy,qA,{})}}const Vy=e=>({}),Bg=e=>({}),Gy=e=>({}),dg=e=>({}),Py=e=>({}),hg=e=>({});function Xy(e){let A;const t=e[4]["row-body"],r=Ne(t,e,e[3],Bg);return{c(){r&&r.c()},m(n,i){r&&r.m(n,i),A=!0},p(n,i){r&&r.p&&(!A||i&8)&&Ve(r,t,n,n[3],A?Re(t,n[3],i,Vy):Ge(n[3]),Bg)},i(n){A||(R(r,n),A=!0)},o(n){Y(r,n),A=!1},d(n){r&&r.d(n)}}}function Jy(e){let A,t,r,n;const i=e[4]["row-body"],s=Ne(i,e,e[3],dg);return{c(){A=v("div"),t=v("div"),s&&s.c(),m(t,"class","grid is-gap-2"),m(A,"class",r="fixed-grid has-"+e[2]+"-cols")},m(o,a){T(o,A,a),p(A,t),s&&s.m(t,null),n=!0},p(o,a){s&&s.p&&(!n||a&8)&&Ve(s,i,o,o[3],n?Re(i,o[3],a,Gy):Ge(o[3]),dg),(!n||a&4&&r!==(r="fixed-grid has-"+o[2]+"-cols"))&&m(A,"class",r)},i(o){n||(R(s,o),n=!0)},o(o){Y(s,o),n=!1},d(o){o&&D(A),s&&s.d(o)}}}function Wy(e){let A,t,r,n,i,s,o,a,l,c;nt(e[5]);const g=e[4]["row-header"],u=Ne(g,e,e[3],hg),f=[Jy,Xy],d=[];function B(w,h){return w[0]?0:1}return s=B(e),o=d[s]=f[s](e),{c(){A=v("tr"),t=v("th"),r=v("div"),u&&u.c(),n=O(),i=v("td"),o.c(),m(r,"class","content-wrapper py-5"),m(t,"class","is-3 center-flex is-narrow"),PA(t,"width","15vw"),m(i,"class","p-5 is-fullwidth")},m(w,h){T(w,A,h),p(A,t),p(t,r),u&&u.m(r,null),p(A,n),p(A,i),d[s].m(i,null),a=!0,l||(c=mA(window,"resize",e[5]),l=!0)},p(w,[h]){u&&u.p&&(!a||h&8)&&Ve(u,g,w,w[3],a?Re(g,w[3],h,Py):Ge(w[3]),hg);let F=s;s=B(w),s===F?d[s].p(w,h):(ee(),Y(d[F],1,1,()=>{d[F]=null}),te(),o=d[s],o?o.p(w,h):(o=d[s]=f[s](w),o.c()),R(o,1),o.m(i,null))},i(w){a||(R(u,w),R(o),a=!0)},o(w){Y(u,w),Y(o),a=!1},d(w){w&&D(A),u&&u.d(w),d[s].d(),l=!1,c()}}}function Yy(e,A,t){let r,{$$slots:n={},$$scope:i}=A,{useGrid:s=!0}=A,o=0;function a(){t(1,o=window.innerWidth)}return e.$$set=l=>{"useGrid"in l&&t(0,s=l.useGrid),"$$scope"in l&&t(3,i=l.$$scope)},e.$$.update=()=>{e.$$.dirty&2&&t(2,r=HB(o))},[s,o,r,i,n,a]}class zy extends ne{constructor(A){super(),re(this,A,Yy,Wy,qA,{useGrid:0})}}const Kb="",$y=e=>({}),wg=e=>({}),Zy=e=>({}),pg=e=>({});function mg(e){let A,t,r,n,i,s,o,a,l,c,g,u=e[1]&&Qg(e);return a=new ms({props:{tooltipText:e[2][e[1]][rA]}}),{c(){u&&u.c(),A=O(),t=v("div"),r=v("button"),n=pt("svg"),i=pt("path"),o=O(),kA(a.$$.fragment),m(i,"fill","none"),m(i,"stroke","currentColor"),m(i,"stroke-linecap","round"),m(i,"stroke-linejoin","round"),m(i,"stroke-width","1.5"),m(i,"d","M12 3v18m0 0l8.5-8.5M12 21l-8.5-8.5"),m(n,"style",s=`transform: rotate(${e[1]?"180":"0"}deg)`),m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"width","24"),m(n,"height","24"),m(n,"viewBox","0 0 24 24"),m(n,"class","svelte-jbs1sd"),m(r,"class","button is-link svelte-jbs1sd"),m(t,"class","ctrl-toggle svelte-jbs1sd")},m(f,d){u&&u.m(f,d),T(f,A,d),T(f,t,d),p(t,r),p(r,n),p(n,i),p(r,o),HA(a,r,null),l=!0,c||(g=mA(r,"click",St(e[3])),c=!0)},p(f,d){f[1]?u?(u.p(f,d),d&2&&R(u,1)):(u=Qg(f),u.c(),R(u,1),u.m(A.parentNode,A)):u&&(ee(),Y(u,1,1,()=>{u=null}),te()),(!l||d&2&&s!==(s=`transform: rotate(${f[1]?"180":"0"}deg)`))&&m(n,"style",s);const B={};d&2&&(B.tooltipText=f[2][f[1]][rA]),a.$set(B)},i(f){l||(R(u),R(a.$$.fragment,f),l=!0)},o(f){Y(u),Y(a.$$.fragment,f),l=!1},d(f){u&&u.d(f),f&&D(A),f&&D(t),IA(a),c=!1,g()}}}function Qg(e){let A,t,r;const n=e[5]["toolbar-hidden"],i=Ne(n,e,e[4],wg);return{c(){A=v("div"),i&&i.c(),m(A,"class","ctrl-extra")},m(s,o){T(s,A,o),i&&i.m(A,null),r=!0},p(s,o){i&&i.p&&(!r||o&16)&&Ve(i,n,s,s[4],r?Re(n,s[4],o,$y):Ge(s[4]),wg)},i(s){r||(R(i,s),nt(()=>{r&&(t||(t=yn(A,ha,{axis:"y"},!0)),t.run(1))}),r=!0)},o(s){Y(i,s),t||(t=yn(A,ha,{axis:"y"},!1)),t.run(0),r=!1},d(s){s&&D(A),i&&i.d(s),s&&t&&t.end()}}}function jy(e){let A,t,r,n,i,s,o,a;const l=e[5]["toolbar-visible"],c=Ne(l,e,e[4],pg);let g=e[0]&&mg(e);return{c(){A=v("div"),t=v("form"),r=v("div"),n=v("div"),i=v("div"),c&&c.c(),s=O(),g&&g.c(),m(i,"class","ctrl-block svelte-jbs1sd"),m(n,"class","ctrl-block-wrapper svelte-jbs1sd"),m(r,"class","ctrl-base"),m(t,"class","ctrl svelte-jbs1sd"),m(A,"id","toolbar"),m(A,"class",o="ctrl-wrapper is-flex is-justify-content-center is-align-items-center "+(e[1]?"toolbar-expanded":"toolbar-collapsed")+" svelte-jbs1sd")},m(u,f){T(u,A,f),p(A,t),p(t,r),p(r,n),p(n,i),c&&c.m(i,null),p(t,s),g&&g.m(t,null),a=!0},p(u,[f]){c&&c.p&&(!a||f&16)&&Ve(c,l,u,u[4],a?Re(l,u[4],f,Zy):Ge(u[4]),pg),u[0]?g?(g.p(u,f),f&1&&R(g,1)):(g=mg(u),g.c(),R(g,1),g.m(t,null)):g&&(ee(),Y(g,1,1,()=>{g=null}),te()),(!a||f&2&&o!==(o="ctrl-wrapper is-flex is-justify-content-center is-align-items-center "+(u[1]?"toolbar-expanded":"toolbar-collapsed")+" svelte-jbs1sd"))&&m(A,"class",o)},i(u){a||(R(c,u),R(g),a=!0)},o(u){Y(c,u),Y(g),a=!1},d(u){u&&D(A),c&&c.d(u),g&&g.d()}}}function qy(e,A,t){let r,{$$slots:n={},$$scope:i}=A,{expandable:s=!0}=A;const o={true:{en:"Collapse the toolbar",fr:"Refermer le menu"},false:{en:"Expand the toolbar",fr:"Ouvrir le menu"}},a=()=>t(1,r=!r);return e.$$set=l=>{"expandable"in l&&t(0,s=l.expandable),"$$scope"in l&&t(4,i=l.$$scope)},t(1,r=!1),[s,r,o,a,i,n]}class A_ extends ne{constructor(A){super(),re(this,A,qy,jy,qA,{expandable:0})}}function Cg(e){let A,t,r,n,i,s,o,a,l,c=e[5]>1&&vg(e),g=e[5]<e[3]&&yg(e);return{c(){A=v("nav"),t=v("ul"),c&&c.c(),r=O(),n=v("li"),i=v("a"),s=aA(e[5]),o=O(),g&&g.c(),m(i,"class","pagination-link is-current"),m(i,"href",null),m(t,"class","pagination-list ml-0"),m(A,"class","pagination is-centered mb-2"),m(A,"aria-label","pagination")},m(u,f){T(u,A,f),p(A,t),c&&c.m(t,null),p(t,r),p(t,n),p(n,i),p(i,s),p(t,o),g&&g.m(t,null),a||(l=mA(i,"click",St(e[9])),a=!0)},p(u,f){u[5]>1?c?c.p(u,f):(c=vg(u),c.c(),c.m(t,r)):c&&(c.d(1),c=null),f&32&&GA(s,u[5]),u[5]<u[3]?g?g.p(u,f):(g=yg(u),g.c(),g.m(t,null)):g&&(g.d(1),g=null)},d(u){u&&D(A),c&&c.d(),g&&g.d(),a=!1,l()}}}function vg(e){let A,t,r,n,i,s,o=e[5]-1>1&&Ug(e);return{c(){A=v("li"),t=v("a"),t.textContent="1",r=O(),o&&o.c(),n=Ke(),m(t,"class","pagination-link"),m(t,"href",null)},m(a,l){T(a,A,l),p(A,t),T(a,r,l),o&&o.m(a,l),T(a,n,l),i||(s=mA(t,"click",St(e[7])),i=!0)},p(a,l){a[5]-1>1?o?o.p(a,l):(o=Ug(a),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(a){a&&D(A),a&&D(r),o&&o.d(a),a&&D(n),i=!1,s()}}}function Ug(e){let A,t,r,n=e[5]-1+"",i,s,o,a=e[5]-1>2&&Fg();return{c(){a&&a.c(),A=O(),t=v("li"),r=v("a"),i=aA(n),m(r,"class","pagination-link"),m(r,"href",null)},m(l,c){a&&a.m(l,c),T(l,A,c),T(l,t,c),p(t,r),p(r,i),s||(o=mA(r,"click",St(e[8])),s=!0)},p(l,c){l[5]-1>2?a||(a=Fg(),a.c(),a.m(A.parentNode,A)):a&&(a.d(1),a=null),c&32&&n!==(n=l[5]-1+"")&&GA(i,n)},d(l){a&&a.d(l),l&&D(A),l&&D(t),s=!1,o()}}}function Fg(e){let A;return{c(){A=v("li"),A.innerHTML='<span class="pagination-ellipsis">…</span>'},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function yg(e){let A,t,r,n,i,s,o=e[5]+1<e[3]&&_g(e);return{c(){o&&o.c(),A=O(),t=v("li"),r=v("a"),n=aA(e[3]),m(r,"class","pagination-link"),m(r,"href",null)},m(a,l){o&&o.m(a,l),T(a,A,l),T(a,t,l),p(t,r),p(r,n),i||(s=mA(r,"click",St(e[11])),i=!0)},p(a,l){a[5]+1<a[3]?o?o.p(a,l):(o=_g(a),o.c(),o.m(A.parentNode,A)):o&&(o.d(1),o=null),l&8&&GA(n,a[3])},d(a){o&&o.d(a),a&&D(A),a&&D(t),i=!1,s()}}}function _g(e){let A,t,r=e[5]+1+"",n,i,s,o,a,l=e[5]+2<e[3]&&bg();return{c(){A=v("li"),t=v("a"),n=aA(r),i=O(),l&&l.c(),s=Ke(),m(t,"class","pagination-link"),m(t,"href",null)},m(c,g){T(c,A,g),p(A,t),p(t,n),T(c,i,g),l&&l.m(c,g),T(c,s,g),o||(a=mA(t,"click",St(e[10])),o=!0)},p(c,g){g&32&&r!==(r=c[5]+1+"")&&GA(n,r),c[5]+2<c[3]?l||(l=bg(),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d(c){c&&D(A),c&&D(i),l&&l.d(c),c&&D(s),o=!1,a()}}}function bg(e){let A;return{c(){A=v("li"),A.innerHTML='<span class="pagination-ellipsis">…</span>'},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function e_(e){let A,t,r=e[5]*e[2]-e[2]+1+"",n,i,s=Math.min(e[5]*e[2],e[1])+"",o,a,l,c,g=e[4]&&Cg(e);return{c(){g&&g.c(),A=O(),t=v("div"),n=aA(r),i=aA(" - "),o=aA(s),a=aA(" / "),l=aA(e[1]),m(t,"class",c="is-size-7 is-center mb-4 "+(e[4]?"":"mt-4"))},m(u,f){g&&g.m(u,f),T(u,A,f),T(u,t,f),p(t,n),p(t,i),p(t,o),p(t,a),p(t,l)},p(u,[f]){u[4]?g?g.p(u,f):(g=Cg(u),g.c(),g.m(A.parentNode,A)):g&&(g.d(1),g=null),f&36&&r!==(r=u[5]*u[2]-u[2]+1+"")&&GA(n,r),f&38&&s!==(s=Math.min(u[5]*u[2],u[1])+"")&&GA(o,s),f&2&&GA(l,u[1]),f&16&&c!==(c="is-size-7 is-center mb-4 "+(u[4]?"":"mt-4"))&&m(t,"class",c)},i:sA,o:sA,d(u){g&&g.d(u),u&&D(A),u&&D(t)}}}function t_(e,A,t){let r,n,i,{store:s}=A;const{currentPage:o}=s;NA(e,o,B=>t(5,i=B));let{nbOfItems:a}=A,{pageLength:l=CB}=A;const c=()=>s.handlePageUpdate(1),g=()=>s.handlePageUpdate(i-1),u=()=>s.handlePageUpdate(i),f=()=>s.handlePageUpdate(i+1),d=()=>s.handlePageUpdate(r);return e.$$set=B=>{"store"in B&&t(0,s=B.store),"nbOfItems"in B&&t(1,a=B.nbOfItems),"pageLength"in B&&t(2,l=B.pageLength)},e.$$.update=()=>{e.$$.dirty&6&&t(3,r=l>0?Math.ceil(a/l):1),e.$$.dirty&14&&t(4,n=r>1||a>l)},[s,a,l,r,n,i,o,c,g,u,f,d]}class Eg extends ne{constructor(A){super(),re(this,A,t_,e_,qA,{store:0,nbOfItems:1,pageLength:2})}}function r_(e){let A,t,r,n,i=rA==="en"?"Save selection":"Sauvegarder la sélection",s,o,a;return{c(){A=v("button"),t=v("span"),r=v("i"),n=O(),s=aA(i),m(r,"class","fa-solid fa-floppy-disk"),m(A,"class","button is-link")},m(l,c){T(l,A,c),p(A,t),p(t,r),p(t,n),p(t,s),o||(a=mA(A,"click",e[7]),o=!0)},p:sA,d(l){l&&D(A),o=!1,a()}}}function n_(e){let A,t,r,n,i=rA==="en"?"Go to treatment":"Accéder au traitement",s,o;return{c(){var a;A=v("a"),t=v("span"),r=v("i"),n=O(),s=aA(i),m(r,"class","fa-solid fa-gear"),m(A,"class","button is-link"),m(A,"href",o="/"+ft+"/treatment/add/?document_set="+((a=e[3])==null?void 0:a.id))},m(a,l){T(a,A,l),p(A,t),p(t,r),p(t,n),p(t,s)},p(a,l){var c;l&8&&o!==(o="/"+ft+"/treatment/add/?document_set="+((c=a[3])==null?void 0:c.id))&&m(A,"href",o)},d(a){a&&D(A)}}}function Hg(e){let A,t,r,n,i,s,o;return{c(){var a,l;A=v("a"),t=v("span"),t.innerHTML='<i class="fa-solid fa-file-export"></i> JSON',n=O(),i=v("a"),s=v("span"),s.innerHTML='<i class="fa-solid fa-file-zipper"></i> ZIP',m(A,"class","button is-link is-dark"),m(A,"href",r="/"+ft+"/document-set/"+((a=e[3])==null?void 0:a.id)+"/json"),m(A,"target","_blank"),m(i,"class","button is-link is-dark"),m(i,"href",o="/"+ft+"/document-set/"+((l=e[3])==null?void 0:l.id)+"/zip"),m(i,"target","_blank")},m(a,l){T(a,A,l),p(A,t),T(a,n,l),T(a,i,l),p(i,s)},p(a,l){var c,g;l&8&&r!==(r="/"+ft+"/document-set/"+((c=a[3])==null?void 0:c.id)+"/json")&&m(A,"href",r),l&8&&o!==(o="/"+ft+"/document-set/"+((g=a[3])==null?void 0:g.id)+"/zip")&&m(i,"href",o)},d(a){a&&D(A),a&&D(n),a&&D(i)}}}function i_(e){let A,t,r,n,i,s,o;function a(u,f){return u[2]&&!u[1]?n_:r_}let l=a(e),c=l(e),g=!e[1]&&Hg(e);return{c(){A=v("footer"),t=v("div"),r=v("button"),r.textContent=`${rA==="en"?"Clear selection":"Vider la sélection"}`,n=O(),c.c(),i=O(),g&&g.c(),m(r,"class","button button-close is-link is-light"),m(t,"class","buttons"),m(A,"class","modal-card-foot is-center")},m(u,f){T(u,A,f),p(A,t),p(t,r),p(t,n),c.m(t,null),p(t,i),g&&g.m(t,null),s||(o=mA(r,"click",e[6]),s=!0)},p(u,[f]){l===(l=a(u))&&c?c.p(u,f):(c.d(1),c=l(u),c&&(c.c(),c.m(t,i))),u[1]?g&&(g.d(1),g=null):g?g.p(u,f):(g=Hg(u),g.c(),g.m(t,null))},i:sA,o:sA,d(u){u&&D(A),c.d(),g&&g.d(),s=!1,o()}}}function s_(e,A,t){let r,n,{selectionStore:i}=A;const{isSaved:s,selection:o}=i;NA(e,s,g=>t(2,r=g)),NA(e,o,g=>t(3,n=g));let{isRegion:a=i.type!=="documentSet"}=A;const l=()=>i.empty(),c=()=>i.save();return e.$$set=g=>{"selectionStore"in g&&t(0,i=g.selectionStore),"isRegion"in g&&t(1,a=g.isRegion)},[i,a,r,n,s,o,l,c]}class o_ extends ne{constructor(A){super(),re(this,A,s_,i_,qA,{selectionStore:0,isRegion:1})}}const Mb="";function Ig(e,A,t){const r=e.slice();return r[31]=A[t],r}function Sg(e,A,t){const r=e.slice();return r[31]=A[t],r}function a_(e){let A,t,r,n,i,s;return{c(){A=v("span"),t=aA(e[10]),r=O(),n=v("span"),n.innerHTML='<i class="fas fa-edit"></i>',m(n,"class","pl-3 smaller has-text-link")},m(o,a){T(o,A,a),p(A,t),p(A,r),p(A,n),i||(s=[mA(A,"click",e[14]),mA(A,"keyup",null)],i=!0)},p(o,a){a[0]&1024&&GA(t,o[10])},d(o){o&&D(A),i=!1,Ue(s)}}}function l_(e){let A,t,r;return{c(){A=v("input"),m(A,"class","input selection-title svelte-fumu7c")},m(n,i){T(n,A,i),e[23](A),pn(A,e[5]),t||(r=[mA(A,"input",e[24]),mA(A,"keydown",e[15]),mA(A,"blur",e[16])],t=!0)},p(n,i){i[0]&32&&A.value!==n[5]&&pn(A,n[5])},d(n){n&&D(A),e[23](null),t=!1,Ue(r)}}}function xg(e){let A,t,r;function n(){return e[25](e[31])}return{c(){A=v("button"),m(A,"class","tag is-delete is-link ml-0")},m(i,s){T(i,A,s),t||(r=mA(A,"click",n),t=!0)},p(i,s){e=i},d(i){i&&D(A),t=!1,r()}}}function Lg(e,A){let t,r,n=A[31].username+"",i,s,o,a=A[9]&&xg(A);return{key:e,first:null,c(){t=v("div"),r=v("span"),i=aA(n),s=O(),a&&a.c(),o=O(),m(r,"class","tag"),m(t,"class","tags has-addons svelte-fumu7c"),this.first=t},m(l,c){T(l,t,c),p(t,r),p(r,i),p(t,s),a&&a.m(t,null),p(t,o)},p(l,c){A=l,c[0]&256&&n!==(n=A[31].username+"")&&GA(i,n),A[9]?a?a.p(A,c):(a=xg(A),a.c(),a.m(t,o)):a&&(a.d(1),a=null)},d(l){l&&D(t),a&&a.d()}}}function kg(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,d,B=rA==="en"?"Make public":"Rendre public",w,h,F,E=e[7].length>0&&Kg(e);return{c(){var Q;A=v("div"),t=v("div"),r=v("div"),n=v("p"),i=v("input"),s=O(),o=v("span"),o.innerHTML='<i class="fas fa-search"></i>',a=O(),E&&E.c(),l=O(),c=v("div"),g=v("label"),u=v("input"),d=O(),w=aA(B),m(i,"class","input svelte-fumu7c"),m(i,"placeholder","Search users…"),m(o,"class","icon is-small is-right"),m(n,"class","control is-expanded has-icons-right"),m(r,"class","field"),m(t,"class","dropdown-trigger"),m(A,"class","dropdown is-active"),m(u,"type","checkbox"),u.checked=f=(Q=e[2])==null?void 0:Q.is_public,m(g,"class","checkbox"),m(c,"class","field mt-3 is-right")},m(Q,C){T(Q,A,C),p(A,t),p(t,r),p(r,n),p(n,i),pn(i,e[6]),p(n,s),p(n,o),p(A,a),E&&E.m(A,null),T(Q,l,C),T(Q,c,C),p(c,g),p(g,u),p(g,d),p(g,w),h||(F=[mA(i,"input",e[26]),mA(i,"input",e[17]),mA(u,"change",e[28])],h=!0)},p(Q,C){var y;C[0]&64&&i.value!==Q[6]&&pn(i,Q[6]),Q[7].length>0?E?E.p(Q,C):(E=Kg(Q),E.c(),E.m(A,null)):E&&(E.d(1),E=null),C[0]&4&&f!==(f=(y=Q[2])==null?void 0:y.is_public)&&(u.checked=f)},d(Q){Q&&D(A),E&&E.d(),Q&&D(l),Q&&D(c),h=!1,Ue(F)}}}function Kg(e){let A,t,r=e[7],n=[];for(let i=0;i<r.length;i+=1)n[i]=Mg(Ig(e,r,i));return{c(){A=v("div"),t=v("div");for(let i=0;i<n.length;i+=1)n[i].c();m(t,"class","dropdown-content"),m(A,"class","dropdown-menu"),m(A,"id","dropdown-menu"),m(A,"role","menu")},m(i,s){T(i,A,s),p(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s[0]&262272){r=i[7];let o;for(o=0;o<r.length;o+=1){const a=Ig(i,r,o);n[o]?n[o].p(a,s):(n[o]=Mg(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&D(A),xe(n,i)}}}function Mg(e){let A,t=e[31].username+"",r,n,i,s;function o(){return e[27](e[31])}return{c(){A=v("div"),r=aA(t),n=O(),m(A,"class","dropdown-item")},m(a,l){T(a,A,l),p(A,r),p(A,n),i||(s=[mA(A,"click",o),mA(A,"keydown",null)],i=!0)},p(a,l){e=a,l[0]&128&&t!==(t=e[31].username+"")&&GA(r,t)},d(a){a&&D(A),i=!1,Ue(s)}}}function c_(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,d,B,w,h,F,E,Q=[],C=new Map,y,H,U,I,L,x;function M(J,nA){return J[3]?l_:a_}let V=M(e),S=V(e);const P=e[22].default,k=Ne(P,e,e[21],null);let z=e[8];const N=J=>J[31].id;for(let J=0;J<z.length;J+=1){let nA=Sg(e,z,J),fA=N(nA);C.set(fA,Q[J]=Lg(fA,nA))}let W=e[9]&&kg(e);return U=new o_({props:{selectionStore:e[0]}}),{c(){A=v("div"),t=v("div"),r=O(),n=v("div"),i=v("div"),s=v("div"),o=v("i"),a=O(),S.c(),l=aA(`

                (`),c=aA(e[1]),g=aA(")"),u=O(),f=v("button"),d=O(),B=v("section"),k&&k.c(),w=O(),h=v("h4"),h.textContent=`${rA==="en"?"Shared with":"Partagé avec"}`,F=O(),E=v("div");for(let J=0;J<Q.length;J+=1)Q[J].c();y=O(),W&&W.c(),H=O(),kA(U.$$.fragment),m(t,"class","modal-background"),m(o,"class","fa-solid fa-book-bookmark"),m(s,"class","title is-4 mb-0 media-content"),m(f,"class","delete media-left"),m(f,"aria-label","close"),m(i,"class","modal-card-head media mb-0 is-middle"),m(E,"class","field is-grouped is-grouped-multiline"),m(B,"class","modal-card-body"),m(n,"class","modal-content"),m(A,"id","selection-modal"),m(A,"class","modal fade"),m(A,"tabindex","-1"),m(A,"aria-labelledby","selection-modal-label"),m(A,"aria-hidden","true")},m(J,nA){T(J,A,nA),p(A,t),p(A,r),p(A,n),p(n,i),p(i,s),p(s,o),p(s,a),S.m(s,null),p(s,l),p(s,c),p(s,g),p(i,u),p(i,f),p(n,d),p(n,B),k&&k.m(B,null),p(B,w),p(B,h),p(B,F),p(B,E);for(let fA=0;fA<Q.length;fA+=1)Q[fA]&&Q[fA].m(E,null);p(B,y),W&&W.m(B,null),p(n,H),HA(U,n,null),I=!0,L||(x=Ir(ds.call(null,A)),L=!0)},p(J,nA){V===(V=M(J))&&S?S.p(J,nA):(S.d(1),S=V(J),S&&(S.c(),S.m(s,l))),(!I||nA[0]&2)&&GA(c,J[1]),k&&k.p&&(!I||nA[0]&2097152)&&Ve(k,P,J,J[21],I?Re(P,J[21],nA,null):Ge(J[21]),null),nA[0]&525056&&(z=J[8],Q=bn(Q,nA,N,1,J,z,C,E,la,Lg,null,Sg)),J[9]?W?W.p(J,nA):(W=kg(J),W.c(),W.m(B,null)):W&&(W.d(1),W=null);const fA={};nA[0]&1&&(fA.selectionStore=J[0]),U.$set(fA)},i(J){I||(R(k,J),R(U.$$.fragment,J),I=!0)},o(J){Y(k,J),Y(U.$$.fragment,J),I=!1},d(J){J&&D(A),S.d(),k&&k.d(J);for(let nA=0;nA<Q.length;nA+=1)Q[nA].d();W&&W.d(),IA(U),L=!1,x()}}}function u_(e,A,t){let r,n,i,s,o,{$$slots:a={},$$scope:l}=A;const{selected:c}=rQ;NA(e,c,N=>t(2,s=N));let{selectionStore:g}=A,{selectionLength:u=!1}=A;const{selectionTitle:f,updateTitle:d,updatePublic:B,save:w}=g;NA(e,f,N=>t(10,o=N));let h=!1,F,E;function Q(){t(3,h=!0),t(5,E=o),setTimeout(()=>F==null?void 0:F.focus(),0)}function C(N){N.key==="Enter"&&y()}function y(){t(3,h=!1),d(E),w()}let H="",U=[];async function I(){if(H.trim().length<1){t(7,U=[]);return}const W=await(await fetch(`${window.location.origin}/search/user?q=${encodeURIComponent(H)}`)).json();t(7,U=W.users||[])}function L(N){g.add({id:N.id,class:"User",title:N.username}),t(6,H=""),t(7,U=[])}function x(N){g.remove(N,"User")}function M(N){qe[N?"unshift":"push"](()=>{F=N,t(4,F)})}function V(){E=this.value,t(5,E)}const S=N=>x(N.id);function P(){H=this.value,t(6,H)}const k=N=>L(N),z=N=>B(N.target.checked);return e.$$set=N=>{"selectionStore"in N&&t(0,g=N.selectionStore),"selectionLength"in N&&t(1,u=N.selectionLength),"$$scope"in N&&t(21,l=N.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&4&&t(20,r=s==null?void 0:s.owner_id),e.$$.dirty[0]&1048576&&t(9,n=Hn||r===mB),e.$$.dirty[0]&4&&t(8,i=Object.entries((s==null?void 0:s.User)||{}).map(([N,W])=>({id:Number(N),username:W.title})))},[g,u,s,h,F,E,H,U,i,n,o,c,f,B,Q,C,y,I,L,x,r,l,a,M,V,S,P,k,z]}class f_ extends ne{constructor(A){super(),re(this,A,u_,c_,qA,{selectionStore:0,selectionLength:1},null,[-1,-1])}}const Db="";function g_(e){let A,t,r,n,i,s=rA==="en"?"Selection":"Sélection",o,a,l,c,g,u;return{c(){A=v("div"),t=v("button"),r=v("span"),n=v("i"),i=O(),o=aA(s),a=aA(`
            (`),l=aA(e[0]),c=aA(")"),m(n,"class","fa-solid fa-book-bookmark"),m(r,"id","btn-content"),m(t,"id","set-btn"),m(t,"class","button px-5 py-4 is-link svelte-gmt9z5"),m(t,"data-target","selection-modal"),m(A,"class","set-container svelte-gmt9z5")},m(f,d){T(f,A,d),p(A,t),p(t,r),p(r,n),p(r,i),p(r,o),p(r,a),p(r,l),p(r,c),g||(u=Ir(Ba.call(null,t)),g=!0)},p(f,[d]){d&1&&GA(l,f[0])},i:sA,o:sA,d(f){f&&D(A),g=!1,u()}}}function B_(e,A,t){let{selectionLength:r=0}=A,n=r;return e.$$set=i=>{"selectionLength"in i&&t(0,r=i.selectionLength)},e.$$.update=()=>{if(e.$$.dirty&3&&r!==n){const i=r>n;t(1,n=r);const s=document.getElementById("btn-content");s&&s.animate([{transform:i?"translateY(-7px)":"translateX(-5px)"},{transform:i?"translateY(7px)":"translateX(5px)"},{transform:"translate(0)"}],{duration:300,easing:"cubic-bezier(0.65, 0, 0.35, 1)"})}},[r,n]}class d_ extends ne{constructor(A){super(),re(this,A,B_,g_,qA,{selectionLength:0})}}const Tb="";function Dg(e,A,t){const r=e.slice();return r[7]=A[t][0],r[8]=A[t][1],r}function h_(e){let A;return{c(){A=v("div"),A.textContent=`${rA==="en"?"No regions in selection":"Aucune région sélectionnée"}`},m(t,r){T(t,A,r)},p:sA,d(t){t&&D(A)}}}function w_(e){let A,t,r=Object.entries(e[2]),n=[];for(let i=0;i<r.length;i+=1)n[i]=Tg(Dg(e,r,i));return{c(){A=v("div"),t=v("div");for(let i=0;i<n.length;i+=1)n[i].c();m(t,"class","grid is-gap-2"),m(A,"class","fixed-grid has-6-cols")},m(i,s){T(i,A,s),p(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s&13){r=Object.entries(i[2]);let o;for(o=0;o<r.length;o+=1){const a=Dg(i,r,o);n[o]?n[o].p(a,s):(n[o]=Tg(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&D(A),xe(n,i)}}}function Tg(e){let A,t,r,n,i,s,o,a=e[8].title+"",l,c,g,u,f,d;function B(){return e[6](e[7])}return{c(){A=v("div"),t=v("figure"),r=v("img"),i=O(),s=v("div"),o=v("span"),l=aA(a),c=O(),g=v("button"),u=O(),ut(r.src,n=cr(e[8].img,e[8].xywh,"96,"))||m(r,"src",n),m(r,"alt","Extracted region"),m(o,"class","overlay-desc"),m(s,"class","overlay is-center svelte-g8ij5d"),m(t,"class","image is-64x64 card"),m(g,"class","delete region-btn svelte-g8ij5d"),m(g,"aria-label","remove from selection"),m(A,"class","selection cell svelte-g8ij5d")},m(w,h){T(w,A,h),p(A,t),p(t,r),p(t,i),p(t,s),p(s,o),p(o,l),p(A,c),p(A,g),p(A,u),f||(d=mA(g,"click",B),f=!0)},p(w,h){e=w,h&4&&!ut(r.src,n=cr(e[8].img,e[8].xywh,"96,"))&&m(r,"src",n),h&4&&a!==(a=e[8].title+"")&&GA(l,a)},d(w){w&&D(A),f=!1,d()}}}function p_(e){let A;function t(i,s){return i[4]?w_:h_}let r=t(e),n=r(e);return{c(){n.c(),A=Ke()},m(i,s){n.m(i,s),T(i,A,s)},p(i,s){r===(r=t(i))&&n?n.p(i,s):(n.d(1),n=r(i),n&&(n.c(),n.m(A.parentNode,A)))},d(i){n.d(i),i&&D(A)}}}function m_(e){let A,t,r,n;return A=new d_({props:{selectionLength:e[1]}}),r=new f_({props:{selectionLength:e[1],selectionStore:e[0],$$slots:{default:[p_]},$$scope:{ctx:e}}}),{c(){kA(A.$$.fragment),t=O(),kA(r.$$.fragment)},m(i,s){HA(A,i,s),T(i,t,s),HA(r,i,s),n=!0},p(i,[s]){const o={};s&2&&(o.selectionLength=i[1]),A.$set(o);const a={};s&2&&(a.selectionLength=i[1]),s&1&&(a.selectionStore=i[0]),s&2077&&(a.$$scope={dirty:s,ctx:i}),r.$set(a)},i(i){n||(R(A.$$.fragment,i),R(r.$$.fragment,i),n=!0)},o(i){Y(A.$$.fragment,i),Y(r.$$.fragment,i),n=!1},d(i){IA(A,i),i&&D(t),IA(r,i)}}}function Q_(e,A,t){let r,n,i,s,{selectionStore:o}=A;const{selected:a}=o;NA(e,a,c=>t(3,s=c));const l=c=>o.remove(c,Object.keys(s)[0]);return e.$$set=c=>{"selectionStore"in c&&t(0,o=c.selectionStore)},e.$$.update=()=>{e.$$.dirty&8&&t(2,r=Object.values(s)[0]||{}),e.$$.dirty&4&&t(1,n=Object.keys(r).length),e.$$.dirty&2&&t(4,i=n>0)},[o,n,r,s,i,a,l]}class C_ extends ne{constructor(A){super(),re(this,A,Q_,m_,qA,{selectionStore:0})}}const Ob="",{Map:v_}=ta;function Og(e,A,t){const r=e.slice();return r[18]=A[t],r}function Ng(e,A,t){const r=e.slice();return r[21]=A[t],r}function U_(e){let A,t;return A=new A_({props:{expandable:!1,$$slots:{"toolbar-visible":[F_]},$$scope:{ctx:e}}}),{c(){kA(A.$$.fragment)},m(r,n){HA(A,r,n),t=!0},p(r,n){const i={};n&16777216&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(R(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){IA(A,r)}}}function Rg(e){let A,t,r,n,i,s=e[21].title+"",o,a,l,c=e[21].shortcut+"",g,u,f,d;return{c(){A=v("p"),t=v("button"),r=v("span"),n=v("i"),i=O(),o=aA(s),a=O(),l=v("span"),g=aA(c),u=O(),m(n,"class","fas "+e[21].icon+" svelte-7vjt6f"),m(r,"class","icon is-small"),m(l,"class","shortcut svelte-7vjt6f"),m(t,"class","button pl-5"),m(t,"title",e[21].desc),m(A,"class","control")},m(B,w){T(B,A,w),p(A,t),p(t,r),p(r,n),p(t,i),p(t,o),p(t,a),p(t,l),p(l,g),p(A,u),f||(d=mA(t,"click",St(e[21].fct)),f=!0)},p(B,w){e=B},d(B){B&&D(A),f=!1,d()}}}function F_(e){let A,t,r,n,i,s,o,a=Object.values(e[10]),l=[];for(let c=0;c<a.length;c+=1)l[c]=Rg(Ng(e,a,c));return{c(){A=v("div"),t=v("div"),r=v("div"),n=v("span"),n.textContent=`${rA==="en"?"Process selection":"Agir sur la sélection"}`,i=O(),s=v("div"),o=v("div");for(let c=0;c<l.length;c+=1)l[c].c();m(n,"class","tag is-medium is-link mr-5"),m(r,"class","column is-narrow mr-5"),m(o,"class","field has-addons"),m(s,"class","column"),m(t,"class","columns is-vcentered is-mobile py-4"),m(A,"slot","toolbar-visible")},m(c,g){T(c,A,g),p(A,t),p(t,r),p(r,n),p(t,i),p(t,s),p(s,o);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(o,null)},p(c,g){if(g&1024){a=Object.values(c[10]);let u;for(u=0;u<a.length;u+=1){const f=Ng(c,a,u);l[u]?l[u].p(f,g):(l[u]=Rg(f),l[u].c(),l[u].m(o,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=a.length}},d(c){c&&D(A),xe(l,c)}}}function y_(e){let A,t=e[9].title+"",r;return{c(){A=v("span"),r=aA(t),m(A,"class","button is-small is-success"),m(A,"title",e[9].desc)},m(n,i){T(n,A,i),p(A,r)},p:sA,d(n){n&&D(A)}}}function __(e){let A,t=e[8].title+"",r,n,i;function s(){return e[13](e[18])}return{c(){A=v("button"),r=aA(t),m(A,"class","button is-small is-warning"),m(A,"title",e[8].desc)},m(o,a){T(o,A,a),p(A,r),n||(i=mA(A,"click",s),n=!0)},p(o,a){e=o},d(o){o&&D(A),n=!1,i()}}}function b_(e){let A,t,r=e[18].size+"",n,i,s,o,a,l;function c(f,d){return f[18].fullyConnected?y_:__}let g=c(e),u=g(e);return{c(){A=v("div"),t=v("span"),n=aA(r),i=aA(" images"),s=O(),o=v("hr"),a=O(),u.c(),l=O(),m(t,"class","cluster-size"),m(A,"class","cluster-info is-center is-fullwidth")},m(f,d){T(f,A,d),p(A,t),p(t,n),p(t,i),p(A,s),p(A,o),p(A,a),u.m(A,null),T(f,l,d)},p(f,d){d&2&&r!==(r=f[18].size+"")&&GA(n,r),g===(g=c(f))&&u?u.p(f,d):(u.d(1),u=g(f),u&&(u.c(),u.m(A,null)))},d(f){f&&D(A),u.d(),f&&D(l)}}}function E_(e){let A,t,r;return A=new Jc({props:{items:e[2].get(e[18].id),copyable:!1,selectionStore:ci}}),{c(){kA(A.$$.fragment),t=O()},m(n,i){HA(A,n,i),T(n,t,i),r=!0},p(n,i){const s={};i&6&&(s.items=n[2].get(n[18].id)),A.$set(s)},i(n){r||(R(A.$$.fragment,n),r=!0)},o(n){Y(A.$$.fragment,n),r=!1},d(n){IA(A,n),n&&D(t)}}}function Vg(e,A){let t,r,n;return r=new zy({props:{$$slots:{"row-body":[E_],"row-header":[b_]},$$scope:{ctx:A}}}),{key:e,first:null,c(){t=Ke(),kA(r.$$.fragment),this.first=t},m(i,s){T(i,t,s),HA(r,i,s),n=!0},p(i,s){A=i;const o={};s&16777222&&(o.$$scope={dirty:s,ctx:A}),r.$set(o)},i(i){n||(R(r.$$.fragment,i),n=!0)},o(i){Y(r.$$.fragment,i),n=!1},d(i){i&&D(t),IA(r,i)}}}function H_(e){let A=[],t=new v_,r,n,i=e[1];const s=o=>o[18].id;for(let o=0;o<i.length;o+=1){let a=Og(e,i,o),l=s(a);t.set(l,A[o]=Vg(l,a))}return{c(){for(let o=0;o<A.length;o+=1)A[o].c();r=Ke()},m(o,a){for(let l=0;l<A.length;l+=1)A[l]&&A[l].m(o,a);T(o,r,a),n=!0},p(o,a){a&774&&(i=o[1],ee(),A=bn(A,a,s,1,o,i,t,r.parentNode,ca,Vg,r,Og),te())},i(o){if(!n){for(let a=0;a<i.length;a+=1)R(A[a]);n=!0}},o(o){for(let a=0;a<A.length;a+=1)Y(A[a]);n=!1},d(o){for(let a=0;a<A.length;a+=1)A[a].d(o);o&&D(r)}}}function I_(e){let A,t,r,n,i,s,o,a,l,c=Hn&&U_(e);return t=new Eg({props:{store:e[0],nbOfItems:e[3],pageLength:e[7]}}),n=new C_({props:{selectionStore:ci}}),s=new Ry({props:{$$slots:{default:[H_]},$$scope:{ctx:e}}}),a=new Eg({props:{store:e[0],nbOfItems:e[3],pageLength:e[7]}}),{c(){c&&c.c(),A=O(),kA(t.$$.fragment),r=O(),kA(n.$$.fragment),i=O(),kA(s.$$.fragment),o=O(),kA(a.$$.fragment)},m(g,u){c&&c.m(g,u),T(g,A,u),HA(t,g,u),T(g,r,u),HA(n,g,u),T(g,i,u),HA(s,g,u),T(g,o,u),HA(a,g,u),l=!0},p(g,[u]){Hn&&c.p(g,u);const f={};u&1&&(f.store=g[0]),u&8&&(f.nbOfItems=g[3]),t.$set(f);const d={};u&16777222&&(d.$$scope={dirty:u,ctx:g}),s.$set(d);const B={};u&1&&(B.store=g[0]),u&8&&(B.nbOfItems=g[3]),a.$set(B)},i(g){l||(R(c),R(t.$$.fragment,g),R(n.$$.fragment,g),R(s.$$.fragment,g),R(a.$$.fragment,g),l=!0)},o(g){Y(c),Y(t.$$.fragment,g),Y(n.$$.fragment,g),Y(s.$$.fragment,g),Y(a.$$.fragment,g),l=!1},d(g){c&&c.d(g),g&&D(A),IA(t,g),g&&D(r),IA(n,g),g&&D(i),IA(s,g),g&&D(o),IA(a,g)}}}function S_(e,A,t){let r,n,i,s,{documentSetStore:o}=A;const{imageNodes:a}=o;NA(e,a,C=>t(12,n=C));let{clusterStore:l}=A;const{clusterNb:c,paginatedClusters:g,pageLength:u,validateCluster:f,newCluster:d,removeFromClusters:B}=l;NA(e,c,C=>t(3,s=C)),NA(e,g,C=>t(1,i=C));const w={create:{title:rA==="en"?"New cluster":"Nouveau cluster",desc:rA==="en"?"Create a new validated cluster from the selected regions":"Créer un nouveau cluster valide à partir des régions sélectionnées",icon:"fa-object-group",shortcut:"Shift + C",fct:d},remove:{title:rA==="en"?"Remove from cluster":"Retirer du cluster",desc:rA==="en"?"Remove the selected regions from their cluster":"Retirer les régions sélectionnées de leur cluster",icon:"fa-chain-broken",shortcut:"Shift + D",fct:B},validate:{title:rA==="en"?"Validate cluster":"Valider le cluster",desc:rA==="en"?"Set as exact match all the pairs of regions in the cluster":"Définir comme correspondance exacte toutes les paires de régions dans le cluster",icon:"fa-check",fct:f},validated:{title:rA==="en"?"Validated cluster":"Cluster valide",desc:rA==="en"?"All pairs of regions have be categorized as exact matches":"Toutes les paires de régions ont été catégorisées comme des correspondances exactes",icon:"fa-check"}},{validate:h,validated:F,...E}=w,Q=C=>h.fct(C);return e.$$set=C=>{"documentSetStore"in C&&t(11,o=C.documentSetStore),"clusterStore"in C&&t(0,l=C.clusterStore)},e.$$.update=()=>{e.$$.dirty&4098&&t(2,r=new Map(i.map(C=>[C.id,C.members.map(y=>({...n.get(y),clusterId:C.id}))])))},[l,i,r,s,a,c,g,u,h,F,E,o,n,Q]}class x_ extends ne{constructor(A){super(),re(this,A,S_,I_,qA,{documentSetStore:11,clusterStore:0})}}function L_(e,A){const r=YA(1),{visiblePairs:n,imageNodes:i}=e;fa(r,"p");function s(Q){ga(Q,r,"p")}function o(Q){if(Q.length===0)return[];const C=new Map,y=L=>C.has(L)?(C.get(L)!==L&&C.set(L,y(C.get(L))),C.get(L)):(C.set(L,L),L),H=(L,x)=>{const M=y(L),V=y(x);M!==V&&C.set(V,M)},U=new Set;Q.forEach(L=>{H(L.id_1,L.id_2),U.add(L.id_1),U.add(L.id_2)});const I=new Map;return U.forEach(L=>{const x=y(L);I.has(x)||I.set(x,[]),I.get(x).push(L)}),Array.from(I.values()).map(L=>{const x=L.length,M=x*(x-1)/2,V=new Set(L),S=Q.filter(P=>V.has(P.id_1)&&V.has(P.id_2)).length;return{id:crypto.randomUUID(),members:L,size:x,fullyConnected:S===M}}).filter(L=>L.size>1).sort((L,x)=>x.size-L.size)}const a=Fe(n,Q=>Q.length?o(Q):[]),l=YA([]);a.subscribe(Q=>{l.set(Q)});const c=Fe([l,r],([Q,C])=>{const y=(C-1)*10,H=y+10;return Q.slice(y,H)}),g=(Q,C)=>{const y=_e(i).get(Q),H=_e(i).get(C);return{img_1:Q,img_2:C,regions_id_1:y==null?void 0:y.regionId,regions_id_2:H==null?void 0:H.regionId}},u=(Q,C)=>(l.update(y=>y.map(H=>{if(!C[H.id])return H;const U=H.members.filter(I=>!Q.has(I));return{...H,members:U,size:U.length}}).filter(H=>H.size>0)),!0),f=async Q=>{const C=Array.isArray(Q)?Q:Object.keys(Q),y=new Set(C),H={};_e(l).forEach(I=>{const L=I.members.filter(x=>y.has(x));L.length>0&&(H[I.id]=L)});const U=Object.entries(H).flatMap(([I,L])=>{const x=_e(l).find(V=>V.id===I);if(!x)return[];const M=x.members.filter(V=>!y.has(V));return L.flatMap(V=>M.map(S=>g(V,S)))});if(U.length===0)return u(y,H),!0;try{const I=await Bs(()=>fetch(`${window.location.origin}/${ft}/uncategorize-pair-batch`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":fs},body:JSON.stringify({pairs:U})}));return I.ok?(u(y,H),!0):(console.log(I),await Ct(rA==="en"?"Batch un-categorization failed":"La dé-catégorisation par lot a échoué",rA==="en"?"Error":"Erreur"),!1)}catch(I){return await Ct(I,rA==="en"?"Error":"Erreur"),!1}},d=async Q=>{const C=Q.flatMap((y,H)=>Q.slice(H+1).map(U=>g(y,U)));try{const y=await Bs(()=>fetch(`${window.location.origin}/${ft}/exact-match-batch`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":fs},body:JSON.stringify({pairs:C})}));return y.ok?!0:(console.log(y),await Ct(rA==="en"?"Batch validation failed":"La validation par lot a échoué",rA==="en"?"Error":"Erreur"),!1)}catch(y){return await Ct(y,rA==="en"?"Error":"Erreur"),console.error("Error:",y),!1}},B=async Q=>{if(!Hn)return await Ct(rA==="en"?"You do not have permission to validate clusters":"Vous n'avez pas la permission, de valider les clusters.",rA==="en"?"Permission Denied":"Permission refusée"),!1;const C=await d(Q.members);return C&&l.update(y=>y.map(H=>H.id===Q.id?{...H,fullyConnected:!0}:H)),C},w=async Q=>{if(Q.length<2)return!1;const C=await d(Q);return C&&l.update(y=>[{id:crypto.randomUUID(),members:Q,size:Q.length,fullyConnected:!0},...y].sort((U,I)=>I.size-U.size)),C},h=()=>Object.values(_e(A).selected)[0]||{},F=async()=>{if(!await Ct(rA==="en"?"Do you want to create a cluster out of these images?":"Voulez-vous créer un cluster à partir de ces images ?",rA==="en"?"Confirm creation":"Confirmer la création",!0))return;const C=h(),y=Object.keys(C);return y.length<2?(await Ct(rA==="en"?"Cluster creation requires at least 2 images":"La création d'un nouveau cluster nécessite a minima 2 images",rA==="en"?"Impossible creation":"Création impossible"),!1):!await f(y)||!await w(y)?!1:(A.empty(),!0)},E=async()=>{if(!await Ct(rA==="en"?"Do you want to remove these images from their clusters?":"Voulez-vous supprimer ces images de leurs clusters ?",rA==="en"?"Confirm deletion":"Confirmer la suppression",!0))return;const C=h();return await f(Object.keys(C))?(A.empty(),!0):!1};return{imageClusters:a,interfaceClusters:l,clusterNb:Fe(l,Q=>Q.length),validateCluster:B,removeFromClusters:E,newCluster:F,paginatedClusters:c,handlePageUpdate:s,pageLength:10,currentPage:r}}const k_=e=>({}),Gg=e=>({});function K_(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,d,B,w,h,F,E,Q,C;const y=e[1].content,H=Ne(y,e,e[0],Gg);return{c(){A=v("button"),t=O(),r=v("div"),n=v("div"),i=O(),s=v("div"),o=v("div"),o.innerHTML=`<div class="title is-4 mb-0 media-content"><span id="modal-title" class="mb-0"></span></div>
            <button class="delete media-left" aria-label="close"></button>`,a=O(),l=v("section"),c=v("div"),g=O(),u=v("div"),H&&H.c(),f=O(),d=v("footer"),B=v("div"),w=v("button"),w.textContent=`${rA==="en"?"Abort":"Retour"}`,h=O(),F=v("button"),F.textContent="OK",m(A,"id","hidden-msg-btn"),m(A,"data-target","msg-modal"),A.hidden=!0,m(n,"id","modal-bkg"),m(n,"class","modal-background"),m(o,"class","modal-card-head media mb-0"),m(c,"id","modal-msg"),m(u,"class","py-3"),m(l,"id","modal-body"),m(l,"class","modal-card-body"),m(w,"id","cancel-btn"),m(w,"class","button is-link is-light button-close"),m(F,"id","ok-btn"),m(F,"class","button is-link button-close"),m(B,"class","buttons"),m(d,"id","modal-footer"),m(d,"class","modal-card-foot is-center pt-3"),d.hidden=!0,m(s,"class","modal-content"),m(r,"id","msg-modal"),m(r,"class","modal fade"),m(r,"tabindex","-1"),m(r,"aria-labelledby","selection-modal-label"),m(r,"aria-hidden","true")},m(U,I){T(U,A,I),T(U,t,I),T(U,r,I),p(r,n),p(r,i),p(r,s),p(s,o),p(s,a),p(s,l),p(l,c),p(l,g),p(l,u),H&&H.m(u,null),p(s,f),p(s,d),p(d,B),p(B,w),p(B,h),p(B,F),E=!0,Q||(C=[Ir(Ba.call(null,A)),Ir(ds.call(null,r))],Q=!0)},p(U,[I]){H&&H.p&&(!E||I&1)&&Ve(H,y,U,U[0],E?Re(y,U[0],I,k_):Ge(U[0]),Gg)},i(U){E||(R(H,U),E=!0)},o(U){Y(H,U),E=!1},d(U){U&&D(A),U&&D(t),U&&D(r),H&&H.d(U),Q=!1,Ue(C)}}}function M_(e,A,t){let{$$slots:r={},$$scope:n}=A;return e.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,r]}class D_ extends ne{constructor(A){super(),re(this,A,M_,K_,qA,{})}}function Pg(e,A,t){const r=e.slice();return r[25]=A[t],r}function T_(e){let A;return{c(){A=v("p"),A.textContent=`${rA==="en"?"Groups of images that share a similarity connection above the score threshold.":"Groupes d'images partageant une connexion de similarité au-dessus du seuil de score."}`},m(t,r){T(t,A,r)},p:sA,d(t){t&&D(A)}}}function O_(e){let A;return{c(){A=v("p"),A.textContent=`${rA==="en"?"Matrix showing aggregated similarity scores between documents. Click a cell to explore page-level similarities in a scatter plot interface.":"Matrice affichant les scores de similarité agrégés entre documents. Cliquez sur une cellule pour explorer les similarités entre paires de documents."}`},m(t,r){T(t,A,r)},p:sA,d(t){t&&D(A)}}}function N_(e){let A;return{c(){A=v("p"),A.textContent=`${rA==="en"?"Network where each node is a document. Edge thickness reflects the cumulative similarity score between document pairs. Node size indicates the number of connections.":"Réseau où chaque nœud est un document. L'épaisseur des liens reflète le score de similarité cumulé entre paires de documents. La taille des nœuds indique le nombre de connexions."}`},m(t,r){T(t,A,r)},p:sA,d(t){t&&D(A)}}}function R_(e){let A;return{c(){A=v("p"),A.textContent=`${rA==="en"?"Network where each node is an image region. Edges connect regions with similarity scores above the threshold. Node color indicates the source document.":"Réseau où chaque nœud est une région d'image. Les liens connectent les régions dont le score de similarité dépasse le seuil. La couleur indique le document source."}`},m(t,r){T(t,A,r)},p:sA,d(t){t&&D(A)}}}function V_(e){let A;function t(i,s){if(i[4]==="img")return R_;if(i[4]==="doc")return N_;if(i[4]==="matrix")return O_;if(i[4]==="clusters")return T_}let r=t(e),n=r&&r(e);return{c(){A=v("div"),n&&n.c(),m(A,"slot","datavizInfo")},m(i,s){T(i,A,s),n&&n.m(A,null)},p(i,s){r===(r=t(i))&&n?n.p(i,s):(n&&n.d(1),n=r&&r(i),n&&(n.c(),n.m(A,null)))},d(i){i&&D(A),n&&n.d()}}}function G_(e){let A,t,r;return t=new Yd({props:{docSet:e[0],documentSetStore:e[5],clusterStore:e[9],$$slots:{datavizInfo:[V_]},$$scope:{ctx:e}}}),{c(){A=v("div"),kA(t.$$.fragment),m(A,"slot","sidebar")},m(n,i){T(n,A,i),HA(t,A,null),r=!0},p(n,i){const s={};i&1&&(s.docSet=n[0]),i&268435472&&(s.$$scope={dirty:i,ctx:n}),t.$set(s)},i(n){r||(R(t.$$.fragment,n),r=!0)},o(n){Y(t.$$.fragment,n),r=!1},d(n){n&&D(A),IA(t)}}}function Xg(e){let A,t,r,n,i,s,o,a=e[25].title+"",l,c;return{c(){A=v("div"),t=v("figure"),r=v("img"),i=O(),s=v("div"),o=v("span"),l=aA(a),c=O(),ut(r.src,n=cr(e[25].img,e[25].xywh,"96,"))||m(r,"src",n),m(r,"alt","Extracted region"),m(o,"class","overlay-desc"),m(s,"class","overlay is-center"),m(t,"class","image is-64x64 card"),m(A,"class","selection cell")},m(g,u){T(g,A,u),p(A,t),p(t,r),p(t,i),p(t,s),p(s,o),p(o,l),p(A,c)},p(g,u){u&2&&!ut(r.src,n=cr(g[25].img,g[25].xywh,"96,"))&&m(r,"src",n),u&2&&a!==(a=g[25].title+"")&&GA(l,a)},d(g){g&&D(A)}}}function P_(e){let A,t,r=Object.values(Object.values(e[1])[0]||{}),n=[];for(let i=0;i<r.length;i+=1)n[i]=Xg(Pg(e,r,i));return{c(){A=v("div"),t=v("div");for(let i=0;i<n.length;i+=1)n[i].c();m(t,"class","grid is-gap-2"),m(A,"slot","content"),m(A,"class","fixed-grid has-6-cols")},m(i,s){T(i,A,s),p(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s&2){r=Object.values(Object.values(i[1])[0]||{});let o;for(o=0;o<r.length;o+=1){const a=Pg(i,r,o);n[o]?n[o].p(a,s):(n[o]=Xg(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&D(A),xe(n,i)}}}function X_(e){let A,t,r,n={ctx:e,current:null,token:null,hasCatch:!1,pending:Ab,then:Y_,catch:W_,value:24,blocks:[,,,]};return _n(t=e[3],n),{c(){A=Ke(),n.block.c()},m(i,s){T(i,A,s),n.block.m(i,n.anchor=s),n.mount=()=>A.parentNode,n.anchor=A,r=!0},p(i,s){e=i,n.ctx=e,s&8&&t!==(t=e[3])&&_n(t,n)||aa(n,e,s)},i(i){r||(R(n.block),r=!0)},o(i){for(let s=0;s<3;s+=1){const o=n.blocks[s];Y(o)}r=!1},d(i){i&&D(A),n.block.d(i),n.token=null,n=null}}}function J_(e){let A,t,r;return{c(){A=v("article"),t=v("div"),r=aA(e[2]),m(t,"class","message-body"),m(A,"class","message is-danger")},m(n,i){T(n,A,i),p(A,t),p(t,r)},p(n,i){i&4&&GA(r,n[2])},i:sA,o:sA,d(n){n&&D(A)}}}function W_(e){return{c:sA,m:sA,p:sA,i:sA,o:sA,d:sA}}function Y_(e){let A,t,r,n;const i=[$_,z_],s=[];function o(a,l){return a[24]===0?0:1}return A=o(e),t=s[A]=i[A](e),{c(){t.c(),r=Ke()},m(a,l){s[A].m(a,l),T(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?s[A].p(a,l):(ee(),Y(s[c],1,1,()=>{s[c]=null}),te(),t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),R(t,1),t.m(r.parentNode,r))},i(a){n||(R(t),n=!0)},o(a){Y(t),n=!1},d(a){s[A].d(a),a&&D(r)}}}function z_(e){let A,t,r=e[10][e[4]]+"",n,i,s,o,a;const l=[q_,j_,Z_],c=[];function g(u,f){return u[4]==="img"||u[4]==="doc"?0:u[4]==="sim"?1:u[4]==="mat"?2:-1}return~(s=g(e))&&(o=c[s]=l[s](e)),{c(){A=v("div"),t=v("h2"),n=aA(r),i=O(),o&&o.c(),m(t,"class","title is-3 has-text-link")},m(u,f){T(u,A,f),p(A,t),p(t,n),p(A,i),~s&&c[s].m(A,null),a=!0},p(u,f){(!a||f&16)&&r!==(r=u[10][u[4]]+"")&&GA(n,r);let d=s;s=g(u),s===d?~s&&c[s].p(u,f):(o&&(ee(),Y(c[d],1,1,()=>{c[d]=null}),te()),~s?(o=c[s],o?o.p(u,f):(o=c[s]=l[s](u),o.c()),R(o,1),o.m(A,null)):o=null)},i(u){a||(R(o),a=!0)},o(u){Y(o),a=!1},d(u){u&&D(A),~s&&c[s].d()}}}function $_(e){let A;return{c(){A=v("article"),A.innerHTML=`<div class="message-body">No document pairs found for this configuration.
                            Please adjust your selection criteria in the sidebar to include more documents or
                            categories.</div>`,m(A,"class","message is-warning")},m(t,r){T(t,A,r)},p:sA,i:sA,o:sA,d(t){t&&D(A)}}}function Z_(e){let A,t;return A=new ky({props:{documentSetStore:e[5]}}),{c(){kA(A.$$.fragment)},m(r,n){HA(A,r,n),t=!0},p:sA,i(r){t||(R(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){IA(A,r)}}}function j_(e){let A,t;return A=new x_({props:{documentSetStore:e[5],clusterStore:e[9]}}),{c(){kA(A.$$.fragment)},m(r,n){HA(A,r,n),t=!0},p:sA,i(r){t||(R(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){IA(A,r)}}}function q_(e){let A,t;return A=new zQ({props:{documentSetStore:e[5],type:e[4]}}),{c(){kA(A.$$.fragment)},m(r,n){HA(A,r,n),t=!0},p(r,n){const i={};n&16&&(i.type=r[4]),A.$set(i)},i(r){t||(R(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){IA(A,r)}}}function Ab(e){let A;return{c(){A=v("progress"),A.textContent="Loading...",m(A,"class","progress is-link"),m(A,"max","100")},m(t,r){T(t,A,r)},p:sA,i:sA,o:sA,d(t){t&&D(A)}}}function eb(e){let A,t,r,n,i,s;t=new D_({props:{$$slots:{content:[P_]},$$scope:{ctx:e}}});const o=[J_,X_],a=[];function l(c,g){return c[2]?0:1}return n=l(e),i=a[n]=o[n](e),{c(){A=v("div"),kA(t.$$.fragment),r=O(),i.c(),m(A,"slot","content")},m(c,g){T(c,A,g),HA(t,A,null),p(A,r),a[n].m(A,null),s=!0},p(c,g){const u={};g&268435458&&(u.$$scope={dirty:g,ctx:c}),t.$set(u);let f=n;n=l(c),n===f?a[n].p(c,g):(ee(),Y(a[f],1,1,()=>{a[f]=null}),te(),i=a[n],i?i.p(c,g):(i=a[n]=o[n](c),i.c()),R(i,1),i.m(A,null))},i(c){s||(R(t.$$.fragment,c),R(i),s=!0)},o(c){Y(t.$$.fragment,c),Y(i),s=!1},d(c){c&&D(A),IA(t),a[n].d()}}}function tb(e){let A,t;return A=new VB({props:{tabList:e[10],$$slots:{content:[eb],sidebar:[G_]},$$scope:{ctx:e}}}),{c(){kA(A.$$.fragment)},m(r,n){HA(A,r,n),t=!0},p(r,[n]){const i={};n&268435487&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(R(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){IA(A,r)}}}function rb(e,A,t){var x;let r,n,i,s;NA(e,lr,M=>t(4,s=M));let{docSet:o}=A;const a=Ty(o.id),{error:l,fetchPairs:c,selectedRegions:g,selectedCategories:u,threshold:f,topK:d,mutualTopK:B,scoreMode:w}=a;NA(e,l,M=>t(2,n=M)),NA(e,c,M=>t(3,i=M));let h,F,E,Q,C,y;nr(()=>{h=ur(g,"regions","set"),F=ur(u,"categories","array",[1]),E=ur(f,"threshold","number"),Q=ur(d,"topk","number"),C=ur(B,"mutual","boolean"),y=ur(w,"mode","string");const M=g.subscribe(h),V=u.subscribe(F),S=f.subscribe(E),P=d.subscribe(Q),k=B.subscribe(C),z=w.subscribe(y);return()=>{M(),V(),S(),P(),k(),z()}});const{selected:H}=ci;NA(e,H,M=>t(1,r=M));const U=L_(a,ci),I={sim:rA==="en"?"Copy Clusters":"Groupe de copies",mat:rA==="en"?"Document Matrix":"Matrice de documents",img:rA==="en"?"Image Network":"Réseau d'images",doc:rA==="en"?"Document Network":"Réseau de documents"},L=((x=o==null?void 0:o.selection)==null?void 0:x.selected)||{Witness:{},Series:{},Work:{}};return aB("selectedDocuments",L),e.$$set=M=>{"docSet"in M&&t(0,o=M.docSet)},[o,r,n,i,s,a,l,c,H,U,I]}class nb extends ne{constructor(A){super(),re(this,A,rb,tb,qA,{docSet:0})}}new nb({target:document.getElementById("document-set"),props:{docSet}})})();
//# sourceMappingURL=documentSet.js.map

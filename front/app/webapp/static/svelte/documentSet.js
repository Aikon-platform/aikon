(function(){"use strict";function tA(){}const Zo=e=>e;function Zg(e,A){for(const t in A)e[t]=A[t];return e}function jg(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function jo(e){return e()}function qo(){return Object.create(null)}function Be(e){e.forEach(jo)}function Ar(e){return typeof e=="function"}function JA(e,A){return e!=e?A==A:e!==A||e&&typeof e=="object"||typeof e=="function"}let hn;function lt(e,A){return hn||(hn=document.createElement("a")),hn.href=A,e===hn.href}function qg(e){return Object.keys(e).length===0}function dn(e,...A){if(e==null)return tA;const t=e.subscribe(...A);return t.unsubscribe?()=>t.unsubscribe():t}function Ce(e){let A;return dn(e,t=>A=t)(),A}function SA(e,A,t){e.$$.on_destroy.push(dn(A,t))}function Fe(e,A,t,r){if(e){const n=Aa(e,A,t,r);return e[0](n)}}function Aa(e,A,t,r){return e[1]&&r?Zg(t.ctx.slice(),e[1](r(A))):t.ctx}function ye(e,A,t,r){if(e[2]&&r){const n=e[2](r(t));if(A.dirty===void 0)return n;if(typeof n=="object"){const i=[],s=Math.max(A.dirty.length,n.length);for(let o=0;o<s;o+=1)i[o]=A.dirty[o]|n[o];return i}return A.dirty|n}return A.dirty}function _e(e,A,t,r,n,i){if(n){const s=Aa(A,t,r,i);e.p(s,n)}}function be(e){if(e.ctx.length>32){const A=[],t=e.ctx.length/32;for(let r=0;r<t;r++)A[r]=-1;return A}return-1}function AB(e){const A={};for(const t in e)A[t]=!0;return A}function Hr(e){return e&&Ar(e.destroy)?e.destroy:tA}const ea=typeof window<"u";let eB=ea?()=>window.performance.now():()=>Date.now(),ns=ea?e=>requestAnimationFrame(e):tA;const er=new Set;function ta(e){er.forEach(A=>{A.c(e)||(er.delete(A),A.f())}),er.size!==0&&ns(ta)}function tB(e){let A;return er.size===0&&ns(ta),{promise:new Promise(t=>{er.add(A={c:e,f:t})}),abort(){er.delete(A)}}}const ra=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function p(e,A){e.appendChild(A)}function na(e){if(!e)return document;const A=e.getRootNode?e.getRootNode():e.ownerDocument;return A&&A.host?A:e.ownerDocument}function rB(e){const A=v("style");return nB(na(e),A),A.sheet}function nB(e,A){return p(e.head||e,A),A.sheet}function D(e,A,t){e.insertBefore(A,t||null)}function M(e){e.parentNode&&e.parentNode.removeChild(e)}function Se(e,A){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(A)}function v(e){return document.createElement(e)}function pt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function sA(e){return document.createTextNode(e)}function T(){return sA(" ")}function Ke(){return sA("")}function mA(e,A,t,r){return e.addEventListener(A,t,r),()=>e.removeEventListener(A,t,r)}function Ht(e){return function(A){return A.preventDefault(),e.call(this,A)}}function ia(e){return function(A){return A.stopPropagation(),e.call(this,A)}}function m(e,A,t){t==null?e.removeAttribute(A):e.getAttribute(A)!==t&&e.setAttribute(A,t)}function iB(e){return Array.from(e.childNodes)}function TA(e,A){A=""+A,e.data!==A&&(e.data=A)}function wn(e,A){e.value=A??""}function GA(e,A,t,r){t==null?e.style.removeProperty(A):e.style.setProperty(A,t,r?"important":"")}function It(e,A,t){for(let r=0;r<e.options.length;r+=1){const n=e.options[r];if(n.__value===A){n.selected=!0;return}}(!t||A!==void 0)&&(e.selectedIndex=-1)}function pn(e){const A=e.querySelector(":checked");return A&&A.__value}function ie(e,A,t){e.classList[t?"add":"remove"](A)}function sa(e,A,{bubbles:t=!1,cancelable:r=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t,r,A),n}const mn=new Map;let Qn=0;function sB(e){let A=5381,t=e.length;for(;t--;)A=(A<<5)-A^e.charCodeAt(t);return A>>>0}function oB(e,A){const t={stylesheet:rB(A),rules:{}};return mn.set(e,t),t}function oa(e,A,t,r,n,i,s,o=0){const a=16.666/r;let l=`{
`;for(let w=0;w<=1;w+=a){const d=A+(t-A)*i(w);l+=w*100+`%{${s(d,1-d)}}
`}const c=l+`100% {${s(t,1-t)}}
}`,u=`__svelte_${sB(c)}_${o}`,g=na(e),{stylesheet:f,rules:h}=mn.get(g)||oB(g,e);h[u]||(h[u]=!0,f.insertRule(`@keyframes ${u} ${c}`,f.cssRules.length));const B=e.style.animation||"";return e.style.animation=`${B?`${B}, `:""}${u} ${r}ms linear ${n}ms 1 both`,Qn+=1,u}function aB(e,A){const t=(e.style.animation||"").split(", "),r=t.filter(A?i=>i.indexOf(A)<0:i=>i.indexOf("__svelte")===-1),n=t.length-r.length;n&&(e.style.animation=r.join(", "),Qn-=n,Qn||lB())}function lB(){ns(()=>{Qn||(mn.forEach(e=>{const{ownerNode:A}=e.stylesheet;A&&M(A)}),mn.clear())})}let Ir;function mt(e){Ir=e}function tr(){if(!Ir)throw new Error("Function called outside component initialization");return Ir}function Gt(e){tr().$$.on_mount.push(e)}function rr(e){tr().$$.on_destroy.push(e)}function Cn(){const e=tr();return(A,t,{cancelable:r=!1}={})=>{const n=e.$$.callbacks[A];if(n){const i=sa(A,t,{cancelable:r});return n.slice().forEach(s=>{s.call(e,i)}),!i.defaultPrevented}return!0}}function cB(e,A){return tr().$$.context.set(e,A),A}function aa(e){return tr().$$.context.get(e)}function uB(e,A){const t=e.$$.callbacks[A.type];t&&t.slice().forEach(r=>r.call(this,A))}const nr=[],ze=[];let ir=[];const is=[],fB=Promise.resolve();let ss=!1;function gB(){ss||(ss=!0,fB.then(as))}function et(e){ir.push(e)}function vn(e){is.push(e)}const os=new Set;let sr=0;function as(){if(sr!==0)return;const e=Ir;do{try{for(;sr<nr.length;){const A=nr[sr];sr++,mt(A),BB(A.$$)}}catch(A){throw nr.length=0,sr=0,A}for(mt(null),nr.length=0,sr=0;ze.length;)ze.pop()();for(let A=0;A<ir.length;A+=1){const t=ir[A];os.has(t)||(os.add(t),t())}ir.length=0}while(nr.length);for(;is.length;)is.pop()();ss=!1,os.clear(),mt(e)}function BB(e){if(e.fragment!==null){e.update(),Be(e.before_update);const A=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,A),e.after_update.forEach(et)}}function hB(e){const A=[],t=[];ir.forEach(r=>e.indexOf(r)===-1?A.push(r):t.push(r)),t.forEach(r=>r()),ir=A}let Sr;function dB(){return Sr||(Sr=Promise.resolve(),Sr.then(()=>{Sr=null})),Sr}function ls(e,A,t){e.dispatchEvent(sa(`${A?"intro":"outro"}${t}`))}const Un=new Set;let Qt;function WA(){Qt={r:0,c:[],p:Qt}}function YA(){Qt.r||Be(Qt.c),Qt=Qt.p}function O(e,A){e&&e.i&&(Un.delete(e),e.i(A))}function P(e,A,t,r){if(e&&e.o){if(Un.has(e))return;Un.add(e),Qt.c.push(()=>{Un.delete(e),r&&(t&&e.d(1),r())}),e.o(A)}else r&&r()}const wB={duration:0};function Fn(e,A,t,r){const n={direction:"both"};let i=A(e,t,n),s=r?0:1,o=null,a=null,l=null;function c(){l&&aB(e,l)}function u(f,h){const B=f.b-s;return h*=Math.abs(B),{a:s,b:f.b,d:B,duration:h,start:f.start,end:f.start+h,group:f.group}}function g(f){const{delay:h=0,duration:B=300,easing:w=Zo,tick:d=tA,css:F}=i||wB,_={start:eB()+h,b:f};f||(_.group=Qt,Qt.r+=1),o||a?a=_:(F&&(c(),l=oa(e,s,f,B,h,w,F)),f&&d(0,1),o=u(_,B),et(()=>ls(e,f,"start")),tB(Q=>{if(a&&Q>a.start&&(o=u(a,B),a=null,ls(e,o.b,"start"),F&&(c(),l=oa(e,s,o.b,o.duration,0,w,i.css))),o){if(Q>=o.end)d(s=o.b,1-s),ls(e,o.b,"end"),a||(o.b?c():--o.group.r||Be(o.group.c)),o=null;else if(Q>=o.start){const C=Q-o.start;s=o.a+o.d*w(C/o.duration),d(s,1-s)}}return!!(o||a)}))}return{run(f){Ar(i)?dB().then(()=>{i=i(n),g(f)}):g(f)},end(){c(),o=a=null}}}function yn(e,A){const t=A.token={};function r(n,i,s,o){if(A.token!==t)return;A.resolved=o;let a=A.ctx;s!==void 0&&(a=a.slice(),a[s]=o);const l=n&&(A.current=n)(a);let c=!1;A.block&&(A.blocks?A.blocks.forEach((u,g)=>{g!==i&&u&&(WA(),P(u,1,1,()=>{A.blocks[g]===u&&(A.blocks[g]=null)}),YA())}):A.block.d(1),l.c(),O(l,1),l.m(A.mount(),A.anchor),c=!0),A.block=l,A.blocks&&(A.blocks[i]=l),c&&as()}if(jg(e)){const n=tr();if(e.then(i=>{mt(n),r(A.then,1,A.value,i),mt(null)},i=>{if(mt(n),r(A.catch,2,A.error,i),mt(null),!A.hasCatch)throw i}),A.current!==A.pending)return r(A.pending,0),!0}else{if(A.current!==A.then)return r(A.then,1,A.value,e),!0;A.resolved=e}}function la(e,A,t){const r=A.slice(),{resolved:n}=e;e.current===e.then&&(r[e.value]=n),e.current===e.catch&&(r[e.error]=n),e.block.p(r,t)}function ca(e,A){e.d(1),A.delete(e.key)}function ua(e,A){P(e,1,1,()=>{A.delete(e.key)})}function _n(e,A,t,r,n,i,s,o,a,l,c,u){let g=e.length,f=i.length,h=g;const B={};for(;h--;)B[e[h].key]=h;const w=[],d=new Map,F=new Map,_=[];for(h=f;h--;){const H=u(n,i,h),U=t(H);let S=s.get(U);S?r&&_.push(()=>S.p(H,A)):(S=l(U,H),S.c()),d.set(U,w[h]=S),U in B&&F.set(U,Math.abs(h-B[U]))}const Q=new Set,C=new Set;function y(H){O(H,1),H.m(o,c),s.set(H.key,H),c=H.first,f--}for(;g&&f;){const H=w[f-1],U=e[g-1],S=H.key,E=U.key;H===U?(c=H.first,g--,f--):d.has(E)?!s.has(S)||Q.has(S)?y(H):C.has(E)?g--:F.get(S)>F.get(E)?(C.add(S),y(H)):(Q.add(E),g--):(a(U,s),g--)}for(;g--;){const H=e[g];d.has(H.key)||a(H,s)}for(;f;)y(w[f-1]);return Be(_),w}function bn(e,A,t){const r=e.$$.props[A];r!==void 0&&(e.$$.bound[r]=t,t(e.$$.ctx[r]))}function _A(e){e&&e.c()}function FA(e,A,t,r){const{fragment:n,after_update:i}=e.$$;n&&n.m(A,t),r||et(()=>{const s=e.$$.on_mount.map(jo).filter(Ar);e.$$.on_destroy?e.$$.on_destroy.push(...s):Be(s),e.$$.on_mount=[]}),i.forEach(et)}function yA(e,A){const t=e.$$;t.fragment!==null&&(hB(t.after_update),Be(t.on_destroy),t.fragment&&t.fragment.d(A),t.on_destroy=t.fragment=null,t.ctx=[])}function pB(e,A){e.$$.dirty[0]===-1&&(nr.push(e),gB(),e.$$.dirty.fill(0)),e.$$.dirty[A/31|0]|=1<<A%31}function zA(e,A,t,r,n,i,s,o=[-1]){const a=Ir;mt(e);const l=e.$$={fragment:null,ctx:[],props:i,update:tA,not_equal:n,bound:qo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(A.context||(a?a.$$.context:[])),callbacks:qo(),dirty:o,skip_bound:!1,root:A.target||a.$$.root};s&&s(l.root);let c=!1;if(l.ctx=t?t(e,A.props||{},(u,g,...f)=>{const h=f.length?f[0]:g;return l.ctx&&n(l.ctx[u],l.ctx[u]=h)&&(!l.skip_bound&&l.bound[u]&&l.bound[u](h),c&&pB(e,u)),g}):[],l.update(),c=!0,Be(l.before_update),l.fragment=r?r(l.ctx):!1,A.target){if(A.hydrate){const u=iB(A.target);l.fragment&&l.fragment.l(u),u.forEach(M)}else l.fragment&&l.fragment.c();A.intro&&O(e.$$.fragment),FA(e,A.target,A.anchor,A.customElement),as()}mt(a)}class $A{$destroy(){yA(this,1),this.$destroy=tA}$on(A,t){if(!Ar(t))return tA;const r=this.$$.callbacks[A]||(this.$$.callbacks[A]=[]);return r.push(t),()=>{const n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(A){this.$$set&&!qg(A)&&(this.$$.skip_bound=!0,this.$$set(A),this.$$.skip_bound=!1)}}const or=[];function mB(e,A){return{subscribe:PA(e,A).subscribe}}function PA(e,A=tA){let t;const r=new Set;function n(o){if(JA(e,o)&&(e=o,t)){const a=!or.length;for(const l of r)l[1](),or.push(l,e);if(a){for(let l=0;l<or.length;l+=2)or[l][0](or[l+1]);or.length=0}}}function i(o){n(o(e))}function s(o,a=tA){const l=[o,a];return r.add(l),r.size===1&&(t=A(n)||tA),o(e),()=>{r.delete(l),r.size===0&&t&&(t(),t=null)}}return{set:n,update:i,subscribe:s}}function pe(e,A,t){const r=!Array.isArray(e),n=r?[e]:e,i=A.length<2;return mB(t,s=>{let o=!1;const a=[];let l=0,c=tA;const u=()=>{if(l)return;c();const f=A(r?a[0]:a,s);i?s(f):c=Ar(f)?f:tA},g=n.map((f,h)=>dn(f,B=>{a[h]=B,l&=~(1<<h),o&&u()},()=>{l|=1<<h}));return o=!0,u(),function(){Be(g),c(),o=!1}})}function QB(){const e=new URLSearchParams(window.location.search).get("tab")??"all",{subscribe:A,set:t}=PA(e);return{subscribe:A,change:r=>{t(r);const n=new URL(window.location);n.searchParams.set("tab",r),window.history.pushState({},"",n)},init:()=>{const r=new URLSearchParams(window.location.search).get("tab")??"all";t(r)}}}const Pt=QB(),eA=APP_LANG,ct=APP_NAME;WEBAPP_NAME;const CB=USER_ID,En=IS_SUPERUSER,cs=CSRF_TOKEN;ADDITIONAL_MODULES;const vB="Region",Hn=APP_URL,UB=SAS_APP_URL,FB=CANTALOUPE_APP_URL;MEDIA_PATH;const yB=PAGE_LEN,In={Witness:eA==="en"?"Witness":"Témoin",Work:eA==="en"?"Work":"Œuvre",Series:eA==="en"?"Series":"Série d'imprimés",Regions:eA==="en"?"Region Extraction":"Extraction d'illustrations",User:eA==="en"?"User":"Utilisateur"},us=PA(!1),_B=e=>typeof e=="string"||e instanceof String;async function fs(e){us.set(!0);try{return await e()}finally{us.set(!1)}}function bB(e){return e.match(/\d+/g).toString()}function xr(){return FB??"http://localhost:8182"}function EB(){return UB??"http://localhost:8888"}function fa(e,A){if(typeof window<"u"){const t=parseInt(new URLSearchParams(window.location.search).get(A));if(!isNaN(t))return e.set(t),t}return e.set(1),1}function ga(e,A,t){if(A.set(e),typeof window<"u"){const r=new URL(window.location.href);r.searchParams.set(t,e),window.history.pushState({},"",r)}}function HB(e=null){if(e)return e=e.split("_"),e.length<3?void 0:`${e.slice(0,3).join("_").replace(".jpg","")}.jpg`}function IB(e=null){const A=HB(e);return A===void 0?void 0:`${xr()}/iiif/2/${A}`}function ar(e=null,A=null,t="full"){if(A=_B(A)?A.replace(".jpg",""):A,!e)return"https://placehold.co/96x96/png?text=No+image";if(!e.startsWith("wit")){const[i,...s]=e.split("_wit");e=`wit${s}`}const r=IB(e);if(r===void 0)return"https://placehold.co/96x96/png?text=No+image";const n=e.split("_");return A||(A=n[n.length-1].includes(",")?n.pop().replace(".jpg",""):"full"),`${r}/${A}/${t}/0/default.jpg`}function Ct(e,A=null,t=!1){return new Promise(r=>{if(document.getElementById("msg-modal")){t?document.getElementById("modal-footer").hidden=!1:r(void 0),A&&(document.getElementById("modal-title").innerHTML=A),document.getElementById("modal-msg").innerHTML=e,document.getElementById("hidden-msg-btn").click();const i=document.getElementById("cancel-btn"),s=document.getElementById("ok-btn"),o=document.getElementById("modal-bkg"),a=()=>{i.removeEventListener("click",l),o.removeEventListener("click",l),s.removeEventListener("click",c),document.getElementById("modal-footer").hidden=!0},l=()=>{a(),r(!1)},c=()=>{a(),r(!0)};i.addEventListener("click",l),s.addEventListener("click",c)}else t?r(window.confirm(e)):(window.alert(e),r(void 0))})}function SB(){let e,A,t=(r,n)=>r===n;return{set:r=>{A=e,e=r},setCompareFn:r=>t=r,get:()=>e,getNewAndOld:()=>[e,A],same:()=>t(e,A)}}const xB=(e,A)=>Array.isArray(e)&&Array.isArray(A)&&e.length===A.length&&e.every((t,r)=>t===A[r]||void 0);function LB(e){const t=[85,70,60],r=[50,65,40],n=e*137.5%360,i=t[e%t.length],s=r[Math.floor(e/t.length)%r.length];return`hsl(${Math.floor(n)}, ${i}%, ${s}%)`}function kB(e=null){return e<600?1:e<800?2:e<1e3?3:e<1200?4:e<1400?5:e>=1400?6:4}function gs(e){const A=e.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button-close"),t=()=>e.classList.remove("is-active");A.forEach(n=>n.addEventListener("click",t));const r=n=>{n.key==="Escape"&&e.classList.contains("is-active")&&t()};return document.addEventListener("keydown",r),{destroy(){A.forEach(n=>n.removeEventListener("click",t)),document.removeEventListener("keydown",r)}}}function Ba(e){const A=()=>{const t=document.getElementById(e.dataset.target);t==null||t.classList.add("is-active")};return e.addEventListener("click",A),{destroy(){e.removeEventListener("click",A)}}}function lr(e,A,t="string",r=null){const n={string:s=>{const o=s.get(A);return o!==null?o:null},array:s=>{const o=s.get(A);return o?o.split(",").map(Number).filter(a=>!isNaN(a)):null},set:s=>{const o=s.get(A);return o?new Set(o.split(",").map(Number).filter(a=>!isNaN(a))):null},number:s=>{const o=s.get(A);return o!==null?Number(o):null},boolean:s=>{const o=s.get(A);return o!==null?o==="true":null}},i={string:(s,o)=>o?s.searchParams.set(A,o):s.searchParams.delete(A),array:(s,o)=>{o!=null&&o.length?s.searchParams.set(A,o.join(",")):s.searchParams.delete(A)},set:(s,o)=>{o!=null&&o.size?s.searchParams.set(A,Array.from(o).join(",")):s.searchParams.delete(A)},number:(s,o)=>{o!=null?s.searchParams.set(A,String(o)):s.searchParams.delete(A)},boolean:(s,o)=>o?s.searchParams.set(A,"true"):s.searchParams.delete(A)};if(typeof window<"u"){const s=new URLSearchParams(window.location.search),o=n[t](s);if(o!==null)e.set(o);else if(r!==null){const a=typeof r=="function"?r():r;e.set(a)}return a=>{const l=new URL(window.location);i[t](l,a),window.history.pushState({},"",l)}}return()=>{}}function KB(e){const A=e-1;return A*A*A+1}function ha(e,{delay:A=0,duration:t=400,easing:r=Zo}={}){const n=+getComputedStyle(e).opacity;return{delay:A,duration:t,easing:r,css:i=>`opacity: ${i*n}`}}function da(e,{delay:A=0,duration:t=400,easing:r=KB,axis:n="y"}={}){const i=getComputedStyle(e),s=+i.opacity,o=n==="y"?"height":"width",a=parseFloat(i[o]),l=n==="y"?["top","bottom"]:["left","right"],c=l.map(d=>`${d[0].toUpperCase()}${d.slice(1)}`),u=parseFloat(i[`padding${c[0]}`]),g=parseFloat(i[`padding${c[1]}`]),f=parseFloat(i[`margin${c[0]}`]),h=parseFloat(i[`margin${c[1]}`]),B=parseFloat(i[`border${c[0]}Width`]),w=parseFloat(i[`border${c[1]}Width`]);return{delay:A,duration:t,easing:r,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*s};${o}: ${d*a}px;padding-${l[0]}: ${d*u}px;padding-${l[1]}: ${d*g}px;margin-${l[0]}: ${d*f}px;margin-${l[1]}: ${d*h}px;border-${l[0]}-width: ${d*B}px;border-${l[1]}-width: ${d*w}px;`}}const mb="";function wa(e){let A,t,r;return{c(){A=v("div"),A.innerHTML='<div class="loader svelte-vizlcg"></div>',m(A,"class","bkg-shade svelte-vizlcg")},m(n,i){D(n,A,i),r=!0},i(n){r||(et(()=>{r&&(t||(t=Fn(A,ha,{duration:150},!0)),t.run(1))}),r=!0)},o(n){t||(t=Fn(A,ha,{duration:150},!1)),t.run(0),r=!1},d(n){n&&M(A),n&&t&&t.end()}}}function MB(e){let A,t,r=e[0]&&wa();return{c(){r&&r.c(),A=Ke()},m(n,i){r&&r.m(n,i),D(n,A,i),t=!0},p(n,[i]){n[0]?r?i&1&&O(r,1):(r=wa(),r.c(),O(r,1),r.m(A.parentNode,A)):r&&(WA(),P(r,1,1,()=>{r=null}),YA())},i(n){t||(O(r),t=!0)},o(n){P(r),t=!1},d(n){r&&r.d(n),n&&M(A)}}}function DB(e,A,t){let r;return SA(e,us,n=>t(0,r=n)),[r]}class TB extends $A{constructor(A){super(),zA(this,A,DB,MB,JA,{})}}const Qb="",OB=e=>({}),pa=e=>({});function ma(e,A,t){const r=e.slice();return r[9]=A[t][0],r[10]=A[t][1],r}const NB=e=>({}),Qa=e=>({}),RB=e=>({}),Ca=e=>({});function VB(e){let A,t,r=Object.entries(e[2]),n=[];for(let i=0;i<r.length;i+=1)n[i]=va(ma(e,r,i));return{c(){A=v("div"),t=v("ul");for(let i=0;i<n.length;i+=1)n[i].c();m(A,"class","tabs")},m(i,s){D(i,A,s),p(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s&12){r=Object.entries(i[2]);let o;for(o=0;o<r.length;o+=1){const a=ma(i,r,o);n[o]?n[o].p(a,s):(n[o]=va(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},i:tA,o:tA,d(i){i&&M(A),Se(n,i)}}}function GB(e){let A;const t=e[7].tabs,r=Fe(t,e,e[6],Qa);return{c(){r&&r.c()},m(n,i){r&&r.m(n,i),A=!0},p(n,i){r&&r.p&&(!A||i&64)&&_e(r,t,n,n[6],A?ye(t,n[6],i,NB):be(n[6]),Qa)},i(n){A||(O(r,n),A=!0)},o(n){P(r,n),A=!1},d(n){r&&r.d(n)}}}function va(e){let A,t,r=e[10]+"",n,i,s,o;function a(){return e[8](e[9])}return{c(){A=v("li"),t=v("a"),n=sA(r),i=T(),m(t,"href",null),ie(A,"is-active",e[3]===e[9])},m(l,c){D(l,A,c),p(A,t),p(t,n),p(A,i),s||(o=mA(t,"click",a),s=!0)},p(l,c){e=l,c&4&&r!==(r=e[10]+"")&&TA(n,r),c&12&&ie(A,"is-active",e[3]===e[9])},d(l){l&&M(A),s=!1,o()}}}function PB(e){let A,t,r,n,i,s,o,a,l,c,u,g,f;A=new TB({});const h=e[7].sidebar,B=Fe(h,e,e[6],Ca),w=[GB,VB],d=[];function F(C,y){return y&4&&(a=null),C[4].tabs?0:(a==null&&(a=!!Object.keys(C[2]).length),a?1:-1)}~(l=F(e,-1))&&(c=d[l]=w[l](e));const _=e[7].content,Q=Fe(_,e,e[6],pa);return{c(){_A(A.$$.fragment),t=T(),r=v("div"),n=v("aside"),B&&B.c(),i=T(),s=v("main"),o=v("nav"),c&&c.c(),u=T(),g=v("div"),Q&&Q.c(),m(n,"class","sidebar svelte-jr84gp"),GA(n,"width",e[0]+"%"),GA(n,"min-height",e[1]),m(o,"id","tabs"),m(o,"class","tabs-bar"),m(g,"class","content-area pl-5 svelte-jr84gp"),m(s,"class","main-content svelte-jr84gp"),GA(s,"width",100-e[0]+"%"),GA(s,"min-height",e[1]),m(r,"class","layout svelte-jr84gp"),GA(r,"min-height",e[1])},m(C,y){FA(A,C,y),D(C,t,y),D(C,r,y),p(r,n),B&&B.m(n,null),p(r,i),p(r,s),p(s,o),~l&&d[l].m(o,null),p(s,u),p(s,g),Q&&Q.m(g,null),f=!0},p(C,[y]){B&&B.p&&(!f||y&64)&&_e(B,h,C,C[6],f?ye(h,C[6],y,RB):be(C[6]),Ca),(!f||y&1)&&GA(n,"width",C[0]+"%");let H=l;l=F(C,y),l===H?~l&&d[l].p(C,y):(c&&(WA(),P(d[H],1,1,()=>{d[H]=null}),YA()),~l?(c=d[l],c?c.p(C,y):(c=d[l]=w[l](C),c.c()),O(c,1),c.m(o,null)):c=null),Q&&Q.p&&(!f||y&64)&&_e(Q,_,C,C[6],f?ye(_,C[6],y,OB):be(C[6]),pa),(!f||y&1)&&GA(s,"width",100-C[0]+"%")},i(C){f||(O(A.$$.fragment,C),O(B,C),O(c),O(Q,C),f=!0)},o(C){P(A.$$.fragment,C),P(B,C),P(c),P(Q,C),f=!1},d(C){yA(A,C),C&&M(t),C&&M(r),B&&B.d(C),~l&&d[l].d(),Q&&Q.d(C)}}}function XB(e=null){e||(e=document.getElementById("navbar")),document.documentElement.style.setProperty("--top-offset",`${e.offsetHeight}px`)}function JB(e,A,t){let r;SA(e,Pt,g=>t(3,r=g));let{$$slots:n={},$$scope:i}=A;const s=AB(n);let{sidebarWidth:o="25"}=A;const a="90vh";let{tabList:l={}}=A,{topOffsetElement:c=null}=A;XB(c),Gt(()=>(Pt.init(),window.addEventListener("popstate",()=>Pt.init()),()=>window.removeEventListener("popstate",()=>Pt.init())));const u=g=>Pt.change(g);return e.$$set=g=>{"sidebarWidth"in g&&t(0,o=g.sidebarWidth),"tabList"in g&&t(2,l=g.tabList),"topOffsetElement"in g&&t(5,c=g.topOffsetElement),"$$scope"in g&&t(6,i=g.$$scope)},[o,a,l,r,s,c,i,n,u]}class WB extends $A{constructor(A){super(),zA(this,A,JB,PB,JA,{sidebarWidth:0,layoutHeight:1,tabList:2,topOffsetElement:5})}get layoutHeight(){return this.$$.ctx[1]}}const Sn={0:{title:eA==="en"?"no categorization":"aucune catégorisation",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59">
        <rect x="1" y="0.62" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
    </svg>`},1:{title:eA==="en"?"overall visual matches":"correspondances visuelles globales",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 69">
        <rect x="10" y="10.62" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <rect x="1" y="1" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <rect x="10" y="10.62" width="46" height="45.71" rx="4.11" ry="4.11" fill="currentColor" stroke="none"/>
    </svg>`},2:{title:eA==="en"?"visual matches on part of the image":"correspondances visuelles sur une partie de l'image",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 71">
        <rect x="12" y="12.43" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <rect x="1" y="0.81" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <path d="M 12 21.43 L 21 12.43" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 12 30 L 30 12.43" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 40 56 L 57 38" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 48.3 56.29 L 57 47" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 12 39 L 39 12" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 12 48 L 48 12" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 13 56 L 57 12" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 31 56 L 57 29" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 21 57 L 57 21" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
    </svg>`},3:{title:eA==="en"?"semantic and non-visual matches":"correspondances sémantiques et non-visuelle",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 73">
        <rect x="14" y="14.43" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3" stroke-dasharray="9 9"/>
        <rect x="1" y="0.81" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
    </svg>`},4:{title:eA==="en"?"regions without match":"régions sans correspondance",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59">
        <rect x="1" y="0.62" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <path d="M 2.67 54.55 L 55 2" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 54.37 54.05 L 2.72 2.24" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
    </svg>`},5:{title:eA==="en"?"user specific category":"correspondances spécifiques à l'utilisateur",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59">
        <rect x="1" y="0.81" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <path d="M 8.69 55.28 C 9.25 44.15 18.08 35.28 28.86 35.28 C 32.5 35.28 36.07 36.3 39.18 38.25 C 44.96 41.85 48.66 48.3 49.02 55.28 Z M 17.85 21.48 C 17.85 15.37 22.79 10.39 28.86 10.39 C 34.92 10.39 39.86 15.37 39.86 21.48 C 39.86 27.59 34.92 32.56 28.86 32.56 C 22.79 32.56 17.85 27.59 17.85 21.48 Z M 40.37 36.34 C 38.43 35.13 36.32 34.25 34.13 33.7 C 38.82 31.64 42.1 26.94 42.1 21.48 C 42.1 14.13 36.16 8.15 28.86 8.15 C 21.55 8.15 15.61 14.13 15.61 21.48 C 15.61 26.95 18.9 31.66 23.6 33.71 C 13.76 36.18 6.41 45.4 6.41 56.4 C 6.41 57.02 6.92 57.52 7.54 57.52 L 50.17 57.52 C 50.79 57.52 51.3 57.02 51.3 56.4 C 51.3 48.23 47.11 40.54 40.37 36.34 Z" fill="currentColor" stroke="none"/>
    </svg>`}};function YB(e){let A,t=Sn[e[2]].svg+"",r,n,i,s;return{c(){A=v("span"),m(A,"class",r="tag py-4 "+e[4]+" "+(e[0]?"is-hoverable":"")),m(A,"title",n=Sn[e[2]].title),ie(A,"is-selected",e[1])},m(o,a){D(o,A,a),A.innerHTML=t,i||(s=[mA(A,"click",e[5]),mA(A,"keyup",null)],i=!0)},p(o,[a]){a&4&&t!==(t=Sn[o[2]].svg+"")&&(A.innerHTML=t),a&17&&r!==(r="tag py-4 "+o[4]+" "+(o[0]?"is-hoverable":""))&&m(A,"class",r),a&4&&n!==(n=Sn[o[2]].title)&&m(A,"title",n),a&19&&ie(A,"is-selected",o[1])},i:tA,o:tA,d(o){o&&M(A),i=!1,Be(s)}}}function zB(e,A,t){let{selectable:r=!0}=A,{isSelected:n=!1}=A,{category:i}=A,{toggle:s=()=>{}}=A,{padding:o="px-2"}=A;const a=()=>s(i);return e.$$set=l=>{"selectable"in l&&t(0,r=l.selectable),"isSelected"in l&&t(1,n=l.isSelected),"category"in l&&t(2,i=l.category),"toggle"in l&&t(3,s=l.toggle),"padding"in l&&t(4,o=l.padding)},[r,n,i,s,o,a]}class $B extends $A{constructor(A){super(),zA(this,A,zB,YB,JA,{selectable:0,isSelected:1,category:2,toggle:3,padding:4})}}const Lb="";function Ua(e){let A,t,r=e[3].title+"",n,i;return{c(){A=v("span"),t=v("a"),n=sA(r),m(t,"href",i=`${Hn}/${ct}/witness/${e[3].witnessId}/regions/${e[1]}`),m(t,"target","_blank"),m(A,"class","legend-label svelte-w1sf17")},m(s,o){D(s,A,o),p(A,t),p(t,n)},p(s,o){o&8&&r!==(r=s[3].title+"")&&TA(n,r),o&10&&i!==(i=`${Hn}/${ct}/witness/${s[3].witnessId}/regions/${s[1]}`)&&m(t,"href",i)},d(s){s&&M(A)}}}function ZB(e){let A,t,r,n,i,s,o,a,l,c=!e[5]&&Ua(e);return{c(){A=v("div"),t=v("span"),r=T(),n=v("span"),o=T(),c&&c.c(),m(t,"class","legend-nb svelte-w1sf17"),m(n,"class","legend-color svelte-w1sf17"),m(n,"aria-label",i=e[3].title),m(n,"title",s=e[3].title),GA(n,"background-color",e[0]?e[3].color:"#999"),m(n,"role","button"),m(n,"tabindex","0"),ie(n,"inactive",!e[0]),ie(n,"clickable",e[4]),m(A,"class","legend-item svelte-w1sf17"),ie(A,"inactive",!e[0])},m(u,g){D(u,A,g),p(A,t),p(A,r),p(A,n),p(A,o),c&&c.m(A,null),a||(l=[mA(n,"click",function(){Ar(e[2])&&e[2].apply(this,arguments)}),mA(n,"keydown",null)],a=!0)},p(u,[g]){e=u,g&8&&i!==(i=e[3].title)&&m(n,"aria-label",i),g&8&&s!==(s=e[3].title)&&m(n,"title",s),g&9&&GA(n,"background-color",e[0]?e[3].color:"#999"),g&1&&ie(n,"inactive",!e[0]),g&16&&ie(n,"clickable",e[4]),e[5]?c&&(c.d(1),c=null):c?c.p(e,g):(c=Ua(e),c.c(),c.m(A,null)),g&1&&ie(A,"inactive",!e[0])},i:tA,o:tA,d(u){u&&M(A),c&&c.d(),a=!1,Be(l)}}}function jB(e,A,t){let{isActive:r=!0}=A,{id:n}=A,{toggle:i=()=>{}}=A,{meta:s={title:"Region",color:"#999",witnessId:1}}=A,{clickable:o=!0}=A,{onlyColor:a=!1}=A;return e.$$set=l=>{"isActive"in l&&t(0,r=l.isActive),"id"in l&&t(1,n=l.id),"toggle"in l&&t(2,i=l.toggle),"meta"in l&&t(3,s=l.meta),"clickable"in l&&t(4,o=l.clickable),"onlyColor"in l&&t(5,a=l.onlyColor)},[r,n,i,s,o,a]}class Fa extends $A{constructor(A){super(),zA(this,A,jB,ZB,JA,{isActive:0,id:1,toggle:2,meta:3,clickable:4,onlyColor:5})}}const kb="";function ya(e,A,t){const r=e.slice();return r[12]=A[t][0],r[13]=A[t][1],r}function qB(e){let A;return{c(){A=v("span"),A.innerHTML='<i class="fas fa-chevron-down"></i>',m(A,"class","icon is-small")},m(t,r){D(t,A,r)},d(t){t&&M(A)}}}function Ah(e){let A;return{c(){A=v("span"),A.innerHTML='<i class="fas fa-chevron-up"></i>',m(A,"class","icon is-small")},m(t,r){D(t,A,r)},d(t){t&&M(A)}}}function _a(e){let A,t;function r(){return e[10](e[12])}return A=new Fa({props:{id:e[12],meta:e[13],isActive:e[0].has(parseInt(e[12])),toggle:r,onlyColor:!e[4]}}),{c(){_A(A.$$.fragment)},m(n,i){FA(A,n,i),t=!0},p(n,i){e=n;const s={};i&32&&(s.id=e[12]),i&32&&(s.meta=e[13]),i&33&&(s.isActive=e[0].has(parseInt(e[12]))),i&34&&(s.toggle=r),i&16&&(s.onlyColor=!e[4]),A.$set(s)},i(n){t||(O(A.$$.fragment,n),t=!0)},o(n){P(A.$$.fragment,n),t=!1},d(n){yA(A,n)}}}function eh(e){let A,t,r,n,i,s,o,a,l,c,u,g,f,h,B,w,d,F,_,Q,C,y,H,U,S,E,L;function N(V,W){return V[4]?Ah:qB}let X=N(e),k=X(e),z=e[5],K=[];for(let V=0;V<z.length;V+=1)K[V]=_a(ya(e,z,V));const Z=V=>P(K[V],1,1,()=>{K[V]=null});return{c(){A=v("div"),t=v("div"),r=v("div"),n=v("div"),i=v("h3"),i.textContent=`${eA==="en"?"Visible documents":"Documents visibles"}`,s=T(),o=v("div"),a=v("div"),l=v("p"),c=v("span"),u=v("select"),g=v("option"),g.textContent="ID",f=v("option"),f.textContent=`${In.Witness}`,h=v("option"),h.textContent=`${eA==="en"?"Title":"Titre"}`,B=T(),w=v("p"),d=v("button"),d.innerHTML='<span class="icon is-small has-text-link pl-2"><i class="fas fa-check"></i></span>',F=T(),_=v("div"),Q=v("button"),k.c(),H=T(),U=v("div");for(let V=0;V<K.length;V+=1)K[V].c();m(i,"class","title mb-0"),m(n,"class","level-item"),m(r,"class","level-left"),g.__value="id",g.value=g.__value,f.__value="witnessId",f.value=f.__value,h.__value="title",h.value=h.__value,e[3]===void 0&&et(()=>e[7].call(u)),m(c,"class","select is-small"),m(l,"class","control mb-0"),m(l,"title",eA==="en"?"Sort documents by":"Trier les documents par"),m(d,"class","button is-small is-shadowless"),m(w,"class","control"),m(w,"title",eA==="en"?"Select all documents":"Sélectionner tous les documents"),m(a,"class","level-item mb-0 field has-addons is-small"),m(Q,"class","button is-small is-ghost"),m(Q,"aria-label",C=e[4]?"Minify legend":"Expand legend"),m(_,"class","level-item"),m(_,"title",y=e[4]?"Minify legend":"Expand legend"),m(o,"class","level-right"),m(t,"class","level is-mobile mb-3"),m(U,"class","svelte-13ym7ov"),ie(U,"is-condensed",!e[4]),ie(U,"is-expanded",e[4])},m(V,W){D(V,A,W),p(A,t),p(t,r),p(r,n),p(n,i),p(t,s),p(t,o),p(o,a),p(a,l),p(l,c),p(c,u),p(u,g),p(u,f),p(u,h),It(u,e[3],!0),p(a,B),p(a,w),p(w,d),p(o,F),p(o,_),p(_,Q),k.m(Q,null),p(A,H),p(A,U);for(let J=0;J<K.length;J+=1)K[J]&&K[J].m(U,null);S=!0,E||(L=[mA(u,"change",e[7]),mA(d,"click",e[8]),mA(Q,"click",e[9])],E=!0)},p(V,[W]){if(W&8&&It(u,V[3]),X!==(X=N(V))&&(k.d(1),k=X(V),k&&(k.c(),k.m(Q,null))),(!S||W&16&&C!==(C=V[4]?"Minify legend":"Expand legend"))&&m(Q,"aria-label",C),(!S||W&16&&y!==(y=V[4]?"Minify legend":"Expand legend"))&&m(_,"title",y),W&51){z=V[5];let J;for(J=0;J<z.length;J+=1){const lA=ya(V,z,J);K[J]?(K[J].p(lA,W),O(K[J],1)):(K[J]=_a(lA),K[J].c(),O(K[J],1),K[J].m(U,null))}for(WA(),J=z.length;J<K.length;J+=1)Z(J);YA()}(!S||W&16)&&ie(U,"is-condensed",!V[4]),(!S||W&16)&&ie(U,"is-expanded",V[4])},i(V){if(!S){for(let W=0;W<z.length;W+=1)O(K[W]);S=!0}},o(V){K=K.filter(Boolean);for(let W=0;W<K.length;W+=1)P(K[W]);S=!1},d(V){V&&M(A),k.d(),Se(K,V),E=!1,Be(L)}}}function th(e,A,t){let r,{documentNodes:n}=A,{selectedRegions:i}=A,{toggleRegion:s}=A,{selectAllRegions:o}=A,a=!0,l="id";const c={id:(B,w)=>B[0]-w[0],witnessId:(B,w)=>(B[1].witnessId||0)-(w[1].witnessId||0),title:(B,w)=>(B[1].title||"").localeCompare(w[1].title||"")};function u(){l=pn(this),t(3,l)}const g=()=>o(),f=()=>t(4,a=!a),h=B=>s(parseInt(B));return e.$$set=B=>{"documentNodes"in B&&t(6,n=B.documentNodes),"selectedRegions"in B&&t(0,i=B.selectedRegions),"toggleRegion"in B&&t(1,s=B.toggleRegion),"selectAllRegions"in B&&t(2,o=B.selectAllRegions)},e.$$.update=()=>{e.$$.dirty&72&&t(5,r=Array.from(n||new Map).sort(c[l]))},[i,s,o,l,a,r,n,u,g,f,h]}class rh extends $A{constructor(A){super(),zA(this,A,th,eh,JA,{documentNodes:6,selectedRegions:0,toggleRegion:1,selectAllRegions:2})}}var St;(function(e){e.Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values"})(St||(St={}));var Ne;(function(e){e[e.None=-1]="None",e[e.NoValue=0]="NoValue",e[e.LargeValue=1]="LargeValue",e[e.SmallValue=2]="SmallValue"})(Ne||(Ne={}));function nh(e){return xn(e)&&typeof e.from=="function"}function xn(e){return typeof e=="object"&&typeof e.to=="function"}function ba(e){e.parentElement.removeChild(e)}function Bs(e){return e!=null}function Ea(e){e.preventDefault()}function ih(e){return e.filter(function(A){return this[A]?!1:this[A]=!0},{})}function sh(e,A){return Math.round(e/A)*A}function oh(e,A){var t=e.getBoundingClientRect(),r=e.ownerDocument,n=r.documentElement,i=Sa(r);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(i.x=0),A?t.top+i.y-n.clientTop:t.left+i.x-n.clientLeft}function tt(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Ha(e,A,t){t>0&&(Me(e,A),setTimeout(function(){kn(e,A)},t))}function Ia(e){return Math.max(Math.min(e,100),0)}function Ln(e){return Array.isArray(e)?e:[e]}function ah(e){e=String(e);var A=e.split(".");return A.length>1?A[1].length:0}function Me(e,A){e.classList&&!/\s/.test(A)?e.classList.add(A):e.className+=" "+A}function kn(e,A){e.classList&&!/\s/.test(A)?e.classList.remove(A):e.className=e.className.replace(new RegExp("(^|\\b)"+A.split(" ").join("|")+"(\\b|$)","gi")," ")}function lh(e,A){return e.classList?e.classList.contains(A):new RegExp("\\b"+A+"\\b").test(e.className)}function Sa(e){var A=window.pageXOffset!==void 0,t=(e.compatMode||"")==="CSS1Compat",r=A?window.pageXOffset:t?e.documentElement.scrollLeft:e.body.scrollLeft,n=A?window.pageYOffset:t?e.documentElement.scrollTop:e.body.scrollTop;return{x:r,y:n}}function ch(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function uh(){var e=!1;try{var A=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,A)}catch{}return e}function fh(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function hs(e,A){return 100/(A-e)}function ds(e,A,t){return A*100/(e[t+1]-e[t])}function gh(e,A){return ds(e,e[0]<0?A+Math.abs(e[0]):A-e[0],0)}function Bh(e,A){return A*(e[1]-e[0])/100+e[0]}function Lr(e,A){for(var t=1;e>=A[t];)t+=1;return t}function hh(e,A,t){if(t>=e.slice(-1)[0])return 100;var r=Lr(t,e),n=e[r-1],i=e[r],s=A[r-1],o=A[r];return s+gh([n,i],t)/hs(s,o)}function dh(e,A,t){if(t>=100)return e.slice(-1)[0];var r=Lr(t,A),n=e[r-1],i=e[r],s=A[r-1],o=A[r];return Bh([n,i],(t-s)*hs(s,o))}function wh(e,A,t,r){if(r===100)return r;var n=Lr(r,e),i=e[n-1],s=e[n];return t?r-i>(s-i)/2?s:i:A[n-1]?e[n-1]+sh(r-e[n-1],A[n-1]):r}var xa=function(){function e(A,t,r){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=t;var n,i=[];for(Object.keys(A).forEach(function(s){i.push([Ln(A[s]),s])}),i.sort(function(s,o){return s[0][0]-o[0][0]}),n=0;n<i.length;n++)this.handleEntryPoint(i[n][1],i[n][0]);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)this.handleStepPoint(n,this.xNumSteps[n])}return e.prototype.getDistance=function(A){for(var t=[],r=0;r<this.xNumSteps.length-1;r++)t[r]=ds(this.xVal,A,r);return t},e.prototype.getAbsoluteDistance=function(A,t,r){var n=0;if(A<this.xPct[this.xPct.length-1])for(;A>this.xPct[n+1];)n++;else A===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);!r&&A===this.xPct[n+1]&&n++,t===null&&(t=[]);var i,s=1,o=t[n],a=0,l=0,c=0,u=0;for(r?i=(A-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):i=(this.xPct[n+1]-A)/(this.xPct[n+1]-this.xPct[n]);o>0;)a=this.xPct[n+1+u]-this.xPct[n+u],t[n+u]*s+100-i*100>100?(l=a*i,s=(o-100*i)/t[n+u],i=1):(l=t[n+u]*a/100*s,s=0),r?(c=c-l,this.xPct.length+u>=1&&u--):(c=c+l,this.xPct.length-u>=1&&u++),o=t[n+u]*s;return A+c},e.prototype.toStepping=function(A){return A=hh(this.xVal,this.xPct,A),A},e.prototype.fromStepping=function(A){return dh(this.xVal,this.xPct,A)},e.prototype.getStep=function(A){return A=wh(this.xPct,this.xSteps,this.snap,A),A},e.prototype.getDefaultStep=function(A,t,r){var n=Lr(A,this.xPct);return(A===100||t&&A===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/r},e.prototype.getNearbySteps=function(A){var t=Lr(A,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var A=this.xNumSteps.map(ah);return Math.max.apply(null,A)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(A){return this.getStep(this.toStepping(A))},e.prototype.handleEntryPoint=function(A,t){var r;if(A==="min"?r=0:A==="max"?r=100:r=parseFloat(A),!tt(r)||!tt(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(r),this.xVal.push(t[0]);var n=Number(t[1]);r?this.xSteps.push(isNaN(n)?!1:n):isNaN(n)||(this.xSteps[0]=n),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(A,t){if(t){if(this.xVal[A]===this.xVal[A+1]){this.xSteps[A]=this.xHighestCompleteStep[A]=this.xVal[A];return}this.xSteps[A]=ds([this.xVal[A],this.xVal[A+1]],t,0)/hs(this.xPct[A],this.xPct[A+1]);var r=(this.xVal[A+1]-this.xVal[A])/this.xNumSteps[A],n=Math.ceil(Number(r.toFixed(3))-1),i=this.xVal[A]+this.xNumSteps[A]*n;this.xHighestCompleteStep[A]=i}},e}(),La={to:function(e){return e===void 0?"":e.toFixed(2)},from:Number},ka={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},xt={tooltips:".__tooltips",aria:".__aria"};function ph(e,A){if(!tt(A))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=A}function mh(e,A){if(!tt(A))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=A}function Qh(e,A){if(!tt(A))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=A}function Ch(e,A){if(!tt(A))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=A}function vh(e,A){if(typeof A!="object"||Array.isArray(A))throw new Error("noUiSlider: 'range' is not an object.");if(A.min===void 0||A.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new xa(A,e.snap||!1,e.singleStep)}function Uh(e,A){if(A=Ln(A),!Array.isArray(A)||!A.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=A.length,e.start=A}function Fh(e,A){if(typeof A!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=A}function yh(e,A){if(typeof A!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=A}function _h(e,A){if(typeof A!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=A}function Ka(e,A){var t=[!1],r;if(A==="lower"?A=[!0,!1]:A==="upper"&&(A=[!1,!0]),A===!0||A===!1){for(r=1;r<e.handles;r++)t.push(A);t.push(!1)}else{if(!Array.isArray(A)||!A.length||A.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t=A}e.connect=t}function bh(e,A){switch(A){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Ma(e,A){if(!tt(A))throw new Error("noUiSlider: 'margin' option must be numeric.");A!==0&&(e.margin=e.spectrum.getDistance(A))}function Eh(e,A){if(!tt(A))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(A),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Hh(e,A){var t;if(!tt(A)&&!Array.isArray(A))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(A)&&!(A.length===2||tt(A[0])||tt(A[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(A!==0){for(Array.isArray(A)||(A=[A,A]),e.padding=[e.spectrum.getDistance(A[0]),e.spectrum.getDistance(A[1])],t=0;t<e.spectrum.xNumSteps.length-1;t++)if(e.padding[0][t]<0||e.padding[1][t]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=A[0]+A[1],n=e.spectrum.xVal[0],i=e.spectrum.xVal[e.spectrum.xVal.length-1];if(r/(i-n)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function Ih(e,A){switch(A){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Sh(e,A){if(typeof A!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var t=A.indexOf("tap")>=0,r=A.indexOf("drag")>=0,n=A.indexOf("fixed")>=0,i=A.indexOf("snap")>=0,s=A.indexOf("hover")>=0,o=A.indexOf("unconstrained")>=0,a=A.indexOf("invert-connects")>=0,l=A.indexOf("drag-all")>=0,c=A.indexOf("smooth-steps")>=0;if(n){if(e.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Ma(e,e.start[1]-e.start[0])}if(a&&e.handles!==2)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(o&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:t||i,drag:r,dragAll:l,smoothSteps:c,fixed:n,snap:i,hover:s,unconstrained:o,invertConnects:a}}function xh(e,A){if(A!==!1)if(A===!0||xn(A)){e.tooltips=[];for(var t=0;t<e.handles;t++)e.tooltips.push(A)}else{if(A=Ln(A),A.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");A.forEach(function(r){if(typeof r!="boolean"&&!xn(r))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),e.tooltips=A}}function Lh(e,A){if(A.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=A}function kh(e,A){if(!xn(A))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=A}function Kh(e,A){if(!nh(A))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=A}function Mh(e,A){if(typeof A!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=A}function Dh(e,A){e.documentElement=A}function Th(e,A){if(typeof A!="string"&&A!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=A}function Oh(e,A){if(typeof A!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof e.cssPrefix=="string"?(e.cssClasses={},Object.keys(A).forEach(function(t){e.cssClasses[t]=e.cssPrefix+A[t]})):e.cssClasses=A}function Da(e){var A={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:La,format:La},t={step:{r:!1,t:ph},keyboardPageMultiplier:{r:!1,t:mh},keyboardMultiplier:{r:!1,t:Qh},keyboardDefaultStep:{r:!1,t:Ch},start:{r:!0,t:Uh},connect:{r:!0,t:Ka},direction:{r:!0,t:Ih},snap:{r:!1,t:Fh},animate:{r:!1,t:yh},animationDuration:{r:!1,t:_h},range:{r:!0,t:vh},orientation:{r:!1,t:bh},margin:{r:!1,t:Ma},limit:{r:!1,t:Eh},padding:{r:!1,t:Hh},behaviour:{r:!0,t:Sh},ariaFormat:{r:!1,t:kh},format:{r:!1,t:Kh},tooltips:{r:!1,t:xh},keyboardSupport:{r:!0,t:Mh},documentElement:{r:!1,t:Dh},cssPrefix:{r:!0,t:Th},cssClasses:{r:!0,t:Oh},handleAttributes:{r:!1,t:Lh}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:ka,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(t).forEach(function(a){if(!Bs(e[a])&&r[a]===void 0){if(t[a].r)throw new Error("noUiSlider: '"+a+"' is required.");return}t[a].t(A,Bs(e[a])?e[a]:r[a])}),A.pips=e.pips;var n=document.createElement("div"),i=n.style.msTransform!==void 0,s=n.style.transform!==void 0;A.transformRule=s?"transform":i?"msTransform":"webkitTransform";var o=[["left","top"],["right","bottom"]];return A.style=o[A.dir][A.ort],A}function Nh(e,A,t){var r=ch(),n=fh(),i=n&&uh(),s=e,o,a,l,c,u,g,f=A.spectrum,h=[],B=[],w=[],d=0,F={},_=!1,Q=e.ownerDocument,C=A.documentElement||Q.documentElement,y=Q.body,H=Q.dir==="rtl"||A.ort===1?0:100;function U(b,x){var I=Q.createElement("div");return x&&Me(I,x),b.appendChild(I),I}function S(b,x){var I=U(b,A.cssClasses.origin),R=U(I,A.cssClasses.handle);if(U(R,A.cssClasses.touchArea),R.setAttribute("data-handle",String(x)),A.keyboardSupport&&(R.setAttribute("tabindex","0"),R.addEventListener("keydown",function(q){return G(q,x)})),A.handleAttributes!==void 0){var j=A.handleAttributes[x];Object.keys(j).forEach(function(q){R.setAttribute(q,j[q])})}return R.setAttribute("role","slider"),R.setAttribute("aria-orientation",A.ort?"vertical":"horizontal"),x===0?Me(R,A.cssClasses.handleLower):x===A.handles-1&&Me(R,A.cssClasses.handleUpper),I.handle=R,I}function E(b,x){return x?U(b,A.cssClasses.connect):!1}function L(b,x){a=U(x,A.cssClasses.connects),l=[],c=[],c.push(E(a,b[0]));for(var I=0;I<A.handles;I++)l.push(S(x,I)),w[I]=I,c.push(E(a,b[I+1]))}function N(b){Me(b,A.cssClasses.target),A.dir===0?Me(b,A.cssClasses.ltr):Me(b,A.cssClasses.rtl),A.ort===0?Me(b,A.cssClasses.horizontal):Me(b,A.cssClasses.vertical);var x=getComputedStyle(b).direction;return x==="rtl"?Me(b,A.cssClasses.textDirectionRtl):Me(b,A.cssClasses.textDirectionLtr),U(b,A.cssClasses.base)}function X(b,x){return!A.tooltips||!A.tooltips[x]?!1:U(b.firstChild,A.cssClasses.tooltip)}function k(){return s.hasAttribute("disabled")}function z(b){var x=l[b];return x.hasAttribute("disabled")}function K(b){b!=null?(l[b].setAttribute("disabled",""),l[b].handle.removeAttribute("tabindex")):(s.setAttribute("disabled",""),l.forEach(function(x){x.handle.removeAttribute("tabindex")}))}function Z(b){b!=null?(l[b].removeAttribute("disabled"),l[b].handle.setAttribute("tabindex","0")):(s.removeAttribute("disabled"),l.forEach(function(x){x.removeAttribute("disabled"),x.handle.setAttribute("tabindex","0")}))}function V(){g&&(vA("update"+xt.tooltips),g.forEach(function(b){b&&ba(b)}),g=null)}function W(){V(),g=l.map(X),CA("update"+xt.tooltips,function(b,x,I){if(!(!g||!A.tooltips)&&g[x]!==!1){var R=b[x];A.tooltips[x]!==!0&&(R=A.tooltips[x].to(I[x])),g[x].innerHTML=R}})}function J(){vA("update"+xt.aria),CA("update"+xt.aria,function(b,x,I,R,j){w.forEach(function(q){var dA=l[q],aA=RA(B,q,0,!0,!0,!0),ZA=RA(B,q,100,!0,!0,!0),ne=j[q],fe=String(A.ariaFormat.to(I[q]));aA=f.fromStepping(aA).toFixed(1),ZA=f.fromStepping(ZA).toFixed(1),ne=f.fromStepping(ne).toFixed(1),dA.children[0].setAttribute("aria-valuemin",aA),dA.children[0].setAttribute("aria-valuemax",ZA),dA.children[0].setAttribute("aria-valuenow",ne),dA.children[0].setAttribute("aria-valuetext",fe)})})}function lA(b){if(b.mode===St.Range||b.mode===St.Steps)return f.xVal;if(b.mode===St.Count){if(b.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var x=b.values-1,I=100/x,R=[];x--;)R[x]=x*I;return R.push(100),wA(R,b.stepped)}return b.mode===St.Positions?wA(b.values,b.stepped):b.mode===St.Values?b.stepped?b.values.map(function(j){return f.fromStepping(f.getStep(f.toStepping(j)))}):b.values:[]}function wA(b,x){return b.map(function(I){return f.fromStepping(x?f.getStep(I):I)})}function MA(b){function x(ne,fe){return Number((ne+fe).toFixed(7))}var I=lA(b),R={},j=f.xVal[0],q=f.xVal[f.xVal.length-1],dA=!1,aA=!1,ZA=0;return I=ih(I.slice().sort(function(ne,fe){return ne-fe})),I[0]!==j&&(I.unshift(j),dA=!0),I[I.length-1]!==q&&(I.push(q),aA=!0),I.forEach(function(ne,fe){var ge,Ae,Qe,Oe=ne,Ie=I[fe+1],ke,Wo,Yo,zo,Yg,$o,zg,$g=b.mode===St.Steps;for($g&&(ge=f.xNumSteps[fe]),ge||(ge=Ie-Oe),Ie===void 0&&(Ie=Oe),ge=Math.max(ge,1e-7),Ae=Oe;Ae<=Ie;Ae=x(Ae,ge)){for(ke=f.toStepping(Ae),Wo=ke-ZA,Yg=Wo/(b.density||1),$o=Math.round(Yg),zg=Wo/$o,Qe=1;Qe<=$o;Qe+=1)Yo=ZA+Qe*zg,R[Yo.toFixed(5)]=[f.fromStepping(Yo),0];zo=I.indexOf(Ae)>-1?Ne.LargeValue:$g?Ne.SmallValue:Ne.NoValue,!fe&&dA&&Ae!==Ie&&(zo=0),Ae===Ie&&aA||(R[ke.toFixed(5)]=[Ae,zo]),ZA=ke}}),R}function DA(b,x,I){var R,j,q=Q.createElement("div"),dA=(R={},R[Ne.None]="",R[Ne.NoValue]=A.cssClasses.valueNormal,R[Ne.LargeValue]=A.cssClasses.valueLarge,R[Ne.SmallValue]=A.cssClasses.valueSub,R),aA=(j={},j[Ne.None]="",j[Ne.NoValue]=A.cssClasses.markerNormal,j[Ne.LargeValue]=A.cssClasses.markerLarge,j[Ne.SmallValue]=A.cssClasses.markerSub,j),ZA=[A.cssClasses.valueHorizontal,A.cssClasses.valueVertical],ne=[A.cssClasses.markerHorizontal,A.cssClasses.markerVertical];Me(q,A.cssClasses.pips),Me(q,A.ort===0?A.cssClasses.pipsHorizontal:A.cssClasses.pipsVertical);function fe(Ae,Qe){var Oe=Qe===A.cssClasses.value,Ie=Oe?ZA:ne,ke=Oe?dA:aA;return Qe+" "+Ie[A.ort]+" "+ke[Ae]}function ge(Ae,Qe,Oe){if(Oe=x?x(Qe,Oe):Oe,Oe!==Ne.None){var Ie=U(q,!1);Ie.className=fe(Oe,A.cssClasses.marker),Ie.style[A.style]=Ae+"%",Oe>Ne.NoValue&&(Ie=U(q,!1),Ie.className=fe(Oe,A.cssClasses.value),Ie.setAttribute("data-value",String(Qe)),Ie.style[A.style]=Ae+"%",Ie.innerHTML=String(I.to(Qe)))}}return Object.keys(b).forEach(function(Ae){ge(Ae,b[Ae][0],b[Ae][1])}),q}function VA(){u&&(ba(u),u=null)}function OA(b){VA();var x=MA(b),I=b.filter,R=b.format||{to:function(j){return String(Math.round(j))}};return u=s.appendChild(DA(x,I,R)),u}function ee(){var b=o.getBoundingClientRect(),x="offset"+["Width","Height"][A.ort];return A.ort===0?b.width||o[x]:b.height||o[x]}function $(b,x,I,R){var j=function(dA){var aA=cA(dA,R.pageOffset,R.target||x);if(!aA||k()&&!R.doNotReject||lh(s,A.cssClasses.tap)&&!R.doNotReject||b===r.start&&aA.buttons!==void 0&&aA.buttons>1||R.hover&&aA.buttons)return!1;i||aA.preventDefault(),aA.calcPoint=aA.points[A.ort],I(aA,R)},q=[];return b.split(" ").forEach(function(dA){x.addEventListener(dA,j,i?{passive:!0}:!1),q.push([dA,j])}),q}function cA(b,x,I){var R=b.type.indexOf("touch")===0,j=b.type.indexOf("mouse")===0,q=b.type.indexOf("pointer")===0,dA=0,aA=0;if(b.type.indexOf("MSPointer")===0&&(q=!0),b.type==="mousedown"&&!b.buttons&&!b.touches)return!1;if(R){var ZA=function(ge){var Ae=ge.target;return Ae===I||I.contains(Ae)||b.composed&&b.composedPath().shift()===I};if(b.type==="touchstart"){var ne=Array.prototype.filter.call(b.touches,ZA);if(ne.length>1)return!1;dA=ne[0].pageX,aA=ne[0].pageY}else{var fe=Array.prototype.find.call(b.changedTouches,ZA);if(!fe)return!1;dA=fe.pageX,aA=fe.pageY}}return x=x||Sa(Q),(j||q)&&(dA=b.clientX+x.x,aA=b.clientY+x.y),b.pageOffset=x,b.points=[dA,aA],b.cursor=j||q,b}function Y(b){var x=b-oh(o,A.ort),I=x*100/ee();return I=Ia(I),A.dir?100-I:I}function QA(b){var x=100,I=!1;return l.forEach(function(R,j){if(!z(j)){var q=B[j],dA=Math.abs(q-b),aA=dA===100&&x===100,ZA=dA<x,ne=dA<=x&&b>q;(ZA||ne||aA)&&(I=j,x=dA)}}),I}function nA(b,x){b.type==="mouseout"&&b.target.nodeName==="HTML"&&b.relatedTarget===null&&IA(b,x)}function xA(b,x){if(navigator.appVersion.indexOf("MSIE 9")===-1&&b.buttons===0&&x.buttonsProperty!==0)return IA(b,x);var I=(A.dir?-1:1)*(b.calcPoint-x.startCalcPoint),R=I*100/x.baseSize;BA(I>0,R,x.locations,x.handleNumbers,x.connect)}function IA(b,x){x.handle&&(kn(x.handle,A.cssClasses.active),d-=1),x.listeners.forEach(function(I){C.removeEventListener(I[0],I[1])}),d===0&&(kn(s,A.cssClasses.drag),XA(),b.cursor&&(y.style.cursor="",y.removeEventListener("selectstart",Ea))),A.events.smoothSteps&&(x.handleNumbers.forEach(function(I){UA(I,B[I],!0,!0,!1,!1)}),x.handleNumbers.forEach(function(I){fA("update",I)})),x.handleNumbers.forEach(function(I){fA("change",I),fA("set",I),fA("end",I)})}function LA(b,x){if(!x.handleNumbers.some(z)){var I;if(x.handleNumbers.length===1){var R=l[x.handleNumbers[0]];I=R.children[0],d+=1,Me(I,A.cssClasses.active)}b.stopPropagation();var j=[],q=$(r.move,C,xA,{target:b.target,handle:I,connect:x.connect,listeners:j,startCalcPoint:b.calcPoint,baseSize:ee(),pageOffset:b.pageOffset,handleNumbers:x.handleNumbers,buttonsProperty:b.buttons,locations:B.slice()}),dA=$(r.end,C,IA,{target:b.target,handle:I,listeners:j,doNotReject:!0,handleNumbers:x.handleNumbers}),aA=$("mouseout",C,nA,{target:b.target,handle:I,listeners:j,doNotReject:!0,handleNumbers:x.handleNumbers});j.push.apply(j,q.concat(dA,aA)),b.cursor&&(y.style.cursor=getComputedStyle(b.target).cursor,l.length>1&&Me(s,A.cssClasses.drag),y.addEventListener("selectstart",Ea,!1)),x.handleNumbers.forEach(function(ZA){fA("start",ZA)})}}function kA(b){b.stopPropagation();var x=Y(b.calcPoint),I=QA(x);I!==!1&&(A.events.snap||Ha(s,A.cssClasses.tap,A.animationDuration),UA(I,x,!0,!0),XA(),fA("slide",I,!0),fA("update",I,!0),A.events.snap?LA(b,{handleNumbers:[I]}):(fA("change",I,!0),fA("set",I,!0)))}function EA(b){var x=Y(b.calcPoint),I=f.getStep(x),R=f.fromStepping(I);Object.keys(F).forEach(function(j){j.split(".")[0]==="hover"&&F[j].forEach(function(q){q.call(pA,R)})})}function G(b,x){if(k()||z(x))return!1;var I=["Left","Right"],R=["Down","Up"],j=["PageDown","PageUp"],q=["Home","End"];A.dir&&!A.ort?I.reverse():A.ort&&!A.dir&&(R.reverse(),j.reverse());var dA=b.key.replace("Arrow",""),aA=dA===j[0],ZA=dA===j[1],ne=dA===R[0]||dA===I[0]||aA,fe=dA===R[1]||dA===I[1]||ZA,ge=dA===q[0],Ae=dA===q[1];if(!ne&&!fe&&!ge&&!Ae)return!0;b.preventDefault();var Qe;if(fe||ne){var Oe=ne?0:1,Ie=at(x),ke=Ie[Oe];if(ke===null)return!1;ke===!1&&(ke=f.getDefaultStep(B[x],ne,A.keyboardDefaultStep)),ZA||aA?ke*=A.keyboardPageMultiplier:ke*=A.keyboardMultiplier,ke=Math.max(ke,1e-7),ke=(ne?-1:1)*ke,Qe=h[x]+ke}else Ae?Qe=A.spectrum.xVal[A.spectrum.xVal.length-1]:Qe=A.spectrum.xVal[0];return UA(x,f.toStepping(Qe),!0,!0),fA("slide",x),fA("update",x),fA("change",x),fA("set",x),!1}function gA(b){b.fixed||l.forEach(function(x,I){$(r.start,x.children[0],LA,{handleNumbers:[I]})}),b.tap&&$(r.start,o,kA,{}),b.hover&&$(r.move,o,EA,{hover:!0}),b.drag&&c.forEach(function(x,I){if(!(x===!1||I===0||I===c.length-1)){var R=l[I-1],j=l[I],q=[x],dA=[R,j],aA=[I-1,I];Me(x,A.cssClasses.draggable),b.fixed&&(q.push(R.children[0]),q.push(j.children[0])),b.dragAll&&(dA=l,aA=w),q.forEach(function(ZA){$(r.start,ZA,LA,{handles:dA,handleNumbers:aA,connect:x})})}})}function CA(b,x){F[b]=F[b]||[],F[b].push(x),b.split(".")[0]==="update"&&l.forEach(function(I,R){fA("update",R)})}function HA(b){return b===xt.aria||b===xt.tooltips}function vA(b){var x=b&&b.split(".")[0],I=x?b.substring(x.length):b;Object.keys(F).forEach(function(R){var j=R.split(".")[0],q=R.substring(j.length);(!x||x===j)&&(!I||I===q)&&(!HA(q)||I===q)&&delete F[R]})}function fA(b,x,I){Object.keys(F).forEach(function(R){var j=R.split(".")[0];b===j&&F[R].forEach(function(q){q.call(pA,h.map(A.format.to),x,h.slice(),I||!1,B.slice(),pA)})})}function RA(b,x,I,R,j,q,dA){var aA;return l.length>1&&!A.events.unconstrained&&(R&&x>0&&(aA=f.getAbsoluteDistance(b[x-1],A.margin,!1),I=Math.max(I,aA)),j&&x<l.length-1&&(aA=f.getAbsoluteDistance(b[x+1],A.margin,!0),I=Math.min(I,aA))),l.length>1&&A.limit&&(R&&x>0&&(aA=f.getAbsoluteDistance(b[x-1],A.limit,!1),I=Math.min(I,aA)),j&&x<l.length-1&&(aA=f.getAbsoluteDistance(b[x+1],A.limit,!0),I=Math.max(I,aA))),A.padding&&(x===0&&(aA=f.getAbsoluteDistance(0,A.padding[0],!1),I=Math.max(I,aA)),x===l.length-1&&(aA=f.getAbsoluteDistance(100,A.padding[1],!0),I=Math.min(I,aA))),dA||(I=f.getStep(I)),I=Ia(I),I===b[x]&&!q?!1:I}function iA(b,x){var I=A.ort;return(I?x:b)+", "+(I?b:x)}function BA(b,x,I,R,j){var q=I.slice(),dA=R[0],aA=A.events.smoothSteps,ZA=[!b,b],ne=[b,!b];R=R.slice(),b&&R.reverse(),R.length>1?R.forEach(function(ge,Ae){var Qe=RA(q,ge,q[ge]+x,ZA[Ae],ne[Ae],!1,aA);Qe===!1?x=0:(x=Qe-q[ge],q[ge]=Qe)}):ZA=ne=[!0];var fe=!1;R.forEach(function(ge,Ae){fe=UA(ge,I[ge]+x,ZA[Ae],ne[Ae],!1,aA)||fe}),fe&&(R.forEach(function(ge){fA("update",ge),fA("slide",ge)}),j!=null&&fA("drag",dA))}function rA(b,x){return A.dir?100-b-x:b}function hA(b,x){B[b]=x,h[b]=f.fromStepping(x);var I=rA(x,0)-H,R="translate("+iA(I+"%","0")+")";if(l[b].style[A.transformRule]=R,A.events.invertConnects&&B.length>1){var j=B.every(function(q,dA,aA){return dA===0||q>=aA[dA-1]});if(_!==!j){AA();return}}bA(b),bA(b+1),_&&(bA(b-1),bA(b+2))}function XA(){w.forEach(function(b){var x=B[b]>50?-1:1,I=3+(l.length+x*b);l[b].style.zIndex=String(I)})}function UA(b,x,I,R,j,q){return j||(x=RA(B,b,x,I,R,!1,q)),x===!1?!1:(hA(b,x),!0)}function bA(b){if(c[b]){var x=B.slice();_&&x.sort(function(aA,ZA){return aA-ZA});var I=0,R=100;b!==0&&(I=x[b-1]),b!==c.length-1&&(R=x[b]);var j=R-I,q="translate("+iA(rA(I,j)+"%","0")+")",dA="scale("+iA(j/100,"1")+")";c[b].style[A.transformRule]=q+" "+dA}}function qA(b,x){return b===null||b===!1||b===void 0||(typeof b=="number"&&(b=String(b)),b=A.format.from(b),b!==!1&&(b=f.toStepping(b)),b===!1||isNaN(b))?B[x]:b}function ce(b,x,I){var R=Ln(b),j=B[0]===void 0;x=x===void 0?!0:x,A.animate&&!j&&Ha(s,A.cssClasses.tap,A.animationDuration),w.forEach(function(aA){UA(aA,qA(R[aA],aA),!0,!1,I)});var q=w.length===1?0:1;if(j&&f.hasNoSize()&&(I=!0,B[0]=0,w.length>1)){var dA=100/(w.length-1);w.forEach(function(aA){B[aA]=aA*dA})}for(;q<w.length;++q)w.forEach(function(aA){UA(aA,B[aA],!0,!0,I)});XA(),w.forEach(function(aA){fA("update",aA),R[aA]!==null&&x&&fA("set",aA)})}function ue(b){ce(A.start,b)}function He(b,x,I,R){if(b=Number(b),!(b>=0&&b<w.length))throw new Error("noUiSlider: invalid handle number, got: "+b);UA(b,qA(x,b),!0,!0,R),fA("update",b),I&&fA("set",b)}function oe(b){if(b===void 0&&(b=!1),b)return h.length===1?h[0]:h.slice(0);var x=h.map(A.format.to);return x.length===1?x[0]:x}function dt(){for(vA(xt.aria),vA(xt.tooltips),Object.keys(A.cssClasses).forEach(function(b){kn(s,A.cssClasses[b])});s.firstChild;)s.removeChild(s.firstChild);delete s.noUiSlider}function at(b){var x=B[b],I=f.getNearbySteps(x),R=h[b],j=I.thisStep.step,q=null;if(A.snap)return[R-I.stepBefore.startValue||null,I.stepAfter.startValue-R||null];j!==!1&&R+j>I.stepAfter.startValue&&(j=I.stepAfter.startValue-R),R>I.thisStep.startValue?q=I.thisStep.step:I.stepBefore.step===!1?q=!1:q=R-I.stepBefore.highestStep,x===100?j=null:x===0&&(q=null);var dA=f.countStepDecimals();return j!==null&&j!==!1&&(j=Number(j.toFixed(dA))),q!==null&&q!==!1&&(q=Number(q.toFixed(dA))),[q,j]}function At(){return w.map(at)}function we(b,x){var I=oe(),R=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];R.forEach(function(q){b[q]!==void 0&&(t[q]=b[q])});var j=Da(t);R.forEach(function(q){b[q]!==void 0&&(A[q]=j[q])}),f=j.spectrum,A.margin=j.margin,A.limit=j.limit,A.padding=j.padding,A.pips?OA(A.pips):VA(),A.tooltips?W():V(),B=[],ce(Bs(b.start)?b.start:I,x),b.connect&&wt()}function wt(){for(;a.firstChild;)a.removeChild(a.firstChild);for(var b=0;b<=A.handles;b++)c[b]=E(a,A.connect[b]),bA(b);gA({drag:A.events.drag,fixed:!0})}function AA(){_=!_,Ka(A,A.connect.map(function(b){return!b})),wt()}function KA(){o=N(s),L(A.connect,o),gA(A.events),ce(A.start),A.pips&&OA(A.pips),A.tooltips&&W(),J()}KA();var pA={destroy:dt,steps:At,on:CA,off:vA,get:oe,set:ce,setHandle:He,reset:ue,disable:K,enable:Z,__moveHandles:function(b,x,I){BA(b,x,B,I)},options:t,updateOptions:we,target:s,removePips:VA,removeTooltips:V,getPositions:function(){return B.slice()},getTooltips:function(){return g},getOrigins:function(){return l},pips:OA};return pA}function Rh(e,A){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var t=Da(A),r=Nh(e,t,A);return e.noUiSlider=r,r}const Vh={__spectrum:xa,cssClasses:ka,create:Rh},Kb="",Mb="";function Gh(e){let A,t,r;return{c(){A=v("span"),t=sA(e[0]),m(A,"id",e[3]),m(A,"class",r="tooltip "+e[2]+" "+(e[1]?"display":"")+" svelte-1vbe6c4")},m(n,i){D(n,A,i),p(A,t)},p(n,[i]){i&1&&TA(t,n[0]),i&6&&r!==(r="tooltip "+n[2]+" "+(n[1]?"display":"")+" svelte-1vbe6c4")&&m(A,"class",r)},i:tA,o:tA,d(n){n&&M(A)}}}function Ph(e,A,t){let r,n,i,s,{tooltipText:o}=A,{targetHtmlId:a}=A;const l=`tooltip-generic-${window.crypto.randomUUID()}`,c=()=>t(1,s=!0),u=()=>t(1,s=!1),g=()=>t(1,s=!s);return Gt(()=>{i=a?document.getElementById(a):document.getElementById(l).parentElement,a&&!i&&(console.error(`TooltipGeneric: element with ID ${a} not found, defaulting to the parent element`),i=document.getElementById(l).targetElement),i.addEventListener("mouseover",c),i.addEventListener("mouseout",u),i.addEventListener("click",g)}),rr(()=>{i.removeEventListener("mouseover",c),i.removeEventListener("mouseout",u),i.removeEventListener("click",g)}),e.$$set=f=>{"tooltipText"in f&&t(0,o=f.tooltipText),"targetHtmlId"in f&&t(4,a=f.targetHtmlId)},e.$$.update=()=>{e.$$.dirty&33&&t(2,r=n(o))},t(5,n=f=>t(2,r=f.length>100?"tooltip-wide":f.length>20?"tooltip-mid":"tooltip-thin")),i=void 0,t(1,s=!1),[o,s,r,l,a,n]}class ws extends $A{constructor(A){super(),zA(this,A,Ph,Gh,JA,{tooltipText:0,targetHtmlId:4})}}const Db="";function Xh(e){let A,t,r,n,i,s,o,a,l,c,u,g,f,h,B,w;return{c(){A=v("div"),t=v("span"),r=sA(e[2]),n=sA(" ("),i=sA(e[3]),s=sA(")"),o=T(),a=v("div"),l=v("span"),c=sA(e[0]),u=T(),g=v("div"),f=v("div"),h=T(),B=v("span"),w=sA(e[1]),m(l,"class","range-marker svelte-216mtn"),m(f,"class","slider"),m(f,"id",e[4]),m(g,"class","slider-wrapper svelte-216mtn"),m(B,"class","range-marker svelte-216mtn"),m(a,"class","slider-outer-wrapper is-flex flex-direction-row svelte-216mtn")},m(d,F){D(d,A,F),p(A,t),p(t,r),p(t,n),p(t,i),p(t,s),p(A,o),p(A,a),p(a,l),p(l,c),p(a,u),p(a,g),p(g,f),p(a,h),p(a,B),p(B,w)},p(d,[F]){F&4&&TA(r,d[2]),F&8&&TA(i,d[3]),F&1&&TA(c,d[0]),F&2&&TA(w,d[1])},i:tA,o:tA,d(d){d&&M(A)}}}function Jh(e,A,t){let r,{minVal:n}=A,{maxVal:i}=A,{start:s}=A,{step:o=void 0}=A,{roundTo:a=2}=A,{title:l=""}=A,{emitOnUpdate:c=!1}=A;const u=Cn(),g=`slider-${window.crypto.randomUUID()}`,f=Array.isArray(s)&&s.length===2&&s.every(U=>!isNaN(parseFloat(U))),h=[],B=f?[`noUi-handle-${window.crypto.randomUUID()}`,`noUi-handle-${window.crypto.randomUUID()}`]:[`noUi-handle-${window.crypto.randomUUID()}`],w=SB();w.setCompareFn(f?xB:(U,S)=>F(U)===F(S)),w.set(s);const d=aa("resetTrigger")||void 0;d==null||d.subscribe(C);const F=U=>Number(U.toFixed(a)),_=(U,S)=>{U=Array.isArray(U)?U.map(F):F(U),t(3,r=U),(S==="set"||S==="update"&&c)&&(w.set(U),w.same()||u("updateSlider",w.get()))};function Q(U){h.length&&h.map((S,E)=>S.$set({tooltipText:f?U[E]:U}))}function C(){const U=document.getElementById(g);U!=null&&U.noUiSlider&&U.noUiSlider.reset()}function y(){const U=document.getElementById(g);let S;Vh.create(U,{start:s,step:o,connect:f?!0:"lower",range:{min:n,max:i},handleAttributes:B.map(E=>({id:E}))}),U.noUiSlider.on("update",()=>{S=U.noUiSlider.get(!0),_(S,"update")}),U.noUiSlider.on("set",()=>{S=U.noUiSlider.get(!0),_(S,"set")})}function H(){B.map((U,S)=>{h.push(new ws({target:document.getElementById(U),props:f?{tooltipText:r[S]}:{tooltipText:r}}))})}return Gt(()=>{y(),H()}),rr(()=>{document.getElementById(g)&&(document.getElementById(g).innerHTML="")}),e.$$set=U=>{"minVal"in U&&t(0,n=U.minVal),"maxVal"in U&&t(1,i=U.maxVal),"start"in U&&t(5,s=U.start),"step"in U&&t(6,o=U.step),"roundTo"in U&&t(7,a=U.roundTo),"title"in U&&t(2,l=U.title),"emitOnUpdate"in U&&t(8,c=U.emitOnUpdate)},e.$$.update=()=>{e.$$.dirty&32&&t(3,r=s),e.$$.dirty&8&&Q(r)},[n,i,l,r,g,s,o,a,c]}class Ta extends $A{constructor(A){super(),zA(this,A,Jh,Xh,JA,{minVal:0,maxVal:1,start:5,step:6,roundTo:7,title:2,emitOnUpdate:8})}}function Oa(e,A,t){const r=e.slice();return r[43]=A[t],r}function Na(e,A,t){const r=e.slice();return r[46]=A[t],r}function Ra(e,A,t){const r=e.slice();return r[43]=A[t],r}function Va(e,A,t){const r=e.slice();r[51]=A[t];const n=Object.keys(r[29][r[51]]||{});return r[52]=n,r}function Ga(e){var wt;let A,t,r,n=((wt=e[0])==null?void 0:wt.title)+"",i,s,o,a,l,c,u,g,f,h=(e[3].pairs||0)+"",B,w,d,F,_,Q,C,y=(e[3].images||0)+"",H,U,S,E,L,N,X,k=(e[4]||0)+"",z,K,Z,V,W,J,lA,wA,MA,DA,VA,OA,ee,$,cA,Y,QA,nA,xA,IA,LA,kA,EA,G,gA,CA,HA,vA,fA,RA,iA,BA=["Series","Witness","Work"],rA=[];for(let AA=0;AA<3;AA+=1)rA[AA]=Pa(Va(e,BA,AA));W=new rh({props:{documentNodes:e[5],selectedRegions:e[6],toggleRegion:e[19],selectAllRegions:e[18]}});let hA=["all","filtered"],XA=[];for(let AA=0;AA<2;AA+=1)XA[AA]=Xa(Ra(e,hA,AA));let UA=e[30],bA=[];for(let AA=0;AA<UA.length;AA+=1)bA[AA]=Ja(Na(e,UA,AA));const qA=AA=>P(bA[AA],1,1,()=>{bA[AA]=null});let ce=["threshold","topk"],ue=[];for(let AA=0;AA<2;AA+=1)ue[AA]=Wa(Oa(e,ce,AA));const He=[zh,Yh],oe=[];function dt(AA,KA){return AA[7]==="threshold"?0:1}EA=dt(e),G=oe[EA]=He[EA](e);function at(AA,KA){if(AA[12]==="img")return qh;if(AA[12]==="doc")return jh;if(AA[12]==="mat")return Zh;if(AA[12]==="sim")return $h}let At=at(e),we=At&&At(e);return{c(){A=v("div"),t=v("div"),r=v("h1"),i=sA(n),s=T(),o=v("div");for(let AA=0;AA<3;AA+=1)rA[AA].c();a=T(),l=v("div"),c=v("div"),u=v("p"),u.textContent=`${eA==="en"?"Pairs":"Paires"}`,g=T(),f=v("p"),B=sA(h),w=T(),d=v("div"),F=v("div"),_=v("p"),_.textContent="Images",Q=T(),C=v("p"),H=sA(y),U=T(),S=v("div"),E=v("div"),L=v("p"),L.textContent="Clusters",N=T(),X=v("p"),z=sA(k),K=T(),Z=v("hr"),V=T(),_A(W.$$.fragment),J=T(),lA=v("hr"),wA=T(),MA=v("div"),DA=v("h3"),DA.textContent=`${eA==="en"?"Similarity categories":"Catégories de similarité"}`,VA=T(),OA=v("div");for(let AA=0;AA<2;AA+=1)XA[AA].c();ee=T(),$=v("div");for(let AA=0;AA<bA.length;AA+=1)bA[AA].c();cA=T(),Y=v("hr"),QA=T(),nA=v("div"),xA=v("h3"),xA.textContent=`${eA==="en"?"Similarity score":"Score de similarité"}`,IA=T(),LA=v("div");for(let AA=0;AA<2;AA+=1)ue[AA].c();kA=T(),G.c(),gA=T(),CA=v("hr"),HA=T(),vA=v("div"),fA=v("h3"),fA.textContent=`${eA==="en"?"Visualisation information":"Informations sur la visualisation"}`,RA=T(),we&&we.c(),m(r,"class","title"),m(u,"class","heading"),m(f,"class","title is-5"),m(l,"class","level-item has-text-centered"),m(_,"class","heading"),m(C,"class","title is-5"),m(d,"class","level-item has-text-centered"),m(L,"class","heading"),m(X,"class","title is-5"),m(S,"class","level-item has-text-centered"),m(o,"class","level"),m(t,"class","pb-2"),m(DA,"class","title"),m(OA,"class","buttons mb-3"),m($,"class","level"),ie($,"is-disabled",e[1]==="all"),m(MA,"class","pt-2"),m(xA,"class","title"),m(LA,"class","buttons mb-3"),m(nA,"class","pt-2"),m(fA,"class","title"),m(vA,"class","py-2"),m(A,"class","content is-small mt-4")},m(AA,KA){D(AA,A,KA),p(A,t),p(t,r),p(r,i),p(t,s),p(t,o);for(let pA=0;pA<3;pA+=1)rA[pA]&&rA[pA].m(o,null);p(o,a),p(o,l),p(l,c),p(c,u),p(c,g),p(c,f),p(f,B),p(o,w),p(o,d),p(d,F),p(F,_),p(F,Q),p(F,C),p(C,H),p(o,U),p(o,S),p(S,E),p(E,L),p(E,N),p(E,X),p(X,z),p(A,K),p(A,Z),p(A,V),FA(W,A,null),p(A,J),p(A,lA),p(A,wA),p(A,MA),p(MA,DA),p(MA,VA),p(MA,OA);for(let pA=0;pA<2;pA+=1)XA[pA]&&XA[pA].m(OA,null);p(MA,ee),p(MA,$);for(let pA=0;pA<bA.length;pA+=1)bA[pA]&&bA[pA].m($,null);p(A,cA),p(A,Y),p(A,QA),p(A,nA),p(nA,xA),p(nA,IA),p(nA,LA);for(let pA=0;pA<2;pA+=1)ue[pA]&&ue[pA].m(LA,null);p(nA,kA),oe[EA].m(nA,null),p(A,gA),p(A,CA),p(A,HA),p(A,vA),p(vA,fA),p(vA,RA),we&&we.m(vA,null),iA=!0},p(AA,KA){var x;if((!iA||KA[0]&1)&&n!==(n=((x=AA[0])==null?void 0:x.title)+"")&&TA(i,n),KA[0]&536870912){BA=["Series","Witness","Work"];let I;for(I=0;I<3;I+=1){const R=Va(AA,BA,I);rA[I]?rA[I].p(R,KA):(rA[I]=Pa(R),rA[I].c(),rA[I].m(o,a))}for(;I<3;I+=1)rA[I].d(1)}(!iA||KA[0]&8)&&h!==(h=(AA[3].pairs||0)+"")&&TA(B,h),(!iA||KA[0]&8)&&y!==(y=(AA[3].images||0)+"")&&TA(H,y),(!iA||KA[0]&16)&&k!==(k=(AA[4]||0)+"")&&TA(z,k);const pA={};if(KA[0]&32&&(pA.documentNodes=AA[5]),KA[0]&64&&(pA.selectedRegions=AA[6]),W.$set(pA),KA[0]&2|KA[1]&1){hA=["all","filtered"];let I;for(I=0;I<2;I+=1){const R=Ra(AA,hA,I);XA[I]?XA[I].p(R,KA):(XA[I]=Xa(R),XA[I].c(),XA[I].m(OA,null))}for(;I<2;I+=1)XA[I].d(1)}if(KA[0]&1073807374){UA=AA[30];let I;for(I=0;I<UA.length;I+=1){const R=Na(AA,UA,I);bA[I]?(bA[I].p(R,KA),O(bA[I],1)):(bA[I]=Ja(R),bA[I].c(),O(bA[I],1),bA[I].m($,null))}for(WA(),I=UA.length;I<bA.length;I+=1)qA(I);YA()}if((!iA||KA[0]&2)&&ie($,"is-disabled",AA[1]==="all"),KA[0]&128|KA[1]&2){ce=["threshold","topk"];let I;for(I=0;I<2;I+=1){const R=Oa(AA,ce,I);ue[I]?ue[I].p(R,KA):(ue[I]=Wa(R),ue[I].c(),ue[I].m(LA,null))}for(;I<2;I+=1)ue[I].d(1)}let b=EA;EA=dt(AA),EA===b?oe[EA].p(AA,KA):(WA(),P(oe[b],1,1,()=>{oe[b]=null}),YA(),G=oe[EA],G?G.p(AA,KA):(G=oe[EA]=He[EA](AA),G.c()),O(G,1),G.m(nA,null)),At===(At=at(AA))&&we?we.p(AA,KA):(we&&we.d(1),we=At&&At(AA),we&&(we.c(),we.m(vA,null)))},i(AA){if(!iA){O(W.$$.fragment,AA);for(let KA=0;KA<UA.length;KA+=1)O(bA[KA]);O(G),iA=!0}},o(AA){P(W.$$.fragment,AA),bA=bA.filter(Boolean);for(let KA=0;KA<bA.length;KA+=1)P(bA[KA]);P(G),iA=!1},d(AA){AA&&M(A),Se(rA,AA),yA(W),Se(XA,AA),Se(bA,AA),Se(ue,AA),oe[EA].d(),we&&we.d()}}}function Wh(e){let A,t,r,n=In[e[51]]+"",i,s,o,a=(e[52].length||0)+"",l;return{c(){A=v("div"),t=v("div"),r=v("p"),i=sA(n),s=T(),o=v("p"),l=sA(a),m(r,"class","heading"),m(o,"class","title is-5"),m(A,"class","level-item has-text-centered")},m(c,u){D(c,A,u),p(A,t),p(t,r),p(r,i),p(t,s),p(t,o),p(o,l)},p:tA,d(c){c&&M(A)}}}function Pa(e){let A,t=e[52].length>0&&Wh(e);return{c(){t&&t.c(),A=Ke()},m(r,n){t&&t.m(r,n),D(r,A,n)},p(r,n){r[52].length>0&&t.p(r,n)},d(r){t&&t.d(r),r&&M(A)}}}function Xa(e){let A,t=e[43]==="all"?eA==="en"?"All pairs":"Toutes les paires":eA==="en"?"Filter by category":"Filtrer par catégorie",r,n,i,s;function o(){return e[35](e[43])}return{c(){A=v("button"),r=sA(t),n=T(),m(A,"class","button is-small is-flex-grow-1"),ie(A,"is-link",e[1]===e[43]),ie(A,"is-contrasted",e[1]!==e[43])},m(a,l){D(a,A,l),p(A,r),p(A,n),i||(s=mA(A,"click",o),i=!0)},p(a,l){e=a,l[0]&2&&ie(A,"is-link",e[1]===e[43]),l[0]&2&&ie(A,"is-contrasted",e[1]!==e[43])},d(a){a&&M(A),i=!1,s()}}}function Ja(e){let A,t,r,n,i,s=(e[3].categories[e[46]]||0)+"",o,a,l;return r=new $B({props:{category:e[46],isSelected:e[2].includes(e[46]),toggle:e[36],selectable:e[1]==="filtered"}}),{c(){A=v("div"),t=v("div"),_A(r.$$.fragment),n=T(),i=v("p"),o=sA(s),a=T(),m(i,"class","is-size-7 mt-1"),m(A,"class","level-item has-text-centered")},m(c,u){D(c,A,u),p(A,t),FA(r,t,null),p(t,n),p(t,i),p(i,o),p(A,a),l=!0},p(c,u){const g={};u[0]&4&&(g.isSelected=c[2].includes(c[46])),u[0]&2&&(g.toggle=c[36]),u[0]&2&&(g.selectable=c[1]==="filtered"),r.$set(g),(!l||u[0]&8)&&s!==(s=(c[3].categories[c[46]]||0)+"")&&TA(o,s)},i(c){l||(O(r.$$.fragment,c),l=!0)},o(c){P(r.$$.fragment,c),l=!1},d(c){c&&M(A),yA(r)}}}function Wa(e){let A,t=e[43]==="threshold"?eA==="en"?"Score threshold":"Seuil de score":eA==="en"?"Top K pairs":"Top K paires",r,n,i,s;function o(){return e[37](e[43])}return{c(){A=v("button"),r=sA(t),n=T(),m(A,"class","button is-small is-flex-grow-1"),ie(A,"is-link",e[7]===e[43]),ie(A,"is-contrasted",e[7]!==e[43])},m(a,l){D(a,A,l),p(A,r),p(A,n),i||(s=mA(A,"click",o),i=!0)},p(a,l){e=a,l[0]&128&&ie(A,"is-link",e[7]===e[43]),l[0]&128&&ie(A,"is-contrasted",e[7]!==e[43])},d(a){a&&M(A),i=!1,s()}}}function Yh(e){let A,t,r,n,i,s,o,a,l,c,u,g;return r=new Ta({props:{minVal:1,maxVal:5,start:e[10]||3,step:1,roundTo:0,title:"K"}}),r.$on("updateSlider",e[39]),{c(){A=v("div"),t=v("div"),_A(r.$$.fragment),n=T(),i=v("div"),s=v("label"),o=v("input"),a=T(),l=v("span"),l.textContent=`${eA==="en"?"Mutual top K":"Top K mutuel"}`,m(t,"class","column is-two-thirds pl-4"),o.checked=e[11],m(o,"type","checkbox"),m(o,"class","mr-2"),m(l,"class","is-size-7"),m(s,"class","checkbox mt-3 is-flex is-align-items-center"),m(i,"class","column mt-2"),m(A,"class","columns mt-2")},m(f,h){D(f,A,h),p(A,t),FA(r,t,null),p(A,n),p(A,i),p(i,s),p(s,o),p(s,a),p(s,l),c=!0,u||(g=mA(o,"change",e[40]),u=!0)},p(f,h){const B={};h[0]&1024&&(B.start=f[10]||3),r.$set(B),(!c||h[0]&2048)&&(o.checked=f[11])},i(f){c||(O(r.$$.fragment,f),c=!0)},o(f){P(r.$$.fragment,f),c=!1},d(f){f&&M(A),yA(r),u=!1,g()}}}function zh(e){var r,n;let A,t;return A=new Ta({props:{minVal:((r=e[8].scoreRange)==null?void 0:r.min)||0,maxVal:((n=e[8].scoreRange)==null?void 0:n.max)||1,start:e[9],step:.01,roundTo:2,title:eA==="en"?"Minimum score":"Score minimum"}}),A.$on("updateSlider",e[38]),{c(){_A(A.$$.fragment)},m(i,s){FA(A,i,s),t=!0},p(i,s){var a,l;const o={};s[0]&256&&(o.minVal=((a=i[8].scoreRange)==null?void 0:a.min)||0),s[0]&256&&(o.maxVal=((l=i[8].scoreRange)==null?void 0:l.max)||1),s[0]&512&&(o.start=i[9]),A.$set(o)},i(i){t||(O(A.$$.fragment,i),t=!0)},o(i){P(A.$$.fragment,i),t=!1},d(i){yA(A,i)}}}function $h(e){let A;return{c(){A=v("p"),A.textContent=`${eA==="en"?"Groups of images that share a similarity connection above the score threshold.":"Groupes d'images partageant une connexion de similarité au-dessus du seuil de score."}`},m(t,r){D(t,A,r)},p:tA,d(t){t&&M(A)}}}function Zh(e){let A;return{c(){A=v("p"),A.textContent=`${eA==="en"?"Matrix showing aggregated similarity scores between documents. Click a cell to explore page-level similarities in a scatter plot interface.":"Matrice affichant les scores de similarité agrégés entre documents. Cliquez sur une cellule pour explorer les similarités entre paires de documents."}`},m(t,r){D(t,A,r)},p:tA,d(t){t&&M(A)}}}function jh(e){let A;return{c(){A=v("p"),A.textContent=`${eA==="en"?"Network where each node is a document. Edge thickness reflects the cumulative similarity score between document pairs. Node size indicates the number of connections.":"Réseau où chaque nœud est un document. L'épaisseur des liens reflète le score de similarité cumulé entre paires de documents. La taille des nœuds indique le nombre de connexions."}`},m(t,r){D(t,A,r)},p:tA,d(t){t&&M(A)}}}function qh(e){let A;return{c(){A=v("p"),A.textContent=`${eA==="en"?"Network where each node is an image region. Edges connect regions with similarity scores above the threshold. Node color indicates the source document.":"Réseau où chaque nœud est une région d'image. Les liens connectent les régions dont le score de similarité dépasse le seuil. La couleur indique le document source."}`},m(t,r){D(t,A,r)},p:tA,d(t){t&&M(A)}}}function Ad(e){let A,t,r=e[3]&&Ga(e);return{c(){A=v("div"),r&&r.c(),m(A,"class","m-4 py-5 px-4")},m(n,i){D(n,A,i),r&&r.m(A,null),t=!0},p(n,i){n[3]?r?(r.p(n,i),i[0]&8&&O(r,1)):(r=Ga(n),r.c(),O(r,1),r.m(A,null)):r&&(WA(),P(r,1,1,()=>{r=null}),YA())},i(n){t||(O(r),t=!0)},o(n){P(r),t=!1},d(n){n&&M(A),r&&r.d()}}}function ed(e,A,t){let r,n,i,s,o,a,l,c,u,g,f;SA(e,Pt,Y=>t(12,f=Y));let{docSet:h=null}=A,{documentSetStore:B}=A,{clusterStore:w}=A;const{docSetNumber:d,documentNodes:F,selectedCategories:_,toggleCategory:Q,selectedRegions:C,selectAllRegions:y,toggleRegion:H,threshold:U,setThreshold:S,topK:E,setTopK:L,mutualTopK:N,setMutualTopK:X,scoreMode:k,setScoreMode:z,pairStats:K}=B;SA(e,d,Y=>t(3,n=Y)),SA(e,F,Y=>t(5,s=Y)),SA(e,_,Y=>t(2,r=Y)),SA(e,C,Y=>t(6,o=Y)),SA(e,U,Y=>t(9,c=Y)),SA(e,E,Y=>t(10,u=Y)),SA(e,N,Y=>t(11,g=Y)),SA(e,k,Y=>t(7,a=Y)),SA(e,K,Y=>t(8,l=Y));const{clusterNb:Z,handlePageUpdate:V}=w;SA(e,Z,Y=>t(4,i=Y));const W=aa("selectedDocuments"),J=[0,1,2,3,5];let lA="filtered";function wA(Y){t(1,lA=Y),Y==="all"&&r.length!==J.length&&_.set(J)}function MA(Y){V(1),z(Y)}const DA=Y=>wA(Y),VA=Y=>lA==="filtered"?Q(Y):null,OA=Y=>MA(Y),ee=Y=>S(Y.detail),$=Y=>L(Y.detail),cA=()=>X(!g);return e.$$set=Y=>{"docSet"in Y&&t(0,h=Y.docSet),"documentSetStore"in Y&&t(33,B=Y.documentSetStore),"clusterStore"in Y&&t(34,w=Y.clusterStore)},[h,lA,r,n,i,s,o,a,l,c,u,g,f,d,F,_,Q,C,y,H,U,S,E,L,N,X,k,K,Z,W,J,wA,MA,B,w,DA,VA,OA,ee,$,cA]}class td extends $A{constructor(A){super(),zA(this,A,ed,Ad,JA,{docSet:0,documentSetStore:33,clusterStore:34},null,[-1,-1])}}function Kn(e,A){return e==null||A==null?NaN:e<A?-1:e>A?1:e>=A?0:NaN}function rd(e,A){return e==null||A==null?NaN:A<e?-1:A>e?1:A>=e?0:NaN}function Ya(e){let A,t,r;e.length!==2?(A=Kn,t=(o,a)=>Kn(e(o),a),r=(o,a)=>e(o)-a):(A=e===Kn||e===rd?e:nd,t=e,r=e);function n(o,a,l=0,c=o.length){if(l<c){if(A(a,a)!==0)return c;do{const u=l+c>>>1;t(o[u],a)<0?l=u+1:c=u}while(l<c)}return l}function i(o,a,l=0,c=o.length){if(l<c){if(A(a,a)!==0)return c;do{const u=l+c>>>1;t(o[u],a)<=0?l=u+1:c=u}while(l<c)}return l}function s(o,a,l=0,c=o.length){const u=n(o,a,l,c-1);return u>l&&r(o[u-1],a)>-r(o[u],a)?u-1:u}return{left:n,center:s,right:i}}function nd(){return 0}function id(e){return e===null?NaN:+e}const sd=Ya(Kn).right;Ya(id).center;const od=sd;class za extends Map{constructor(A,t=cd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),A!=null)for(const[r,n]of A)this.set(r,n)}get(A){return super.get($a(this,A))}has(A){return super.has($a(this,A))}set(A,t){return super.set(ad(this,A),t)}delete(A){return super.delete(ld(this,A))}}function $a({_intern:e,_key:A},t){const r=A(t);return e.has(r)?e.get(r):t}function ad({_intern:e,_key:A},t){const r=A(t);return e.has(r)?e.get(r):(e.set(r,t),t)}function ld({_intern:e,_key:A},t){const r=A(t);return e.has(r)&&(t=e.get(r),e.delete(r)),t}function cd(e){return e!==null&&typeof e=="object"?e.valueOf():e}const ud=Math.sqrt(50),fd=Math.sqrt(10),gd=Math.sqrt(2);function Mn(e,A,t){const r=(A-e)/Math.max(0,t),n=Math.floor(Math.log10(r)),i=r/Math.pow(10,n),s=i>=ud?10:i>=fd?5:i>=gd?2:1;let o,a,l;return n<0?(l=Math.pow(10,-n)/s,o=Math.round(e*l),a=Math.round(A*l),o/l<e&&++o,a/l>A&&--a,l=-l):(l=Math.pow(10,n)*s,o=Math.round(e/l),a=Math.round(A/l),o*l<e&&++o,a*l>A&&--a),a<o&&.5<=t&&t<2?Mn(e,A,t*2):[o,a,l]}function Bd(e,A,t){if(A=+A,e=+e,t=+t,!(t>0))return[];if(e===A)return[e];const r=A<e,[n,i,s]=r?Mn(A,e,t):Mn(e,A,t);if(!(i>=n))return[];const o=i-n+1,a=new Array(o);if(r)if(s<0)for(let l=0;l<o;++l)a[l]=(i-l)/-s;else for(let l=0;l<o;++l)a[l]=(i-l)*s;else if(s<0)for(let l=0;l<o;++l)a[l]=(n+l)/-s;else for(let l=0;l<o;++l)a[l]=(n+l)*s;return a}function ps(e,A,t){return A=+A,e=+e,t=+t,Mn(e,A,t)[2]}function hd(e,A,t){A=+A,e=+e,t=+t;const r=A<e,n=r?ps(A,e,t):ps(e,A,t);return(r?-1:1)*(n<0?1/-n:n)}function Dn(e,A,t){e=+e,A=+A,t=(n=arguments.length)<2?(A=e,e=0,1):n<3?1:+t;for(var r=-1,n=Math.max(0,Math.ceil((A-e)/t))|0,i=new Array(n);++r<n;)i[r]=e+r*t;return i}function dd(e){return e}var Tn=1,ms=2,Za=3,kr=4,ja=1e-6;function wd(e){return"translate("+e+",0)"}function pd(e){return"translate(0,"+e+")"}function md(e){return A=>+e(A)}function Qd(e,A){return A=Math.max(0,e.bandwidth()-A*2)/2,e.round()&&(A=Math.round(A)),t=>+e(t)+A}function Cd(){return!this.__axis}function qa(e,A){var t=[],r=null,n=null,i=6,s=6,o=3,a=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===Tn||e===kr?-1:1,c=e===kr||e===ms?"x":"y",u=e===Tn||e===Za?wd:pd;function g(f){var h=r??(A.ticks?A.ticks.apply(A,t):A.domain()),B=n??(A.tickFormat?A.tickFormat.apply(A,t):dd),w=Math.max(i,0)+o,d=A.range(),F=+d[0]+a,_=+d[d.length-1]+a,Q=(A.bandwidth?Qd:md)(A.copy(),a),C=f.selection?f.selection():f,y=C.selectAll(".domain").data([null]),H=C.selectAll(".tick").data(h,A).order(),U=H.exit(),S=H.enter().append("g").attr("class","tick"),E=H.select("line"),L=H.select("text");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),H=H.merge(S),E=E.merge(S.append("line").attr("stroke","currentColor").attr(c+"2",l*i)),L=L.merge(S.append("text").attr("fill","currentColor").attr(c,l*w).attr("dy",e===Tn?"0em":e===Za?"0.71em":"0.32em")),f!==C&&(y=y.transition(f),H=H.transition(f),E=E.transition(f),L=L.transition(f),U=U.transition(f).attr("opacity",ja).attr("transform",function(N){return isFinite(N=Q(N))?u(N+a):this.getAttribute("transform")}),S.attr("opacity",ja).attr("transform",function(N){var X=this.parentNode.__axis;return u((X&&isFinite(X=X(N))?X:Q(N))+a)})),U.remove(),y.attr("d",e===kr||e===ms?s?"M"+l*s+","+F+"H"+a+"V"+_+"H"+l*s:"M"+a+","+F+"V"+_:s?"M"+F+","+l*s+"V"+a+"H"+_+"V"+l*s:"M"+F+","+a+"H"+_),H.attr("opacity",1).attr("transform",function(N){return u(Q(N)+a)}),E.attr(c+"2",l*i),L.attr(c,l*w).text(B),C.filter(Cd).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===ms?"start":e===kr?"end":"middle"),C.each(function(){this.__axis=Q})}return g.scale=function(f){return arguments.length?(A=f,g):A},g.ticks=function(){return t=Array.from(arguments),g},g.tickArguments=function(f){return arguments.length?(t=f==null?[]:Array.from(f),g):t.slice()},g.tickValues=function(f){return arguments.length?(r=f==null?null:Array.from(f),g):r&&r.slice()},g.tickFormat=function(f){return arguments.length?(n=f,g):n},g.tickSize=function(f){return arguments.length?(i=s=+f,g):i},g.tickSizeInner=function(f){return arguments.length?(i=+f,g):i},g.tickSizeOuter=function(f){return arguments.length?(s=+f,g):s},g.tickPadding=function(f){return arguments.length?(o=+f,g):o},g.offset=function(f){return arguments.length?(a=+f,g):a},g}function Al(e){return qa(Tn,e)}function el(e){return qa(kr,e)}var vd={value:()=>{}};function Kr(){for(var e=0,A=arguments.length,t={},r;e<A;++e){if(!(r=arguments[e]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new On(t)}function On(e){this._=e}function Ud(e,A){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!A.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}On.prototype=Kr.prototype={constructor:On,on:function(e,A){var t=this._,r=Ud(e+"",t),n,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((n=(e=r[i]).type)&&(n=Fd(t[n],e.name)))return n;return}if(A!=null&&typeof A!="function")throw new Error("invalid callback: "+A);for(;++i<s;)if(n=(e=r[i]).type)t[n]=tl(t[n],e.name,A);else if(A==null)for(n in t)t[n]=tl(t[n],e.name,null);return this},copy:function(){var e={},A=this._;for(var t in A)e[t]=A[t].slice();return new On(e)},call:function(e,A){if((n=arguments.length-2)>0)for(var t=new Array(n),r=0,n,i;r<n;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,n=i.length;r<n;++r)i[r].value.apply(A,t)},apply:function(e,A,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],n=0,i=r.length;n<i;++n)r[n].value.apply(A,t)}};function Fd(e,A){for(var t=0,r=e.length,n;t<r;++t)if((n=e[t]).name===A)return n.value}function tl(e,A,t){for(var r=0,n=e.length;r<n;++r)if(e[r].name===A){e[r]=vd,e=e.slice(0,r).concat(e.slice(r+1));break}return t!=null&&e.push({name:A,value:t}),e}var Qs="http://www.w3.org/1999/xhtml";const rl={svg:"http://www.w3.org/2000/svg",xhtml:Qs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nn(e){var A=e+="",t=A.indexOf(":");return t>=0&&(A=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),rl.hasOwnProperty(A)?{space:rl[A],local:e}:e}function yd(e){return function(){var A=this.ownerDocument,t=this.namespaceURI;return t===Qs&&A.documentElement.namespaceURI===Qs?A.createElement(e):A.createElementNS(t,e)}}function _d(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function nl(e){var A=Nn(e);return(A.local?_d:yd)(A)}function bd(){}function Cs(e){return e==null?bd:function(){return this.querySelector(e)}}function Ed(e){typeof e!="function"&&(e=Cs(e));for(var A=this._groups,t=A.length,r=new Array(t),n=0;n<t;++n)for(var i=A[n],s=i.length,o=r[n]=new Array(s),a,l,c=0;c<s;++c)(a=i[c])&&(l=e.call(a,a.__data__,c,i))&&("__data__"in a&&(l.__data__=a.__data__),o[c]=l);return new We(r,this._parents)}function Hd(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Id(){return[]}function il(e){return e==null?Id:function(){return this.querySelectorAll(e)}}function Sd(e){return function(){return Hd(e.apply(this,arguments))}}function xd(e){typeof e=="function"?e=Sd(e):e=il(e);for(var A=this._groups,t=A.length,r=[],n=[],i=0;i<t;++i)for(var s=A[i],o=s.length,a,l=0;l<o;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),n.push(a));return new We(r,n)}function sl(e){return function(){return this.matches(e)}}function ol(e){return function(A){return A.matches(e)}}var Ld=Array.prototype.find;function kd(e){return function(){return Ld.call(this.children,e)}}function Kd(){return this.firstElementChild}function Md(e){return this.select(e==null?Kd:kd(typeof e=="function"?e:ol(e)))}var Dd=Array.prototype.filter;function Td(){return Array.from(this.children)}function Od(e){return function(){return Dd.call(this.children,e)}}function Nd(e){return this.selectAll(e==null?Td:Od(typeof e=="function"?e:ol(e)))}function Rd(e){typeof e!="function"&&(e=sl(e));for(var A=this._groups,t=A.length,r=new Array(t),n=0;n<t;++n)for(var i=A[n],s=i.length,o=r[n]=[],a,l=0;l<s;++l)(a=i[l])&&e.call(a,a.__data__,l,i)&&o.push(a);return new We(r,this._parents)}function al(e){return new Array(e.length)}function Vd(){return new We(this._enter||this._groups.map(al),this._parents)}function Rn(e,A){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=A}Rn.prototype={constructor:Rn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,A){return this._parent.insertBefore(e,A)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Gd(e){return function(){return e}}function Pd(e,A,t,r,n,i){for(var s=0,o,a=A.length,l=i.length;s<l;++s)(o=A[s])?(o.__data__=i[s],r[s]=o):t[s]=new Rn(e,i[s]);for(;s<a;++s)(o=A[s])&&(n[s]=o)}function Xd(e,A,t,r,n,i,s){var o,a,l=new Map,c=A.length,u=i.length,g=new Array(c),f;for(o=0;o<c;++o)(a=A[o])&&(g[o]=f=s.call(a,a.__data__,o,A)+"",l.has(f)?n[o]=a:l.set(f,a));for(o=0;o<u;++o)f=s.call(e,i[o],o,i)+"",(a=l.get(f))?(r[o]=a,a.__data__=i[o],l.delete(f)):t[o]=new Rn(e,i[o]);for(o=0;o<c;++o)(a=A[o])&&l.get(g[o])===a&&(n[o]=a)}function Jd(e){return e.__data__}function Wd(e,A){if(!arguments.length)return Array.from(this,Jd);var t=A?Xd:Pd,r=this._parents,n=this._groups;typeof e!="function"&&(e=Gd(e));for(var i=n.length,s=new Array(i),o=new Array(i),a=new Array(i),l=0;l<i;++l){var c=r[l],u=n[l],g=u.length,f=Yd(e.call(c,c&&c.__data__,l,r)),h=f.length,B=o[l]=new Array(h),w=s[l]=new Array(h),d=a[l]=new Array(g);t(c,u,B,w,d,f,A);for(var F=0,_=0,Q,C;F<h;++F)if(Q=B[F]){for(F>=_&&(_=F+1);!(C=w[_])&&++_<h;);Q._next=C||null}}return s=new We(s,r),s._enter=o,s._exit=a,s}function Yd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zd(){return new We(this._exit||this._groups.map(al),this._parents)}function $d(e,A,t){var r=this.enter(),n=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),A!=null&&(n=A(n),n&&(n=n.selection())),t==null?i.remove():t(i),r&&n?r.merge(n).order():n}function Zd(e){for(var A=e.selection?e.selection():e,t=this._groups,r=A._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),a=0;a<s;++a)for(var l=t[a],c=r[a],u=l.length,g=o[a]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(g[h]=f);for(;a<n;++a)o[a]=t[a];return new We(o,this._parents)}function jd(){for(var e=this._groups,A=-1,t=e.length;++A<t;)for(var r=e[A],n=r.length-1,i=r[n],s;--n>=0;)(s=r[n])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function qd(e){e||(e=Aw);function A(u,g){return u&&g?e(u.__data__,g.__data__):!u-!g}for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i){for(var s=t[i],o=s.length,a=n[i]=new Array(o),l,c=0;c<o;++c)(l=s[c])&&(a[c]=l);a.sort(A)}return new We(n,this._parents).order()}function Aw(e,A){return e<A?-1:e>A?1:e>=A?0:NaN}function ew(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function tw(){return Array.from(this)}function rw(){for(var e=this._groups,A=0,t=e.length;A<t;++A)for(var r=e[A],n=0,i=r.length;n<i;++n){var s=r[n];if(s)return s}return null}function nw(){let e=0;for(const A of this)++e;return e}function iw(){return!this.node()}function sw(e){for(var A=this._groups,t=0,r=A.length;t<r;++t)for(var n=A[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&e.call(o,o.__data__,i,n);return this}function ow(e){return function(){this.removeAttribute(e)}}function aw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lw(e,A){return function(){this.setAttribute(e,A)}}function cw(e,A){return function(){this.setAttributeNS(e.space,e.local,A)}}function uw(e,A){return function(){var t=A.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}function fw(e,A){return function(){var t=A.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function gw(e,A){var t=Nn(e);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((A==null?t.local?aw:ow:typeof A=="function"?t.local?fw:uw:t.local?cw:lw)(t,A))}function ll(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Bw(e){return function(){this.style.removeProperty(e)}}function hw(e,A,t){return function(){this.style.setProperty(e,A,t)}}function dw(e,A,t){return function(){var r=A.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,t)}}function ww(e,A,t){return arguments.length>1?this.each((A==null?Bw:typeof A=="function"?dw:hw)(e,A,t??"")):cr(this.node(),e)}function cr(e,A){return e.style.getPropertyValue(A)||ll(e).getComputedStyle(e,null).getPropertyValue(A)}function pw(e){return function(){delete this[e]}}function mw(e,A){return function(){this[e]=A}}function Qw(e,A){return function(){var t=A.apply(this,arguments);t==null?delete this[e]:this[e]=t}}function Cw(e,A){return arguments.length>1?this.each((A==null?pw:typeof A=="function"?Qw:mw)(e,A)):this.node()[e]}function cl(e){return e.trim().split(/^|\s+/)}function vs(e){return e.classList||new ul(e)}function ul(e){this._node=e,this._names=cl(e.getAttribute("class")||"")}ul.prototype={add:function(e){var A=this._names.indexOf(e);A<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var A=this._names.indexOf(e);A>=0&&(this._names.splice(A,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function fl(e,A){for(var t=vs(e),r=-1,n=A.length;++r<n;)t.add(A[r])}function gl(e,A){for(var t=vs(e),r=-1,n=A.length;++r<n;)t.remove(A[r])}function vw(e){return function(){fl(this,e)}}function Uw(e){return function(){gl(this,e)}}function Fw(e,A){return function(){(A.apply(this,arguments)?fl:gl)(this,e)}}function yw(e,A){var t=cl(e+"");if(arguments.length<2){for(var r=vs(this.node()),n=-1,i=t.length;++n<i;)if(!r.contains(t[n]))return!1;return!0}return this.each((typeof A=="function"?Fw:A?vw:Uw)(t,A))}function _w(){this.textContent=""}function bw(e){return function(){this.textContent=e}}function Ew(e){return function(){var A=e.apply(this,arguments);this.textContent=A??""}}function Hw(e){return arguments.length?this.each(e==null?_w:(typeof e=="function"?Ew:bw)(e)):this.node().textContent}function Iw(){this.innerHTML=""}function Sw(e){return function(){this.innerHTML=e}}function xw(e){return function(){var A=e.apply(this,arguments);this.innerHTML=A??""}}function Lw(e){return arguments.length?this.each(e==null?Iw:(typeof e=="function"?xw:Sw)(e)):this.node().innerHTML}function kw(){this.nextSibling&&this.parentNode.appendChild(this)}function Kw(){return this.each(kw)}function Mw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dw(){return this.each(Mw)}function Tw(e){var A=typeof e=="function"?e:nl(e);return this.select(function(){return this.appendChild(A.apply(this,arguments))})}function Ow(){return null}function Nw(e,A){var t=typeof e=="function"?e:nl(e),r=A==null?Ow:typeof A=="function"?A:Cs(A);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function Rw(){var e=this.parentNode;e&&e.removeChild(this)}function Vw(){return this.each(Rw)}function Gw(){var e=this.cloneNode(!1),A=this.parentNode;return A?A.insertBefore(e,this.nextSibling):e}function Pw(){var e=this.cloneNode(!0),A=this.parentNode;return A?A.insertBefore(e,this.nextSibling):e}function Xw(e){return this.select(e?Pw:Gw)}function Jw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ww(e){return function(A){e.call(this,A,this.__data__)}}function Yw(e){return e.trim().split(/^|\s+/).map(function(A){var t="",r=A.indexOf(".");return r>=0&&(t=A.slice(r+1),A=A.slice(0,r)),{type:A,name:t}})}function zw(e){return function(){var A=this.__on;if(A){for(var t=0,r=-1,n=A.length,i;t<n;++t)i=A[t],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):A[++r]=i;++r?A.length=r:delete this.__on}}}function $w(e,A,t){return function(){var r=this.__on,n,i=Ww(A);if(r){for(var s=0,o=r.length;s<o;++s)if((n=r[s]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=i,n.options=t),n.value=A;return}}this.addEventListener(e.type,i,t),n={type:e.type,name:e.name,value:A,listener:i,options:t},r?r.push(n):this.__on=[n]}}function Zw(e,A,t){var r=Yw(e+""),n,i=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var a=0,l=o.length,c;a<l;++a)for(n=0,c=o[a];n<i;++n)if((s=r[n]).type===c.type&&s.name===c.name)return c.value}return}for(o=A?$w:zw,n=0;n<i;++n)this.each(o(r[n],A,t));return this}function Bl(e,A,t){var r=ll(e),n=r.CustomEvent;typeof n=="function"?n=new n(A,t):(n=r.document.createEvent("Event"),t?(n.initEvent(A,t.bubbles,t.cancelable),n.detail=t.detail):n.initEvent(A,!1,!1)),e.dispatchEvent(n)}function jw(e,A){return function(){return Bl(this,e,A)}}function qw(e,A){return function(){return Bl(this,e,A.apply(this,arguments))}}function A0(e,A){return this.each((typeof A=="function"?qw:jw)(e,A))}function*e0(){for(var e=this._groups,A=0,t=e.length;A<t;++A)for(var r=e[A],n=0,i=r.length,s;n<i;++n)(s=r[n])&&(yield s)}var hl=[null];function We(e,A){this._groups=e,this._parents=A}function Mr(){return new We([[document.documentElement]],hl)}function t0(){return this}We.prototype=Mr.prototype={constructor:We,select:Ed,selectAll:xd,selectChild:Md,selectChildren:Nd,filter:Rd,data:Wd,enter:Vd,exit:zd,join:$d,merge:Zd,selection:t0,order:jd,sort:qd,call:ew,nodes:tw,node:rw,size:nw,empty:iw,each:sw,attr:gw,style:ww,property:Cw,classed:yw,text:Hw,html:Lw,raise:Kw,lower:Dw,append:Tw,insert:Nw,remove:Vw,clone:Xw,datum:Jw,on:Zw,dispatch:A0,[Symbol.iterator]:e0};function le(e){return typeof e=="string"?new We([[document.querySelector(e)]],[document.documentElement]):new We([[e]],hl)}function r0(e){let A;for(;A=e.sourceEvent;)e=A;return e}function ve(e,A){if(e=r0(e),A===void 0&&(A=e.currentTarget),A){var t=A.ownerSVGElement||A;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(A.getScreenCTM().inverse()),[r.x,r.y]}if(A.getBoundingClientRect){var n=A.getBoundingClientRect();return[e.clientX-n.left-A.clientLeft,e.clientY-n.top-A.clientTop]}}return[e.pageX,e.pageY]}const n0={passive:!1},Dr={capture:!0,passive:!1};function Us(e){e.stopImmediatePropagation()}function ur(e){e.preventDefault(),e.stopImmediatePropagation()}function dl(e){var A=e.document.documentElement,t=le(e).on("dragstart.drag",ur,Dr);"onselectstart"in A?t.on("selectstart.drag",ur,Dr):(A.__noselect=A.style.MozUserSelect,A.style.MozUserSelect="none")}function wl(e,A){var t=e.document.documentElement,r=le(e).on("dragstart.drag",null);A&&(r.on("click.drag",ur,Dr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const Vn=e=>()=>e;function Fs(e,{sourceEvent:A,subject:t,target:r,identifier:n,active:i,x:s,y:o,dx:a,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:A,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:n,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}Fs.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function i0(e){return!e.ctrlKey&&!e.button}function s0(){return this.parentNode}function o0(e,A){return A??{x:e.x,y:e.y}}function a0(){return navigator.maxTouchPoints||"ontouchstart"in this}function l0(){var e=i0,A=s0,t=o0,r=a0,n={},i=Kr("start","drag","end"),s=0,o,a,l,c,u=0;function g(Q){Q.on("mousedown.drag",f).filter(r).on("touchstart.drag",w).on("touchmove.drag",d,n0).on("touchend.drag touchcancel.drag",F).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(Q,C){if(!(c||!e.call(this,Q,C))){var y=_(this,A.call(this,Q,C),Q,C,"mouse");y&&(le(Q.view).on("mousemove.drag",h,Dr).on("mouseup.drag",B,Dr),dl(Q.view),Us(Q),l=!1,o=Q.clientX,a=Q.clientY,y("start",Q))}}function h(Q){if(ur(Q),!l){var C=Q.clientX-o,y=Q.clientY-a;l=C*C+y*y>u}n.mouse("drag",Q)}function B(Q){le(Q.view).on("mousemove.drag mouseup.drag",null),wl(Q.view,l),ur(Q),n.mouse("end",Q)}function w(Q,C){if(e.call(this,Q,C)){var y=Q.changedTouches,H=A.call(this,Q,C),U=y.length,S,E;for(S=0;S<U;++S)(E=_(this,H,Q,C,y[S].identifier,y[S]))&&(Us(Q),E("start",Q,y[S]))}}function d(Q){var C=Q.changedTouches,y=C.length,H,U;for(H=0;H<y;++H)(U=n[C[H].identifier])&&(ur(Q),U("drag",Q,C[H]))}function F(Q){var C=Q.changedTouches,y=C.length,H,U;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),H=0;H<y;++H)(U=n[C[H].identifier])&&(Us(Q),U("end",Q,C[H]))}function _(Q,C,y,H,U,S){var E=i.copy(),L=ve(S||y,C),N,X,k;if((k=t.call(Q,new Fs("beforestart",{sourceEvent:y,target:g,identifier:U,active:s,x:L[0],y:L[1],dx:0,dy:0,dispatch:E}),H))!=null)return N=k.x-L[0]||0,X=k.y-L[1]||0,function z(K,Z,V){var W=L,J;switch(K){case"start":n[U]=z,J=s++;break;case"end":delete n[U],--s;case"drag":L=ve(V||Z,C),J=s;break}E.call(K,Q,new Fs(K,{sourceEvent:Z,subject:k,target:g,identifier:U,active:J,x:L[0]+N,y:L[1]+X,dx:L[0]-W[0],dy:L[1]-W[1],dispatch:E}),H)}}return g.filter=function(Q){return arguments.length?(e=typeof Q=="function"?Q:Vn(!!Q),g):e},g.container=function(Q){return arguments.length?(A=typeof Q=="function"?Q:Vn(Q),g):A},g.subject=function(Q){return arguments.length?(t=typeof Q=="function"?Q:Vn(Q),g):t},g.touchable=function(Q){return arguments.length?(r=typeof Q=="function"?Q:Vn(!!Q),g):r},g.on=function(){var Q=i.on.apply(i,arguments);return Q===i?g:Q},g.clickDistance=function(Q){return arguments.length?(u=(Q=+Q)*Q,g):Math.sqrt(u)},g}function ys(e,A,t){e.prototype=A.prototype=t,t.constructor=e}function pl(e,A){var t=Object.create(e.prototype);for(var r in A)t[r]=A[r];return t}function Tr(){}var Or=.7,Gn=1/Or,fr="\\s*([+-]?\\d+)\\s*",Nr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c0=/^#([0-9a-f]{3,8})$/,u0=new RegExp(`^rgb\\(${fr},${fr},${fr}\\)$`),f0=new RegExp(`^rgb\\(${ut},${ut},${ut}\\)$`),g0=new RegExp(`^rgba\\(${fr},${fr},${fr},${Nr}\\)$`),B0=new RegExp(`^rgba\\(${ut},${ut},${ut},${Nr}\\)$`),h0=new RegExp(`^hsl\\(${Nr},${ut},${ut}\\)$`),d0=new RegExp(`^hsla\\(${Nr},${ut},${ut},${Nr}\\)$`),ml={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ys(Tr,Xt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ql,formatHex:Ql,formatHex8:w0,formatHsl:p0,formatRgb:Cl,toString:Cl});function Ql(){return this.rgb().formatHex()}function w0(){return this.rgb().formatHex8()}function p0(){return _l(this).formatHsl()}function Cl(){return this.rgb().formatRgb()}function Xt(e){var A,t;return e=(e+"").trim().toLowerCase(),(A=c0.exec(e))?(t=A[1].length,A=parseInt(A[1],16),t===6?vl(A):t===3?new Xe(A>>8&15|A>>4&240,A>>4&15|A&240,(A&15)<<4|A&15,1):t===8?Pn(A>>24&255,A>>16&255,A>>8&255,(A&255)/255):t===4?Pn(A>>12&15|A>>8&240,A>>8&15|A>>4&240,A>>4&15|A&240,((A&15)<<4|A&15)/255):null):(A=u0.exec(e))?new Xe(A[1],A[2],A[3],1):(A=f0.exec(e))?new Xe(A[1]*255/100,A[2]*255/100,A[3]*255/100,1):(A=g0.exec(e))?Pn(A[1],A[2],A[3],A[4]):(A=B0.exec(e))?Pn(A[1]*255/100,A[2]*255/100,A[3]*255/100,A[4]):(A=h0.exec(e))?yl(A[1],A[2]/100,A[3]/100,1):(A=d0.exec(e))?yl(A[1],A[2]/100,A[3]/100,A[4]):ml.hasOwnProperty(e)?vl(ml[e]):e==="transparent"?new Xe(NaN,NaN,NaN,0):null}function vl(e){return new Xe(e>>16&255,e>>8&255,e&255,1)}function Pn(e,A,t,r){return r<=0&&(e=A=t=NaN),new Xe(e,A,t,r)}function m0(e){return e instanceof Tr||(e=Xt(e)),e?(e=e.rgb(),new Xe(e.r,e.g,e.b,e.opacity)):new Xe}function _s(e,A,t,r){return arguments.length===1?m0(e):new Xe(e,A,t,r??1)}function Xe(e,A,t,r){this.r=+e,this.g=+A,this.b=+t,this.opacity=+r}ys(Xe,_s,pl(Tr,{brighter(e){return e=e==null?Gn:Math.pow(Gn,e),new Xe(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Or:Math.pow(Or,e),new Xe(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xe(Jt(this.r),Jt(this.g),Jt(this.b),Xn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ul,formatHex:Ul,formatHex8:Q0,formatRgb:Fl,toString:Fl}));function Ul(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}`}function Q0(){return`#${Wt(this.r)}${Wt(this.g)}${Wt(this.b)}${Wt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fl(){const e=Xn(this.opacity);return`${e===1?"rgb(":"rgba("}${Jt(this.r)}, ${Jt(this.g)}, ${Jt(this.b)}${e===1?")":`, ${e})`}`}function Xn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Wt(e){return e=Jt(e),(e<16?"0":"")+e.toString(16)}function yl(e,A,t,r){return r<=0?e=A=t=NaN:t<=0||t>=1?e=A=NaN:A<=0&&(e=NaN),new rt(e,A,t,r)}function _l(e){if(e instanceof rt)return new rt(e.h,e.s,e.l,e.opacity);if(e instanceof Tr||(e=Xt(e)),!e)return new rt;if(e instanceof rt)return e;e=e.rgb();var A=e.r/255,t=e.g/255,r=e.b/255,n=Math.min(A,t,r),i=Math.max(A,t,r),s=NaN,o=i-n,a=(i+n)/2;return o?(A===i?s=(t-r)/o+(t<r)*6:t===i?s=(r-A)/o+2:s=(A-t)/o+4,o/=a<.5?i+n:2-i-n,s*=60):o=a>0&&a<1?0:s,new rt(s,o,a,e.opacity)}function Jn(e,A,t,r){return arguments.length===1?_l(e):new rt(e,A,t,r??1)}function rt(e,A,t,r){this.h=+e,this.s=+A,this.l=+t,this.opacity=+r}ys(rt,Jn,pl(Tr,{brighter(e){return e=e==null?Gn:Math.pow(Gn,e),new rt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Or:Math.pow(Or,e),new rt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,A=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*A,n=2*t-r;return new Xe(bs(e>=240?e-240:e+120,n,r),bs(e,n,r),bs(e<120?e+240:e-120,n,r),this.opacity)},clamp(){return new rt(bl(this.h),Wn(this.s),Wn(this.l),Xn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xn(this.opacity);return`${e===1?"hsl(":"hsla("}${bl(this.h)}, ${Wn(this.s)*100}%, ${Wn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function bl(e){return e=(e||0)%360,e<0?e+360:e}function Wn(e){return Math.max(0,Math.min(1,e||0))}function bs(e,A,t){return(e<60?A+(t-A)*e/60:e<180?t:e<240?A+(t-A)*(240-e)/60:A)*255}const Es=e=>()=>e;function C0(e,A){return function(t){return e+t*A}}function v0(e,A,t){return e=Math.pow(e,t),A=Math.pow(A,t)-e,t=1/t,function(r){return Math.pow(e+r*A,t)}}function U0(e){return(e=+e)==1?El:function(A,t){return t-A?v0(A,t,e):Es(isNaN(A)?t:A)}}function El(e,A){var t=A-e;return t?C0(e,t):Es(isNaN(e)?A:e)}const Yn=function e(A){var t=U0(A);function r(n,i){var s=t((n=_s(n)).r,(i=_s(i)).r),o=t(n.g,i.g),a=t(n.b,i.b),l=El(n.opacity,i.opacity);return function(c){return n.r=s(c),n.g=o(c),n.b=a(c),n.opacity=l(c),n+""}}return r.gamma=e,r}(1);function F0(e,A){A||(A=[]);var t=e?Math.min(A.length,e.length):0,r=A.slice(),n;return function(i){for(n=0;n<t;++n)r[n]=e[n]*(1-i)+A[n]*i;return r}}function y0(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _0(e,A){var t=A?A.length:0,r=e?Math.min(t,e.length):0,n=new Array(r),i=new Array(t),s;for(s=0;s<r;++s)n[s]=Ss(e[s],A[s]);for(;s<t;++s)i[s]=A[s];return function(o){for(s=0;s<r;++s)i[s]=n[s](o);return i}}function b0(e,A){var t=new Date;return e=+e,A=+A,function(r){return t.setTime(e*(1-r)+A*r),t}}function nt(e,A){return e=+e,A=+A,function(t){return e*(1-t)+A*t}}function E0(e,A){var t={},r={},n;(e===null||typeof e!="object")&&(e={}),(A===null||typeof A!="object")&&(A={});for(n in A)n in e?t[n]=Ss(e[n],A[n]):r[n]=A[n];return function(i){for(n in t)r[n]=t[n](i);return r}}var Hs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Is=new RegExp(Hs.source,"g");function H0(e){return function(){return e}}function I0(e){return function(A){return e(A)+""}}function Hl(e,A){var t=Hs.lastIndex=Is.lastIndex=0,r,n,i,s=-1,o=[],a=[];for(e=e+"",A=A+"";(r=Hs.exec(e))&&(n=Is.exec(A));)(i=n.index)>t&&(i=A.slice(t,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,a.push({i:s,x:nt(r,n)})),t=Is.lastIndex;return t<A.length&&(i=A.slice(t),o[s]?o[s]+=i:o[++s]=i),o.length<2?a[0]?I0(a[0].x):H0(A):(A=a.length,function(l){for(var c=0,u;c<A;++c)o[(u=a[c]).i]=u.x(l);return o.join("")})}function Ss(e,A){var t=typeof A,r;return A==null||t==="boolean"?Es(A):(t==="number"?nt:t==="string"?(r=Xt(A))?(A=r,Yn):Hl:A instanceof Xt?Yn:A instanceof Date?b0:y0(A)?F0:Array.isArray(A)?_0:typeof A.valueOf!="function"&&typeof A.toString!="function"||isNaN(A)?E0:nt)(e,A)}function S0(e,A){return e=+e,A=+A,function(t){return Math.round(e*(1-t)+A*t)}}var Il=180/Math.PI,xs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sl(e,A,t,r,n,i){var s,o,a;return(s=Math.sqrt(e*e+A*A))&&(e/=s,A/=s),(a=e*t+A*r)&&(t-=e*a,r-=A*a),(o=Math.sqrt(t*t+r*r))&&(t/=o,r/=o,a/=o),e*r<A*t&&(e=-e,A=-A,a=-a,s=-s),{translateX:n,translateY:i,rotate:Math.atan2(A,e)*Il,skewX:Math.atan(a)*Il,scaleX:s,scaleY:o}}var zn;function x0(e){const A=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return A.isIdentity?xs:Sl(A.a,A.b,A.c,A.d,A.e,A.f)}function L0(e){return e==null||(zn||(zn=document.createElementNS("http://www.w3.org/2000/svg","g")),zn.setAttribute("transform",e),!(e=zn.transform.baseVal.consolidate()))?xs:(e=e.matrix,Sl(e.a,e.b,e.c,e.d,e.e,e.f))}function xl(e,A,t,r){function n(l){return l.length?l.pop()+" ":""}function i(l,c,u,g,f,h){if(l!==u||c!==g){var B=f.push("translate(",null,A,null,t);h.push({i:B-4,x:nt(l,u)},{i:B-2,x:nt(c,g)})}else(u||g)&&f.push("translate("+u+A+g+t)}function s(l,c,u,g){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),g.push({i:u.push(n(u)+"rotate(",null,r)-2,x:nt(l,c)})):c&&u.push(n(u)+"rotate("+c+r)}function o(l,c,u,g){l!==c?g.push({i:u.push(n(u)+"skewX(",null,r)-2,x:nt(l,c)}):c&&u.push(n(u)+"skewX("+c+r)}function a(l,c,u,g,f,h){if(l!==u||c!==g){var B=f.push(n(f)+"scale(",null,",",null,")");h.push({i:B-4,x:nt(l,u)},{i:B-2,x:nt(c,g)})}else(u!==1||g!==1)&&f.push(n(f)+"scale("+u+","+g+")")}return function(l,c){var u=[],g=[];return l=e(l),c=e(c),i(l.translateX,l.translateY,c.translateX,c.translateY,u,g),s(l.rotate,c.rotate,u,g),o(l.skewX,c.skewX,u,g),a(l.scaleX,l.scaleY,c.scaleX,c.scaleY,u,g),l=c=null,function(f){for(var h=-1,B=g.length,w;++h<B;)u[(w=g[h]).i]=w.x(f);return u.join("")}}}var k0=xl(x0,"px, ","px)","deg)"),K0=xl(L0,", ",")",")"),M0=1e-12;function Ll(e){return((e=Math.exp(e))+1/e)/2}function D0(e){return((e=Math.exp(e))-1/e)/2}function T0(e){return((e=Math.exp(2*e))-1)/(e+1)}const O0=function e(A,t,r){function n(i,s){var o=i[0],a=i[1],l=i[2],c=s[0],u=s[1],g=s[2],f=c-o,h=u-a,B=f*f+h*h,w,d;if(B<M0)d=Math.log(g/l)/A,w=function(H){return[o+H*f,a+H*h,l*Math.exp(A*H*d)]};else{var F=Math.sqrt(B),_=(g*g-l*l+r*B)/(2*l*t*F),Q=(g*g-l*l-r*B)/(2*g*t*F),C=Math.log(Math.sqrt(_*_+1)-_),y=Math.log(Math.sqrt(Q*Q+1)-Q);d=(y-C)/A,w=function(H){var U=H*d,S=Ll(C),E=l/(t*F)*(S*T0(A*U+C)-D0(C));return[o+E*f,a+E*h,l*S/Ll(A*U+C)]}}return w.duration=d*1e3*A/Math.SQRT2,w}return n.rho=function(i){var s=Math.max(.001,+i),o=s*s,a=o*o;return e(s,o,a)},n}(Math.SQRT2,2,4);var gr=0,Rr=0,Vr=0,kl=1e3,$n,Gr,Zn=0,Yt=0,jn=0,Pr=typeof performance=="object"&&performance.now?performance:Date,Kl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ls(){return Yt||(Kl(N0),Yt=Pr.now()+jn)}function N0(){Yt=0}function qn(){this._call=this._time=this._next=null}qn.prototype=ks.prototype={constructor:qn,restart:function(e,A,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?Ls():+t)+(A==null?0:+A),!this._next&&Gr!==this&&(Gr?Gr._next=this:$n=this,Gr=this),this._call=e,this._time=t,Ks()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ks())}};function ks(e,A,t){var r=new qn;return r.restart(e,A,t),r}function R0(){Ls(),++gr;for(var e=$n,A;e;)(A=Yt-e._time)>=0&&e._call.call(void 0,A),e=e._next;--gr}function Ml(){Yt=(Zn=Pr.now())+jn,gr=Rr=0;try{R0()}finally{gr=0,G0(),Yt=0}}function V0(){var e=Pr.now(),A=e-Zn;A>kl&&(jn-=A,Zn=e)}function G0(){for(var e,A=$n,t,r=1/0;A;)A._call?(r>A._time&&(r=A._time),e=A,A=A._next):(t=A._next,A._next=null,A=e?e._next=t:$n=t);Gr=e,Ks(r)}function Ks(e){if(!gr){Rr&&(Rr=clearTimeout(Rr));var A=e-Yt;A>24?(e<1/0&&(Rr=setTimeout(Ml,e-Pr.now()-jn)),Vr&&(Vr=clearInterval(Vr))):(Vr||(Zn=Pr.now(),Vr=setInterval(V0,kl)),gr=1,Kl(Ml))}}function Dl(e,A,t){var r=new qn;return A=A==null?0:+A,r.restart(n=>{r.stop(),e(n+A)},A,t),r}var P0=Kr("start","end","cancel","interrupt"),X0=[],Tl=0,Ol=1,Ms=2,Ai=3,Nl=4,Ds=5,ei=6;function ti(e,A,t,r,n,i){var s=e.__transition;if(!s)e.__transition={};else if(t in s)return;J0(e,t,{name:A,index:r,group:n,on:P0,tween:X0,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Tl})}function Ts(e,A){var t=it(e,A);if(t.state>Tl)throw new Error("too late; already scheduled");return t}function ft(e,A){var t=it(e,A);if(t.state>Ai)throw new Error("too late; already running");return t}function it(e,A){var t=e.__transition;if(!t||!(t=t[A]))throw new Error("transition not found");return t}function J0(e,A,t){var r=e.__transition,n;r[A]=t,t.timer=ks(i,0,t.time);function i(l){t.state=Ol,t.timer.restart(s,t.delay,t.time),t.delay<=l&&s(l-t.delay)}function s(l){var c,u,g,f;if(t.state!==Ol)return a();for(c in r)if(f=r[c],f.name===t.name){if(f.state===Ai)return Dl(s);f.state===Nl?(f.state=ei,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[c]):+c<A&&(f.state=ei,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete r[c])}if(Dl(function(){t.state===Ai&&(t.state=Nl,t.timer.restart(o,t.delay,t.time),o(l))}),t.state=Ms,t.on.call("start",e,e.__data__,t.index,t.group),t.state===Ms){for(t.state=Ai,n=new Array(g=t.tween.length),c=0,u=-1;c<g;++c)(f=t.tween[c].value.call(e,e.__data__,t.index,t.group))&&(n[++u]=f);n.length=u+1}}function o(l){for(var c=l<t.duration?t.ease.call(null,l/t.duration):(t.timer.restart(a),t.state=Ds,1),u=-1,g=n.length;++u<g;)n[u].call(e,c);t.state===Ds&&(t.on.call("end",e,e.__data__,t.index,t.group),a())}function a(){t.state=ei,t.timer.stop(),delete r[A];for(var l in r)return;delete e.__transition}}function ri(e,A){var t=e.__transition,r,n,i=!0,s;if(t){A=A==null?null:A+"";for(s in t){if((r=t[s]).name!==A){i=!1;continue}n=r.state>Ms&&r.state<Ds,r.state=ei,r.timer.stop(),r.on.call(n?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete t[s]}i&&delete e.__transition}}function W0(e){return this.each(function(){ri(this,e)})}function Y0(e,A){var t,r;return function(){var n=ft(this,e),i=n.tween;if(i!==t){r=t=i;for(var s=0,o=r.length;s<o;++s)if(r[s].name===A){r=r.slice(),r.splice(s,1);break}}n.tween=r}}function z0(e,A,t){var r,n;if(typeof t!="function")throw new Error;return function(){var i=ft(this,e),s=i.tween;if(s!==r){n=(r=s).slice();for(var o={name:A,value:t},a=0,l=n.length;a<l;++a)if(n[a].name===A){n[a]=o;break}a===l&&n.push(o)}i.tween=n}}function $0(e,A){var t=this._id;if(e+="",arguments.length<2){for(var r=it(this.node(),t).tween,n=0,i=r.length,s;n<i;++n)if((s=r[n]).name===e)return s.value;return null}return this.each((A==null?Y0:z0)(t,e,A))}function Os(e,A,t){var r=e._id;return e.each(function(){var n=ft(this,r);(n.value||(n.value={}))[A]=t.apply(this,arguments)}),function(n){return it(n,r).value[A]}}function Rl(e,A){var t;return(typeof A=="number"?nt:A instanceof Xt?Yn:(t=Xt(A))?(A=t,Yn):Hl)(e,A)}function Z0(e){return function(){this.removeAttribute(e)}}function j0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function q0(e,A,t){var r,n=t+"",i;return function(){var s=this.getAttribute(e);return s===n?null:s===r?i:i=A(r=s,t)}}function Ap(e,A,t){var r,n=t+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===n?null:s===r?i:i=A(r=s,t)}}function ep(e,A,t){var r,n,i;return function(){var s,o=t(this),a;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=o+"",s===a?null:s===r&&a===n?i:(n=a,i=A(r=s,o)))}}function tp(e,A,t){var r,n,i;return function(){var s,o=t(this),a;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=o+"",s===a?null:s===r&&a===n?i:(n=a,i=A(r=s,o)))}}function rp(e,A){var t=Nn(e),r=t==="transform"?K0:Rl;return this.attrTween(e,typeof A=="function"?(t.local?tp:ep)(t,r,Os(this,"attr."+e,A)):A==null?(t.local?j0:Z0)(t):(t.local?Ap:q0)(t,r,A))}function np(e,A){return function(t){this.setAttribute(e,A.call(this,t))}}function ip(e,A){return function(t){this.setAttributeNS(e.space,e.local,A.call(this,t))}}function sp(e,A){var t,r;function n(){var i=A.apply(this,arguments);return i!==r&&(t=(r=i)&&ip(e,i)),t}return n._value=A,n}function op(e,A){var t,r;function n(){var i=A.apply(this,arguments);return i!==r&&(t=(r=i)&&np(e,i)),t}return n._value=A,n}function ap(e,A){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(A==null)return this.tween(t,null);if(typeof A!="function")throw new Error;var r=Nn(e);return this.tween(t,(r.local?sp:op)(r,A))}function lp(e,A){return function(){Ts(this,e).delay=+A.apply(this,arguments)}}function cp(e,A){return A=+A,function(){Ts(this,e).delay=A}}function up(e){var A=this._id;return arguments.length?this.each((typeof e=="function"?lp:cp)(A,e)):it(this.node(),A).delay}function fp(e,A){return function(){ft(this,e).duration=+A.apply(this,arguments)}}function gp(e,A){return A=+A,function(){ft(this,e).duration=A}}function Bp(e){var A=this._id;return arguments.length?this.each((typeof e=="function"?fp:gp)(A,e)):it(this.node(),A).duration}function hp(e,A){if(typeof A!="function")throw new Error;return function(){ft(this,e).ease=A}}function dp(e){var A=this._id;return arguments.length?this.each(hp(A,e)):it(this.node(),A).ease}function wp(e,A){return function(){var t=A.apply(this,arguments);if(typeof t!="function")throw new Error;ft(this,e).ease=t}}function pp(e){if(typeof e!="function")throw new Error;return this.each(wp(this._id,e))}function mp(e){typeof e!="function"&&(e=sl(e));for(var A=this._groups,t=A.length,r=new Array(t),n=0;n<t;++n)for(var i=A[n],s=i.length,o=r[n]=[],a,l=0;l<s;++l)(a=i[l])&&e.call(a,a.__data__,l,i)&&o.push(a);return new vt(r,this._parents,this._name,this._id)}function Qp(e){if(e._id!==this._id)throw new Error;for(var A=this._groups,t=e._groups,r=A.length,n=t.length,i=Math.min(r,n),s=new Array(r),o=0;o<i;++o)for(var a=A[o],l=t[o],c=a.length,u=s[o]=new Array(c),g,f=0;f<c;++f)(g=a[f]||l[f])&&(u[f]=g);for(;o<r;++o)s[o]=A[o];return new vt(s,this._parents,this._name,this._id)}function Cp(e){return(e+"").trim().split(/^|\s+/).every(function(A){var t=A.indexOf(".");return t>=0&&(A=A.slice(0,t)),!A||A==="start"})}function vp(e,A,t){var r,n,i=Cp(A)?Ts:ft;return function(){var s=i(this,e),o=s.on;o!==r&&(n=(r=o).copy()).on(A,t),s.on=n}}function Up(e,A){var t=this._id;return arguments.length<2?it(this.node(),t).on.on(e):this.each(vp(t,e,A))}function Fp(e){return function(){var A=this.parentNode;for(var t in this.__transition)if(+t!==e)return;A&&A.removeChild(this)}}function yp(){return this.on("end.remove",Fp(this._id))}function _p(e){var A=this._name,t=this._id;typeof e!="function"&&(e=Cs(e));for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s)for(var o=r[s],a=o.length,l=i[s]=new Array(a),c,u,g=0;g<a;++g)(c=o[g])&&(u=e.call(c,c.__data__,g,o))&&("__data__"in c&&(u.__data__=c.__data__),l[g]=u,ti(l[g],A,t,g,l,it(c,t)));return new vt(i,this._parents,A,t)}function bp(e){var A=this._name,t=this._id;typeof e!="function"&&(e=il(e));for(var r=this._groups,n=r.length,i=[],s=[],o=0;o<n;++o)for(var a=r[o],l=a.length,c,u=0;u<l;++u)if(c=a[u]){for(var g=e.call(c,c.__data__,u,a),f,h=it(c,t),B=0,w=g.length;B<w;++B)(f=g[B])&&ti(f,A,t,B,g,h);i.push(g),s.push(c)}return new vt(i,s,A,t)}var Ep=Mr.prototype.constructor;function Hp(){return new Ep(this._groups,this._parents)}function Ip(e,A){var t,r,n;return function(){var i=cr(this,e),s=(this.style.removeProperty(e),cr(this,e));return i===s?null:i===t&&s===r?n:n=A(t=i,r=s)}}function Vl(e){return function(){this.style.removeProperty(e)}}function Sp(e,A,t){var r,n=t+"",i;return function(){var s=cr(this,e);return s===n?null:s===r?i:i=A(r=s,t)}}function xp(e,A,t){var r,n,i;return function(){var s=cr(this,e),o=t(this),a=o+"";return o==null&&(a=o=(this.style.removeProperty(e),cr(this,e))),s===a?null:s===r&&a===n?i:(n=a,i=A(r=s,o))}}function Lp(e,A){var t,r,n,i="style."+A,s="end."+i,o;return function(){var a=ft(this,e),l=a.on,c=a.value[i]==null?o||(o=Vl(A)):void 0;(l!==t||n!==c)&&(r=(t=l).copy()).on(s,n=c),a.on=r}}function kp(e,A,t){var r=(e+="")=="transform"?k0:Rl;return A==null?this.styleTween(e,Ip(e,r)).on("end.style."+e,Vl(e)):typeof A=="function"?this.styleTween(e,xp(e,r,Os(this,"style."+e,A))).each(Lp(this._id,e)):this.styleTween(e,Sp(e,r,A),t).on("end.style."+e,null)}function Kp(e,A,t){return function(r){this.style.setProperty(e,A.call(this,r),t)}}function Mp(e,A,t){var r,n;function i(){var s=A.apply(this,arguments);return s!==n&&(r=(n=s)&&Kp(e,s,t)),r}return i._value=A,i}function Dp(e,A,t){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(A==null)return this.tween(r,null);if(typeof A!="function")throw new Error;return this.tween(r,Mp(e,A,t??""))}function Tp(e){return function(){this.textContent=e}}function Op(e){return function(){var A=e(this);this.textContent=A??""}}function Np(e){return this.tween("text",typeof e=="function"?Op(Os(this,"text",e)):Tp(e==null?"":e+""))}function Rp(e){return function(A){this.textContent=e.call(this,A)}}function Vp(e){var A,t;function r(){var n=e.apply(this,arguments);return n!==t&&(A=(t=n)&&Rp(n)),A}return r._value=e,r}function Gp(e){var A="text";if(arguments.length<1)return(A=this.tween(A))&&A._value;if(e==null)return this.tween(A,null);if(typeof e!="function")throw new Error;return this.tween(A,Vp(e))}function Pp(){for(var e=this._name,A=this._id,t=Gl(),r=this._groups,n=r.length,i=0;i<n;++i)for(var s=r[i],o=s.length,a,l=0;l<o;++l)if(a=s[l]){var c=it(a,A);ti(a,e,t,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new vt(r,this._parents,e,t)}function Xp(){var e,A,t=this,r=t._id,n=t.size();return new Promise(function(i,s){var o={value:s},a={value:function(){--n===0&&i()}};t.each(function(){var l=ft(this,r),c=l.on;c!==e&&(A=(e=c).copy(),A._.cancel.push(o),A._.interrupt.push(o),A._.end.push(a)),l.on=A}),n===0&&i()})}var Jp=0;function vt(e,A,t,r){this._groups=e,this._parents=A,this._name=t,this._id=r}function Gl(){return++Jp}var Ut=Mr.prototype;vt.prototype={constructor:vt,select:_p,selectAll:bp,selectChild:Ut.selectChild,selectChildren:Ut.selectChildren,filter:mp,merge:Qp,selection:Hp,transition:Pp,call:Ut.call,nodes:Ut.nodes,node:Ut.node,size:Ut.size,empty:Ut.empty,each:Ut.each,on:Up,attr:rp,attrTween:ap,style:kp,styleTween:Dp,text:Np,textTween:Gp,remove:yp,tween:$0,delay:up,duration:Bp,ease:dp,easeVarying:pp,end:Xp,[Symbol.iterator]:Ut[Symbol.iterator]};function Wp(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Yp={time:null,delay:0,duration:250,ease:Wp};function zp(e,A){for(var t;!(t=e.__transition)||!(t=t[A]);)if(!(e=e.parentNode))throw new Error(`transition ${A} not found`);return t}function $p(e){var A,t;e instanceof vt?(A=e._id,e=e._name):(A=Gl(),(t=Yp).time=Ls(),e=e==null?null:e+"");for(var r=this._groups,n=r.length,i=0;i<n;++i)for(var s=r[i],o=s.length,a,l=0;l<o;++l)(a=s[l])&&ti(a,e,A,l,s,t||zp(a,A));return new vt(r,this._parents,e,A)}Mr.prototype.interrupt=W0,Mr.prototype.transition=$p;function Pl(e,A){var t,r=1;e==null&&(e=0),A==null&&(A=0);function n(){var i,s=t.length,o,a=0,l=0;for(i=0;i<s;++i)o=t[i],a+=o.x,l+=o.y;for(a=(a/s-e)*r,l=(l/s-A)*r,i=0;i<s;++i)o=t[i],o.x-=a,o.y-=l}return n.initialize=function(i){t=i},n.x=function(i){return arguments.length?(e=+i,n):e},n.y=function(i){return arguments.length?(A=+i,n):A},n.strength=function(i){return arguments.length?(r=+i,n):r},n}function Zp(e){const A=+this._x.call(null,e),t=+this._y.call(null,e);return Xl(this.cover(A,t),A,t,e)}function Xl(e,A,t,r){if(isNaN(A)||isNaN(t))return e;var n,i=e._root,s={data:r},o=e._x0,a=e._y0,l=e._x1,c=e._y1,u,g,f,h,B,w,d,F;if(!i)return e._root=s,e;for(;i.length;)if((B=A>=(u=(o+l)/2))?o=u:l=u,(w=t>=(g=(a+c)/2))?a=g:c=g,n=i,!(i=i[d=w<<1|B]))return n[d]=s,e;if(f=+e._x.call(null,i.data),h=+e._y.call(null,i.data),A===f&&t===h)return s.next=i,n?n[d]=s:e._root=s,e;do n=n?n[d]=new Array(4):e._root=new Array(4),(B=A>=(u=(o+l)/2))?o=u:l=u,(w=t>=(g=(a+c)/2))?a=g:c=g;while((d=w<<1|B)===(F=(h>=g)<<1|f>=u));return n[F]=i,n[d]=s,e}function jp(e){var A,t,r=e.length,n,i,s=new Array(r),o=new Array(r),a=1/0,l=1/0,c=-1/0,u=-1/0;for(t=0;t<r;++t)isNaN(n=+this._x.call(null,A=e[t]))||isNaN(i=+this._y.call(null,A))||(s[t]=n,o[t]=i,n<a&&(a=n),n>c&&(c=n),i<l&&(l=i),i>u&&(u=i));if(a>c||l>u)return this;for(this.cover(a,l).cover(c,u),t=0;t<r;++t)Xl(this,s[t],o[t],e[t]);return this}function qp(e,A){if(isNaN(e=+e)||isNaN(A=+A))return this;var t=this._x0,r=this._y0,n=this._x1,i=this._y1;if(isNaN(t))n=(t=Math.floor(e))+1,i=(r=Math.floor(A))+1;else{for(var s=n-t||1,o=this._root,a,l;t>e||e>=n||r>A||A>=i;)switch(l=(A<r)<<1|e<t,a=new Array(4),a[l]=o,o=a,s*=2,l){case 0:n=t+s,i=r+s;break;case 1:t=n-s,i=r+s;break;case 2:n=t+s,r=i-s;break;case 3:t=n-s,r=i-s;break}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._y0=r,this._x1=n,this._y1=i,this}function Am(){var e=[];return this.visit(function(A){if(!A.length)do e.push(A.data);while(A=A.next)}),e}function em(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Re(e,A,t,r,n){this.node=e,this.x0=A,this.y0=t,this.x1=r,this.y1=n}function tm(e,A,t){var r,n=this._x0,i=this._y0,s,o,a,l,c=this._x1,u=this._y1,g=[],f=this._root,h,B;for(f&&g.push(new Re(f,n,i,c,u)),t==null?t=1/0:(n=e-t,i=A-t,c=e+t,u=A+t,t*=t);h=g.pop();)if(!(!(f=h.node)||(s=h.x0)>c||(o=h.y0)>u||(a=h.x1)<n||(l=h.y1)<i))if(f.length){var w=(s+a)/2,d=(o+l)/2;g.push(new Re(f[3],w,d,a,l),new Re(f[2],s,d,w,l),new Re(f[1],w,o,a,d),new Re(f[0],s,o,w,d)),(B=(A>=d)<<1|e>=w)&&(h=g[g.length-1],g[g.length-1]=g[g.length-1-B],g[g.length-1-B]=h)}else{var F=e-+this._x.call(null,f.data),_=A-+this._y.call(null,f.data),Q=F*F+_*_;if(Q<t){var C=Math.sqrt(t=Q);n=e-C,i=A-C,c=e+C,u=A+C,r=f.data}}return r}function rm(e){if(isNaN(c=+this._x.call(null,e))||isNaN(u=+this._y.call(null,e)))return this;var A,t=this._root,r,n,i,s=this._x0,o=this._y0,a=this._x1,l=this._y1,c,u,g,f,h,B,w,d;if(!t)return this;if(t.length)for(;;){if((h=c>=(g=(s+a)/2))?s=g:a=g,(B=u>=(f=(o+l)/2))?o=f:l=f,A=t,!(t=t[w=B<<1|h]))return this;if(!t.length)break;(A[w+1&3]||A[w+2&3]||A[w+3&3])&&(r=A,d=w)}for(;t.data!==e;)if(n=t,!(t=t.next))return this;return(i=t.next)&&delete t.next,n?(i?n.next=i:delete n.next,this):A?(i?A[w]=i:delete A[w],(t=A[0]||A[1]||A[2]||A[3])&&t===(A[3]||A[2]||A[1]||A[0])&&!t.length&&(r?r[d]=t:this._root=t),this):(this._root=i,this)}function nm(e){for(var A=0,t=e.length;A<t;++A)this.remove(e[A]);return this}function im(){return this._root}function sm(){var e=0;return this.visit(function(A){if(!A.length)do++e;while(A=A.next)}),e}function om(e){var A=[],t,r=this._root,n,i,s,o,a;for(r&&A.push(new Re(r,this._x0,this._y0,this._x1,this._y1));t=A.pop();)if(!e(r=t.node,i=t.x0,s=t.y0,o=t.x1,a=t.y1)&&r.length){var l=(i+o)/2,c=(s+a)/2;(n=r[3])&&A.push(new Re(n,l,c,o,a)),(n=r[2])&&A.push(new Re(n,i,c,l,a)),(n=r[1])&&A.push(new Re(n,l,s,o,c)),(n=r[0])&&A.push(new Re(n,i,s,l,c))}return this}function am(e){var A=[],t=[],r;for(this._root&&A.push(new Re(this._root,this._x0,this._y0,this._x1,this._y1));r=A.pop();){var n=r.node;if(n.length){var i,s=r.x0,o=r.y0,a=r.x1,l=r.y1,c=(s+a)/2,u=(o+l)/2;(i=n[0])&&A.push(new Re(i,s,o,c,u)),(i=n[1])&&A.push(new Re(i,c,o,a,u)),(i=n[2])&&A.push(new Re(i,s,u,c,l)),(i=n[3])&&A.push(new Re(i,c,u,a,l))}t.push(r)}for(;r=t.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function lm(e){return e[0]}function cm(e){return arguments.length?(this._x=e,this):this._x}function um(e){return e[1]}function fm(e){return arguments.length?(this._y=e,this):this._y}function Ns(e,A,t){var r=new Rs(A??lm,t??um,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Rs(e,A,t,r,n,i){this._x=e,this._y=A,this._x0=t,this._y0=r,this._x1=n,this._y1=i,this._root=void 0}function Jl(e){for(var A={data:e.data},t=A;e=e.next;)t=t.next={data:e.data};return A}var Ve=Ns.prototype=Rs.prototype;Ve.copy=function(){var e=new Rs(this._x,this._y,this._x0,this._y0,this._x1,this._y1),A=this._root,t,r;if(!A)return e;if(!A.length)return e._root=Jl(A),e;for(t=[{source:A,target:e._root=new Array(4)}];A=t.pop();)for(var n=0;n<4;++n)(r=A.source[n])&&(r.length?t.push({source:r,target:A.target[n]=new Array(4)}):A.target[n]=Jl(r));return e},Ve.add=Zp,Ve.addAll=jp,Ve.cover=qp,Ve.data=Am,Ve.extent=em,Ve.find=tm,Ve.remove=rm,Ve.removeAll=nm,Ve.root=im,Ve.size=sm,Ve.visit=om,Ve.visitAfter=am,Ve.x=cm,Ve.y=fm;function Ge(e){return function(){return e}}function Lt(e){return(e()-.5)*1e-6}function gm(e){return e.x+e.vx}function Bm(e){return e.y+e.vy}function Wl(e){var A,t,r,n=1,i=1;typeof e!="function"&&(e=Ge(e==null?1:+e));function s(){for(var l,c=A.length,u,g,f,h,B,w,d=0;d<i;++d)for(u=Ns(A,gm,Bm).visitAfter(o),l=0;l<c;++l)g=A[l],B=t[g.index],w=B*B,f=g.x+g.vx,h=g.y+g.vy,u.visit(F);function F(_,Q,C,y,H){var U=_.data,S=_.r,E=B+S;if(U){if(U.index>g.index){var L=f-U.x-U.vx,N=h-U.y-U.vy,X=L*L+N*N;X<E*E&&(L===0&&(L=Lt(r),X+=L*L),N===0&&(N=Lt(r),X+=N*N),X=(E-(X=Math.sqrt(X)))/X*n,g.vx+=(L*=X)*(E=(S*=S)/(w+S)),g.vy+=(N*=X)*E,U.vx-=L*(E=1-E),U.vy-=N*E)}return}return Q>f+E||y<f-E||C>h+E||H<h-E}}function o(l){if(l.data)return l.r=t[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function a(){if(A){var l,c=A.length,u;for(t=new Array(c),l=0;l<c;++l)u=A[l],t[u.index]=+e(u,l,A)}}return s.initialize=function(l,c){A=l,r=c,a()},s.iterations=function(l){return arguments.length?(i=+l,s):i},s.strength=function(l){return arguments.length?(n=+l,s):n},s.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Ge(+l),a(),s):e},s}function hm(e){return e.index}function Yl(e,A){var t=e.get(A);if(!t)throw new Error("node not found: "+A);return t}function zl(e){var A=hm,t=u,r,n=Ge(30),i,s,o,a,l,c=1;e==null&&(e=[]);function u(w){return 1/Math.min(o[w.source.index],o[w.target.index])}function g(w){for(var d=0,F=e.length;d<c;++d)for(var _=0,Q,C,y,H,U,S,E;_<F;++_)Q=e[_],C=Q.source,y=Q.target,H=y.x+y.vx-C.x-C.vx||Lt(l),U=y.y+y.vy-C.y-C.vy||Lt(l),S=Math.sqrt(H*H+U*U),S=(S-i[_])/S*w*r[_],H*=S,U*=S,y.vx-=H*(E=a[_]),y.vy-=U*E,C.vx+=H*(E=1-E),C.vy+=U*E}function f(){if(s){var w,d=s.length,F=e.length,_=new Map(s.map((C,y)=>[A(C,y,s),C])),Q;for(w=0,o=new Array(d);w<F;++w)Q=e[w],Q.index=w,typeof Q.source!="object"&&(Q.source=Yl(_,Q.source)),typeof Q.target!="object"&&(Q.target=Yl(_,Q.target)),o[Q.source.index]=(o[Q.source.index]||0)+1,o[Q.target.index]=(o[Q.target.index]||0)+1;for(w=0,a=new Array(F);w<F;++w)Q=e[w],a[w]=o[Q.source.index]/(o[Q.source.index]+o[Q.target.index]);r=new Array(F),h(),i=new Array(F),B()}}function h(){if(s)for(var w=0,d=e.length;w<d;++w)r[w]=+t(e[w],w,e)}function B(){if(s)for(var w=0,d=e.length;w<d;++w)i[w]=+n(e[w],w,e)}return g.initialize=function(w,d){s=w,l=d,f()},g.links=function(w){return arguments.length?(e=w,f(),g):e},g.id=function(w){return arguments.length?(A=w,g):A},g.iterations=function(w){return arguments.length?(c=+w,g):c},g.strength=function(w){return arguments.length?(t=typeof w=="function"?w:Ge(+w),h(),g):t},g.distance=function(w){return arguments.length?(n=typeof w=="function"?w:Ge(+w),B(),g):n},g}const dm=1664525,wm=1013904223,$l=4294967296;function pm(){let e=1;return()=>(e=(dm*e+wm)%$l)/$l}function mm(e){return e.x}function Qm(e){return e.y}var Cm=10,vm=Math.PI*(3-Math.sqrt(5));function Zl(e){var A,t=1,r=.001,n=1-Math.pow(r,1/300),i=0,s=.6,o=new Map,a=ks(u),l=Kr("tick","end"),c=pm();e==null&&(e=[]);function u(){g(),l.call("tick",A),t<r&&(a.stop(),l.call("end",A))}function g(B){var w,d=e.length,F;B===void 0&&(B=1);for(var _=0;_<B;++_)for(t+=(i-t)*n,o.forEach(function(Q){Q(t)}),w=0;w<d;++w)F=e[w],F.fx==null?F.x+=F.vx*=s:(F.x=F.fx,F.vx=0),F.fy==null?F.y+=F.vy*=s:(F.y=F.fy,F.vy=0);return A}function f(){for(var B=0,w=e.length,d;B<w;++B){if(d=e[B],d.index=B,d.fx!=null&&(d.x=d.fx),d.fy!=null&&(d.y=d.fy),isNaN(d.x)||isNaN(d.y)){var F=Cm*Math.sqrt(.5+B),_=B*vm;d.x=F*Math.cos(_),d.y=F*Math.sin(_)}(isNaN(d.vx)||isNaN(d.vy))&&(d.vx=d.vy=0)}}function h(B){return B.initialize&&B.initialize(e,c),B}return f(),A={tick:g,restart:function(){return a.restart(u),A},stop:function(){return a.stop(),A},nodes:function(B){return arguments.length?(e=B,f(),o.forEach(h),A):e},alpha:function(B){return arguments.length?(t=+B,A):t},alphaMin:function(B){return arguments.length?(r=+B,A):r},alphaDecay:function(B){return arguments.length?(n=+B,A):+n},alphaTarget:function(B){return arguments.length?(i=+B,A):i},velocityDecay:function(B){return arguments.length?(s=1-B,A):1-s},randomSource:function(B){return arguments.length?(c=B,o.forEach(h),A):c},force:function(B,w){return arguments.length>1?(w==null?o.delete(B):o.set(B,h(w)),A):o.get(B)},find:function(B,w,d){var F=0,_=e.length,Q,C,y,H,U;for(d==null?d=1/0:d*=d,F=0;F<_;++F)H=e[F],Q=B-H.x,C=w-H.y,y=Q*Q+C*C,y<d&&(U=H,d=y);return U},on:function(B,w){return arguments.length>1?(l.on(B,w),A):l.on(B)}}}function jl(){var e,A,t,r,n=Ge(-30),i,s=1,o=1/0,a=.81;function l(f){var h,B=e.length,w=Ns(e,mm,Qm).visitAfter(u);for(r=f,h=0;h<B;++h)A=e[h],w.visit(g)}function c(){if(e){var f,h=e.length,B;for(i=new Array(h),f=0;f<h;++f)B=e[f],i[B.index]=+n(B,f,e)}}function u(f){var h=0,B,w,d=0,F,_,Q;if(f.length){for(F=_=Q=0;Q<4;++Q)(B=f[Q])&&(w=Math.abs(B.value))&&(h+=B.value,d+=w,F+=w*B.x,_+=w*B.y);f.x=F/d,f.y=_/d}else{B=f,B.x=B.data.x,B.y=B.data.y;do h+=i[B.data.index];while(B=B.next)}f.value=h}function g(f,h,B,w){if(!f.value)return!0;var d=f.x-A.x,F=f.y-A.y,_=w-h,Q=d*d+F*F;if(_*_/a<Q)return Q<o&&(d===0&&(d=Lt(t),Q+=d*d),F===0&&(F=Lt(t),Q+=F*F),Q<s&&(Q=Math.sqrt(s*Q)),A.vx+=d*f.value*r/Q,A.vy+=F*f.value*r/Q),!0;if(f.length||Q>=o)return;(f.data!==A||f.next)&&(d===0&&(d=Lt(t),Q+=d*d),F===0&&(F=Lt(t),Q+=F*F),Q<s&&(Q=Math.sqrt(s*Q)));do f.data!==A&&(_=i[f.data.index]*r/Q,A.vx+=d*_,A.vy+=F*_);while(f=f.next)}return l.initialize=function(f,h){e=f,t=h,c()},l.strength=function(f){return arguments.length?(n=typeof f=="function"?f:Ge(+f),c(),l):n},l.distanceMin=function(f){return arguments.length?(s=f*f,l):Math.sqrt(s)},l.distanceMax=function(f){return arguments.length?(o=f*f,l):Math.sqrt(o)},l.theta=function(f){return arguments.length?(a=f*f,l):Math.sqrt(a)},l}function ql(e){var A=Ge(.1),t,r,n;typeof e!="function"&&(e=Ge(e==null?0:+e));function i(o){for(var a=0,l=t.length,c;a<l;++a)c=t[a],c.vx+=(n[a]-c.x)*r[a]*o}function s(){if(t){var o,a=t.length;for(r=new Array(a),n=new Array(a),o=0;o<a;++o)r[o]=isNaN(n[o]=+e(t[o],o,t))?0:+A(t[o],o,t)}}return i.initialize=function(o){t=o,s()},i.strength=function(o){return arguments.length?(A=typeof o=="function"?o:Ge(+o),s(),i):A},i.x=function(o){return arguments.length?(e=typeof o=="function"?o:Ge(+o),s(),i):e},i}function Ac(e){var A=Ge(.1),t,r,n;typeof e!="function"&&(e=Ge(e==null?0:+e));function i(o){for(var a=0,l=t.length,c;a<l;++a)c=t[a],c.vy+=(n[a]-c.y)*r[a]*o}function s(){if(t){var o,a=t.length;for(r=new Array(a),n=new Array(a),o=0;o<a;++o)r[o]=isNaN(n[o]=+e(t[o],o,t))?0:+A(t[o],o,t)}}return i.initialize=function(o){t=o,s()},i.strength=function(o){return arguments.length?(A=typeof o=="function"?o:Ge(+o),s(),i):A},i.y=function(o){return arguments.length?(e=typeof o=="function"?o:Ge(+o),s(),i):e},i}function Um(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ni(e,A){if((t=(e=A?e.toExponential(A-1):e.toExponential()).indexOf("e"))<0)return null;var t,r=e.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+e.slice(t+1)]}function Br(e){return e=ni(Math.abs(e)),e?e[1]:NaN}function Fm(e,A){return function(t,r){for(var n=t.length,i=[],s=0,o=e[0],a=0;n>0&&o>0&&(a+o+1>r&&(o=Math.max(1,r-a)),i.push(t.substring(n-=o,n+o)),!((a+=o+1)>r));)o=e[s=(s+1)%e.length];return i.reverse().join(A)}}function ym(e){return function(A){return A.replace(/[0-9]/g,function(t){return e[+t]})}}var _m=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ii(e){if(!(A=_m.exec(e)))throw new Error("invalid format: "+e);var A;return new Vs({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}ii.prototype=Vs.prototype;function Vs(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Vs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bm(e){A:for(var A=e.length,t=1,r=-1,n;t<A;++t)switch(e[t]){case".":r=n=t;break;case"0":r===0&&(r=t),n=t;break;default:if(!+e[t])break A;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(n+1):e}var ec;function Em(e,A){var t=ni(e,A);if(!t)return e+"";var r=t[0],n=t[1],i=n-(ec=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+ni(e,Math.max(0,A+i-1))[0]}function tc(e,A){var t=ni(e,A);if(!t)return e+"";var r=t[0],n=t[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}const rc={"%":(e,A)=>(e*100).toFixed(A),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Um,e:(e,A)=>e.toExponential(A),f:(e,A)=>e.toFixed(A),g:(e,A)=>e.toPrecision(A),o:e=>Math.round(e).toString(8),p:(e,A)=>tc(e*100,A),r:tc,s:Em,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nc(e){return e}var ic=Array.prototype.map,sc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Hm(e){var A=e.grouping===void 0||e.thousands===void 0?nc:Fm(ic.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?nc:ym(ic.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function l(u){u=ii(u);var g=u.fill,f=u.align,h=u.sign,B=u.symbol,w=u.zero,d=u.width,F=u.comma,_=u.precision,Q=u.trim,C=u.type;C==="n"?(F=!0,C="g"):rc[C]||(_===void 0&&(_=12),Q=!0,C="g"),(w||g==="0"&&f==="=")&&(w=!0,g="0",f="=");var y=B==="$"?t:B==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",H=B==="$"?r:/[%p]/.test(C)?s:"",U=rc[C],S=/[defgprs%]/.test(C);_=_===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function E(L){var N=y,X=H,k,z,K;if(C==="c")X=U(L)+X,L="";else{L=+L;var Z=L<0||1/L<0;if(L=isNaN(L)?a:U(Math.abs(L),_),Q&&(L=bm(L)),Z&&+L==0&&h!=="+"&&(Z=!1),N=(Z?h==="("?h:o:h==="-"||h==="("?"":h)+N,X=(C==="s"?sc[8+ec/3]:"")+X+(Z&&h==="("?")":""),S){for(k=-1,z=L.length;++k<z;)if(K=L.charCodeAt(k),48>K||K>57){X=(K===46?n+L.slice(k+1):L.slice(k))+X,L=L.slice(0,k);break}}}F&&!w&&(L=A(L,1/0));var V=N.length+L.length+X.length,W=V<d?new Array(d-V+1).join(g):"";switch(F&&w&&(L=A(W+L,W.length?d-X.length:1/0),W=""),f){case"<":L=N+L+X+W;break;case"=":L=N+W+L+X;break;case"^":L=W.slice(0,V=W.length>>1)+N+L+X+W.slice(V);break;default:L=W+N+L+X;break}return i(L)}return E.toString=function(){return u+""},E}function c(u,g){var f=l((u=ii(u),u.type="f",u)),h=Math.max(-8,Math.min(8,Math.floor(Br(g)/3)))*3,B=Math.pow(10,-h),w=sc[8+h/3];return function(d){return f(B*d)+w}}return{format:l,formatPrefix:c}}var si,oc,ac;Im({thousands:",",grouping:[3],currency:["$",""]});function Im(e){return si=Hm(e),oc=si.format,ac=si.formatPrefix,si}function Sm(e){return Math.max(0,-Br(Math.abs(e)))}function xm(e,A){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Br(A)/3)))*3-Br(Math.abs(e)))}function Lm(e,A){return e=Math.abs(e),A=Math.abs(A)-e,Math.max(0,Br(A)-Br(e))+1}function Gs(e,A){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(A).domain(e);break}return this}const lc=Symbol("implicit");function cc(){var e=new za,A=[],t=[],r=lc;function n(i){let s=e.get(i);if(s===void 0){if(r!==lc)return r;e.set(i,s=A.push(i)-1)}return t[s%t.length]}return n.domain=function(i){if(!arguments.length)return A.slice();A=[],e=new za;for(const s of i)e.has(s)||e.set(s,A.push(s)-1);return n},n.range=function(i){return arguments.length?(t=Array.from(i),n):t.slice()},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return cc(A,t).unknown(r)},Gs.apply(n,arguments),n}function uc(){var e=cc().unknown(void 0),A=e.domain,t=e.range,r=0,n=1,i,s,o=!1,a=0,l=0,c=.5;delete e.unknown;function u(){var g=A().length,f=n<r,h=f?n:r,B=f?r:n;i=(B-h)/Math.max(1,g-a+l*2),o&&(i=Math.floor(i)),h+=(B-h-i*(g-a))*c,s=i*(1-a),o&&(h=Math.round(h),s=Math.round(s));var w=Dn(g).map(function(d){return h+i*d});return t(f?w.reverse():w)}return e.domain=function(g){return arguments.length?(A(g),u()):A()},e.range=function(g){return arguments.length?([r,n]=g,r=+r,n=+n,u()):[r,n]},e.rangeRound=function(g){return[r,n]=g,r=+r,n=+n,o=!0,u()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(g){return arguments.length?(o=!!g,u()):o},e.padding=function(g){return arguments.length?(a=Math.min(1,l=+g),u()):a},e.paddingInner=function(g){return arguments.length?(a=Math.min(1,g),u()):a},e.paddingOuter=function(g){return arguments.length?(l=+g,u()):l},e.align=function(g){return arguments.length?(c=Math.max(0,Math.min(1,g)),u()):c},e.copy=function(){return uc(A(),[r,n]).round(o).paddingInner(a).paddingOuter(l).align(c)},Gs.apply(u(),arguments)}function km(e){return function(){return e}}function Km(e){return+e}var fc=[0,1];function hr(e){return e}function Ps(e,A){return(A-=e=+e)?function(t){return(t-e)/A}:km(isNaN(A)?NaN:.5)}function Mm(e,A){var t;return e>A&&(t=e,e=A,A=t),function(r){return Math.max(e,Math.min(A,r))}}function Dm(e,A,t){var r=e[0],n=e[1],i=A[0],s=A[1];return n<r?(r=Ps(n,r),i=t(s,i)):(r=Ps(r,n),i=t(i,s)),function(o){return i(r(o))}}function Tm(e,A,t){var r=Math.min(e.length,A.length)-1,n=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),A=A.slice().reverse());++s<r;)n[s]=Ps(e[s],e[s+1]),i[s]=t(A[s],A[s+1]);return function(o){var a=od(e,o,1,r)-1;return i[a](n[a](o))}}function Om(e,A){return A.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Nm(){var e=fc,A=fc,t=Ss,r,n,i,s=hr,o,a,l;function c(){var g=Math.min(e.length,A.length);return s!==hr&&(s=Mm(e[0],e[g-1])),o=g>2?Tm:Dm,a=l=null,u}function u(g){return g==null||isNaN(g=+g)?i:(a||(a=o(e.map(r),A,t)))(r(s(g)))}return u.invert=function(g){return s(n((l||(l=o(A,e.map(r),nt)))(g)))},u.domain=function(g){return arguments.length?(e=Array.from(g,Km),c()):e.slice()},u.range=function(g){return arguments.length?(A=Array.from(g),c()):A.slice()},u.rangeRound=function(g){return A=Array.from(g),t=S0,c()},u.clamp=function(g){return arguments.length?(s=g?!0:hr,c()):s!==hr},u.interpolate=function(g){return arguments.length?(t=g,c()):t},u.unknown=function(g){return arguments.length?(i=g,u):i},function(g,f){return r=g,n=f,c()}}function Rm(){return Nm()(hr,hr)}function Vm(e,A,t,r){var n=hd(e,A,t),i;switch(r=ii(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(A));return r.precision==null&&!isNaN(i=xm(n,s))&&(r.precision=i),ac(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Lm(n,Math.max(Math.abs(e),Math.abs(A))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Sm(n))&&(r.precision=i-(r.type==="%")*2);break}}return oc(r)}function Gm(e){var A=e.domain;return e.ticks=function(t){var r=A();return Bd(r[0],r[r.length-1],t??10)},e.tickFormat=function(t,r){var n=A();return Vm(n[0],n[n.length-1],t??10,r)},e.nice=function(t){t==null&&(t=10);var r=A(),n=0,i=r.length-1,s=r[n],o=r[i],a,l,c=10;for(o<s&&(l=s,s=o,o=l,l=n,n=i,i=l);c-- >0;){if(l=ps(s,o,t),l===a)return r[n]=s,r[i]=o,A(r);if(l>0)s=Math.floor(s/l)*l,o=Math.ceil(o/l)*l;else if(l<0)s=Math.ceil(s*l)/l,o=Math.floor(o*l)/l;else break;a=l}return e},e}function Xr(){var e=Rm();return e.copy=function(){return Om(e,Xr())},Gs.apply(e,arguments),Gm(e)}const oi=e=>()=>e;function Pm(e,{sourceEvent:A,target:t,transform:r,dispatch:n}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:A,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:n}})}function Ft(e,A,t){this.k=e,this.x=A,this.y=t}Ft.prototype={constructor:Ft,scale:function(e){return e===1?this:new Ft(this.k*e,this.x,this.y)},translate:function(e,A){return e===0&A===0?this:new Ft(this.k,this.x+this.k*e,this.y+this.k*A)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xs=new Ft(1,0,0);Ft.prototype;function Js(e){e.stopImmediatePropagation()}function Jr(e){e.preventDefault(),e.stopImmediatePropagation()}function Xm(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Jm(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function gc(){return this.__zoom||Xs}function Wm(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Ym(){return navigator.maxTouchPoints||"ontouchstart"in this}function zm(e,A,t){var r=e.invertX(A[0][0])-t[0][0],n=e.invertX(A[1][0])-t[1][0],i=e.invertY(A[0][1])-t[0][1],s=e.invertY(A[1][1])-t[1][1];return e.translate(n>r?(r+n)/2:Math.min(0,r)||Math.max(0,n),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Bc(){var e=Xm,A=Jm,t=zm,r=Wm,n=Ym,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,a=O0,l=Kr("start","zoom","end"),c,u,g,f=500,h=150,B=0,w=10;function d(k){k.property("__zoom",gc).on("wheel.zoom",U,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",E).filter(n).on("touchstart.zoom",L).on("touchmove.zoom",N).on("touchend.zoom touchcancel.zoom",X).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}d.transform=function(k,z,K,Z){var V=k.selection?k.selection():k;V.property("__zoom",gc),k!==V?C(k,z,K,Z):V.interrupt().each(function(){y(this,arguments).event(Z).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},d.scaleBy=function(k,z,K,Z){d.scaleTo(k,function(){var V=this.__zoom.k,W=typeof z=="function"?z.apply(this,arguments):z;return V*W},K,Z)},d.scaleTo=function(k,z,K,Z){d.transform(k,function(){var V=A.apply(this,arguments),W=this.__zoom,J=K==null?Q(V):typeof K=="function"?K.apply(this,arguments):K,lA=W.invert(J),wA=typeof z=="function"?z.apply(this,arguments):z;return t(_(F(W,wA),J,lA),V,s)},K,Z)},d.translateBy=function(k,z,K,Z){d.transform(k,function(){return t(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof K=="function"?K.apply(this,arguments):K),A.apply(this,arguments),s)},null,Z)},d.translateTo=function(k,z,K,Z,V){d.transform(k,function(){var W=A.apply(this,arguments),J=this.__zoom,lA=Z==null?Q(W):typeof Z=="function"?Z.apply(this,arguments):Z;return t(Xs.translate(lA[0],lA[1]).scale(J.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof K=="function"?-K.apply(this,arguments):-K),W,s)},Z,V)};function F(k,z){return z=Math.max(i[0],Math.min(i[1],z)),z===k.k?k:new Ft(z,k.x,k.y)}function _(k,z,K){var Z=z[0]-K[0]*k.k,V=z[1]-K[1]*k.k;return Z===k.x&&V===k.y?k:new Ft(k.k,Z,V)}function Q(k){return[(+k[0][0]+ +k[1][0])/2,(+k[0][1]+ +k[1][1])/2]}function C(k,z,K,Z){k.on("start.zoom",function(){y(this,arguments).event(Z).start()}).on("interrupt.zoom end.zoom",function(){y(this,arguments).event(Z).end()}).tween("zoom",function(){var V=this,W=arguments,J=y(V,W).event(Z),lA=A.apply(V,W),wA=K==null?Q(lA):typeof K=="function"?K.apply(V,W):K,MA=Math.max(lA[1][0]-lA[0][0],lA[1][1]-lA[0][1]),DA=V.__zoom,VA=typeof z=="function"?z.apply(V,W):z,OA=a(DA.invert(wA).concat(MA/DA.k),VA.invert(wA).concat(MA/VA.k));return function(ee){if(ee===1)ee=VA;else{var $=OA(ee),cA=MA/$[2];ee=new Ft(cA,wA[0]-$[0]*cA,wA[1]-$[1]*cA)}J.zoom(null,ee)}})}function y(k,z,K){return!K&&k.__zooming||new H(k,z)}function H(k,z){this.that=k,this.args=z,this.active=0,this.sourceEvent=null,this.extent=A.apply(k,z),this.taps=0}H.prototype={event:function(k){return k&&(this.sourceEvent=k),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(k,z){return this.mouse&&k!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&k!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&k!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(k){var z=le(this.that).datum();l.call(k,this.that,new Pm(k,{sourceEvent:this.sourceEvent,target:d,type:k,transform:this.that.__zoom,dispatch:l}),z)}};function U(k,...z){if(!e.apply(this,arguments))return;var K=y(this,z).event(k),Z=this.__zoom,V=Math.max(i[0],Math.min(i[1],Z.k*Math.pow(2,r.apply(this,arguments)))),W=ve(k);if(K.wheel)(K.mouse[0][0]!==W[0]||K.mouse[0][1]!==W[1])&&(K.mouse[1]=Z.invert(K.mouse[0]=W)),clearTimeout(K.wheel);else{if(Z.k===V)return;K.mouse=[W,Z.invert(W)],ri(this),K.start()}Jr(k),K.wheel=setTimeout(J,h),K.zoom("mouse",t(_(F(Z,V),K.mouse[0],K.mouse[1]),K.extent,s));function J(){K.wheel=null,K.end()}}function S(k,...z){if(g||!e.apply(this,arguments))return;var K=k.currentTarget,Z=y(this,z,!0).event(k),V=le(k.view).on("mousemove.zoom",wA,!0).on("mouseup.zoom",MA,!0),W=ve(k,K),J=k.clientX,lA=k.clientY;dl(k.view),Js(k),Z.mouse=[W,this.__zoom.invert(W)],ri(this),Z.start();function wA(DA){if(Jr(DA),!Z.moved){var VA=DA.clientX-J,OA=DA.clientY-lA;Z.moved=VA*VA+OA*OA>B}Z.event(DA).zoom("mouse",t(_(Z.that.__zoom,Z.mouse[0]=ve(DA,K),Z.mouse[1]),Z.extent,s))}function MA(DA){V.on("mousemove.zoom mouseup.zoom",null),wl(DA.view,Z.moved),Jr(DA),Z.event(DA).end()}}function E(k,...z){if(e.apply(this,arguments)){var K=this.__zoom,Z=ve(k.changedTouches?k.changedTouches[0]:k,this),V=K.invert(Z),W=K.k*(k.shiftKey?.5:2),J=t(_(F(K,W),Z,V),A.apply(this,z),s);Jr(k),o>0?le(this).transition().duration(o).call(C,J,Z,k):le(this).call(d.transform,J,Z,k)}}function L(k,...z){if(e.apply(this,arguments)){var K=k.touches,Z=K.length,V=y(this,z,k.changedTouches.length===Z).event(k),W,J,lA,wA;for(Js(k),J=0;J<Z;++J)lA=K[J],wA=ve(lA,this),wA=[wA,this.__zoom.invert(wA),lA.identifier],V.touch0?!V.touch1&&V.touch0[2]!==wA[2]&&(V.touch1=wA,V.taps=0):(V.touch0=wA,W=!0,V.taps=1+!!c);c&&(c=clearTimeout(c)),W&&(V.taps<2&&(u=wA[0],c=setTimeout(function(){c=null},f)),ri(this),V.start())}}function N(k,...z){if(this.__zooming){var K=y(this,z).event(k),Z=k.changedTouches,V=Z.length,W,J,lA,wA;for(Jr(k),W=0;W<V;++W)J=Z[W],lA=ve(J,this),K.touch0&&K.touch0[2]===J.identifier?K.touch0[0]=lA:K.touch1&&K.touch1[2]===J.identifier&&(K.touch1[0]=lA);if(J=K.that.__zoom,K.touch1){var MA=K.touch0[0],DA=K.touch0[1],VA=K.touch1[0],OA=K.touch1[1],ee=(ee=VA[0]-MA[0])*ee+(ee=VA[1]-MA[1])*ee,$=($=OA[0]-DA[0])*$+($=OA[1]-DA[1])*$;J=F(J,Math.sqrt(ee/$)),lA=[(MA[0]+VA[0])/2,(MA[1]+VA[1])/2],wA=[(DA[0]+OA[0])/2,(DA[1]+OA[1])/2]}else if(K.touch0)lA=K.touch0[0],wA=K.touch0[1];else return;K.zoom("touch",t(_(J,lA,wA),K.extent,s))}}function X(k,...z){if(this.__zooming){var K=y(this,z).event(k),Z=k.changedTouches,V=Z.length,W,J;for(Js(k),g&&clearTimeout(g),g=setTimeout(function(){g=null},f),W=0;W<V;++W)J=Z[W],K.touch0&&K.touch0[2]===J.identifier?delete K.touch0:K.touch1&&K.touch1[2]===J.identifier&&delete K.touch1;if(K.touch1&&!K.touch0&&(K.touch0=K.touch1,delete K.touch1),K.touch0)K.touch0[1]=this.__zoom.invert(K.touch0[0]);else if(K.end(),K.taps===2&&(J=ve(J,this),Math.hypot(u[0]-J[0],u[1]-J[1])<w)){var lA=le(this).on("dblclick.zoom");lA&&lA.apply(this,arguments)}}}return d.wheelDelta=function(k){return arguments.length?(r=typeof k=="function"?k:oi(+k),d):r},d.filter=function(k){return arguments.length?(e=typeof k=="function"?k:oi(!!k),d):e},d.touchable=function(k){return arguments.length?(n=typeof k=="function"?k:oi(!!k),d):n},d.extent=function(k){return arguments.length?(A=typeof k=="function"?k:oi([[+k[0][0],+k[0][1]],[+k[1][0],+k[1][1]]]),d):A},d.scaleExtent=function(k){return arguments.length?(i[0]=+k[0],i[1]=+k[1],d):[i[0],i[1]]},d.translateExtent=function(k){return arguments.length?(s[0][0]=+k[0][0],s[1][0]=+k[1][0],s[0][1]=+k[0][1],s[1][1]=+k[1][1],d):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},d.constrain=function(k){return arguments.length?(t=k,d):t},d.duration=function(k){return arguments.length?(o=+k,d):o},d.interpolate=function(k){return arguments.length?(a=k,d):a},d.on=function(){var k=l.on.apply(l,arguments);return k===l?d:k},d.clickDistance=function(k){return arguments.length?(B=(k=+k)*k,d):Math.sqrt(B)},d.tapDistance=function(k){return arguments.length?(w=+k,d):w},d}function $m(e,A,t=null,r,n=null){const i=le(e);i.selectAll("*").remove();const s=i.node(),o=s.getBoundingClientRect();let a=o.width||800,l=o.height||600;const c=a/2,u=l/2,g=i.append("canvas").attr("class","network-canvas").attr("width",a).attr("height",l).style("width",a+"px").style("height",l+"px").style("cursor","default"),f=g.node().getContext("2d",{alpha:!1});let h=Xs;const B=new Set,w={current:null};function d(){const L=s.getBoundingClientRect(),N=L.width||800,X=L.height||600;(N!==a||X!==l)&&(a=N,l=X,g.attr("width",a).attr("height",l).style("width",a+"px").style("height",l+"px"),E())}const F=new ResizeObserver(d);F.observe(s);const _=Zl(A).force("link",zl(t).id(L=>L.id).distance(L=>L.distance)).force("charge",jl().strength(-250)).force("center",Pl(c,u).strength(.7)).force("collide",Wl(L=>L.radius+10).strength(.5)).force("x",ql(c).strength(.025)).force("y",Ac(u).strength(.025)).alphaDecay(.05).velocityDecay(.6);let Q=null;_.on("tick",()=>{Q||(Q=requestAnimationFrame(()=>{E(),Q=null}))}),_.tick(100);for(let L=0;L<100;L++)_.tick();_.alphaTarget(0);const C=Zm({canvas:g,nodes:A,transform:()=>h,hoveredNode:w,onSelectionChange:(L,N)=>{B.clear(),L.forEach(k=>B.add(k));const X=qm(A,L,N);r(X),E()},render:()=>E()}),y=Bc().scaleExtent([.1,10]).filter(L=>!C.isSelectionMode()||L.type==="wheel").on("zoom",({transform:L})=>{h=L,E()});g.call(y);const{dragstarted:H,dragged:U,dragended:S}=jm(g,A,_,()=>h,w,()=>!C.isSelectionMode(),E);C.setupInteractions(g,{start:H,drag:U,end:S});function E(){f.save(),f.fillRect(0,0,a,l),f.translate(h.x,h.y),f.scale(h.k,h.k),f.strokeStyle="#8a8a8a",f.lineWidth=1/h.k,t.forEach(N=>{const X=N.source.x,k=N.source.y,z=N.target.x,K=N.target.y;f.globalAlpha=Math.max(.2,N.strength),f.lineWidth=N.width/h.k,f.beginPath(),f.moveTo(X,k),f.lineTo(z,K),f.stroke()}),f.globalAlpha=1,A.forEach(N=>{const X=B.has(N.id);f.fillStyle=N.color,f.beginPath(),f.arc(N.x,N.y,N.radius,0,2*Math.PI),f.fill(),X&&(f.strokeStyle="#0f2bff",f.lineWidth=3/h.k,f.stroke())});const L=C.getSelectionRect();if(L){f.strokeStyle="#0f2bff",f.fillStyle="rgba(15, 43, 255, 0.2)",f.lineWidth=2/h.k;const N=Math.min(L.x1,L.x2),X=Math.min(L.y1,L.y2),k=Math.abs(L.x2-L.x1),z=Math.abs(L.y2-L.y1);f.fillRect(N,X,k,z),f.strokeRect(N,X,k,z)}f.restore()}return E(),{destroy:()=>{Q&&cancelAnimationFrame(Q),_.stop(),F.disconnect(),g.remove()},toggleSelectionMode:()=>{const L=C.toggleSelectionMode();return n&&n(L),E(),L}}}function Zm(e){const{canvas:A,nodes:t,transform:r,hoveredNode:n,onSelectionChange:i,render:s}=e,o=new Set,a=[];let l=!1,c=null;function u(){return l=!l,A.style("cursor",l?"crosshair":"default"),l}function g(B){if(o.has(B)){o.delete(B);const w=a.indexOf(B);w>-1&&a.splice(w,1)}else o.add(B),a.push(B);i(o,a)}function f(B,w){const d=r(),F=(B-d.x)/d.k,_=(w-d.y)/d.k;for(let Q=t.length-1;Q>=0;Q--){const C=t[Q],y=F-C.x,H=_-C.y;if(Math.sqrt(y*y+H*H)<C.radius)return C}return null}function h(B,w){let d=null;B.on("mousedown",function(F){const[_,Q]=ve(F),C=f(_,Q);if(l){const y=r(),H=(_-y.x)/y.k,U=(Q-y.y)/y.k;c={x1:H,y1:U,x2:H,y2:U},s()}else C&&(d=C,w.start(F,C))}),B.on("mousemove",function(F){const[_,Q]=ve(F);if(l){if(c){const C=r(),y=(_-C.x)/C.k,H=(Q-C.y)/C.k;c.x2=y,c.y2=H,s()}}else if(d)w.drag(F,d,_,Q);else{const C=f(_,Q);n.current!==C&&(n.current=C,B.style("cursor",C?"pointer":"default"),s())}}),B.on("mouseup",function(F){if(l){if(c){const _=Math.min(c.x1,c.x2),Q=Math.min(c.y1,c.y2),C=Math.max(c.x1,c.x2),y=Math.max(c.y1,c.y2);o.clear(),a.length=0;const H=[];t.forEach(U=>{U.x>=_&&U.x<=C&&U.y>=Q&&U.y<=y&&H.push({id:U.id,y:U.y})}),H.sort((U,S)=>U.y-S.y),H.forEach(({id:U})=>{o.add(U),a.push(U)}),i(o,a),c=null,s()}}else if(d)w.end(F,d),d=null;else{const[_,Q]=ve(F),C=f(_,Q);C&&g(C.id)}})}return{toggleSelectionMode:u,isSelectionMode:()=>l,setupInteractions:h,getSelectionRect:()=>c}}function jm(e,A,t,r,n,i,s){let o=null;function a(u,g){i()&&(u.active||t.alphaTarget(.3).restart(),o=g,g.fx=g.x,g.fy=g.y)}function l(u,g,f,h){if(!o||!i())return;const B=r();g.fx=(f-B.x)/B.k,g.fy=(h-B.y)/B.k,s()}function c(u,g){!o||!i()||(u.active||t.alphaTarget(0),g.fx=null,g.fy=null,o=null)}return{dragstarted:a,dragged:l,dragended:c}}function qm(e,A,t){const r=new Map(e.map(n=>[n.id,n]));return t.map(n=>r.get(n)).filter(Boolean)}const hc=8,AQ=1.5,eQ=50,dc=.5,tQ=800,rQ=600;function nQ(e,A,t=null,r=null,n=null){const i=tQ/2,s=rQ/2,a=le(e).append("svg").attr("class","network-svg"),l=a.append("g"),c=l.append("g").selectAll("line").data(t).join("line").attr("class","link").attr("stroke-width",h=>h.width||AQ).attr("stroke-opacity",h=>Math.max(.2,h.strength||dc)),u=l.append("g").selectAll("circle").data(A).join("circle").attr("class","node").attr("r",h=>h.radius||hc).attr("fill",h=>h.color);u.append("title").text(h=>h.label);const g=Zl(A).force("link",zl(t).id(h=>h.id).distance(h=>h.distance||eQ)).force("charge",jl().strength(-250)).force("center",Pl(i,s).strength(.7)).force("collide",Wl(h=>(h.radius||hc)+10).strength(dc)).force("x",ql(i).strength(.025)).force("y",Ac(s).strength(.025));let f=null;if(r){f=iQ({svg:a,g:l,nodes:A,onSelectionChange:(d,F)=>{u.classed("selected",Q=>d.has(Q.id));const _=oQ(A,d,F);r(_)}}),a.call(Bc().scaleExtent([.1,10]).filter(d=>!f.isSelectionMode()||d.type==="wheel").on("zoom",({transform:d})=>l.attr("transform",d)));const{dragstarted:h,dragged:B,dragended:w}=sQ(g,c,u);f.setupNodeClick(u),f.setupDrag(u,{start:h,drag:B,end:w})}return{destroy:()=>{g.stop(),a.remove()},toggleSelectionMode:()=>{if(f){const h=f.toggleSelectionMode();return n&&n(h),h}}}}function iQ(e){const{svg:A,g:t,nodes:r,onSelectionChange:n,getNodePosition:i=B=>({x:B.x,y:B.y}),getNodeId:s=B=>B.id}=e,o=new Set,a=[];let l=!1;function c(){return l=!l,A.style("cursor",l?"crosshair":"default"),l}function u(B){if(o.has(B)){o.delete(B);const w=a.indexOf(B);w>-1&&a.splice(w,1)}else o.add(B),a.push(B);n(o,a)}function g(){o.clear(),a.length=0,n(o,a)}let f=null,h=null;return A.on("mousedown",function(B){if(!l)return;B.preventDefault();const[w,d]=ve(B,t.node());f={x:w,y:d},h=t.append("rect").attr("class","selection-rect").attr("x",w).attr("y",d).attr("width",0).attr("height",0)}).on("mousemove",function(B){if(!l||!h)return;const[w,d]=ve(B,t.node()),F=w-f.x,_=d-f.y;h.attr("x",F<0?w:f.x).attr("y",_<0?d:f.y).attr("width",Math.abs(F)).attr("height",Math.abs(_))}).on("mouseup",function(B){if(!l||!h)return;const[w,d]=ve(B,t.node()),F=Math.min(f.x,w),_=Math.min(f.y,d),Q=Math.max(f.x,w),C=Math.max(f.y,d);o.clear(),a.length=0;const y=[];r.forEach(H=>{const U=i(H);U.x>=F&&U.x<=Q&&U.y>=_&&U.y<=C&&y.push({id:s(H),y:U.y})}),y.sort((H,U)=>H.y-U.y),y.forEach(({id:H})=>{o.add(H),a.push(H)}),n(o,a),h.remove(),h=null,f=null}),{toggleSelectionMode:c,toggleNode:u,clearSelection:g,isSelectionMode:()=>l,getSelectedNodes:()=>o,getSelectionOrder:()=>a,setupNodeClick:B=>{B.on("click",function(w,d){w.stopPropagation(),u(s(d))})},setupDrag:(B,w)=>{B.call(l0().filter(()=>!l).on("start",w.start).on("drag",w.drag).on("end",w.end))}}}function sQ(e,A,t){e.on("tick",()=>{A.attr("x1",s=>s.source.x).attr("y1",s=>s.source.y).attr("x2",s=>s.target.x).attr("y2",s=>s.target.y),t.attr("cx",s=>s.x).attr("cy",s=>s.y)});function r(s){s.active||e.alphaTarget(.3).restart(),s.subject.fx=s.subject.x,s.subject.fy=s.subject.y}function n(s){s.subject.fx=s.x,s.subject.fy=s.y}function i(s){s.active||e.alphaTarget(0),s.subject.fx=null,s.subject.fy=null}return{dragstarted:r,dragged:n,dragended:i}}function oQ(e,A,t){const r=new Map(e.map(n=>[n.id,n]));return t.map(n=>r.get(n)).filter(Boolean)}const aQ=/^(?:(\d+)_)?wit(\d+)_([a-z]{3})(\d+)(?:_anno(\d+))?_(\d+)(?:_([\d,]+))?(?:\.jpg)?$/;function lQ(e){if(!e)return null;const A=e.match(aQ);if(!A)return null;const[,t,r,n,i,s,o,a]=A;return{witnessId:parseInt(r,10),digitizationType:n,digitizationId:parseInt(i,10),regionId:t?parseInt(t,10):s?parseInt(s,10):null,canvasNb:parseInt(o,10),canvasDigits:o.length,coord:a?a.split(",").map(Number):null,imgRoot:`wit${r}_${n}${i}_${o}.jpg`}}class ai{constructor(A){this.id=A.id,this.img=A.img??A.ref,this.title=A.title,this.xywh=Array.isArray(A.xywh)?A.xywh.map(Number):A.xywh,this.canvas=A.canvas,this.ref=A.ref,this.type=A.type??vB,this._parsed=null}get parsed(){return this._parsed||(this._parsed=lQ(this.img)||{}),this._parsed}get witnessId(){return this.parsed.witnessId}get digitType(){return this.parsed.digitizationType}get digitId(){return this.parsed.digitizationId}get regionId(){return this.parsed.regionId}get canvasNb(){return this.parsed.canvasNb}get canvasDigits(){return this.parsed.canvasDigits}get imgRoot(){return this.parsed.imgRoot}get coord(){return this.parsed.coord??this.xywh}canvasStr(A=this.canvasNb,t=this.canvasDigits){return String(A).padStart(t,"0")}get iiifRoot(){return this.imgRoot?`${xr()}/iiif/2/${this.imgRoot}`:null}url(A=null,t="full"){if(!this.iiifRoot)return"https://placehold.co/96x96/png?text=No+image";let r=A??this.coord??"full";return Array.isArray(r)&&(r=r.join(",")),`${this.iiifRoot}/${r}/${t}/0/default.jpg`}info(){return this.iiifRoot?`${this.iiifRoot}/info.json`:null}manifest(){let A=`wit${this.witnessId}_${this.digitType}${this.digitId}`;return this.regionId&&(A+=`_anno${this.regionId}`),`${xr()}/iiif/v2/${A}/manifest.json`}urlForCanvas(A=this.canvasNb,t=this.coord,r="full"){const n=this.imgRoot.replace(`_${this.canvasStr()}.jpg`,`_${this.canvasStr(A)}.jpg`),i=Array.isArray(t)?t.join(","):t;return`${xr()}/iiif/2/${n}/${i}/${r}/0/default.jpg`}infoUrlForCanvas(A=this.canvasNb){const t=this.imgRoot.replace(`_${this.canvasStr()}.jpg`,`_${this.canvasStr(A)}.jpg`);return`${xr()}/iiif/2/${t}/info.json`}urlForMirador(A=this.canvasNb){return`${EB()}/index.html?iiif-content=${this.manifest()}&canvas=${A}`}}function cQ(){const e=`${window.location.origin}${window.location.pathname}`,A=PA(1),t=PA({}),r=PA({}),n=PA("");fa(A,"p");function i(c){n.update(u=>{const g=u===c?"":c;return navigator.clipboard.writeText(g).then(f=>""),g})}const s=(async()=>{try{const c=await fetch(`${e}canvas`);if(!c.ok)return{};const u=await c.json();let g={};return Object.values(u).forEach(f=>{Object.entries(f).forEach(([h,B])=>{g[h]=B})}),t.set(g),u}catch{return{}}})(),o=pe(A,c=>(async()=>{const g=await(await fetch(`${e}canvas?p=${c}`)).json();return r.set(g),g})());function a(c){ga(c,A,"p")}function l(c){t.update(u=>(delete u[c],{...u})),r.update(u=>{for(const g in u)if(u[g][c]){const{[c]:f,...h}=u[g];return u[g]=h,u}return u})}return{currentPage:A,pageRegions:r,allRegions:t,fetchPages:o,fetchAll:s,handlePageUpdate:a,remove:l,clipBoard:n,copyRef:i}}const wc=cQ();function Ws(e){const{type:A,modelName:t,title:r,extractMeta:n=f=>f}=e,i={id:null,type:A,title:r,is_public:!1,selected:{}},s=JSON.parse(localStorage.getItem(A))||i,o=PA(s),a=PA(!1);function l(f,h=!1){a.set(h),localStorage.setItem(A,JSON.stringify(f))}function c(){o.update(f=>{if(A!=="documentSet")return console.error("Document set management is the only type currently supported for saving."),f;const h=Object.fromEntries(Object.entries(f.selected).map(([w,d])=>[w,Object.keys(d)])),B=f.id?`${f.id}/edit`:"new";return fetch(`${window.location.origin}/${t}/${B}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":cs},body:JSON.stringify({title:f.title,is_public:f.is_public,selection:f,...h})}).then(w=>w.json()).then(w=>{if(!(w!=null&&w.document_set_id))throw new Error("Failed to save");o.update(d=>(d.id=w.document_set_id,d.title=w.document_set_title,d.is_public=w.is_public,l(d,!0),d))}).catch(w=>console.error("Error:",w)),f})}const u=f=>o.update(()=>{const h=f.selection.id?f.selection:{...f.selection,id:f.id};return l(h),h}),g=()=>o.update(()=>{const f={...i,selected:{}};return l(f),f});return{type:A,subscribe:o.subscribe,add:f=>o.update(h=>(h.selected[f.class]={...h.selected[f.class]||{},[f.id]:n(f)},l(h),h)),addAll:f=>o.update(h=>(f.forEach(B=>{h.selected[B.class]={...h.selected[B.class]||{},[B.id]:n(B)}}),l(h),h)),remove:(f,h)=>o.update(B=>{const{[f]:w,...d}=B.selected[h];return B.selected[h]=d,l(B),B}),removeAll:(f,h)=>o.update(B=>(f.forEach(w=>{var d;return(d=B.selected[h])==null?!0:delete d[w]}),l(B),B)),toggle:f=>o.update(h=>{var B;if((B=h.selected[f.class])!=null&&B[f.id]){const{[f.id]:w,...d}=h.selected[f.class];h.selected[f.class]=d}else h.selected[f.class]={...h.selected[f.class]||{},[f.id]:n(f)};return l(h),h}),toggleSet:f=>{Ce(o).id===f.id?g():u(f)},empty:()=>o.update(f=>(f.id=null,f.title=r,f.selected={},l(f,!0),f)),updateTitle:f=>o.update(h=>(h.title=f,l(h,!0),h)),updatePublic:f=>o.update(h=>(h.is_public=f,l(h,!0),h)),save:c,isSaved:a,selection:o,selectionTitle:pe(o,f=>f.title),isSelected:pe(o,f=>h=>{var B;return((B=f.selected[h.class])==null?void 0:B[h.id])||!1}),selected:pe(o,f=>f.selected),nbSelected:pe(o,f=>Object.entries(f.selected).reduce((h,[B,w])=>B==="User"?h:h+Object.keys(w).length,0)),isSetSelected:pe(o,f=>h=>f.id===h.id)}}const uQ=Ws({type:"documentSet",modelName:"document-set",title:eA==="en"?"Document set":"Set de documents",extractMeta:e=>({title:e.title,url:e.url})}),pc=Ws({type:"regionsSet",modelName:"regions-set",title:eA==="en"?"Regions set":"Set de régions",extractMeta:e=>e});function fQ(e){if(!e.startsWith("wit"))return e;const[A,...t]=e.split("_wit");return`wit${t}`}const li=Ws({type:"clusterSet",modelName:"cluster-set",title:eA==="en"?"Selected regions":"Régions sélectionnées",extractMeta:e=>({imgRef:e.id,clusterId:e.clusterId,title:e.title,xywh:e.xywh,img:fQ(e.id)})}),Ob="";function gQ(e){let A,t,r,n,i,s,o,a,l,c,u;return a=new ws({props:{targetHtmlId:e[1],tooltipText:e[2]}}),{c(){A=v("div"),t=v("button"),r=pt("svg"),n=pt("path"),i=pt("path"),s=pt("path"),o=T(),_A(a.$$.fragment),m(n,"d","M53.6443 14.25C47.7042 5.33 37.7293 0 26.9801 0C16.2206 0 6.24576 5.33 0.305653 14.25L0 14.71L0.305653 15.17C6.24576 24.09 16.2206 29.42 26.9801 29.42C37.7293 29.42 47.7042 24.09 53.6443 15.16L53.95 14.71L53.6443 14.25ZM3.25025 14.71C7.63146 8.69001 14.0606 4.65 21.2641 3.22C20.0619 3.83 18.9411 4.62 17.963 5.59C15.5176 8.02 14.1625 11.25 14.1625 14.67C14.1625 18.11 15.5176 21.34 17.963 23.76C19.0124 24.79 20.1943 25.61 21.4781 26.23C14.1829 24.85 7.6824 20.78 3.25025 14.71ZM27.1125 22.64C22.7008 22.64 19.1041 19.08 19.1041 14.7C19.1041 12.59 19.9396 10.6 21.4475 9.10001C22.9555 7.60001 24.9729 6.77 27.1125 6.77C29.2522 6.77 31.2594 7.60001 32.7775 9.10001C34.2855 10.6 35.121 12.59 35.121 14.7C35.121 16.82 34.2855 18.82 32.7775 20.32C31.2594 21.81 29.242 22.64 27.1125 22.64ZM32.9915 26.14C34.204 25.53 35.3146 24.74 36.3029 23.77C38.7482 21.34 40.0932 18.11 40.0932 14.68C40.0932 9.75 37.281 5.47001 33.1647 3.32001C40.1747 4.81001 46.4102 8.83001 50.6896 14.71C46.3797 20.64 40.0728 24.67 32.9915 26.14Z"),m(n,"class","svelte-109pj58"),m(i,"d","M26.9804 25.98C33.3222 25.98 38.4633 20.9343 38.4633 14.71C38.4633 8.48576 33.3222 3.44 26.9804 3.44C20.6386 3.44 15.4976 8.48576 15.4976 14.71C15.4976 20.9343 20.6386 25.98 26.9804 25.98Z"),m(i,"class","svelte-109pj58"),m(s,"d","M17.9529 23.85L36.2928 5.85001"),m(s,"stroke-width","3"),m(s,"stroke-miterlimit","10"),m(s,"class","svelte-109pj58"),m(r,"width","54"),m(r,"height","30"),m(r,"viewBox","0 0 54 30"),m(r,"fill","none"),m(r,"xmlns","http://www.w3.org/2000/svg"),m(r,"class","svelte-109pj58"),m(t,"class","button tag svelte-109pj58"),m(t,"title",e[2]),m(A,"id",e[1])},m(g,f){D(g,A,f),p(A,t),p(t,r),p(r,n),p(r,i),p(r,s),p(t,o),FA(a,t,null),l=!0,c||(u=mA(t,"click",ia(e[3])),c=!0)},p:tA,i(g){l||(O(a.$$.fragment,g),l=!0)},o(g){P(a.$$.fragment,g),l=!1},d(g){g&&M(A),yA(a),c=!1,u()}}}function BQ(e){const A=Cn(),t=`modal-opener-${window.crypto.randomUUID()}`;return[A,t,eA==="fr"?"Vue détaillée":"Detailed view",()=>A("open")]}class hQ extends $A{constructor(A){super(),zA(this,A,BQ,gQ,JA,{})}}const Nb="",dQ=e=>({}),mc=e=>({});function Qc(e){let A,t,r,n,i,s;function o(f,h){return f[10]?pQ:wQ}let a=o(e),l=a(e);function c(f,h){return f[10]?QQ:mQ}let u=c(e),g=u(e);return{c(){A=v("button"),t=pt("svg"),l.c(),r=T(),n=v("span"),g.c(),m(t,"xmlns","http://www.w3.org/2000/svg"),m(t,"viewBox","0 0 384 512"),m(t,"class","svelte-g5axbe"),m(n,"class","tooltip"),m(A,"class","button tag")},m(f,h){D(f,A,h),p(A,t),l.m(t,null),p(A,r),p(A,n),g.m(n,null),i||(s=mA(A,"click",ia(e[21])),i=!0)},p(f,h){a!==(a=o(f))&&(l.d(1),l=a(f),l&&(l.c(),l.m(t,null))),u===(u=c(f))&&g?g.p(f,h):(g.d(1),g=u(f),g&&(g.c(),g.m(n,null)))},d(f){f&&M(A),l.d(),g.d(),i=!1,s()}}}function wQ(e){let A;return{c(){A=pt("path"),m(A,"d","M384 336H192c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16l140.1 0L400 115.9V320c0 8.8-7.2 16-16 16zM192 384H384c35.3 0 64-28.7 64-64V115.9c0-12.7-5.1-24.9-14.1-33.9L366.1 14.1c-9-9-21.2-14.1-33.9-14.1H192c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64zM64 128c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H256c35.3 0 64-28.7 64-64V416H272v32c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192c0-8.8 7.2-16 16-16H96V128H64z"),m(A,"class","svelte-g5axbe")},m(t,r){D(t,A,r)},d(t){t&&M(A)}}}function pQ(e){let A;return{c(){A=pt("path"),m(A,"d","M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"),m(A,"class","svelte-g5axbe")},m(t,r){D(t,A,r)},d(t){t&&M(A)}}}function mQ(e){let A=eA==="en"?"Copy ID":"Copier l'ID",t;return{c(){t=sA(A)},m(r,n){D(r,t,n)},p:tA,d(r){r&&M(t)}}}function QQ(e){let A=eA==="en"?"Copied!":"Copié !",t;return{c(){t=sA(A)},m(r,n){D(r,t,n)},p:tA,d(r){r&&M(t)}}}function Cc(e){let A,t;return A=new hQ({}),A.$on("open",e[14]),{c(){_A(A.$$.fragment)},m(r,n){FA(A,r,n),t=!0},p:tA,i(r){t||(O(A.$$.fragment,r),t=!0)},o(r){P(A.$$.fragment,r),t=!1},d(r){yA(A,r)}}}function CQ(e){let A,t,r,n,i,s,o,a=e[8].title+"",l,c,u,g,f,h,B,w,d,F,_,Q=e[4]&&Qc(e),C=!e[5]&&Cc(e);const y=e[19].actions,H=Fe(y,e,e[18],mc);return{c(){A=v("div"),t=v("figure"),r=v("img"),i=T(),s=v("div"),o=v("span"),u=T(),g=v("div"),Q&&Q.c(),f=T(),C&&C.c(),h=T(),H&&H.c(),m(r,"class","region-img svelte-g5axbe"),lt(r.src,n=e[9])||m(r,"src",n),m(r,"alt","Extracted region"),m(o,"class","overlay-desc"),m(s,"class","overlay is-center svelte-g5axbe"),m(t,"class",l="image card region-image "+(e[0]?"is-96x96":"")+" svelte-g5axbe"),m(t,"tabindex","-1"),m(t,"style",c=(e[7]==="full"?"height: 100%":`height: ${e[7]}px; min-width: ${e[7]}px`)+"; "+(e[3]?`border: 5px solid ${e[3]};`:"")),m(g,"class","region-btn ml-1"),m(A,"class",B="region is-center "+(e[6]&&e[11](e[2])?"checked":"")+" svelte-g5axbe"),m(A,"style",w=e[7]==="full"?"height: 100%":"")},m(U,S){D(U,A,S),p(A,t),p(t,r),p(t,i),p(t,s),p(s,o),o.innerHTML=a,p(A,u),p(A,g),Q&&Q.m(g,null),p(g,f),C&&C.m(g,null),p(g,h),H&&H.m(g,null),d=!0,F||(_=[mA(t,"click",e[20]),mA(t,"keyup",null)],F=!0)},p(U,[S]){(!d||S&512&&!lt(r.src,n=U[9]))&&m(r,"src",n),(!d||S&256)&&a!==(a=U[8].title+"")&&(o.innerHTML=a),(!d||S&1&&l!==(l="image card region-image "+(U[0]?"is-96x96":"")+" svelte-g5axbe"))&&m(t,"class",l),(!d||S&136&&c!==(c=(U[7]==="full"?"height: 100%":`height: ${U[7]}px; min-width: ${U[7]}px`)+"; "+(U[3]?`border: 5px solid ${U[3]};`:"")))&&m(t,"style",c),U[4]?Q?Q.p(U,S):(Q=Qc(U),Q.c(),Q.m(g,f)):Q&&(Q.d(1),Q=null),U[5]?C&&(WA(),P(C,1,1,()=>{C=null}),YA()):C?(C.p(U,S),S&32&&O(C,1)):(C=Cc(U),C.c(),O(C,1),C.m(g,h)),H&&H.p&&(!d||S&262144)&&_e(H,y,U,U[18],d?ye(y,U[18],S,dQ):be(U[18]),mc),(!d||S&2116&&B!==(B="region is-center "+(U[6]&&U[11](U[2])?"checked":"")+" svelte-g5axbe"))&&m(A,"class",B),(!d||S&128&&w!==(w=U[7]==="full"?"height: 100%":""))&&m(A,"style",w)},i(U){d||(O(C),O(H,U),d=!0)},o(U){P(C),P(H,U),d=!1},d(U){U&&M(A),Q&&Q.d(),C&&C.d(),H&&H.d(U),F=!1,Be(_)}}}function vQ(e,A,t){let r,n,i,s,o,{$$slots:a={},$$scope:l}=A;const{clipBoard:c}=wc;SA(e,c,E=>t(17,s=E));let{selectionStore:u}=A;u||(u=pc);let{toggleSelection:g=u.toggle}=A;const{isSelected:f}=u;SA(e,f,E=>t(11,o=E));let{item:h}=A,{index:B=null}=A,{borderColor:w=null}=A,{copyable:d=!1}=A,{isInModal:F=!1}=A,{selectable:_=!F}=A,{isSquare:Q=!1}=A,{height:C=Q?96:140}=A;C==="full"&&(Q=!1);const y=Cn(),H=()=>F?null:y("openModal",{index:B}),U=()=>_?g(r):H(),S=()=>wc.copyRef(h.ref);return e.$$set=E=>{"selectionStore"in E&&t(15,u=E.selectionStore),"toggleSelection"in E&&t(1,g=E.toggleSelection),"item"in E&&t(2,h=E.item),"index"in E&&t(16,B=E.index),"borderColor"in E&&t(3,w=E.borderColor),"copyable"in E&&t(4,d=E.copyable),"isInModal"in E&&t(5,F=E.isInModal),"selectable"in E&&t(6,_=E.selectable),"isSquare"in E&&t(0,Q=E.isSquare),"height"in E&&t(7,C=E.height),"$$scope"in E&&t(18,l=E.$$scope)},e.$$.update=()=>{e.$$.dirty&4&&t(8,r=new ai(h)),e.$$.dirty&131328&&t(10,n=r.ref===s),e.$$.dirty&385&&t(9,i=r.url(null,C==="full"?"full":Q?`${C},`:`,${C}`))},[Q,g,h,w,d,F,_,C,r,i,n,o,c,f,H,u,B,s,l,a,U,S]}class ci extends $A{constructor(A){super(),zA(this,A,vQ,CQ,JA,{selectionStore:15,toggleSelection:1,item:2,index:16,borderColor:3,copyable:4,isInModal:5,selectable:6,isSquare:0,height:7})}}const Rb="";function UQ(e){let A,t,r,n,i,s,o,a;return{c(){A=v("button"),t=v("span"),r=v("i"),m(r,"class",n="fas fa-chevron-"+e[0]+" svelte-v4yed0"),m(t,"class","icon is-small p-0"),m(A,"class",i="nav-btn nav-"+e[0]+" svelte-v4yed0"),m(A,"aria-label",s="Navigate "+e[0]),m(A,"style",e[4])},m(l,c){D(l,A,c),p(A,t),p(t,r),o||(a=mA(A,"click",e[5]),o=!0)},p(l,[c]){c&1&&n!==(n="fas fa-chevron-"+l[0]+" svelte-v4yed0")&&m(r,"class",n),c&1&&i!==(i="nav-btn nav-"+l[0]+" svelte-v4yed0")&&m(A,"class",i),c&1&&s!==(s="Navigate "+l[0])&&m(A,"aria-label",s),c&16&&m(A,"style",l[4])},i:tA,o:tA,d(l){l&&M(A),o=!1,a()}}}function FQ(e,A,t){let{direction:r=""}=A,{delta:n=0}=A,{axis:i=null}=A,{navigationFct:s=()=>{}}=A,{css:o=""}=A;const a=()=>s(n,i);return e.$$set=l=>{"direction"in l&&t(0,r=l.direction),"delta"in l&&t(1,n=l.delta),"axis"in l&&t(2,i=l.axis),"navigationFct"in l&&t(3,s=l.navigationFct),"css"in l&&t(4,o=l.css)},[r,n,i,s,o,a]}class dr extends $A{constructor(A){super(),zA(this,A,FQ,UQ,JA,{direction:0,delta:1,axis:2,navigationFct:3,css:4})}}const Vb="",yQ=e=>({item:e&4,index:e&1}),vc=e=>({item:e[2],index:e[0],close:e[4]});function Uc(e){let A,t,r,n,i,s,o,a,l,c,u,g,f=e[3]&&Fc(e);const h=e[8].default,B=Fe(h,e,e[7],vc);let w=e[3]&&yc(e);return{c(){A=v("div"),t=v("div"),r=T(),n=v("div"),f&&f.c(),i=T(),s=v("div"),B&&B.c(),o=T(),w&&w.c(),a=T(),l=v("button"),m(t,"class","modal-background"),m(s,"class","modal-inner svelte-157hwlf"),m(n,"class","modal-content svelte-157hwlf"),m(l,"class","modal-close is-large"),m(l,"aria-label","close"),m(A,"class","modal is-active")},m(d,F){D(d,A,F),p(A,t),p(A,r),p(A,n),f&&f.m(n,null),p(n,i),p(n,s),B&&B.m(s,null),p(n,o),w&&w.m(n,null),p(A,a),p(A,l),c=!0,u||(g=[mA(t,"click",e[4]),mA(t,"keyup",e[9]),mA(l,"click",e[4])],u=!0)},p(d,F){d[3]?f?(f.p(d,F),F&8&&O(f,1)):(f=Fc(d),f.c(),O(f,1),f.m(n,i)):f&&(WA(),P(f,1,1,()=>{f=null}),YA()),B&&B.p&&(!c||F&133)&&_e(B,h,d,d[7],c?ye(h,d[7],F,yQ):be(d[7]),vc),d[3]?w?(w.p(d,F),F&8&&O(w,1)):(w=yc(d),w.c(),O(w,1),w.m(n,null)):w&&(WA(),P(w,1,1,()=>{w=null}),YA())},i(d){c||(O(f),O(B,d),O(w),c=!0)},o(d){P(f),P(B,d),P(w),c=!1},d(d){d&&M(A),f&&f.d(),B&&B.d(d),w&&w.d(),u=!1,Be(g)}}}function Fc(e){let A,t;return A=new dr({props:{direction:"left",delta:-1,navigationFct:e[5],css:"position: initial;"}}),{c(){_A(A.$$.fragment)},m(r,n){FA(A,r,n),t=!0},p:tA,i(r){t||(O(A.$$.fragment,r),t=!0)},o(r){P(A.$$.fragment,r),t=!1},d(r){yA(A,r)}}}function yc(e){let A,t;return A=new dr({props:{direction:"right",delta:1,navigationFct:e[5],css:"position: initial;"}}),{c(){_A(A.$$.fragment)},m(r,n){FA(A,r,n),t=!0},p:tA,i(r){t||(O(A.$$.fragment,r),t=!0)},o(r){P(A.$$.fragment,r),t=!1},d(r){yA(A,r)}}}function _Q(e){let A,t,r=e[1]&&Uc(e);return{c(){r&&r.c(),A=Ke()},m(n,i){r&&r.m(n,i),D(n,A,i),t=!0},p(n,[i]){n[1]?r?(r.p(n,i),i&2&&O(r,1)):(r=Uc(n),r.c(),O(r,1),r.m(A.parentNode,A)):r&&(WA(),P(r,1,1,()=>{r=null}),YA())},i(n){t||(O(r),t=!0)},o(n){P(r),t=!1},d(n){r&&r.d(n),n&&M(A)}}}function bQ(e,A,t){let r,n,{$$slots:i={},$$scope:s}=A,{open:o=!1}=A,{items:a=[]}=A,{currentIndex:l=0}=A;const c=Cn(),u=()=>{t(1,o=!1),c("close")},g=B=>{r&&(t(0,l=(l+B+a.length)%a.length),c("navigate",{index:l,item:n}))},f=B=>{o&&(B.key==="Escape"?u():B.key==="ArrowLeft"?g(-1):B.key==="ArrowRight"&&g(1))};Gt(()=>document.addEventListener("keydown",f)),rr(()=>document.removeEventListener("keydown",f));function h(B){uB.call(this,e,B)}return e.$$set=B=>{"open"in B&&t(1,o=B.open),"items"in B&&t(6,a=B.items),"currentIndex"in B&&t(0,l=B.currentIndex),"$$scope"in B&&t(7,s=B.$$scope)},e.$$.update=()=>{e.$$.dirty&64&&t(3,r=a.length>1),e.$$.dirty&65&&t(2,n=a[l]??null)},[l,o,n,r,u,g,a,s,i,h]}class _c extends $A{constructor(A){super(),zA(this,A,bQ,_Q,JA,{open:1,items:6,currentIndex:0})}}const Gb="";function bc(e){e[9]=e[13][0],e[10]=e[13][1],e[11]=e[13][2],e[12]=e[13][3]}function Ec(e){let A,t,r={ctx:e,current:null,token:null,hasCatch:!1,pending:IQ,then:HQ,catch:EQ,value:13};return yn(t=e[3],r),{c(){A=Ke(),r.block.c()},m(n,i){D(n,A,i),r.block.m(n,r.anchor=i),r.mount=()=>A.parentNode,r.anchor=A},p(n,i){e=n,r.ctx=e,i&8&&t!==(t=e[3])&&yn(t,r)||la(r,e,i)},d(n){n&&M(A),r.block.d(n),r.token=null,r=null}}}function EQ(e){return{c:tA,m:tA,p:tA,d:tA}}function HQ(e){bc(e);let A,t=`${e[9]}%`,r=`${e[10]}%`,n=`${e[11]}%`,i=`${e[12]}%`;return{c(){A=v("div"),m(A,"class","modal-context-bbox svelte-zgr10j"),GA(A,"left",t),GA(A,"top",r),GA(A,"width",n),GA(A,"height",i)},m(s,o){D(s,A,o)},p(s,o){bc(s),o&8&&t!==(t=`${s[9]}%`)&&GA(A,"left",t),o&8&&r!==(r=`${s[10]}%`)&&GA(A,"top",r),o&8&&n!==(n=`${s[11]}%`)&&GA(A,"width",n),o&8&&i!==(i=`${s[12]}%`)&&GA(A,"height",i)},d(s){s&&M(A)}}}function IQ(e){return{c:tA,m:tA,p:tA,d:tA}}function SQ(e){let A,t,r,n,i,s,o,a,l,c,u,g,f,h,B,w;l=new dr({props:{direction:"left",delta:-1,navigationFct:e[5],css:"margin-left: -2em;"}});let d=e[0]===0&&Ec(e);return B=new dr({props:{direction:"right",delta:1,navigationFct:e[5],css:"margin-right: -2em;"}}),{c(){A=v("div"),t=v("div"),r=v("a"),n=sA("Page "),i=sA(e[2]),o=T(),a=v("div"),_A(l.$$.fragment),c=T(),u=v("img"),f=T(),d&&d.c(),h=T(),_A(B.$$.fragment),m(r,"class","tag button is-small has-text-grey"),m(r,"href",s=e[1].urlForMirador(e[2])),m(r,"target","_blank"),m(t,"class","has-text-centered m-2"),m(u,"class","card modal-context-full-page svelte-zgr10j"),lt(u.src,g=e[4])||m(u,"src",g),m(u,"alt",eA==="fr"?"Vue de la page d'où la région est extraite":"View of the page the region is extracted from"),m(a,"class","modal-context-wrapper svelte-zgr10j"),m(A,"class","modal-context-outer is-flex-direction-column pb-4 svelte-zgr10j")},m(F,_){D(F,A,_),p(A,t),p(t,r),p(r,n),p(r,i),p(A,o),p(A,a),FA(l,a,null),p(a,c),p(a,u),p(a,f),d&&d.m(a,null),p(a,h),FA(B,a,null),w=!0},p(F,[_]){(!w||_&4)&&TA(i,F[2]),(!w||_&6&&s!==(s=F[1].urlForMirador(F[2])))&&m(r,"href",s),(!w||_&16&&!lt(u.src,g=F[4]))&&m(u,"src",g),F[0]===0?d?d.p(F,_):(d=Ec(F),d.c(),d.m(a,h)):d&&(d.d(1),d=null)},i(F){w||(O(l.$$.fragment,F),O(B.$$.fragment,F),w=!0)},o(F){P(l.$$.fragment,F),P(B.$$.fragment,F),w=!1},d(F){F&&M(A),yA(l),d&&d.d(),yA(B)}}}function xQ(e,A,t){let r,n,i,s,o,a,{item:l}=A,c=0;const u=g=>t(0,c+=g);return e.$$set=g=>{"item"in g&&t(6,l=g.item)},e.$$.update=()=>{e.$$.dirty&64&&t(1,r=new ai(l)),e.$$.dirty&3&&t(2,n=r.canvasNb+c),e.$$.dirty&6&&t(4,i=r.urlForCanvas(n,"full")),e.$$.dirty&6&&t(8,s=r.infoUrlForCanvas(n)),e.$$.dirty&2&&t(7,o=r.coord),e.$$.dirty&384&&t(3,a=fetch(s).then(g=>g.json()).then(({width:g,height:f})=>[o[0]/g*100,o[1]/f*100,o[2]/g*100,o[3]/f*100]))},[c,r,n,a,i,u,l,o,s]}class Hc extends $A{constructor(A){super(),zA(this,A,xQ,SQ,JA,{item:6})}}const Pb="",LQ=e=>({activeTab:e&1}),Ic=e=>({activeTab:e[0]});function Sc(e,A,t){const r=e.slice();return r[5]=A[t].id,r[6]=A[t].label,r}function xc(e){let A,t,r,n=e[1],i=[];for(let s=0;s<n.length;s+=1)i[s]=Lc(Sc(e,n,s));return{c(){A=v("nav"),t=v("div"),r=v("ul");for(let s=0;s<i.length;s+=1)i[s].c();m(r,"class","svelte-d8a4vd"),m(t,"class","tabs svelte-d8a4vd"),m(A,"class","tabs-bar")},m(s,o){D(s,A,o),p(A,t),p(t,r);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,null)},p(s,o){if(o&3){n=s[1];let a;for(a=0;a<n.length;a+=1){const l=Sc(s,n,a);i[a]?i[a].p(l,o):(i[a]=Lc(l),i[a].c(),i[a].m(r,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},d(s){s&&M(A),Se(i,s)}}}function Lc(e){let A,t,r=e[6]+"",n,i,s,o;function a(){return e[4](e[5])}return{c(){A=v("li"),t=v("a"),n=sA(r),i=T(),m(t,"href",null),ie(A,"is-active",e[0]===e[5])},m(l,c){D(l,A,c),p(A,t),p(t,n),p(A,i),s||(o=mA(t,"click",Ht(a)),s=!0)},p(l,c){e=l,c&2&&r!==(r=e[6]+"")&&TA(n,r),c&3&&ie(A,"is-active",e[0]===e[5])},d(l){l&&M(A),s=!1,o()}}}function kQ(e){let A,t,r,n=e[1].length>1&&xc(e);const i=e[3].default,s=Fe(i,e,e[2],Ic);return{c(){n&&n.c(),A=T(),t=v("div"),s&&s.c(),m(t,"class","tab-content svelte-d8a4vd")},m(o,a){n&&n.m(o,a),D(o,A,a),D(o,t,a),s&&s.m(t,null),r=!0},p(o,[a]){o[1].length>1?n?n.p(o,a):(n=xc(o),n.c(),n.m(A.parentNode,A)):n&&(n.d(1),n=null),s&&s.p&&(!r||a&5)&&_e(s,i,o,o[2],r?ye(i,o[2],a,LQ):be(o[2]),Ic)},i(o){r||(O(s,o),r=!0)},o(o){P(s,o),r=!1},d(o){n&&n.d(o),o&&M(A),o&&M(t),s&&s.d(o)}}}function KQ(e,A,t){var a;let{$$slots:r={},$$scope:n}=A,{tabs:i=[]}=A,{activeTab:s=((a=i[0])==null?void 0:a.id)??""}=A;const o=l=>t(0,s=l);return e.$$set=l=>{"tabs"in l&&t(1,i=l.tabs),"activeTab"in l&&t(0,s=l.activeTab),"$$scope"in l&&t(2,n=l.$$scope)},[s,i,n,r,o]}class kc extends $A{constructor(A){super(),zA(this,A,KQ,kQ,JA,{tabs:1,activeTab:0})}}const Xb="";function Kc(e,A,t){const r=e.slice();return r[20]=A[t],r}function Mc(e,A,t){const r=e.slice();return r[23]=A[t],r}function Ys(e){const A=e.slice(),t=A[1].get(A[20][A[23]].id);return A[26]=t,A}function Dc(e,A,t){const r=e.slice();return r[23]=A[t],r}function Tc(e){let A,t,r,n,i,s,o,a,l,c,u,g,f,h,B=e[0].regions,w=[];for(let U=0;U<B.length;U+=1)w[U]=Oc(Dc(e,B,U));const d=U=>P(w[U],1,1,()=>{w[U]=null});let F=e[0].rows,_=[];for(let U=0;U<F.length;U+=1)_[U]=Vc(Kc(e,F,U));const Q=U=>P(_[U],1,1,()=>{_[U]=null});function C(U){e[14](U)}function y(U){e[15](U)}let H={items:e[6],$$slots:{default:[OQ,({item:U})=>({18:U}),({item:U})=>U?262144:0]},$$scope:{ctx:e}};return e[4]!==void 0&&(H.currentIndex=e[4]),e[3]!==void 0&&(H.open=e[3]),u=new _c({props:H}),ze.push(()=>bn(u,"currentIndex",C)),ze.push(()=>bn(u,"open",y)),{c(){A=v("div"),t=v("h3"),t.textContent="Aligned Documents",r=T(),n=v("div"),i=v("table"),s=v("thead"),o=v("tr");for(let U=0;U<w.length;U+=1)w[U].c();a=T(),l=v("tbody");for(let U=0;U<_.length;U+=1)_[U].c();c=T(),_A(u.$$.fragment),m(t,"class","title is-5"),m(s,"class","region-header svelte-1hxxzoa"),m(i,"class","table is-fullwidth svelte-1hxxzoa"),m(n,"class","table-container svelte-1hxxzoa"),m(A,"class","box mt-4")},m(U,S){D(U,A,S),p(A,t),p(A,r),p(A,n),p(n,i),p(i,s),p(s,o);for(let E=0;E<w.length;E+=1)w[E]&&w[E].m(o,null);p(i,a),p(i,l);for(let E=0;E<_.length;E+=1)_[E]&&_[E].m(l,null);D(U,c,S),FA(u,U,S),h=!0},p(U,S){if(S&5){B=U[0].regions;let L;for(L=0;L<B.length;L+=1){const N=Dc(U,B,L);w[L]?(w[L].p(N,S),O(w[L],1)):(w[L]=Oc(N),w[L].c(),O(w[L],1),w[L].m(o,null))}for(WA(),L=B.length;L<w.length;L+=1)d(L);YA()}if(S&3203){F=U[0].rows;let L;for(L=0;L<F.length;L+=1){const N=Kc(U,F,L);_[L]?(_[L].p(N,S),O(_[L],1)):(_[L]=Vc(N),_[L].c(),O(_[L],1),_[L].m(l,null))}for(WA(),L=F.length;L<_.length;L+=1)Q(L);YA()}const E={};S&64&&(E.items=U[6]),S&537133088&&(E.$$scope={dirty:S,ctx:U}),!g&&S&16&&(g=!0,E.currentIndex=U[4],vn(()=>g=!1)),!f&&S&8&&(f=!0,E.open=U[3],vn(()=>f=!1)),u.$set(E)},i(U){if(!h){for(let S=0;S<B.length;S+=1)O(w[S]);for(let S=0;S<F.length;S+=1)O(_[S]);O(u.$$.fragment,U),h=!0}},o(U){w=w.filter(Boolean);for(let S=0;S<w.length;S+=1)P(w[S]);_=_.filter(Boolean);for(let S=0;S<_.length;S+=1)P(_[S]);P(u.$$.fragment,U),h=!1},d(U){U&&M(A),Se(w,U),Se(_,U),U&&M(c),yA(u,U)}}}function Oc(e){let A,t,r,n;return t=new Fa({props:{id:e[23],meta:e[2].get(e[23])||{},clickable:!1}}),{c(){A=v("th"),_A(t.$$.fragment),r=T(),m(A,"class","is-vcentered")},m(i,s){D(i,A,s),FA(t,A,null),p(A,r),n=!0},p(i,s){const o={};s&1&&(o.id=i[23]),s&5&&(o.meta=i[2].get(i[23])||{}),t.$set(o)},i(i){n||(O(t.$$.fragment,i),n=!0)},o(i){P(t.$$.fragment,i),n=!1},d(i){i&&M(A),yA(t)}}}function Nc(e){let A,t,r,n,i=e[20][e[23]].page+"",s,o;return A=new ci({props:{item:e[26],height:96,borderColor:e[10](e[20][e[23]],e[7]),selectable:!1,copyable:!1}}),A.$on("openModal",e[11]),{c(){_A(A.$$.fragment),t=T(),r=v("div"),n=sA("Page "),s=sA(i),m(r,"class","has-text-grey-dark mt-2")},m(a,l){FA(A,a,l),D(a,t,l),D(a,r,l),p(r,n),p(r,s),o=!0},p(a,l){const c={};l&3&&(c.item=a[26]),l&129&&(c.borderColor=a[10](a[20][a[23]],a[7])),A.$set(c),(!o||l&1)&&i!==(i=a[20][a[23]].page+"")&&TA(s,i)},i(a){o||(O(A.$$.fragment,a),o=!0)},o(a){P(A.$$.fragment,a),o=!1},d(a){yA(A,a),a&&M(t),a&&M(r)}}}function Rc(e){let A,t,r=e[20][e[23]]&&Nc(Ys(e));return{c(){A=v("td"),r&&r.c(),m(A,"class","has-text-centered"),GA(A,"vertical-align","top")},m(n,i){D(n,A,i),r&&r.m(A,null),t=!0},p(n,i){n[20][n[23]]?r?(r.p(Ys(n),i),i&1&&O(r,1)):(r=Nc(Ys(n)),r.c(),O(r,1),r.m(A,null)):r&&(WA(),P(r,1,1,()=>{r=null}),YA())},i(n){t||(O(r),t=!0)},o(n){P(r),t=!1},d(n){n&&M(A),r&&r.d()}}}function Vc(e){let A,t,r,n=e[0].regions,i=[];for(let o=0;o<n.length;o+=1)i[o]=Rc(Mc(e,n,o));const s=o=>P(i[o],1,1,()=>{i[o]=null});return{c(){A=v("tr");for(let o=0;o<i.length;o+=1)i[o].c();t=T()},m(o,a){D(o,A,a);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(A,null);p(A,t),r=!0},p(o,a){if(a&3203){n=o[0].regions;let l;for(l=0;l<n.length;l+=1){const c=Mc(o,n,l);i[l]?(i[l].p(c,a),O(i[l],1)):(i[l]=Rc(c),i[l].c(),O(i[l],1),i[l].m(A,t))}for(WA(),l=n.length;l<i.length;l+=1)s(l);YA()}},i(o){if(!r){for(let a=0;a<n.length;a+=1)O(i[a]);r=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)P(i[a]);r=!1},d(o){o&&M(A),Se(i,o)}}}function MQ(e){let A,t;return A=new Hc({props:{item:e[18]}}),{c(){_A(A.$$.fragment)},m(r,n){FA(A,r,n),t=!0},p(r,n){const i={};n&262144&&(i.item=r[18]),A.$set(i)},i(r){t||(O(A.$$.fragment,r),t=!0)},o(r){P(A.$$.fragment,r),t=!1},d(r){yA(A,r)}}}function DQ(e){let A,t,r;return t=new ci({props:{item:e[18],height:"full",isInModal:!0}}),{c(){A=v("div"),_A(t.$$.fragment),m(A,"class","modal-region")},m(n,i){D(n,A,i),FA(t,A,null),r=!0},p(n,i){const s={};i&262144&&(s.item=n[18]),t.$set(s)},i(n){r||(O(t.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),r=!1},d(n){n&&M(A),yA(t)}}}function TQ(e){let A,t,r,n;const i=[DQ,MQ],s=[];function o(a,l){return a[19]==="region"?0:a[19]==="page"?1:-1}return~(A=o(e))&&(t=s[A]=i[A](e)),{c(){t&&t.c(),r=Ke()},m(a,l){~A&&s[A].m(a,l),D(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?~A&&s[A].p(a,l):(t&&(WA(),P(s[c],1,1,()=>{s[c]=null}),YA()),~A?(t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),O(t,1),t.m(r.parentNode,r)):t=null)},i(a){n||(O(t),n=!0)},o(a){P(t),n=!1},d(a){~A&&s[A].d(a),a&&M(r)}}}function OQ(e){let A,t;return A=new kc({props:{tabs:e[5],$$slots:{default:[TQ,({activeTab:r})=>({19:r}),({activeTab:r})=>r?524288:0]},$$scope:{ctx:e}}}),{c(){_A(A.$$.fragment)},m(r,n){FA(A,r,n),t=!0},p(r,n){const i={};n&32&&(i.tabs=r[5]),n&537657344&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(O(A.$$.fragment,r),t=!0)},o(r){P(A.$$.fragment,r),t=!1},d(r){yA(A,r)}}}function NQ(e){let A,t,r=e[0]&&Tc(e);return{c(){r&&r.c(),A=Ke()},m(n,i){r&&r.m(n,i),D(n,A,i),t=!0},p(n,[i]){n[0]?r?(r.p(n,i),i&1&&O(r,1)):(r=Tc(n),r.c(),O(r,1),r.m(A.parentNode,A)):r&&(WA(),P(r,1,1,()=>{r=null}),YA())},i(n){t||(O(r),t=!0)},o(n){P(r),t=!1},d(n){r&&r.d(n),n&&M(A)}}}function RQ(e){let A=0;for(let s=0;s<e.length;s++)A=e.charCodeAt(s)+((A<<5)-A),A=A&A;const r=A*.618033988749895%1*360,n=65+A%20,i=80+A%10;return`hsl(${Math.floor(r)}, ${n}%, ${i}%)`}function VQ(e,A,t){let r,n,i,s,o,{selectedDocuments:a=[]}=A,{documentSetStore:l}=A;const{buildAlignedImageMatrix:c,documentNodes:u,imageNodes:g}=l;SA(e,u,C=>t(2,o=C)),SA(e,g,C=>t(1,s=C));let f=null;function h(C,y){if(!C)return;const H=C.id;if(y.get(H)!==1)return B.has(H)||B.set(H,RQ(H)),B.get(H)}const B=new Map;let w=!1,d=0;const F=C=>{t(4,d=C.detail.index??0),t(3,w=!0)};function _(C){d=C,t(4,d)}function Q(C){w=C,t(3,w)}return e.$$set=C=>{"selectedDocuments"in C&&t(12,a=C.selectedDocuments),"documentSetStore"in C&&t(13,l=C.documentSetStore)},e.$$.update=()=>{if(e.$$.dirty&4102)if(a.length>0&&s&&o){const C=a.map(y=>y.id);t(0,f=c(C))}else t(0,f=null);e.$$.dirty&1&&t(7,r=f?(()=>{const C=new Map;return f.rows.forEach(y=>{Object.values(y).forEach(H=>{C.set(H.id,(C.get(H.id)||0)+1)})}),C})():new Map),e.$$.dirty&3&&t(6,n=f?f.rows.flatMap(C=>f.regions.map(y=>C[y]).filter(y=>y).map(y=>s.get(y.id))):[])},t(5,i=[{id:"region",label:eA==="en"?"Main view":"Vue principale"},{id:"page",label:eA==="en"?"Page View":"Vue de la page"}]),[f,s,o,w,d,i,n,r,u,g,h,F,a,l,_,Q]}class GQ extends $A{constructor(A){super(),zA(this,A,VQ,NQ,JA,{selectedDocuments:12,documentSetStore:13})}}const Jb="";function Gc(e,A,t){const r=e.slice();return r[15]=A[t],r[17]=t,r}function Pc(e,A){let t,r,n;return r=new ci({props:{item:new ai(A[15]),index:A[17],height:A[2],copyable:A[4],selectable:A[3],selectionStore:A[0]}}),r.$on("openModal",A[8]),{key:e,first:null,c(){t=Ke(),_A(r.$$.fragment),this.first=t},m(i,s){D(i,t,s),FA(r,i,s),n=!0},p(i,s){A=i;const o={};s&2&&(o.item=new ai(A[15])),s&2&&(o.index=A[17]),s&4&&(o.height=A[2]),s&16&&(o.copyable=A[4]),s&8&&(o.selectable=A[3]),s&1&&(o.selectionStore=A[0]),r.$set(o)},i(i){n||(O(r.$$.fragment,i),n=!0)},o(i){P(r.$$.fragment,i),n=!1},d(i){i&&M(t),yA(r,i)}}}function PQ(e){let A,t;return A=new Hc({props:{item:e[13]}}),{c(){_A(A.$$.fragment)},m(r,n){FA(A,r,n),t=!0},p(r,n){const i={};n&8192&&(i.item=r[13]),A.$set(i)},i(r){t||(O(A.$$.fragment,r),t=!0)},o(r){P(A.$$.fragment,r),t=!1},d(r){yA(A,r)}}}function XQ(e){let A,t,r;return t=new ci({props:{item:e[13],height:"full",isInModal:!0,selectable:!1}}),{c(){A=v("div"),_A(t.$$.fragment),m(A,"class","modal-region svelte-jba7xn")},m(n,i){D(n,A,i),FA(t,A,null),r=!0},p(n,i){const s={};i&8192&&(s.item=n[13]),t.$set(s)},i(n){r||(O(t.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),r=!1},d(n){n&&M(A),yA(t)}}}function JQ(e){let A,t,r,n;const i=[XQ,PQ],s=[];function o(a,l){return a[14]==="region"?0:a[14]==="page"?1:-1}return~(A=o(e))&&(t=s[A]=i[A](e)),{c(){t&&t.c(),r=Ke()},m(a,l){~A&&s[A].m(a,l),D(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?~A&&s[A].p(a,l):(t&&(WA(),P(s[c],1,1,()=>{s[c]=null}),YA()),~A?(t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),O(t,1),t.m(r.parentNode,r)):t=null)},i(a){n||(O(t),n=!0)},o(a){P(t),n=!1},d(a){~A&&s[A].d(a),a&&M(r)}}}function WQ(e){let A,t;return A=new kc({props:{tabs:e[7],$$slots:{default:[JQ,({activeTab:r})=>({14:r}),({activeTab:r})=>r?16384:0]},$$scope:{ctx:e}}}),{c(){_A(A.$$.fragment)},m(r,n){FA(A,r,n),t=!0},p(r,n){const i={};n&128&&(i.tabs=r[7]),n&286720&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(O(A.$$.fragment,r),t=!0)},o(r){P(A.$$.fragment,r),t=!1},d(r){yA(A,r)}}}function YQ(e){let A=[],t=new Map,r,n,i,s,o,a=Object.values(e[1]);const l=f=>f[15].id;for(let f=0;f<a.length;f+=1){let h=Gc(e,a,f),B=l(h);t.set(B,A[f]=Pc(B,h))}function c(f){e[10](f)}function u(f){e[11](f)}let g={items:e[1],$$slots:{default:[WQ,({item:f})=>({13:f}),({item:f})=>f?8192:0]},$$scope:{ctx:e}};return e[6]!==void 0&&(g.currentIndex=e[6]),e[5]!==void 0&&(g.open=e[5]),n=new _c({props:g}),ze.push(()=>bn(n,"currentIndex",c)),ze.push(()=>bn(n,"open",u)),n.$on("navigate",e[9]),{c(){for(let f=0;f<A.length;f+=1)A[f].c();r=T(),_A(n.$$.fragment)},m(f,h){for(let B=0;B<A.length;B+=1)A[B]&&A[B].m(f,h);D(f,r,h),FA(n,f,h),o=!0},p(f,[h]){h&287&&(a=Object.values(f[1]),WA(),A=_n(A,h,l,1,f,a,t,r.parentNode,ua,Pc,r,Gc),YA());const B={};h&2&&(B.items=f[1]),h&270464&&(B.$$scope={dirty:h,ctx:f}),!i&&h&64&&(i=!0,B.currentIndex=f[6],vn(()=>i=!1)),!s&&h&32&&(s=!0,B.open=f[5],vn(()=>s=!1)),n.$set(B)},i(f){if(!o){for(let h=0;h<a.length;h+=1)O(A[h]);O(n.$$.fragment,f),o=!0}},o(f){for(let h=0;h<A.length;h+=1)P(A[h]);P(n.$$.fragment,f),o=!1},d(f){for(let h=0;h<A.length;h+=1)A[h].d(f);f&&M(r),yA(n,f)}}}function zQ(e,A,t){let r,{selectionStore:n=pc}=A,{items:i=[]}=A,{height:s=96}=A,{selectable:o=!0}=A,{copyable:a=!0}=A,l=!1,c=0;const u=B=>{t(6,c=B.detail.index??0),t(5,l=!0)},g=B=>{t(6,c=B.detail.index)};function f(B){c=B,t(6,c)}function h(B){l=B,t(5,l)}return e.$$set=B=>{"selectionStore"in B&&t(0,n=B.selectionStore),"items"in B&&t(1,i=B.items),"height"in B&&t(2,s=B.height),"selectable"in B&&t(3,o=B.selectable),"copyable"in B&&t(4,a=B.copyable)},t(7,r=[{id:"region",label:eA==="en"?"Main view":"Vue principale"},{id:"page",label:eA==="en"?"Page View":"Vue de la page"}]),[n,i,s,o,a,l,c,r,u,g,f,h]}class Xc extends $A{constructor(A){super(),zA(this,A,zQ,YQ,JA,{selectionStore:0,items:1,height:2,selectable:3,copyable:4})}}const Wb="";function $Q(e){let A;return{c(){A=v("span"),A.innerHTML='<i class="fas fa-crop-alt"></i>',m(A,"class","icon px-4")},m(t,r){D(t,A,r)},d(t){t&&M(A)}}}function ZQ(e){let A;return{c(){A=v("span"),A.innerHTML='<i class="fas fa-hand-pointer"></i>',m(A,"class","icon px-4")},m(t,r){D(t,A,r)},d(t){t&&M(A)}}}function Jc(e){let A,t,r,n;const i=[qQ,jQ],s=[];function o(a,l){return a[0]==="img"?0:a[0]==="doc"?1:-1}return~(A=o(e))&&(t=s[A]=i[A](e)),{c(){t&&t.c(),r=Ke()},m(a,l){~A&&s[A].m(a,l),D(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?~A&&s[A].p(a,l):(t&&(WA(),P(s[c],1,1,()=>{s[c]=null}),YA()),~A?(t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),O(t,1),t.m(r.parentNode,r)):t=null)},i(a){n||(O(t),n=!0)},o(a){P(t),n=!1},d(a){~A&&s[A].d(a),a&&M(r)}}}function jQ(e){let A,t;return A=new GQ({props:{selectedDocuments:e[5],documentSetStore:e[1]}}),{c(){_A(A.$$.fragment)},m(r,n){FA(A,r,n),t=!0},p(r,n){const i={};n&32&&(i.selectedDocuments=r[5]),n&2&&(i.documentSetStore=r[1]),A.$set(i)},i(r){t||(O(A.$$.fragment,r),t=!0)},o(r){P(A.$$.fragment,r),t=!1},d(r){yA(A,r)}}}function qQ(e){let A,t,r=eA==="en"?"Selected regions":"Régions sélectionnées",n,i,s=e[5].length+"",o,a,l,c,u,g;return u=new Xc({props:{items:e[5],selectable:!1,copyable:!1}}),{c(){A=v("div"),t=v("h3"),n=sA(r),i=sA(" ("),o=sA(s),a=sA(")"),l=T(),c=v("div"),_A(u.$$.fragment),m(t,"class","title is-5"),m(c,"class","selected-nodes grid is-gap-2 mt-5 svelte-1a3kdxu"),m(A,"class","selected-panel box mt-4 svelte-1a3kdxu")},m(f,h){D(f,A,h),p(A,t),p(t,n),p(t,i),p(t,o),p(t,a),p(A,l),p(A,c),FA(u,c,null),g=!0},p(f,h){(!g||h&32)&&s!==(s=f[5].length+"")&&TA(o,s);const B={};h&32&&(B.items=f[5]),u.$set(B)},i(f){g||(O(u.$$.fragment,f),g=!0)},o(f){P(u.$$.fragment,f),g=!1},d(f){f&&M(A),yA(u)}}}function AC(e){let A,t,r,n=e[3]?"click":"selection",i,s,o,a,l,c,u,g;function f(d,F){return d[3]?ZQ:$Q}let h=f(e),B=h(e),w=e[5].length>0&&Jc(e);return{c(){A=v("div"),t=v("button"),B.c(),r=sA(`
        Switch to `),i=sA(n),s=sA(" mode"),o=T(),a=v("div"),l=T(),w&&w.c(),m(t,"class","toggle-button button is-small is-link mb-3"),m(a,"class","visualization-container")},m(d,F){D(d,A,F),p(A,t),B.m(t,null),p(t,r),p(t,i),p(t,s),p(A,o),p(A,a),e[9](a),p(A,l),w&&w.m(A,null),c=!0,u||(g=mA(t,"click",e[7]),u=!0)},p(d,[F]){h!==(h=f(d))&&(B.d(1),B=h(d),B&&(B.c(),B.m(t,r))),(!c||F&8)&&n!==(n=d[3]?"click":"selection")&&TA(i,n),d[5].length>0?w?(w.p(d,F),F&32&&O(w,1)):(w=Jc(d),w.c(),O(w,1),w.m(A,null)):w&&(WA(),P(w,1,1,()=>{w=null}),YA())},i(d){c||(O(w),c=!0)},o(d){P(w),c=!1},d(d){d&&M(A),B.d(),e[9](null),w&&w.d(),u=!1,g()}}}const eC=1e3;function tC(e,A,t){let r,n,i=tA,s=()=>(i(),i=dn(r,Q=>t(8,n=Q)),r),o;e.$$.on_destroy.push(()=>i());let{type:a="img"}=A,{documentSetStore:l}=A;const{imageNetwork:c,documentNetwork:u,selectedNodes:g,updateSelectedNodes:f}=l;SA(e,g,Q=>t(5,o=Q));let h,B,w=!1;function d(){h&&(h.destroy(),f([]));function Q(y){f(y)}h=(n.nodes.length<eC?nQ:$m)(B,n.nodes,n.links,Q,y=>{t(3,w=y)}),t(3,w=a==="img"),w&&h.toggleSelectionMode()}function F(){h&&t(3,w=h.toggleSelectionMode())}rr(()=>{h==null||h.destroy()});function _(Q){ze[Q?"unshift":"push"](()=>{B=Q,t(2,B)})}return e.$$set=Q=>{"type"in Q&&t(0,a=Q.type),"documentSetStore"in Q&&t(1,l=Q.documentSetStore)},e.$$.update=()=>{e.$$.dirty&1&&s(t(4,r=a==="img"?c:u)),e.$$.dirty&260&&n&&B&&d()},[a,l,B,w,r,o,g,F,n,_]}class rC extends $A{constructor(A){super(),zA(this,A,tC,AC,JA,{type:0,documentSetStore:1})}}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var zs=function(e,A){return zs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])},zs(e,A)};function st(e,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");zs(e,A);function t(){this.constructor=e}e.prototype=A===null?Object.create(A):(t.prototype=A.prototype,new t)}var $s=function(){return $s=Object.assign||function(A){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(A[i]=t[i])}return A},$s.apply(this,arguments)};function Pe(e,A,t,r){function n(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(c){try{l(r.next(c))}catch(u){s(u)}}function a(c){try{l(r.throw(c))}catch(u){s(u)}}function l(c){c.done?i(c.value):n(c.value).then(o,a)}l((r=r.apply(e,A||[])).next())})}function De(e,A){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,n,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(c){return a([l,c])}}function a(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,n&&(i=l[0]&2?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,n=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){t.label=l[1];break}if(l[0]===6&&t.label<i[1]){t.label=i[1],i=l;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(l);break}i[2]&&t.ops.pop(),t.trys.pop();continue}l=A.call(e,t)}catch(c){l=[6,c],n=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function ui(e,A,t){if(t||arguments.length===2)for(var r=0,n=A.length,i;r<n;r++)(i||!(r in A))&&(i||(i=Array.prototype.slice.call(A,0,r)),i[r]=A[r]);return e.concat(i||A)}for(var yt=function(){function e(A,t,r,n){this.left=A,this.top=t,this.width=r,this.height=n}return e.prototype.add=function(A,t,r,n){return new e(this.left+A,this.top+t,this.width+r,this.height+n)},e.fromClientRect=function(A,t){return new e(t.left+A.windowBounds.left,t.top+A.windowBounds.top,t.width,t.height)},e.fromDOMRectList=function(A,t){var r=Array.from(t).find(function(n){return n.width!==0});return r?new e(r.left+A.windowBounds.left,r.top+A.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),fi=function(e,A){return yt.fromClientRect(e,A.getBoundingClientRect())},nC=function(e){var A=e.body,t=e.documentElement;if(!A||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(A.scrollWidth,t.scrollWidth),Math.max(A.offsetWidth,t.offsetWidth),Math.max(A.clientWidth,t.clientWidth)),n=Math.max(Math.max(A.scrollHeight,t.scrollHeight),Math.max(A.offsetHeight,t.offsetHeight),Math.max(A.clientHeight,t.clientHeight));return new yt(0,0,r,n)},gi=function(e){for(var A=[],t=0,r=e.length;t<r;){var n=e.charCodeAt(t++);if(n>=55296&&n<=56319&&t<r){var i=e.charCodeAt(t++);(i&64512)===56320?A.push(((n&1023)<<10)+(i&1023)+65536):(A.push(n),t--)}else A.push(n)}return A},he=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var r=[],n=-1,i="";++n<t;){var s=e[n];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(n+1===t||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},Wc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iC=typeof Uint8Array>"u"?[]:new Uint8Array(256),Bi=0;Bi<Wc.length;Bi++)iC[Wc.charCodeAt(Bi)]=Bi;for(var Yc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wr=typeof Uint8Array>"u"?[]:new Uint8Array(256),hi=0;hi<Yc.length;hi++)Wr[Yc.charCodeAt(hi)]=hi;for(var sC=function(e){var A=e.length*.75,t=e.length,r,n=0,i,s,o,a;e[e.length-1]==="="&&(A--,e[e.length-2]==="="&&A--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),c=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<t;r+=4)i=Wr[e.charCodeAt(r)],s=Wr[e.charCodeAt(r+1)],o=Wr[e.charCodeAt(r+2)],a=Wr[e.charCodeAt(r+3)],c[n++]=i<<2|s>>4,c[n++]=(s&15)<<4|o>>2,c[n++]=(o&3)<<6|a&63;return l},oC=function(e){for(var A=e.length,t=[],r=0;r<A;r+=2)t.push(e[r+1]<<8|e[r]);return t},aC=function(e){for(var A=e.length,t=[],r=0;r<A;r+=4)t.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return t},zt=5,Zs=6+5,js=2,lC=Zs-zt,zc=65536>>zt,cC=1<<zt,qs=cC-1,uC=1024>>zt,fC=zc+uC,gC=fC,BC=32,hC=gC+BC,dC=65536>>Zs,wC=1<<lC,pC=wC-1,$c=function(e,A,t){return e.slice?e.slice(A,t):new Uint16Array(Array.prototype.slice.call(e,A,t))},mC=function(e,A,t){return e.slice?e.slice(A,t):new Uint32Array(Array.prototype.slice.call(e,A,t))},QC=function(e,A){var t=sC(e),r=Array.isArray(t)?aC(t):new Uint32Array(t),n=Array.isArray(t)?oC(t):new Uint16Array(t),i=24,s=$c(n,i/2,r[4]/2),o=r[5]===2?$c(n,(i+r[4])/2):mC(r,Math.ceil((i+r[4])/4));return new CC(r[0],r[1],r[2],r[3],s,o)},CC=function(){function e(A,t,r,n,i,s){this.initialValue=A,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=s}return e.prototype.get=function(A){var t;if(A>=0){if(A<55296||A>56319&&A<=65535)return t=this.index[A>>zt],t=(t<<js)+(A&qs),this.data[t];if(A<=65535)return t=this.index[zc+(A-55296>>zt)],t=(t<<js)+(A&qs),this.data[t];if(A<this.highStart)return t=hC-dC+(A>>Zs),t=this.index[t],t+=A>>zt&pC,t=this.index[t],t=(t<<js)+(A&qs),this.data[t];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Zc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vC=typeof Uint8Array>"u"?[]:new Uint8Array(256),di=0;di<Zc.length;di++)vC[Zc.charCodeAt(di)]=di;var UC="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",jc=50,FC=1,qc=2,Au=3,yC=4,_C=5,eu=7,tu=8,ru=9,kt=10,Ao=11,nu=12,eo=13,bC=14,Yr=15,to=16,wi=17,zr=18,EC=19,iu=20,ro=21,$r=22,no=23,wr=24,Ye=25,Zr=26,jr=27,pr=28,HC=29,$t=30,IC=31,pi=32,mi=33,io=34,so=35,oo=36,qr=37,ao=38,Qi=39,Ci=40,lo=41,su=42,SC=43,xC=[9001,65288],ou="!",NA="×",vi="÷",co=QC(UC),_t=[$t,oo],uo=[FC,qc,Au,_C],au=[kt,tu],lu=[jr,Zr],LC=uo.concat(au),cu=[ao,Qi,Ci,io,so],kC=[Yr,eo],KC=function(e,A){A===void 0&&(A="strict");var t=[],r=[],n=[];return e.forEach(function(i,s){var o=co.get(i);if(o>jc?(n.push(!0),o-=jc):n.push(!1),["normal","auto","loose"].indexOf(A)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(s),t.push(to);if(o===yC||o===Ao){if(s===0)return r.push(s),t.push($t);var a=t[s-1];return LC.indexOf(a)===-1?(r.push(r[s-1]),t.push(a)):(r.push(s),t.push($t))}if(r.push(s),o===IC)return t.push(A==="strict"?ro:qr);if(o===su||o===HC)return t.push($t);if(o===SC)return i>=131072&&i<=196605||i>=196608&&i<=262141?t.push(qr):t.push($t);t.push(o)}),[r,t,n]},fo=function(e,A,t,r){var n=r[t];if(Array.isArray(e)?e.indexOf(n)!==-1:e===n)for(var i=t;i<=r.length;){i++;var s=r[i];if(s===A)return!0;if(s!==kt)break}if(n===kt)for(var i=t;i>0;){i--;var o=r[i];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var a=t;a<=r.length;){a++;var s=r[a];if(s===A)return!0;if(s!==kt)break}if(o!==kt)break}return!1},uu=function(e,A){for(var t=e;t>=0;){var r=A[t];if(r===kt)t--;else return r}return 0},MC=function(e,A,t,r,n){if(t[r]===0)return NA;var i=r-1;if(Array.isArray(n)&&n[i]===!0)return NA;var s=i-1,o=i+1,a=A[i],l=s>=0?A[s]:0,c=A[o];if(a===qc&&c===Au)return NA;if(uo.indexOf(a)!==-1)return ou;if(uo.indexOf(c)!==-1||au.indexOf(c)!==-1)return NA;if(uu(i,A)===tu)return vi;if(co.get(e[i])===Ao||(a===pi||a===mi)&&co.get(e[o])===Ao||a===eu||c===eu||a===ru||[kt,eo,Yr].indexOf(a)===-1&&c===ru||[wi,zr,EC,wr,pr].indexOf(c)!==-1||uu(i,A)===$r||fo(no,$r,i,A)||fo([wi,zr],ro,i,A)||fo(nu,nu,i,A))return NA;if(a===kt)return vi;if(a===no||c===no)return NA;if(c===to||a===to)return vi;if([eo,Yr,ro].indexOf(c)!==-1||a===bC||l===oo&&kC.indexOf(a)!==-1||a===pr&&c===oo||c===iu||_t.indexOf(c)!==-1&&a===Ye||_t.indexOf(a)!==-1&&c===Ye||a===jr&&[qr,pi,mi].indexOf(c)!==-1||[qr,pi,mi].indexOf(a)!==-1&&c===Zr||_t.indexOf(a)!==-1&&lu.indexOf(c)!==-1||lu.indexOf(a)!==-1&&_t.indexOf(c)!==-1||[jr,Zr].indexOf(a)!==-1&&(c===Ye||[$r,Yr].indexOf(c)!==-1&&A[o+1]===Ye)||[$r,Yr].indexOf(a)!==-1&&c===Ye||a===Ye&&[Ye,pr,wr].indexOf(c)!==-1)return NA;if([Ye,pr,wr,wi,zr].indexOf(c)!==-1)for(var u=i;u>=0;){var g=A[u];if(g===Ye)return NA;if([pr,wr].indexOf(g)!==-1)u--;else break}if([jr,Zr].indexOf(c)!==-1)for(var u=[wi,zr].indexOf(a)!==-1?s:i;u>=0;){var g=A[u];if(g===Ye)return NA;if([pr,wr].indexOf(g)!==-1)u--;else break}if(ao===a&&[ao,Qi,io,so].indexOf(c)!==-1||[Qi,io].indexOf(a)!==-1&&[Qi,Ci].indexOf(c)!==-1||[Ci,so].indexOf(a)!==-1&&c===Ci||cu.indexOf(a)!==-1&&[iu,Zr].indexOf(c)!==-1||cu.indexOf(c)!==-1&&a===jr||_t.indexOf(a)!==-1&&_t.indexOf(c)!==-1||a===wr&&_t.indexOf(c)!==-1||_t.concat(Ye).indexOf(a)!==-1&&c===$r&&xC.indexOf(e[o])===-1||_t.concat(Ye).indexOf(c)!==-1&&a===zr)return NA;if(a===lo&&c===lo){for(var f=t[i],h=1;f>0&&(f--,A[f]===lo);)h++;if(h%2!==0)return NA}return a===pi&&c===mi?NA:vi},DC=function(e,A){A||(A={lineBreak:"normal",wordBreak:"normal"});var t=KC(e,A.lineBreak),r=t[0],n=t[1],i=t[2];(A.wordBreak==="break-all"||A.wordBreak==="break-word")&&(n=n.map(function(o){return[Ye,$t,su].indexOf(o)!==-1?qr:o}));var s=A.wordBreak==="keep-all"?i.map(function(o,a){return o&&e[a]>=19968&&e[a]<=40959}):void 0;return[r,n,s]},TC=function(){function e(A,t,r,n){this.codePoints=A,this.required=t===ou,this.start=r,this.end=n}return e.prototype.slice=function(){return he.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),OC=function(e,A){var t=gi(e),r=DC(t,A),n=r[0],i=r[1],s=r[2],o=t.length,a=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var c=NA;l<o&&(c=MC(t,i,n,++l,s))===NA;);if(c!==NA||l===o){var u=new TC(t,c,a,l);return a=l,{value:u,done:!1}}return{done:!0,value:null}}}},NC=1,RC=2,An=4,fu=8,Ui=10,gu=47,en=92,VC=9,GC=32,Fi=34,tn=61,PC=35,XC=36,JC=37,yi=39,_i=40,rn=41,WC=95,Je=45,YC=33,zC=60,$C=62,ZC=64,jC=91,qC=93,Av=61,ev=123,bi=63,tv=125,Bu=124,rv=126,nv=128,hu=65533,go=42,Zt=43,iv=44,sv=58,ov=59,nn=46,av=0,lv=8,cv=11,uv=14,fv=31,gv=127,gt=-1,du=48,wu=97,pu=101,Bv=102,hv=117,dv=122,mu=65,Qu=69,Cu=70,wv=85,pv=90,Te=function(e){return e>=du&&e<=57},mv=function(e){return e>=55296&&e<=57343},mr=function(e){return Te(e)||e>=mu&&e<=Cu||e>=wu&&e<=Bv},Qv=function(e){return e>=wu&&e<=dv},Cv=function(e){return e>=mu&&e<=pv},vv=function(e){return Qv(e)||Cv(e)},Uv=function(e){return e>=nv},Ei=function(e){return e===Ui||e===VC||e===GC},Hi=function(e){return vv(e)||Uv(e)||e===WC},vu=function(e){return Hi(e)||Te(e)||e===Je},Fv=function(e){return e>=av&&e<=lv||e===cv||e>=uv&&e<=fv||e===gv},Kt=function(e,A){return e!==en?!1:A!==Ui},Ii=function(e,A,t){return e===Je?Hi(A)||Kt(A,t):Hi(e)?!0:!!(e===en&&Kt(e,A))},Bo=function(e,A,t){return e===Zt||e===Je?Te(A)?!0:A===nn&&Te(t):Te(e===nn?A:e)},yv=function(e){var A=0,t=1;(e[A]===Zt||e[A]===Je)&&(e[A]===Je&&(t=-1),A++);for(var r=[];Te(e[A]);)r.push(e[A++]);var n=r.length?parseInt(he.apply(void 0,r),10):0;e[A]===nn&&A++;for(var i=[];Te(e[A]);)i.push(e[A++]);var s=i.length,o=s?parseInt(he.apply(void 0,i),10):0;(e[A]===Qu||e[A]===pu)&&A++;var a=1;(e[A]===Zt||e[A]===Je)&&(e[A]===Je&&(a=-1),A++);for(var l=[];Te(e[A]);)l.push(e[A++]);var c=l.length?parseInt(he.apply(void 0,l),10):0;return t*(n+o*Math.pow(10,-s))*Math.pow(10,a*c)},_v={type:2},bv={type:3},Ev={type:4},Hv={type:13},Iv={type:8},Sv={type:21},xv={type:9},Lv={type:10},kv={type:11},Kv={type:12},Mv={type:14},Si={type:23},Dv={type:1},Tv={type:25},Ov={type:24},Nv={type:26},Rv={type:27},Vv={type:28},Gv={type:29},Pv={type:31},ho={type:32},Uu=function(){function e(){this._value=[]}return e.prototype.write=function(A){this._value=this._value.concat(gi(A))},e.prototype.read=function(){for(var A=[],t=this.consumeToken();t!==ho;)A.push(t),t=this.consumeToken();return A},e.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case Fi:return this.consumeStringToken(Fi);case PC:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);if(vu(t)||Kt(r,n)){var i=Ii(t,r,n)?RC:NC,s=this.consumeName();return{type:5,value:s,flags:i}}break;case XC:if(this.peekCodePoint(0)===tn)return this.consumeCodePoint(),Hv;break;case yi:return this.consumeStringToken(yi);case _i:return _v;case rn:return bv;case go:if(this.peekCodePoint(0)===tn)return this.consumeCodePoint(),Mv;break;case Zt:if(Bo(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case iv:return Ev;case Je:var o=A,a=this.peekCodePoint(0),l=this.peekCodePoint(1);if(Bo(o,a,l))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(Ii(o,a,l))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(a===Je&&l===$C)return this.consumeCodePoint(),this.consumeCodePoint(),Ov;break;case nn:if(Bo(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case gu:if(this.peekCodePoint(0)===go)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===go&&(c=this.consumeCodePoint(),c===gu))return this.consumeToken();if(c===gt)return this.consumeToken()}break;case sv:return Nv;case ov:return Rv;case zC:if(this.peekCodePoint(0)===YC&&this.peekCodePoint(1)===Je&&this.peekCodePoint(2)===Je)return this.consumeCodePoint(),this.consumeCodePoint(),Tv;break;case ZC:var u=this.peekCodePoint(0),g=this.peekCodePoint(1),f=this.peekCodePoint(2);if(Ii(u,g,f)){var s=this.consumeName();return{type:7,value:s}}break;case jC:return Vv;case en:if(Kt(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case qC:return Gv;case Av:if(this.peekCodePoint(0)===tn)return this.consumeCodePoint(),Iv;break;case ev:return kv;case tv:return Kv;case hv:case wv:var h=this.peekCodePoint(0),B=this.peekCodePoint(1);return h===Zt&&(mr(B)||B===bi)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case Bu:if(this.peekCodePoint(0)===tn)return this.consumeCodePoint(),xv;if(this.peekCodePoint(0)===Bu)return this.consumeCodePoint(),Sv;break;case rv:if(this.peekCodePoint(0)===tn)return this.consumeCodePoint(),Lv;break;case gt:return ho}return Ei(A)?(this.consumeWhiteSpace(),Pv):Te(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):Hi(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:6,value:he(A)}},e.prototype.consumeCodePoint=function(){var A=this._value.shift();return typeof A>"u"?-1:A},e.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},e.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},e.prototype.consumeUnicodeRangeToken=function(){for(var A=[],t=this.consumeCodePoint();mr(t)&&A.length<6;)A.push(t),t=this.consumeCodePoint();for(var r=!1;t===bi&&A.length<6;)A.push(t),t=this.consumeCodePoint(),r=!0;if(r){var n=parseInt(he.apply(void 0,A.map(function(a){return a===bi?du:a})),16),i=parseInt(he.apply(void 0,A.map(function(a){return a===bi?Cu:a})),16);return{type:30,start:n,end:i}}var s=parseInt(he.apply(void 0,A),16);if(this.peekCodePoint(0)===Je&&mr(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];mr(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var i=parseInt(he.apply(void 0,o),16);return{type:30,start:s,end:i}}else return{type:30,start:s,end:s}},e.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return A.toLowerCase()==="url"&&this.peekCodePoint(0)===_i?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===_i?(this.consumeCodePoint(),{type:19,value:A}):{type:20,value:A}},e.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===gt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===yi||t===Fi){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===gt||this.peekCodePoint(0)===rn)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Si)}for(;;){var n=this.consumeCodePoint();if(n===gt||n===rn)return{type:22,value:he.apply(void 0,A)};if(Ei(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===gt||this.peekCodePoint(0)===rn?(this.consumeCodePoint(),{type:22,value:he.apply(void 0,A)}):(this.consumeBadUrlRemnants(),Si);if(n===Fi||n===yi||n===_i||Fv(n))return this.consumeBadUrlRemnants(),Si;if(n===en)if(Kt(n,this.peekCodePoint(0)))A.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Si;else A.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;Ei(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(A===rn||A===gt)return;Kt(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(A){for(var t=5e4,r="";A>0;){var n=Math.min(t,A);r+=he.apply(void 0,this._value.splice(0,n)),A-=n}return this._value.shift(),r},e.prototype.consumeStringToken=function(A){var t="",r=0;do{var n=this._value[r];if(n===gt||n===void 0||n===A)return t+=this.consumeStringSlice(r),{type:0,value:t};if(n===Ui)return this._value.splice(0,r),Dv;if(n===en){var i=this._value[r+1];i!==gt&&i!==void 0&&(i===Ui?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):Kt(n,i)&&(t+=this.consumeStringSlice(r),t+=he(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var A=[],t=An,r=this.peekCodePoint(0);for((r===Zt||r===Je)&&A.push(this.consumeCodePoint());Te(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(r===nn&&Te(n))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),t=fu;Te(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===Qu||r===pu)&&((n===Zt||n===Je)&&Te(i)||Te(n)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),t=fu;Te(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[yv(A),t]},e.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),t=A[0],r=A[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Ii(n,i,s)){var o=this.consumeName();return{type:15,number:t,flags:r,unit:o}}return n===JC?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(mr(A)){for(var t=he(A);mr(this.peekCodePoint(0))&&t.length<6;)t+=he(this.consumeCodePoint());Ei(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||mv(r)||r>1114111?hu:r}return A===gt?hu:A},e.prototype.consumeName=function(){for(var A="";;){var t=this.consumeCodePoint();if(vu(t))A+=he(t);else if(Kt(t,this.peekCodePoint(0)))A+=he(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),A}},e}(),Fu=function(){function e(A){this._tokens=A}return e.create=function(A){var t=new Uu;return t.write(A),new e(t.read())},e.parseValue=function(A){return e.create(A).parseComponentValue()},e.parseValues=function(A){return e.create(A).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var A=this.consumeToken();A.type===31;)A=this.consumeToken();if(A.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(A);var t=this.consumeComponentValue();do A=this.consumeToken();while(A.type===31);if(A.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var A=[];;){var t=this.consumeComponentValue();if(t.type===32)return A;A.push(t),A.push()}},e.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case 11:case 28:case 2:return this.consumeSimpleBlock(A.type);case 19:return this.consumeFunction(A)}return A},e.prototype.consumeSimpleBlock=function(A){for(var t={type:A,values:[]},r=this.consumeToken();;){if(r.type===32||Jv(r,A))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(A){for(var t={name:A.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var A=this._tokens.shift();return typeof A>"u"?ho:A},e.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},e}(),sn=function(e){return e.type===15},Qr=function(e){return e.type===17},te=function(e){return e.type===20},Xv=function(e){return e.type===0},wo=function(e,A){return te(e)&&e.value===A},yu=function(e){return e.type!==31},Cr=function(e){return e.type!==31&&e.type!==4},Bt=function(e){var A=[],t=[];return e.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");A.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&A.push(t),A},Jv=function(e,A){return A===11&&e.type===12||A===28&&e.type===29?!0:A===2&&e.type===3},Mt=function(e){return e.type===17||e.type===15},me=function(e){return e.type===16||Mt(e)},_u=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},xe={type:17,number:0,flags:An},po={type:16,number:50,flags:An},Dt={type:16,number:100,flags:An},on=function(e,A,t){var r=e[0],n=e[1];return[se(r,A),se(typeof n<"u"?n:r,t)]},se=function(e,A){if(e.type===16)return e.number/100*A;if(sn(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},bu="deg",Eu="grad",Hu="rad",Iu="turn",xi={name:"angle",parse:function(e,A){if(A.type===15)switch(A.unit){case bu:return Math.PI*A.number/180;case Eu:return Math.PI/200*A.number;case Hu:return A.number;case Iu:return Math.PI*2*A.number}throw new Error("Unsupported angle type")}},Su=function(e){return e.type===15&&(e.unit===bu||e.unit===Eu||e.unit===Hu||e.unit===Iu)},xu=function(e){var A=e.filter(te).map(function(t){return t.value}).join(" ");switch(A){case"to bottom right":case"to right bottom":case"left top":case"top left":return[xe,xe];case"to top":case"bottom":return $e(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[xe,Dt];case"to right":case"left":return $e(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Dt,Dt];case"to bottom":case"top":return $e(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Dt,xe];case"to left":case"right":return $e(270)}return 0},$e=function(e){return Math.PI*e/180},Tt={name:"color",parse:function(e,A){if(A.type===18){var t=Wv[A.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+A.name+'"');return t(e,A.values)}if(A.type===5){if(A.value.length===3){var r=A.value.substring(0,1),n=A.value.substring(1,2),i=A.value.substring(2,3);return Nt(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),1)}if(A.value.length===4){var r=A.value.substring(0,1),n=A.value.substring(1,2),i=A.value.substring(2,3),s=A.value.substring(3,4);return Nt(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16)/255)}if(A.value.length===6){var r=A.value.substring(0,2),n=A.value.substring(2,4),i=A.value.substring(4,6);return Nt(parseInt(r,16),parseInt(n,16),parseInt(i,16),1)}if(A.value.length===8){var r=A.value.substring(0,2),n=A.value.substring(2,4),i=A.value.substring(4,6),s=A.value.substring(6,8);return Nt(parseInt(r,16),parseInt(n,16),parseInt(i,16),parseInt(s,16)/255)}}if(A.type===20){var o=bt[A.value.toUpperCase()];if(typeof o<"u")return o}return bt.TRANSPARENT}},Ot=function(e){return(255&e)===0},Ee=function(e){var A=255&e,t=255&e>>8,r=255&e>>16,n=255&e>>24;return A<255?"rgba("+n+","+r+","+t+","+A/255+")":"rgb("+n+","+r+","+t+")"},Nt=function(e,A,t,r){return(e<<24|A<<16|t<<8|Math.round(r*255)<<0)>>>0},Lu=function(e,A){if(e.type===17)return e.number;if(e.type===16){var t=A===3?1:255;return A===3?e.number/100*t:Math.round(e.number/100*t)}return 0},ku=function(e,A){var t=A.filter(Cr);if(t.length===3){var r=t.map(Lu),n=r[0],i=r[1],s=r[2];return Nt(n,i,s,1)}if(t.length===4){var o=t.map(Lu),n=o[0],i=o[1],s=o[2],a=o[3];return Nt(n,i,s,a)}return 0};function mo(e,A,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(A-e)*t*6+e:t<1/2?A:t<2/3?(A-e)*6*(2/3-t)+e:e}var Ku=function(e,A){var t=A.filter(Cr),r=t[0],n=t[1],i=t[2],s=t[3],o=(r.type===17?$e(r.number):xi.parse(e,r))/(Math.PI*2),a=me(n)?n.number/100:0,l=me(i)?i.number/100:0,c=typeof s<"u"&&me(s)?se(s,1):1;if(a===0)return Nt(l*255,l*255,l*255,1);var u=l<=.5?l*(a+1):l+a-l*a,g=l*2-u,f=mo(g,u,o+1/3),h=mo(g,u,o),B=mo(g,u,o-1/3);return Nt(f*255,h*255,B*255,c)},Wv={hsl:Ku,hsla:Ku,rgb:ku,rgba:ku},an=function(e,A){return Tt.parse(e,Fu.create(A).parseComponentValue())},bt={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Yv={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,A){return A.map(function(t){if(te(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},zv={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Li=function(e,A){var t=Tt.parse(e,A[0]),r=A[1];return r&&me(r)?{color:t,stop:r}:{color:t,stop:null}},Mu=function(e,A){var t=e[0],r=e[e.length-1];t.stop===null&&(t.stop=xe),r.stop===null&&(r.stop=Dt);for(var n=[],i=0,s=0;s<e.length;s++){var o=e[s].stop;if(o!==null){var a=se(o,A);a>i?n.push(a):n.push(i),i=a}else n.push(null)}for(var l=null,s=0;s<n.length;s++){var c=n[s];if(c===null)l===null&&(l=s);else if(l!==null){for(var u=s-l,g=n[l-1],f=(c-g)/(u+1),h=1;h<=u;h++)n[l+h-1]=f*h;l=null}}return e.map(function(B,w){var d=B.color;return{color:d,stop:Math.max(Math.min(1,n[w]/A),0)}})},$v=function(e,A,t){var r=A/2,n=t/2,i=se(e[0],A)-r,s=n-se(e[1],t);return(Math.atan2(s,i)+Math.PI*2)%(Math.PI*2)},Zv=function(e,A,t){var r=typeof e=="number"?e:$v(e,A,t),n=Math.abs(A*Math.sin(r))+Math.abs(t*Math.cos(r)),i=A/2,s=t/2,o=n/2,a=Math.sin(r-Math.PI/2)*o,l=Math.cos(r-Math.PI/2)*o;return[n,i-l,i+l,s-a,s+a]},ot=function(e,A){return Math.sqrt(e*e+A*A)},Du=function(e,A,t,r,n){var i=[[0,0],[0,A],[e,0],[e,A]];return i.reduce(function(s,o){var a=o[0],l=o[1],c=ot(t-a,r-l);return(n?c<s.optimumDistance:c>s.optimumDistance)?{optimumCorner:o,optimumDistance:c}:s},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},jv=function(e,A,t,r,n){var i=0,s=0;switch(e.size){case 0:e.shape===0?i=s=Math.min(Math.abs(A),Math.abs(A-r),Math.abs(t),Math.abs(t-n)):e.shape===1&&(i=Math.min(Math.abs(A),Math.abs(A-r)),s=Math.min(Math.abs(t),Math.abs(t-n)));break;case 2:if(e.shape===0)i=s=Math.min(ot(A,t),ot(A,t-n),ot(A-r,t),ot(A-r,t-n));else if(e.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-n))/Math.min(Math.abs(A),Math.abs(A-r)),a=Du(r,n,A,t,!0),l=a[0],c=a[1];i=ot(l-A,(c-t)/o),s=o*i}break;case 1:e.shape===0?i=s=Math.max(Math.abs(A),Math.abs(A-r),Math.abs(t),Math.abs(t-n)):e.shape===1&&(i=Math.max(Math.abs(A),Math.abs(A-r)),s=Math.max(Math.abs(t),Math.abs(t-n)));break;case 3:if(e.shape===0)i=s=Math.max(ot(A,t),ot(A,t-n),ot(A-r,t),ot(A-r,t-n));else if(e.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-n))/Math.max(Math.abs(A),Math.abs(A-r)),u=Du(r,n,A,t,!1),l=u[0],c=u[1];i=ot(l-A,(c-t)/o),s=o*i}break}return Array.isArray(e.size)&&(i=se(e.size[0],r),s=e.size.length===2?se(e.size[1],n):i),[i,s]},qv=function(e,A){var t=$e(180),r=[];return Bt(A).forEach(function(n,i){if(i===0){var s=n[0];if(s.type===20&&s.value==="to"){t=xu(n);return}else if(Su(s)){t=xi.parse(e,s);return}}var o=Li(e,n);r.push(o)}),{angle:t,stops:r,type:1}},ki=function(e,A){var t=$e(180),r=[];return Bt(A).forEach(function(n,i){if(i===0){var s=n[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){t=xu(n);return}else if(Su(s)){t=(xi.parse(e,s)+$e(270))%$e(360);return}}var o=Li(e,n);r.push(o)}),{angle:t,stops:r,type:1}},A1=function(e,A){var t=$e(180),r=[],n=1,i=0,s=3,o=[];return Bt(A).forEach(function(a,l){var c=a[0];if(l===0){if(te(c)&&c.value==="linear"){n=1;return}else if(te(c)&&c.value==="radial"){n=2;return}}if(c.type===18){if(c.name==="from"){var u=Tt.parse(e,c.values[0]);r.push({stop:xe,color:u})}else if(c.name==="to"){var u=Tt.parse(e,c.values[0]);r.push({stop:Dt,color:u})}else if(c.name==="color-stop"){var g=c.values.filter(Cr);if(g.length===2){var u=Tt.parse(e,g[1]),f=g[0];Qr(f)&&r.push({stop:{type:16,number:f.number*100,flags:f.flags},color:u})}}}}),n===1?{angle:(t+$e(180))%$e(360),stops:r,type:n}:{size:s,shape:i,stops:r,position:o,type:n}},Tu="closest-side",Ou="farthest-side",Nu="closest-corner",Ru="farthest-corner",Vu="circle",Gu="ellipse",Pu="cover",Xu="contain",e1=function(e,A){var t=0,r=3,n=[],i=[];return Bt(A).forEach(function(s,o){var a=!0;if(o===0){var l=!1;a=s.reduce(function(u,g){if(l)if(te(g))switch(g.value){case"center":return i.push(po),u;case"top":case"left":return i.push(xe),u;case"right":case"bottom":return i.push(Dt),u}else(me(g)||Mt(g))&&i.push(g);else if(te(g))switch(g.value){case Vu:return t=0,!1;case Gu:return t=1,!1;case"at":return l=!0,!1;case Tu:return r=0,!1;case Pu:case Ou:return r=1,!1;case Xu:case Nu:return r=2,!1;case Ru:return r=3,!1}else if(Mt(g)||me(g))return Array.isArray(r)||(r=[]),r.push(g),!1;return u},a)}if(a){var c=Li(e,s);n.push(c)}}),{size:r,shape:t,stops:n,position:i,type:2}},Ki=function(e,A){var t=0,r=3,n=[],i=[];return Bt(A).forEach(function(s,o){var a=!0;if(o===0?a=s.reduce(function(c,u){if(te(u))switch(u.value){case"center":return i.push(po),!1;case"top":case"left":return i.push(xe),!1;case"right":case"bottom":return i.push(Dt),!1}else if(me(u)||Mt(u))return i.push(u),!1;return c},a):o===1&&(a=s.reduce(function(c,u){if(te(u))switch(u.value){case Vu:return t=0,!1;case Gu:return t=1,!1;case Xu:case Tu:return r=0,!1;case Ou:return r=1,!1;case Nu:return r=2,!1;case Pu:case Ru:return r=3,!1}else if(Mt(u)||me(u))return Array.isArray(r)||(r=[]),r.push(u),!1;return c},a)),a){var l=Li(e,s);n.push(l)}}),{size:r,shape:t,stops:n,position:i,type:2}},t1=function(e){return e.type===1},r1=function(e){return e.type===2},Qo={name:"image",parse:function(e,A){if(A.type===22){var t={url:A.value,type:0};return e.cache.addImage(A.value),t}if(A.type===18){var r=Ju[A.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+A.name+'"');return r(e,A.values)}throw new Error("Unsupported image type "+A.type)}};function n1(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Ju[e.name])}var Ju={"linear-gradient":qv,"-moz-linear-gradient":ki,"-ms-linear-gradient":ki,"-o-linear-gradient":ki,"-webkit-linear-gradient":ki,"radial-gradient":e1,"-moz-radial-gradient":Ki,"-ms-radial-gradient":Ki,"-o-radial-gradient":Ki,"-webkit-radial-gradient":Ki,"-webkit-gradient":A1},i1={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,A){if(A.length===0)return[];var t=A[0];return t.type===20&&t.value==="none"?[]:A.filter(function(r){return Cr(r)&&n1(r)}).map(function(r){return Qo.parse(e,r)})}},s1={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,A){return A.map(function(t){if(te(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},o1={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,A){return Bt(A).map(function(t){return t.filter(me)}).map(_u)}},a1={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,A){return Bt(A).map(function(t){return t.filter(te).map(function(r){return r.value}).join(" ")}).map(l1)}},l1=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},vr;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(vr||(vr={}));var c1={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,A){return Bt(A).map(function(t){return t.filter(u1)})}},u1=function(e){return te(e)||me(e)},Mi=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},f1=Mi("top"),g1=Mi("right"),B1=Mi("bottom"),h1=Mi("left"),Di=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(A,t){return _u(t.filter(me))}}},d1=Di("top-left"),w1=Di("top-right"),p1=Di("bottom-right"),m1=Di("bottom-left"),Ti=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(A,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Q1=Ti("top"),C1=Ti("right"),v1=Ti("bottom"),U1=Ti("left"),Oi=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(A,t){return sn(t)?t.number:0}}},F1=Oi("top"),y1=Oi("right"),_1=Oi("bottom"),b1=Oi("left"),E1={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},H1={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,A){switch(A){case"rtl":return 1;case"ltr":default:return 0}}},I1={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,A){return A.filter(te).reduce(function(t,r){return t|S1(r.value)},0)}},S1=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},x1={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},L1={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,A){return A.type===20&&A.value==="normal"?0:A.type===17||A.type===15?A.number:0}},Ni;(function(e){e.NORMAL="normal",e.STRICT="strict"})(Ni||(Ni={}));var k1={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"strict":return Ni.STRICT;case"normal":default:return Ni.NORMAL}}},K1={name:"line-height",initialValue:"normal",prefix:!1,type:4},Wu=function(e,A){return te(e)&&e.value==="normal"?1.2*A:e.type===17?A*e.number:me(e)?se(e,A):A},M1={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,A){return A.type===20&&A.value==="none"?null:Qo.parse(e,A)}},D1={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,A){switch(A){case"inside":return 0;case"outside":default:return 1}}},Co={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Ri=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},T1=Ri("top"),O1=Ri("right"),N1=Ri("bottom"),R1=Ri("left"),V1={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,A){return A.filter(te).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},G1={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"break-word":return"break-word";case"normal":default:return"normal"}}},Vi=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},P1=Vi("top"),X1=Vi("right"),J1=Vi("bottom"),W1=Vi("left"),Y1={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,A){switch(A){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},z1={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,A){switch(A){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},$1={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.length===1&&wo(A[0],"none")?[]:Bt(A).map(function(t){for(var r={color:bt.TRANSPARENT,offsetX:xe,offsetY:xe,blur:xe},n=0,i=0;i<t.length;i++){var s=t[i];Mt(s)?(n===0?r.offsetX=s:n===1?r.offsetY=s:r.blur=s,n++):r.color=Tt.parse(e,s)}return r})}},Z1={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},j1={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,A){if(A.type===20&&A.value==="none")return null;if(A.type===18){var t=eU[A.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+A.name+'"');return t(A.values)}return null}},q1=function(e){var A=e.filter(function(t){return t.type===17}).map(function(t){return t.number});return A.length===6?A:null},AU=function(e){var A=e.filter(function(a){return a.type===17}).map(function(a){return a.number}),t=A[0],r=A[1];A[2],A[3];var n=A[4],i=A[5];A[6],A[7],A[8],A[9],A[10],A[11];var s=A[12],o=A[13];return A[14],A[15],A.length===16?[t,r,n,i,s,o]:null},eU={matrix:q1,matrix3d:AU},Yu={type:16,number:50,flags:An},tU=[Yu,Yu],rU={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,A){var t=A.filter(me);return t.length!==2?tU:[t[0],t[1]]}},nU={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},ln;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(ln||(ln={}));for(var iU={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"break-all":return ln.BREAK_ALL;case"keep-all":return ln.KEEP_ALL;case"normal":default:return ln.NORMAL}}},sU={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,A){if(A.type===20)return{auto:!0,order:0};if(Qr(A))return{auto:!1,order:A.number};throw new Error("Invalid z-index number parsed")}},zu={name:"time",parse:function(e,A){if(A.type===15)switch(A.unit.toLowerCase()){case"s":return 1e3*A.number;case"ms":return A.number}throw new Error("Unsupported time type")}},oU={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,A){return Qr(A)?A.number:1}},aU={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},lU={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,A){return A.filter(te).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},cU={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,A){var t=[],r=[];return A.forEach(function(n){switch(n.type){case 20:case 0:t.push(n.value);break;case 17:t.push(n.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},uU={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fU={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,A){if(Qr(A))return A.number;if(te(A))switch(A.value){case"bold":return 700;case"normal":default:return 400}return 400}},gU={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.filter(te).map(function(t){return t.value})}},BU={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Ue=function(e,A){return(e&A)!==0},hU={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,A){if(A.length===0)return[];var t=A[0];return t.type===20&&t.value==="none"?[]:A}},dU={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(A.length===0)return null;var t=A[0];if(t.type===20&&t.value==="none")return null;for(var r=[],n=A.filter(yu),i=0;i<n.length;i++){var s=n[i],o=n[i+1];if(s.type===20){var a=o&&Qr(o)?o.number:1;r.push({counter:s.value,increment:a})}}return r}},wU={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(A.length===0)return[];for(var t=[],r=A.filter(yu),n=0;n<r.length;n++){var i=r[n],s=r[n+1];if(te(i)&&i.value!=="none"){var o=s&&Qr(s)?s.number:0;t.push({counter:i.value,reset:o})}}return t}},pU={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,A){return A.filter(sn).map(function(t){return zu.parse(e,t)})}},mU={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(A.length===0)return null;var t=A[0];if(t.type===20&&t.value==="none")return null;var r=[],n=A.filter(Xv);if(n.length%2!==0)return null;for(var i=0;i<n.length;i+=2){var s=n[i].value,o=n[i+1].value;r.push({open:s,close:o})}return r}},$u=function(e,A,t){if(!e)return"";var r=e[Math.min(A,e.length-1)];return r?t?r.open:r.close:""},QU={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.length===1&&wo(A[0],"none")?[]:Bt(A).map(function(t){for(var r={color:255,offsetX:xe,offsetY:xe,blur:xe,spread:xe,inset:!1},n=0,i=0;i<t.length;i++){var s=t[i];wo(s,"inset")?r.inset=!0:Mt(s)?(n===0?r.offsetX=s:n===1?r.offsetY=s:n===2?r.blur=s:r.spread=s,n++):r.color=Tt.parse(e,s)}return r})}},CU={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,A){var t=[0,1,2],r=[];return A.filter(te).forEach(function(n){switch(n.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(n){r.indexOf(n)===-1&&r.push(n)}),r}},vU={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},UU={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,A){return sn(A)?A.number:0}},FU=function(){function e(A,t){var r,n;this.animationDuration=uA(A,pU,t.animationDuration),this.backgroundClip=uA(A,Yv,t.backgroundClip),this.backgroundColor=uA(A,zv,t.backgroundColor),this.backgroundImage=uA(A,i1,t.backgroundImage),this.backgroundOrigin=uA(A,s1,t.backgroundOrigin),this.backgroundPosition=uA(A,o1,t.backgroundPosition),this.backgroundRepeat=uA(A,a1,t.backgroundRepeat),this.backgroundSize=uA(A,c1,t.backgroundSize),this.borderTopColor=uA(A,f1,t.borderTopColor),this.borderRightColor=uA(A,g1,t.borderRightColor),this.borderBottomColor=uA(A,B1,t.borderBottomColor),this.borderLeftColor=uA(A,h1,t.borderLeftColor),this.borderTopLeftRadius=uA(A,d1,t.borderTopLeftRadius),this.borderTopRightRadius=uA(A,w1,t.borderTopRightRadius),this.borderBottomRightRadius=uA(A,p1,t.borderBottomRightRadius),this.borderBottomLeftRadius=uA(A,m1,t.borderBottomLeftRadius),this.borderTopStyle=uA(A,Q1,t.borderTopStyle),this.borderRightStyle=uA(A,C1,t.borderRightStyle),this.borderBottomStyle=uA(A,v1,t.borderBottomStyle),this.borderLeftStyle=uA(A,U1,t.borderLeftStyle),this.borderTopWidth=uA(A,F1,t.borderTopWidth),this.borderRightWidth=uA(A,y1,t.borderRightWidth),this.borderBottomWidth=uA(A,_1,t.borderBottomWidth),this.borderLeftWidth=uA(A,b1,t.borderLeftWidth),this.boxShadow=uA(A,QU,t.boxShadow),this.color=uA(A,E1,t.color),this.direction=uA(A,H1,t.direction),this.display=uA(A,I1,t.display),this.float=uA(A,x1,t.cssFloat),this.fontFamily=uA(A,cU,t.fontFamily),this.fontSize=uA(A,uU,t.fontSize),this.fontStyle=uA(A,BU,t.fontStyle),this.fontVariant=uA(A,gU,t.fontVariant),this.fontWeight=uA(A,fU,t.fontWeight),this.letterSpacing=uA(A,L1,t.letterSpacing),this.lineBreak=uA(A,k1,t.lineBreak),this.lineHeight=uA(A,K1,t.lineHeight),this.listStyleImage=uA(A,M1,t.listStyleImage),this.listStylePosition=uA(A,D1,t.listStylePosition),this.listStyleType=uA(A,Co,t.listStyleType),this.marginTop=uA(A,T1,t.marginTop),this.marginRight=uA(A,O1,t.marginRight),this.marginBottom=uA(A,N1,t.marginBottom),this.marginLeft=uA(A,R1,t.marginLeft),this.opacity=uA(A,oU,t.opacity);var i=uA(A,V1,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=uA(A,G1,t.overflowWrap),this.paddingTop=uA(A,P1,t.paddingTop),this.paddingRight=uA(A,X1,t.paddingRight),this.paddingBottom=uA(A,J1,t.paddingBottom),this.paddingLeft=uA(A,W1,t.paddingLeft),this.paintOrder=uA(A,CU,t.paintOrder),this.position=uA(A,z1,t.position),this.textAlign=uA(A,Y1,t.textAlign),this.textDecorationColor=uA(A,aU,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=uA(A,lU,(n=t.textDecorationLine)!==null&&n!==void 0?n:t.textDecoration),this.textShadow=uA(A,$1,t.textShadow),this.textTransform=uA(A,Z1,t.textTransform),this.transform=uA(A,j1,t.transform),this.transformOrigin=uA(A,rU,t.transformOrigin),this.visibility=uA(A,nU,t.visibility),this.webkitTextStrokeColor=uA(A,vU,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=uA(A,UU,t.webkitTextStrokeWidth),this.wordBreak=uA(A,iU,t.wordBreak),this.zIndex=uA(A,sU,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Ot(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return Ue(this.display,4)||Ue(this.display,33554432)||Ue(this.display,268435456)||Ue(this.display,536870912)||Ue(this.display,67108864)||Ue(this.display,134217728)},e}(),yU=function(){function e(A,t){this.content=uA(A,hU,t.content),this.quotes=uA(A,mU,t.quotes)}return e}(),Zu=function(){function e(A,t){this.counterIncrement=uA(A,dU,t.counterIncrement),this.counterReset=uA(A,wU,t.counterReset)}return e}(),uA=function(e,A,t){var r=new Uu,n=t!==null&&typeof t<"u"?t.toString():A.initialValue;r.write(n);var i=new Fu(r.read());switch(A.type){case 2:var s=i.parseComponentValue();return A.parse(e,te(s)?s.value:A.initialValue);case 0:return A.parse(e,i.parseComponentValue());case 1:return A.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(A.format){case"angle":return xi.parse(e,i.parseComponentValue());case"color":return Tt.parse(e,i.parseComponentValue());case"image":return Qo.parse(e,i.parseComponentValue());case"length":var o=i.parseComponentValue();return Mt(o)?o:xe;case"length-percentage":var a=i.parseComponentValue();return me(a)?a:xe;case"time":return zu.parse(e,i.parseComponentValue())}break}},_U="data-html2canvas-debug",bU=function(e){var A=e.getAttribute(_U);switch(A){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},vo=function(e,A){var t=bU(e);return t===1||A===t},ht=function(){function e(A,t){if(this.context=A,this.textNodes=[],this.elements=[],this.flags=0,vo(t,3))debugger;this.styles=new FU(A,window.getComputedStyle(t,null)),Mo(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=fi(this.context,t),vo(t,4)&&(this.flags|=16)}return e}(),EU="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ju="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",cn=typeof Uint8Array>"u"?[]:new Uint8Array(256),Gi=0;Gi<ju.length;Gi++)cn[ju.charCodeAt(Gi)]=Gi;for(var HU=function(e){var A=e.length*.75,t=e.length,r,n=0,i,s,o,a;e[e.length-1]==="="&&(A--,e[e.length-2]==="="&&A--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),c=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<t;r+=4)i=cn[e.charCodeAt(r)],s=cn[e.charCodeAt(r+1)],o=cn[e.charCodeAt(r+2)],a=cn[e.charCodeAt(r+3)],c[n++]=i<<2|s>>4,c[n++]=(s&15)<<4|o>>2,c[n++]=(o&3)<<6|a&63;return l},IU=function(e){for(var A=e.length,t=[],r=0;r<A;r+=2)t.push(e[r+1]<<8|e[r]);return t},SU=function(e){for(var A=e.length,t=[],r=0;r<A;r+=4)t.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return t},jt=5,Uo=6+5,Fo=2,xU=Uo-jt,qu=65536>>jt,LU=1<<jt,yo=LU-1,kU=1024>>jt,KU=qu+kU,MU=KU,DU=32,TU=MU+DU,OU=65536>>Uo,NU=1<<xU,RU=NU-1,Af=function(e,A,t){return e.slice?e.slice(A,t):new Uint16Array(Array.prototype.slice.call(e,A,t))},VU=function(e,A,t){return e.slice?e.slice(A,t):new Uint32Array(Array.prototype.slice.call(e,A,t))},GU=function(e,A){var t=HU(e),r=Array.isArray(t)?SU(t):new Uint32Array(t),n=Array.isArray(t)?IU(t):new Uint16Array(t),i=24,s=Af(n,i/2,r[4]/2),o=r[5]===2?Af(n,(i+r[4])/2):VU(r,Math.ceil((i+r[4])/4));return new PU(r[0],r[1],r[2],r[3],s,o)},PU=function(){function e(A,t,r,n,i,s){this.initialValue=A,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=s}return e.prototype.get=function(A){var t;if(A>=0){if(A<55296||A>56319&&A<=65535)return t=this.index[A>>jt],t=(t<<Fo)+(A&yo),this.data[t];if(A<=65535)return t=this.index[qu+(A-55296>>jt)],t=(t<<Fo)+(A&yo),this.data[t];if(A<this.highStart)return t=TU-OU+(A>>Uo),t=this.index[t],t+=A>>jt&RU,t=this.index[t],t=(t<<Fo)+(A&yo),this.data[t];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",XU=typeof Uint8Array>"u"?[]:new Uint8Array(256),Pi=0;Pi<ef.length;Pi++)XU[ef.charCodeAt(Pi)]=Pi;var JU=1,_o=2,bo=3,tf=4,rf=5,WU=7,nf=8,Eo=9,Ho=10,sf=11,of=12,af=13,lf=14,Io=15,YU=function(e){for(var A=[],t=0,r=e.length;t<r;){var n=e.charCodeAt(t++);if(n>=55296&&n<=56319&&t<r){var i=e.charCodeAt(t++);(i&64512)===56320?A.push(((n&1023)<<10)+(i&1023)+65536):(A.push(n),t--)}else A.push(n)}return A},zU=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var r=[],n=-1,i="";++n<t;){var s=e[n];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(n+1===t||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},$U=GU(EU),Ze="×",So="÷",ZU=function(e){return $U.get(e)},jU=function(e,A,t){var r=t-2,n=A[r],i=A[t-1],s=A[t];if(i===_o&&s===bo)return Ze;if(i===_o||i===bo||i===tf||s===_o||s===bo||s===tf)return So;if(i===nf&&[nf,Eo,sf,of].indexOf(s)!==-1||(i===sf||i===Eo)&&(s===Eo||s===Ho)||(i===of||i===Ho)&&s===Ho||s===af||s===rf||s===WU||i===JU)return Ze;if(i===af&&s===lf){for(;n===rf;)n=A[--r];if(n===lf)return Ze}if(i===Io&&s===Io){for(var o=0;n===Io;)o++,n=A[--r];if(o%2===0)return Ze}return So},qU=function(e){var A=YU(e),t=A.length,r=0,n=0,i=A.map(ZU);return{next:function(){if(r>=t)return{done:!0,value:null};for(var s=Ze;r<t&&(s=jU(A,i,++r))===Ze;);if(s!==Ze||r===t){var o=zU.apply(null,A.slice(n,r));return n=r,{value:o,done:!1}}return{done:!0,value:null}}}},AF=function(e){for(var A=qU(e),t=[],r;!(r=A.next()).done;)r.value&&t.push(r.value.slice());return t},eF=function(e){var A=123;if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=A+"px",r.style.display="block",e.body.appendChild(r),t.selectNode(r);var n=t.getBoundingClientRect(),i=Math.round(n.height);if(e.body.removeChild(r),i===A)return!0}}return!1},tF=function(e){var A=e.createElement("boundtest");A.style.width="50px",A.style.display="block",A.style.fontSize="12px",A.style.letterSpacing="0px",A.style.wordSpacing="0px",e.body.appendChild(A);var t=e.createRange();A.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=A.firstChild,n=gi(r.data).map(function(a){return he(a)}),i=0,s={},o=n.every(function(a,l){t.setStart(r,i),t.setEnd(r,i+a.length);var c=t.getBoundingClientRect();i+=a.length;var u=c.x>s.x||c.y>s.y;return s=c,l===0?!0:u});return e.body.removeChild(A),o},rF=function(){return typeof new Image().crossOrigin<"u"},nF=function(){return typeof new XMLHttpRequest().responseType=="string"},iF=function(e){var A=new Image,t=e.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;A.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(A,0,0),t.toDataURL()}catch{return!1}return!0},cf=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},sF=function(e){var A=e.createElement("canvas"),t=100;A.width=t,A.height=t;var r=A.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var n=new Image,i=A.toDataURL();n.src=i;var s=xo(t,t,0,0,n);return r.fillStyle="red",r.fillRect(0,0,t,t),uf(s).then(function(o){r.drawImage(o,0,0);var a=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var l=e.createElement("div");return l.style.backgroundImage="url("+i+")",l.style.height=t+"px",cf(a)?uf(xo(t,t,0,0,l)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),cf(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},xo=function(e,A,t,r,n){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return s.setAttributeNS(null,"width",e.toString()),s.setAttributeNS(null,"height",A.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(n),s},uf=function(e){return new Promise(function(A,t){var r=new Image;r.onload=function(){return A(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Le={get SUPPORT_RANGE_BOUNDS(){var e=eF(document);return Object.defineProperty(Le,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Le.SUPPORT_RANGE_BOUNDS&&tF(document);return Object.defineProperty(Le,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=iF(document);return Object.defineProperty(Le,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?sF(document):Promise.resolve(!1);return Object.defineProperty(Le,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=rF();return Object.defineProperty(Le,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=nF();return Object.defineProperty(Le,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Le,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Le,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},un=function(){function e(A,t){this.text=A,this.bounds=t}return e}(),oF=function(e,A,t,r){var n=cF(A,t),i=[],s=0;return n.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(Le.SUPPORT_RANGE_BOUNDS){var a=ff(r,s,o.length).getClientRects();if(a.length>1){var l=Lo(o),c=0;l.forEach(function(g){i.push(new un(g,yt.fromDOMRectList(e,ff(r,c+s,g.length).getClientRects()))),c+=g.length})}else i.push(new un(o,yt.fromDOMRectList(e,a)))}else{var u=r.splitText(o.length);i.push(new un(o,aF(e,r))),r=u}else Le.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));s+=o.length}),i},aF=function(e,A){var t=A.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(A.cloneNode(!0));var n=A.parentNode;if(n){n.replaceChild(r,A);var i=fi(e,r);return r.firstChild&&n.replaceChild(r.firstChild,r),i}}return yt.EMPTY},ff=function(e,A,t){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var n=r.createRange();return n.setStart(e,A),n.setEnd(e,A+t),n},Lo=function(e){if(Le.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(A.segment(e)).map(function(t){return t.segment})}return AF(e)},lF=function(e,A){if(Le.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return fF(e,A)},cF=function(e,A){return A.letterSpacing!==0?Lo(e):lF(e,A)},uF=[32,160,4961,65792,65793,4153,4241],fF=function(e,A){for(var t=OC(e,{lineBreak:A.lineBreak,wordBreak:A.overflowWrap==="break-word"?"break-word":A.wordBreak}),r=[],n,i=function(){if(n.value){var s=n.value.slice(),o=gi(s),a="";o.forEach(function(l){uF.indexOf(l)===-1?a+=he(l):(a.length&&r.push(a),r.push(he(l)),a="")}),a.length&&r.push(a)}};!(n=t.next()).done;)i();return r},gF=function(){function e(A,t,r){this.text=BF(t.data,r.textTransform),this.textBounds=oF(A,this.text,r,t)}return e}(),BF=function(e,A){switch(A){case 1:return e.toLowerCase();case 3:return e.replace(hF,dF);case 2:return e.toUpperCase();default:return e}},hF=/(^|\s|:|-|\(|\))([a-z])/g,dF=function(e,A,t){return e.length>0?A+t.toUpperCase():e},gf=function(e){st(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.src=r.currentSrc||r.src,n.intrinsicWidth=r.naturalWidth,n.intrinsicHeight=r.naturalHeight,n.context.cache.addImage(n.src),n}return A}(ht),Bf=function(e){st(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.canvas=r,n.intrinsicWidth=r.width,n.intrinsicHeight=r.height,n}return A}(ht),hf=function(e){st(A,e);function A(t,r){var n=e.call(this,t,r)||this,i=new XMLSerializer,s=fi(t,r);return r.setAttribute("width",s.width+"px"),r.setAttribute("height",s.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),n.intrinsicWidth=r.width.baseVal.value,n.intrinsicHeight=r.height.baseVal.value,n.context.cache.addImage(n.svg),n}return A}(ht),df=function(e){st(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return A}(ht),ko=function(e){st(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.start=r.start,n.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,n}return A}(ht),wF=[{type:15,flags:0,unit:"px",number:3}],pF=[{type:16,flags:0,number:50}],mF=function(e){return e.width>e.height?new yt(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new yt(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},QF=function(e){var A=e.type===CF?new Array(e.value.length+1).join("•"):e.value;return A.length===0?e.placeholder||"":A},Xi="checkbox",Ji="radio",CF="password",wf=707406591,Ko=function(e){st(A,e);function A(t,r){var n=e.call(this,t,r)||this;switch(n.type=r.type.toLowerCase(),n.checked=r.checked,n.value=QF(r),(n.type===Xi||n.type===Ji)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=mF(n.bounds)),n.type){case Xi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=wF;break;case Ji:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=pF;break}return n}return A}(ht),pf=function(e){st(A,e);function A(t,r){var n=e.call(this,t,r)||this,i=r.options[r.selectedIndex||0];return n.value=i&&i.text||"",n}return A}(ht),mf=function(e){st(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return A}(ht),Qf=function(e){st(A,e);function A(t,r){var n=e.call(this,t,r)||this;n.src=r.src,n.width=parseInt(r.width,10)||0,n.height=parseInt(r.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){n.tree=vf(t,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?an(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):bt.TRANSPARENT,s=r.contentWindow.document.body?an(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):bt.TRANSPARENT;n.backgroundColor=Ot(i)?Ot(s)?n.styles.backgroundColor:s:i}}catch{}return n}return A}(ht),vF=["OL","UL","MENU"],Wi=function(e,A,t,r){for(var n=A.firstChild,i=void 0;n;n=i)if(i=n.nextSibling,Uf(n)&&n.data.trim().length>0)t.textNodes.push(new gF(e,n,t.styles));else if(Ur(n))if(Hf(n)&&n.assignedNodes)n.assignedNodes().forEach(function(o){return Wi(e,o,t,r)});else{var s=Cf(e,n);s.styles.isVisible()&&(UF(n,s,r)?s.flags|=4:FF(s.styles)&&(s.flags|=2),vF.indexOf(n.tagName)!==-1&&(s.flags|=8),t.elements.push(s),n.slot,n.shadowRoot?Wi(e,n.shadowRoot,s,r):!zi(n)&&!Ff(n)&&!$i(n)&&Wi(e,n,s,r))}},Cf=function(e,A){return To(A)?new gf(e,A):yf(A)?new Bf(e,A):Ff(A)?new hf(e,A):yF(A)?new df(e,A):_F(A)?new ko(e,A):bF(A)?new Ko(e,A):$i(A)?new pf(e,A):zi(A)?new mf(e,A):bf(A)?new Qf(e,A):new ht(e,A)},vf=function(e,A){var t=Cf(e,A);return t.flags|=4,Wi(e,A,t,t),t},UF=function(e,A,t){return A.styles.isPositionedWithZIndex()||A.styles.opacity<1||A.styles.isTransformed()||Do(e)&&t.styles.isTransparent()},FF=function(e){return e.isPositioned()||e.isFloating()},Uf=function(e){return e.nodeType===Node.TEXT_NODE},Ur=function(e){return e.nodeType===Node.ELEMENT_NODE},Mo=function(e){return Ur(e)&&typeof e.style<"u"&&!Yi(e)},Yi=function(e){return typeof e.className=="object"},yF=function(e){return e.tagName==="LI"},_F=function(e){return e.tagName==="OL"},bF=function(e){return e.tagName==="INPUT"},EF=function(e){return e.tagName==="HTML"},Ff=function(e){return e.tagName==="svg"},Do=function(e){return e.tagName==="BODY"},yf=function(e){return e.tagName==="CANVAS"},_f=function(e){return e.tagName==="VIDEO"},To=function(e){return e.tagName==="IMG"},bf=function(e){return e.tagName==="IFRAME"},Ef=function(e){return e.tagName==="STYLE"},HF=function(e){return e.tagName==="SCRIPT"},zi=function(e){return e.tagName==="TEXTAREA"},$i=function(e){return e.tagName==="SELECT"},Hf=function(e){return e.tagName==="SLOT"},If=function(e){return e.tagName.indexOf("-")>0},IF=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(A){var t=this.counters[A];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(A){var t=this.counters[A];return t||[]},e.prototype.pop=function(A){var t=this;A.forEach(function(r){return t.counters[r].pop()})},e.prototype.parse=function(A){var t=this,r=A.counterIncrement,n=A.counterReset,i=!0;r!==null&&r.forEach(function(o){var a=t.counters[o.counter];a&&o.increment!==0&&(i=!1,a.length||a.push(1),a[Math.max(0,a.length-1)]+=o.increment)});var s=[];return i&&n.forEach(function(o){var a=t.counters[o.counter];s.push(o.counter),a||(a=t.counters[o.counter]=[]),a.push(o.reset)}),s},e}(),Sf={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},xf={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},SF={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},xF={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Fr=function(e,A,t,r,n,i){return e<A||e>t?gn(e,n,i.length>0):r.integers.reduce(function(s,o,a){for(;e>=o;)e-=o,s+=r.values[a];return s},"")+i},Lf=function(e,A,t,r){var n="";do t||e--,n=r(e)+n,e/=A;while(e*A>=A);return n},de=function(e,A,t,r,n){var i=t-A+1;return(e<0?"-":"")+(Lf(Math.abs(e),i,r,function(s){return he(Math.floor(s%i)+A)})+n)},qt=function(e,A,t){t===void 0&&(t=". ");var r=A.length;return Lf(Math.abs(e),r,!1,function(n){return A[Math.floor(n%r)]})+t},yr=1,Rt=2,Vt=4,fn=8,Et=function(e,A,t,r,n,i){if(e<-9999||e>9999)return gn(e,4,n.length>0);var s=Math.abs(e),o=n;if(s===0)return A[0]+o;for(var a=0;s>0&&a<=4;a++){var l=s%10;l===0&&Ue(i,yr)&&o!==""?o=A[l]+o:l>1||l===1&&a===0||l===1&&a===1&&Ue(i,Rt)||l===1&&a===1&&Ue(i,Vt)&&e>100||l===1&&a>1&&Ue(i,fn)?o=A[l]+(a>0?t[a-1]:"")+o:l===1&&a>0&&(o=t[a-1]+o),s=Math.floor(s/10)}return(e<0?r:"")+o},kf="十百千萬",Kf="拾佰仟萬",Mf="マイナス",Oo="마이너스",gn=function(e,A,t){var r=t?". ":"",n=t?"、":"",i=t?", ":"",s=t?" ":"";switch(A){case 0:return"•"+s;case 1:return"◦"+s;case 2:return"◾"+s;case 5:var o=de(e,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return qt(e,"〇一二三四五六七八九",n);case 6:return Fr(e,1,3999,Sf,3,r).toLowerCase();case 7:return Fr(e,1,3999,Sf,3,r);case 8:return de(e,945,969,!1,r);case 9:return de(e,97,122,!1,r);case 10:return de(e,65,90,!1,r);case 11:return de(e,1632,1641,!0,r);case 12:case 49:return Fr(e,1,9999,xf,3,r);case 35:return Fr(e,1,9999,xf,3,r).toLowerCase();case 13:return de(e,2534,2543,!0,r);case 14:case 30:return de(e,6112,6121,!0,r);case 15:return qt(e,"子丑寅卯辰巳午未申酉戌亥",n);case 16:return qt(e,"甲乙丙丁戊己庚辛壬癸",n);case 17:case 48:return Et(e,"零一二三四五六七八九",kf,"負",n,Rt|Vt|fn);case 47:return Et(e,"零壹貳參肆伍陸柒捌玖",Kf,"負",n,yr|Rt|Vt|fn);case 42:return Et(e,"零一二三四五六七八九",kf,"负",n,Rt|Vt|fn);case 41:return Et(e,"零壹贰叁肆伍陆柒捌玖",Kf,"负",n,yr|Rt|Vt|fn);case 26:return Et(e,"〇一二三四五六七八九","十百千万",Mf,n,0);case 25:return Et(e,"零壱弐参四伍六七八九","拾百千万",Mf,n,yr|Rt|Vt);case 31:return Et(e,"영일이삼사오육칠팔구","십백천만",Oo,i,yr|Rt|Vt);case 33:return Et(e,"零一二三四五六七八九","十百千萬",Oo,i,0);case 32:return Et(e,"零壹貳參四五六七八九","拾百千",Oo,i,yr|Rt|Vt);case 18:return de(e,2406,2415,!0,r);case 20:return Fr(e,1,19999,xF,3,r);case 21:return de(e,2790,2799,!0,r);case 22:return de(e,2662,2671,!0,r);case 22:return Fr(e,1,10999,SF,3,r);case 23:return qt(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return qt(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return de(e,3302,3311,!0,r);case 28:return qt(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",n);case 29:return qt(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",n);case 34:return de(e,3792,3801,!0,r);case 37:return de(e,6160,6169,!0,r);case 38:return de(e,4160,4169,!0,r);case 39:return de(e,2918,2927,!0,r);case 40:return de(e,1776,1785,!0,r);case 43:return de(e,3046,3055,!0,r);case 44:return de(e,3174,3183,!0,r);case 45:return de(e,3664,3673,!0,r);case 46:return de(e,3872,3881,!0,r);case 3:default:return de(e,48,57,!0,r)}},Df="data-html2canvas-ignore",Tf=function(){function e(A,t,r){if(this.context=A,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new IF,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(A,t){var r=this,n=LF(A,t);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var i=A.defaultView.pageXOffset,s=A.defaultView.pageYOffset,o=n.contentWindow,a=o.document,l=MF(n).then(function(){return Pe(r,void 0,void 0,function(){var c,u;return De(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(NF),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),c=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,KF(a)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(a,u)}).then(function(){return n})]:[2,n]}})})});return a.open(),a.write(TF(document.doctype)+"<html></html>"),OF(this.referenceElement.ownerDocument,i,s),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),l},e.prototype.createElementClone=function(A){if(vo(A,2))debugger;if(yf(A))return this.createCanvasClone(A);if(_f(A))return this.createVideoClone(A);if(Ef(A))return this.createStyleClone(A);var t=A.cloneNode(!1);return To(t)&&(To(A)&&A.currentSrc&&A.currentSrc!==A.src&&(t.src=A.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),If(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(A){var t=document.createElement("html2canvascustomelement");return No(A.style,t),t},e.prototype.createStyleClone=function(A){try{var t=A.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(i,s){return s&&typeof s.cssText=="string"?i+s.cssText:i},""),n=A.cloneNode(!1);return n.textContent=r,n}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return A.cloneNode(!1)},e.prototype.createCanvasClone=function(A){var t;if(this.options.inlineImages&&A.ownerDocument){var r=A.ownerDocument.createElement("img");try{return r.src=A.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",A)}}var n=A.cloneNode(!1);try{n.width=A.width,n.height=A.height;var i=A.getContext("2d"),s=n.getContext("2d");if(s)if(!this.options.allowTaint&&i)s.putImageData(i.getImageData(0,0,A.width,A.height),0,0);else{var o=(t=A.getContext("webgl2"))!==null&&t!==void 0?t:A.getContext("webgl");if(o){var a=o.getContextAttributes();(a==null?void 0:a.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",A)}s.drawImage(A,0,0)}return n}catch{this.context.logger.info("Unable to clone canvas as it is tainted",A)}return n},e.prototype.createVideoClone=function(A){var t=A.ownerDocument.createElement("canvas");t.width=A.offsetWidth,t.height=A.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(A,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",A)}var n=A.ownerDocument.createElement("canvas");return n.width=A.offsetWidth,n.height=A.offsetHeight,n},e.prototype.appendChildNode=function(A,t,r){(!Ur(t)||!HF(t)&&!t.hasAttribute(Df)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Ur(t)||!Ef(t))&&A.appendChild(this.cloneNode(t,r))},e.prototype.cloneChildNodes=function(A,t,r){for(var n=this,i=A.shadowRoot?A.shadowRoot.firstChild:A.firstChild;i;i=i.nextSibling)if(Ur(i)&&Hf(i)&&typeof i.assignedNodes=="function"){var s=i.assignedNodes();s.length&&s.forEach(function(o){return n.appendChildNode(t,o,r)})}else this.appendChildNode(t,i,r)},e.prototype.cloneNode=function(A,t){if(Uf(A))return document.createTextNode(A.data);if(!A.ownerDocument)return A.cloneNode(!1);var r=A.ownerDocument.defaultView;if(r&&Ur(A)&&(Mo(A)||Yi(A))){var n=this.createElementClone(A);n.style.transitionProperty="none";var i=r.getComputedStyle(A),s=r.getComputedStyle(A,":before"),o=r.getComputedStyle(A,":after");this.referenceElement===A&&Mo(n)&&(this.clonedReferenceElement=n),Do(n)&&GF(n);var a=this.counters.parse(new Zu(this.context,i)),l=this.resolvePseudoContent(A,n,s,Bn.BEFORE);If(A)&&(t=!0),_f(A)||this.cloneChildNodes(A,n,t),l&&n.insertBefore(l,n.firstChild);var c=this.resolvePseudoContent(A,n,o,Bn.AFTER);return c&&n.appendChild(c),this.counters.pop(a),(i&&(this.options.copyStyles||Yi(A))&&!bf(A)||t)&&No(i,n),(A.scrollTop!==0||A.scrollLeft!==0)&&this.scrolledElements.push([n,A.scrollLeft,A.scrollTop]),(zi(A)||$i(A))&&(zi(n)||$i(n))&&(n.value=A.value),n}return A.cloneNode(!1)},e.prototype.resolvePseudoContent=function(A,t,r,n){var i=this;if(r){var s=r.content,o=t.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||r.display==="none")){this.counters.parse(new Zu(this.context,r));var a=new yU(this.context,r),l=o.createElement("html2canvaspseudoelement");No(r,l),a.content.forEach(function(u){if(u.type===0)l.appendChild(o.createTextNode(u.value));else if(u.type===22){var g=o.createElement("img");g.src=u.value,g.style.opacity="1",l.appendChild(g)}else if(u.type===18){if(u.name==="attr"){var f=u.values.filter(te);f.length&&l.appendChild(o.createTextNode(A.getAttribute(f[0].value)||""))}else if(u.name==="counter"){var h=u.values.filter(Cr),B=h[0],w=h[1];if(B&&te(B)){var d=i.counters.getCounterValue(B.value),F=w&&te(w)?Co.parse(i.context,w.value):3;l.appendChild(o.createTextNode(gn(d,F,!1)))}}else if(u.name==="counters"){var _=u.values.filter(Cr),B=_[0],Q=_[1],w=_[2];if(B&&te(B)){var C=i.counters.getCounterValues(B.value),y=w&&te(w)?Co.parse(i.context,w.value):3,H=Q&&Q.type===0?Q.value:"",U=C.map(function(L){return gn(L,y,!1)}).join(H);l.appendChild(o.createTextNode(U))}}}else if(u.type===20)switch(u.value){case"open-quote":l.appendChild(o.createTextNode($u(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode($u(a.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(u.value))}}),l.className=Ro+" "+Vo;var c=n===Bn.BEFORE?" "+Ro:" "+Vo;return Yi(t)?t.className.baseValue+=c:t.className+=c,l}}},e.destroy=function(A){return A.parentNode?(A.parentNode.removeChild(A),!0):!1},e}(),Bn;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(Bn||(Bn={}));var LF=function(e,A){var t=e.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=A.width.toString(),t.height=A.height.toString(),t.scrolling="no",t.setAttribute(Df,"true"),e.body.appendChild(t),t},kF=function(e){return new Promise(function(A){if(e.complete){A();return}if(!e.src){A();return}e.onload=A,e.onerror=A})},KF=function(e){return Promise.all([].slice.call(e.images,0).map(kF))},MF=function(e){return new Promise(function(A,t){var r=e.contentWindow;if(!r)return t("No window assigned for iframe");var n=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var i=setInterval(function(){n.body.childNodes.length>0&&n.readyState==="complete"&&(clearInterval(i),A(e))},50)}})},DF=["all","d","content"],No=function(e,A){for(var t=e.length-1;t>=0;t--){var r=e.item(t);DF.indexOf(r)===-1&&A.style.setProperty(r,e.getPropertyValue(r))}return A},TF=function(e){var A="";return e&&(A+="<!DOCTYPE ",e.name&&(A+=e.name),e.internalSubset&&(A+=e.internalSubset),e.publicId&&(A+='"'+e.publicId+'"'),e.systemId&&(A+='"'+e.systemId+'"'),A+=">"),A},OF=function(e,A,t){e&&e.defaultView&&(A!==e.defaultView.pageXOffset||t!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(A,t)},NF=function(e){var A=e[0],t=e[1],r=e[2];A.scrollLeft=t,A.scrollTop=r},RF=":before",VF=":after",Ro="___html2canvas___pseudoelement_before",Vo="___html2canvas___pseudoelement_after",Of=`{
    content: "" !important;
    display: none !important;
}`,GF=function(e){PF(e,"."+Ro+RF+Of+`
         .`+Vo+VF+Of)},PF=function(e,A){var t=e.ownerDocument;if(t){var r=t.createElement("style");r.textContent=A,e.appendChild(r)}},Nf=function(){function e(){}return e.getOrigin=function(A){var t=e._link;return t?(t.href=A,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},e.isSameOrigin=function(A){return e.getOrigin(A)===e._origin},e.setContext=function(A){e._link=A.document.createElement("a"),e._origin=e.getOrigin(A.location.href)},e._origin="about:blank",e}(),XF=function(){function e(A,t){this.context=A,this._options=t,this._cache={}}return e.prototype.addImage=function(A){var t=Promise.resolve();return this.has(A)||(Po(A)||zF(A))&&(this._cache[A]=this.loadImage(A)).catch(function(){}),t},e.prototype.match=function(A){return this._cache[A]},e.prototype.loadImage=function(A){return Pe(this,void 0,void 0,function(){var t,r,n,i,s=this;return De(this,function(o){switch(o.label){case 0:return t=Nf.isSameOrigin(A),r=!Go(A)&&this._options.useCORS===!0&&Le.SUPPORT_CORS_IMAGES&&!t,n=!Go(A)&&!t&&!Po(A)&&typeof this._options.proxy=="string"&&Le.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!Go(A)&&!Po(A)&&!n&&!r?[2]:(i=A,n?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+A.substring(0,256)),[4,new Promise(function(a,l){var c=new Image;c.onload=function(){return a(c)},c.onerror=l,($F(i)||r)&&(c.crossOrigin="anonymous"),c.src=i,c.complete===!0&&setTimeout(function(){return a(c)},500),s._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(A){return typeof this._cache[A]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(A){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var n=A.substring(0,256);return new Promise(function(i,s){var o=Le.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(a.status===200)if(o==="text")i(a.response);else{var u=new FileReader;u.addEventListener("load",function(){return i(u.result)},!1),u.addEventListener("error",function(g){return s(g)},!1),u.readAsDataURL(a.response)}else s("Failed to proxy resource "+n+" with status code "+a.status)},a.onerror=s;var l=r.indexOf("?")>-1?"&":"?";if(a.open("GET",""+r+l+"url="+encodeURIComponent(A)+"&responseType="+o),o!=="text"&&a instanceof XMLHttpRequest&&(a.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;a.timeout=c,a.ontimeout=function(){return s("Timed out ("+c+"ms) proxying "+n)}}a.send()})},e}(),JF=/^data:image\/svg\+xml/i,WF=/^data:image\/.*;base64,/i,YF=/^data:image\/.*/i,zF=function(e){return Le.SUPPORT_SVG_DRAWING||!ZF(e)},Go=function(e){return YF.test(e)},$F=function(e){return WF.test(e)},Po=function(e){return e.substr(0,4)==="blob"},ZF=function(e){return e.substr(-3).toLowerCase()==="svg"||JF.test(e)},oA=function(){function e(A,t){this.type=0,this.x=A,this.y=t}return e.prototype.add=function(A,t){return new e(this.x+A,this.y+t)},e}(),_r=function(e,A,t){return new oA(e.x+(A.x-e.x)*t,e.y+(A.y-e.y)*t)},Zi=function(){function e(A,t,r,n){this.type=1,this.start=A,this.startControl=t,this.endControl=r,this.end=n}return e.prototype.subdivide=function(A,t){var r=_r(this.start,this.startControl,A),n=_r(this.startControl,this.endControl,A),i=_r(this.endControl,this.end,A),s=_r(r,n,A),o=_r(n,i,A),a=_r(s,o,A);return t?new e(this.start,r,s,a):new e(a,o,i,this.end)},e.prototype.add=function(A,t){return new e(this.start.add(A,t),this.startControl.add(A,t),this.endControl.add(A,t),this.end.add(A,t))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),je=function(e){return e.type===1},jF=function(){function e(A){var t=A.styles,r=A.bounds,n=on(t.borderTopLeftRadius,r.width,r.height),i=n[0],s=n[1],o=on(t.borderTopRightRadius,r.width,r.height),a=o[0],l=o[1],c=on(t.borderBottomRightRadius,r.width,r.height),u=c[0],g=c[1],f=on(t.borderBottomLeftRadius,r.width,r.height),h=f[0],B=f[1],w=[];w.push((i+a)/r.width),w.push((h+u)/r.width),w.push((s+B)/r.height),w.push((l+g)/r.height);var d=Math.max.apply(Math,w);d>1&&(i/=d,s/=d,a/=d,l/=d,u/=d,g/=d,h/=d,B/=d);var F=r.width-a,_=r.height-g,Q=r.width-u,C=r.height-B,y=t.borderTopWidth,H=t.borderRightWidth,U=t.borderBottomWidth,S=t.borderLeftWidth,E=se(t.paddingTop,A.bounds.width),L=se(t.paddingRight,A.bounds.width),N=se(t.paddingBottom,A.bounds.width),X=se(t.paddingLeft,A.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||s>0?ae(r.left+S/3,r.top+y/3,i-S/3,s-y/3,jA.TOP_LEFT):new oA(r.left+S/3,r.top+y/3),this.topRightBorderDoubleOuterBox=i>0||s>0?ae(r.left+F,r.top+y/3,a-H/3,l-y/3,jA.TOP_RIGHT):new oA(r.left+r.width-H/3,r.top+y/3),this.bottomRightBorderDoubleOuterBox=u>0||g>0?ae(r.left+Q,r.top+_,u-H/3,g-U/3,jA.BOTTOM_RIGHT):new oA(r.left+r.width-H/3,r.top+r.height-U/3),this.bottomLeftBorderDoubleOuterBox=h>0||B>0?ae(r.left+S/3,r.top+C,h-S/3,B-U/3,jA.BOTTOM_LEFT):new oA(r.left+S/3,r.top+r.height-U/3),this.topLeftBorderDoubleInnerBox=i>0||s>0?ae(r.left+S*2/3,r.top+y*2/3,i-S*2/3,s-y*2/3,jA.TOP_LEFT):new oA(r.left+S*2/3,r.top+y*2/3),this.topRightBorderDoubleInnerBox=i>0||s>0?ae(r.left+F,r.top+y*2/3,a-H*2/3,l-y*2/3,jA.TOP_RIGHT):new oA(r.left+r.width-H*2/3,r.top+y*2/3),this.bottomRightBorderDoubleInnerBox=u>0||g>0?ae(r.left+Q,r.top+_,u-H*2/3,g-U*2/3,jA.BOTTOM_RIGHT):new oA(r.left+r.width-H*2/3,r.top+r.height-U*2/3),this.bottomLeftBorderDoubleInnerBox=h>0||B>0?ae(r.left+S*2/3,r.top+C,h-S*2/3,B-U*2/3,jA.BOTTOM_LEFT):new oA(r.left+S*2/3,r.top+r.height-U*2/3),this.topLeftBorderStroke=i>0||s>0?ae(r.left+S/2,r.top+y/2,i-S/2,s-y/2,jA.TOP_LEFT):new oA(r.left+S/2,r.top+y/2),this.topRightBorderStroke=i>0||s>0?ae(r.left+F,r.top+y/2,a-H/2,l-y/2,jA.TOP_RIGHT):new oA(r.left+r.width-H/2,r.top+y/2),this.bottomRightBorderStroke=u>0||g>0?ae(r.left+Q,r.top+_,u-H/2,g-U/2,jA.BOTTOM_RIGHT):new oA(r.left+r.width-H/2,r.top+r.height-U/2),this.bottomLeftBorderStroke=h>0||B>0?ae(r.left+S/2,r.top+C,h-S/2,B-U/2,jA.BOTTOM_LEFT):new oA(r.left+S/2,r.top+r.height-U/2),this.topLeftBorderBox=i>0||s>0?ae(r.left,r.top,i,s,jA.TOP_LEFT):new oA(r.left,r.top),this.topRightBorderBox=a>0||l>0?ae(r.left+F,r.top,a,l,jA.TOP_RIGHT):new oA(r.left+r.width,r.top),this.bottomRightBorderBox=u>0||g>0?ae(r.left+Q,r.top+_,u,g,jA.BOTTOM_RIGHT):new oA(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=h>0||B>0?ae(r.left,r.top+C,h,B,jA.BOTTOM_LEFT):new oA(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||s>0?ae(r.left+S,r.top+y,Math.max(0,i-S),Math.max(0,s-y),jA.TOP_LEFT):new oA(r.left+S,r.top+y),this.topRightPaddingBox=a>0||l>0?ae(r.left+Math.min(F,r.width-H),r.top+y,F>r.width+H?0:Math.max(0,a-H),Math.max(0,l-y),jA.TOP_RIGHT):new oA(r.left+r.width-H,r.top+y),this.bottomRightPaddingBox=u>0||g>0?ae(r.left+Math.min(Q,r.width-S),r.top+Math.min(_,r.height-U),Math.max(0,u-H),Math.max(0,g-U),jA.BOTTOM_RIGHT):new oA(r.left+r.width-H,r.top+r.height-U),this.bottomLeftPaddingBox=h>0||B>0?ae(r.left+S,r.top+Math.min(C,r.height-U),Math.max(0,h-S),Math.max(0,B-U),jA.BOTTOM_LEFT):new oA(r.left+S,r.top+r.height-U),this.topLeftContentBox=i>0||s>0?ae(r.left+S+X,r.top+y+E,Math.max(0,i-(S+X)),Math.max(0,s-(y+E)),jA.TOP_LEFT):new oA(r.left+S+X,r.top+y+E),this.topRightContentBox=a>0||l>0?ae(r.left+Math.min(F,r.width+S+X),r.top+y+E,F>r.width+S+X?0:a-S+X,l-(y+E),jA.TOP_RIGHT):new oA(r.left+r.width-(H+L),r.top+y+E),this.bottomRightContentBox=u>0||g>0?ae(r.left+Math.min(Q,r.width-(S+X)),r.top+Math.min(_,r.height+y+E),Math.max(0,u-(H+L)),g-(U+N),jA.BOTTOM_RIGHT):new oA(r.left+r.width-(H+L),r.top+r.height-(U+N)),this.bottomLeftContentBox=h>0||B>0?ae(r.left+S+X,r.top+C,Math.max(0,h-(S+X)),B-(U+N),jA.BOTTOM_LEFT):new oA(r.left+S+X,r.top+r.height-(U+N))}return e}(),jA;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(jA||(jA={}));var ae=function(e,A,t,r,n){var i=4*((Math.sqrt(2)-1)/3),s=t*i,o=r*i,a=e+t,l=A+r;switch(n){case jA.TOP_LEFT:return new Zi(new oA(e,l),new oA(e,l-o),new oA(a-s,A),new oA(a,A));case jA.TOP_RIGHT:return new Zi(new oA(e,A),new oA(e+s,A),new oA(a,l-o),new oA(a,l));case jA.BOTTOM_RIGHT:return new Zi(new oA(a,A),new oA(a,A+o),new oA(e+s,l),new oA(e,l));case jA.BOTTOM_LEFT:default:return new Zi(new oA(a,l),new oA(a-s,l),new oA(e,A+o),new oA(e,A))}},ji=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},qF=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},qi=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Ay=function(){function e(A,t,r){this.offsetX=A,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return e}(),As=function(){function e(A,t){this.path=A,this.target=t,this.type=1}return e}(),ey=function(){function e(A){this.opacity=A,this.type=2,this.target=6}return e}(),ty=function(e){return e.type===0},Rf=function(e){return e.type===1},ry=function(e){return e.type===2},Vf=function(e,A){return e.length===A.length?e.some(function(t,r){return t===A[r]}):!1},ny=function(e,A,t,r,n){return e.map(function(i,s){switch(s){case 0:return i.add(A,t);case 1:return i.add(A+r,t);case 2:return i.add(A+r,t+n);case 3:return i.add(A,t+n)}return i})},Gf=function(){function e(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Pf=function(){function e(A,t){if(this.container=A,this.parent=t,this.effects=[],this.curves=new jF(this.container),this.container.styles.opacity<1&&this.effects.push(new ey(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new Ay(r,n,i))}if(this.container.styles.overflowX!==0){var s=ji(this.curves),o=qi(this.curves);Vf(s,o)?this.effects.push(new As(s,6)):(this.effects.push(new As(s,2)),this.effects.push(new As(o,4)))}}return e.prototype.getEffects=function(A){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,n=this.effects.slice(0);r;){var i=r.effects.filter(function(a){return!Rf(a)});if(t||r.container.styles.position!==0||!r.parent){if(n.unshift.apply(n,i),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var s=ji(r.curves),o=qi(r.curves);Vf(s,o)||n.unshift(new As(o,6))}}else n.unshift.apply(n,i);r=r.parent}return n.filter(function(a){return Ue(a.target,A)})},e}(),Xo=function(e,A,t,r){e.container.elements.forEach(function(n){var i=Ue(n.flags,4),s=Ue(n.flags,2),o=new Pf(n,e);Ue(n.styles.display,2048)&&r.push(o);var a=Ue(n.flags,8)?[]:r;if(i||s){var l=i||n.styles.isPositioned()?t:A,c=new Gf(o);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var u=n.styles.zIndex.order;if(u<0){var g=0;l.negativeZIndex.some(function(h,B){return u>h.element.container.styles.zIndex.order?(g=B,!1):g>0}),l.negativeZIndex.splice(g,0,c)}else if(u>0){var f=0;l.positiveZIndex.some(function(h,B){return u>=h.element.container.styles.zIndex.order?(f=B+1,!1):f>0}),l.positiveZIndex.splice(f,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else n.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);Xo(o,c,i?c:t,a)}else n.styles.isInlineLevel()?A.inlineLevel.push(o):A.nonInlineLevel.push(o),Xo(o,A,t,a);Ue(n.flags,8)&&Xf(n,a)})},Xf=function(e,A){for(var t=e instanceof ko?e.start:1,r=e instanceof ko?e.reversed:!1,n=0;n<A.length;n++){var i=A[n];i.container instanceof df&&typeof i.container.value=="number"&&i.container.value!==0&&(t=i.container.value),i.listValue=gn(t,i.container.styles.listStyleType,!0),t+=r?-1:1}},iy=function(e){var A=new Pf(e,null),t=new Gf(A),r=[];return Xo(A,t,t,r),Xf(A.container,r),t},Jf=function(e,A){switch(A){case 0:return qe(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return qe(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return qe(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return qe(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},sy=function(e,A){switch(A){case 0:return qe(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return qe(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return qe(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return qe(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},oy=function(e,A){switch(A){case 0:return qe(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return qe(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return qe(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return qe(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},ay=function(e,A){switch(A){case 0:return es(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return es(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return es(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return es(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},es=function(e,A){var t=[];return je(e)?t.push(e.subdivide(.5,!1)):t.push(e),je(A)?t.push(A.subdivide(.5,!0)):t.push(A),t},qe=function(e,A,t,r){var n=[];return je(e)?n.push(e.subdivide(.5,!1)):n.push(e),je(t)?n.push(t.subdivide(.5,!0)):n.push(t),je(r)?n.push(r.subdivide(.5,!0).reverse()):n.push(r),je(A)?n.push(A.subdivide(.5,!1).reverse()):n.push(A),n},Wf=function(e){var A=e.bounds,t=e.styles;return A.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},ts=function(e){var A=e.styles,t=e.bounds,r=se(A.paddingLeft,t.width),n=se(A.paddingRight,t.width),i=se(A.paddingTop,t.width),s=se(A.paddingBottom,t.width);return t.add(r+A.borderLeftWidth,i+A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth+r+n),-(A.borderTopWidth+A.borderBottomWidth+i+s))},ly=function(e,A){return e===0?A.bounds:e===2?ts(A):Wf(A)},cy=function(e,A){return e===0?A.bounds:e===2?ts(A):Wf(A)},Jo=function(e,A,t){var r=ly(Er(e.styles.backgroundOrigin,A),e),n=cy(Er(e.styles.backgroundClip,A),e),i=uy(Er(e.styles.backgroundSize,A),t,r),s=i[0],o=i[1],a=on(Er(e.styles.backgroundPosition,A),r.width-s,r.height-o),l=fy(Er(e.styles.backgroundRepeat,A),a,i,r,n),c=Math.round(r.left+a[0]),u=Math.round(r.top+a[1]);return[l,c,u,s,o]},br=function(e){return te(e)&&e.value===vr.AUTO},rs=function(e){return typeof e=="number"},uy=function(e,A,t){var r=A[0],n=A[1],i=A[2],s=e[0],o=e[1];if(!s)return[0,0];if(me(s)&&o&&me(o))return[se(s,t.width),se(o,t.height)];var a=rs(i);if(te(s)&&(s.value===vr.CONTAIN||s.value===vr.COVER)){if(rs(i)){var l=t.width/t.height;return l<i!=(s.value===vr.COVER)?[t.width,t.width/i]:[t.height*i,t.height]}return[t.width,t.height]}var c=rs(r),u=rs(n),g=c||u;if(br(s)&&(!o||br(o))){if(c&&u)return[r,n];if(!a&&!g)return[t.width,t.height];if(g&&a){var f=c?r:n*i,h=u?n:r/i;return[f,h]}var B=c?r:t.width,w=u?n:t.height;return[B,w]}if(a){var d=0,F=0;return me(s)?d=se(s,t.width):me(o)&&(F=se(o,t.height)),br(s)?d=F*i:(!o||br(o))&&(F=d/i),[d,F]}var _=null,Q=null;if(me(s)?_=se(s,t.width):o&&me(o)&&(Q=se(o,t.height)),_!==null&&(!o||br(o))&&(Q=c&&u?_/r*n:t.height),Q!==null&&br(s)&&(_=c&&u?Q/n*r:t.width),_!==null&&Q!==null)return[_,Q];throw new Error("Unable to calculate background-size for element")},Er=function(e,A){var t=e[A];return typeof t>"u"?e[0]:t},fy=function(e,A,t,r,n){var i=A[0],s=A[1],o=t[0],a=t[1];switch(e){case 2:return[new oA(Math.round(r.left),Math.round(r.top+s)),new oA(Math.round(r.left+r.width),Math.round(r.top+s)),new oA(Math.round(r.left+r.width),Math.round(a+r.top+s)),new oA(Math.round(r.left),Math.round(a+r.top+s))];case 3:return[new oA(Math.round(r.left+i),Math.round(r.top)),new oA(Math.round(r.left+i+o),Math.round(r.top)),new oA(Math.round(r.left+i+o),Math.round(r.height+r.top)),new oA(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new oA(Math.round(r.left+i),Math.round(r.top+s)),new oA(Math.round(r.left+i+o),Math.round(r.top+s)),new oA(Math.round(r.left+i+o),Math.round(r.top+s+a)),new oA(Math.round(r.left+i),Math.round(r.top+s+a))];default:return[new oA(Math.round(n.left),Math.round(n.top)),new oA(Math.round(n.left+n.width),Math.round(n.top)),new oA(Math.round(n.left+n.width),Math.round(n.height+n.top)),new oA(Math.round(n.left),Math.round(n.height+n.top))]}},gy="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Yf="Hidden Text",By=function(){function e(A){this._data={},this._document=A}return e.prototype.parseMetrics=function(A,t){var r=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),s=this._document.body;r.style.visibility="hidden",r.style.fontFamily=A,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",s.appendChild(r),n.src=gy,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=A,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Yf)),r.appendChild(i),r.appendChild(n);var o=n.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(Yf)),r.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-r.offsetTop+2;return s.removeChild(r),{baseline:o,middle:a}},e.prototype.getMetrics=function(A,t){var r=A+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(A,t)),this._data[r]},e}(),zf=function(){function e(A,t){this.context=A,this.options=t}return e}(),hy=1e4,dy=function(e){st(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n._activeEffects=[],n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),r.canvas||(n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px"),n.fontMetrics=new By(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),n}return A.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(n){return r.applyEffect(n)})},A.prototype.applyEffect=function(t){this.ctx.save(),ry(t)&&(this.ctx.globalAlpha=t.opacity),ty(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),Rf(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},A.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},A.prototype.renderStack=function(t){return Pe(this,void 0,void 0,function(){var r;return De(this,function(n){switch(n.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},A.prototype.renderNode=function(t){return Pe(this,void 0,void 0,function(){return De(this,function(r){switch(r.label){case 0:if(Ue(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},A.prototype.renderTextWithLetterSpacing=function(t,r,n){var i=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+n);else{var s=Lo(t.text);s.reduce(function(o,a){return i.ctx.fillText(a,o,t.bounds.top+n),o+i.ctx.measureText(a).width},t.bounds.left)}},A.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),n=Cy(t.fontFamily).join(", "),i=sn(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,i,n].join(" "),n,i]},A.prototype.renderTextNode=function(t,r){return Pe(this,void 0,void 0,function(){var n,i,s,o,a,l,c,u,g=this;return De(this,function(f){return n=this.createFontStyle(r),i=n[0],s=n[1],o=n[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(s,o),l=a.baseline,c=a.middle,u=r.paintOrder,t.textBounds.forEach(function(h){u.forEach(function(B){switch(B){case 0:g.ctx.fillStyle=Ee(r.color),g.renderTextWithLetterSpacing(h,r.letterSpacing,l);var w=r.textShadow;w.length&&h.text.trim().length&&(w.slice(0).reverse().forEach(function(d){g.ctx.shadowColor=Ee(d.color),g.ctx.shadowOffsetX=d.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=d.offsetY.number*g.options.scale,g.ctx.shadowBlur=d.blur.number,g.renderTextWithLetterSpacing(h,r.letterSpacing,l)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),r.textDecorationLine.length&&(g.ctx.fillStyle=Ee(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(d){switch(d){case 1:g.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top+l),h.bounds.width,1);break;case 2:g.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top),h.bounds.width,1);break;case 3:g.ctx.fillRect(h.bounds.left,Math.ceil(h.bounds.top+c),h.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&h.text.trim().length&&(g.ctx.strokeStyle=Ee(r.webkitTextStrokeColor),g.ctx.lineWidth=r.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(h.text,h.bounds.left,h.bounds.top+l)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},A.prototype.renderReplacedElement=function(t,r,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=ts(t),s=qi(r);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},A.prototype.renderNodeContent=function(t){return Pe(this,void 0,void 0,function(){var r,n,i,s,o,a,F,F,l,c,u,g,Q,f,h,C,B,w,d,F,_,Q,C;return De(this,function(y){switch(y.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,n=t.curves,i=r.styles,s=0,o=r.textNodes,y.label=1;case 1:return s<o.length?(a=o[s],[4,this.renderTextNode(a,i)]):[3,4];case 2:y.sent(),y.label=3;case 3:return s++,[3,1];case 4:if(!(r instanceof gf))return[3,8];y.label=5;case 5:return y.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return F=y.sent(),this.renderReplacedElement(r,n,F),[3,8];case 7:return y.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof Bf&&this.renderReplacedElement(r,n,r.canvas),!(r instanceof hf))return[3,12];y.label=9;case 9:return y.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return F=y.sent(),this.renderReplacedElement(r,n,F),[3,12];case 11:return y.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof Qf&&r.tree?(l=new A(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,l.render(r.tree)]):[3,14];case 13:c=y.sent(),r.width&&r.height&&this.ctx.drawImage(c,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),y.label=14;case 14:if(r instanceof Ko&&(u=Math.min(r.bounds.width,r.bounds.height),r.type===Xi?r.checked&&(this.ctx.save(),this.path([new oA(r.bounds.left+u*.39363,r.bounds.top+u*.79),new oA(r.bounds.left+u*.16,r.bounds.top+u*.5549),new oA(r.bounds.left+u*.27347,r.bounds.top+u*.44071),new oA(r.bounds.left+u*.39694,r.bounds.top+u*.5649),new oA(r.bounds.left+u*.72983,r.bounds.top+u*.23),new oA(r.bounds.left+u*.84,r.bounds.top+u*.34085),new oA(r.bounds.left+u*.39363,r.bounds.top+u*.79)]),this.ctx.fillStyle=Ee(wf),this.ctx.fill(),this.ctx.restore()):r.type===Ji&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+u/2,r.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ee(wf),this.ctx.fill(),this.ctx.restore())),wy(r)&&r.value.length){switch(g=this.createFontStyle(i),Q=g[0],f=g[1],h=this.fontMetrics.getMetrics(Q,f).baseline,this.ctx.font=Q,this.ctx.fillStyle=Ee(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=my(r.styles.textAlign),C=ts(r),B=0,r.styles.textAlign){case 1:B+=C.width/2;break;case 2:B+=C.width;break}w=C.add(B,0,0,-C.height/2+1),this.ctx.save(),this.path([new oA(C.left,C.top),new oA(C.left+C.width,C.top),new oA(C.left+C.width,C.top+C.height),new oA(C.left,C.top+C.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new un(r.value,w),i.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Ue(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(d=r.styles.listStyleImage,d.type!==0)return[3,18];F=void 0,_=d.url,y.label=15;case 15:return y.trys.push([15,17,,18]),[4,this.context.cache.match(_)];case 16:return F=y.sent(),this.ctx.drawImage(F,r.bounds.left-(F.width+10),r.bounds.top),[3,18];case 17:return y.sent(),this.context.logger.error("Error loading list-style-image "+_),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(Q=this.createFontStyle(i)[0],this.ctx.font=Q,this.ctx.fillStyle=Ee(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",C=new yt(r.bounds.left,r.bounds.top+se(r.styles.paddingTop,r.bounds.width),r.bounds.width,Wu(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new un(t.listValue,C),i.letterSpacing,Wu(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),y.label=20;case 20:return[2]}})})},A.prototype.renderStackContent=function(t){return Pe(this,void 0,void 0,function(){var r,n,d,i,s,d,o,a,d,l,c,d,u,g,d,f,h,d,B,w,d;return De(this,function(F){switch(F.label){case 0:if(Ue(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:F.sent(),r=0,n=t.negativeZIndex,F.label=2;case 2:return r<n.length?(d=n[r],[4,this.renderStack(d)]):[3,5];case 3:F.sent(),F.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:F.sent(),i=0,s=t.nonInlineLevel,F.label=7;case 7:return i<s.length?(d=s[i],[4,this.renderNode(d)]):[3,10];case 8:F.sent(),F.label=9;case 9:return i++,[3,7];case 10:o=0,a=t.nonPositionedFloats,F.label=11;case 11:return o<a.length?(d=a[o],[4,this.renderStack(d)]):[3,14];case 12:F.sent(),F.label=13;case 13:return o++,[3,11];case 14:l=0,c=t.nonPositionedInlineLevel,F.label=15;case 15:return l<c.length?(d=c[l],[4,this.renderStack(d)]):[3,18];case 16:F.sent(),F.label=17;case 17:return l++,[3,15];case 18:u=0,g=t.inlineLevel,F.label=19;case 19:return u<g.length?(d=g[u],[4,this.renderNode(d)]):[3,22];case 20:F.sent(),F.label=21;case 21:return u++,[3,19];case 22:f=0,h=t.zeroOrAutoZIndexOrTransformedOrOpacity,F.label=23;case 23:return f<h.length?(d=h[f],[4,this.renderStack(d)]):[3,26];case 24:F.sent(),F.label=25;case 25:return f++,[3,23];case 26:B=0,w=t.positiveZIndex,F.label=27;case 27:return B<w.length?(d=w[B],[4,this.renderStack(d)]):[3,30];case 28:F.sent(),F.label=29;case 29:return B++,[3,27];case 30:return[2]}})})},A.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},A.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},A.prototype.formatPath=function(t){var r=this;t.forEach(function(n,i){var s=je(n)?n.start:n;i===0?r.ctx.moveTo(s.x,s.y):r.ctx.lineTo(s.x,s.y),je(n)&&r.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},A.prototype.renderRepeat=function(t,r,n,i){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},A.prototype.resizeImage=function(t,r,n){var i;if(t.width===r&&t.height===n)return t;var s=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=s.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,n);var a=o.getContext("2d");return a.drawImage(t,0,0,t.width,t.height,0,0,r,n),o},A.prototype.renderBackgroundImage=function(t){return Pe(this,void 0,void 0,function(){var r,n,i,s,o,a;return De(this,function(l){switch(l.label){case 0:r=t.styles.backgroundImage.length-1,n=function(c){var u,g,f,E,K,Z,X,k,U,h,E,K,Z,X,k,B,w,d,F,_,Q,C,y,H,U,S,E,L,N,X,k,z,K,Z,V,W,J,lA,wA,MA,DA,VA;return De(this,function(OA){switch(OA.label){case 0:if(c.type!==0)return[3,5];u=void 0,g=c.url,OA.label=1;case 1:return OA.trys.push([1,3,,4]),[4,i.context.cache.match(g)];case 2:return u=OA.sent(),[3,4];case 3:return OA.sent(),i.context.logger.error("Error loading background-image "+g),[3,4];case 4:return u&&(f=Jo(t,r,[u.width,u.height,u.width/u.height]),E=f[0],K=f[1],Z=f[2],X=f[3],k=f[4],U=i.ctx.createPattern(i.resizeImage(u,X,k),"repeat"),i.renderRepeat(E,U,K,Z)),[3,6];case 5:t1(c)?(h=Jo(t,r,[null,null,null]),E=h[0],K=h[1],Z=h[2],X=h[3],k=h[4],B=Zv(c.angle,X,k),w=B[0],d=B[1],F=B[2],_=B[3],Q=B[4],C=document.createElement("canvas"),C.width=X,C.height=k,y=C.getContext("2d"),H=y.createLinearGradient(d,_,F,Q),Mu(c.stops,w).forEach(function(ee){return H.addColorStop(ee.stop,Ee(ee.color))}),y.fillStyle=H,y.fillRect(0,0,X,k),X>0&&k>0&&(U=i.ctx.createPattern(C,"repeat"),i.renderRepeat(E,U,K,Z))):r1(c)&&(S=Jo(t,r,[null,null,null]),E=S[0],L=S[1],N=S[2],X=S[3],k=S[4],z=c.position.length===0?[po]:c.position,K=se(z[0],X),Z=se(z[z.length-1],k),V=jv(c,K,Z,X,k),W=V[0],J=V[1],W>0&&J>0&&(lA=i.ctx.createRadialGradient(L+K,N+Z,0,L+K,N+Z,W),Mu(c.stops,W*2).forEach(function(ee){return lA.addColorStop(ee.stop,Ee(ee.color))}),i.path(E),i.ctx.fillStyle=lA,W!==J?(wA=t.bounds.left+.5*t.bounds.width,MA=t.bounds.top+.5*t.bounds.height,DA=J/W,VA=1/DA,i.ctx.save(),i.ctx.translate(wA,MA),i.ctx.transform(1,0,0,DA,0,0),i.ctx.translate(-wA,-MA),i.ctx.fillRect(L,VA*(N-MA)+MA,X,k*VA),i.ctx.restore()):i.ctx.fill())),OA.label=6;case 6:return r--,[2]}})},i=this,s=0,o=t.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return s<o.length?(a=o[s],[5,n(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},A.prototype.renderSolidBorder=function(t,r,n){return Pe(this,void 0,void 0,function(){return De(this,function(i){return this.path(Jf(n,r)),this.ctx.fillStyle=Ee(t),this.ctx.fill(),[2]})})},A.prototype.renderDoubleBorder=function(t,r,n,i){return Pe(this,void 0,void 0,function(){var s,o;return De(this,function(a){switch(a.label){case 0:return r<3?[4,this.renderSolidBorder(t,n,i)]:[3,2];case 1:return a.sent(),[2];case 2:return s=sy(i,n),this.path(s),this.ctx.fillStyle=Ee(t),this.ctx.fill(),o=oy(i,n),this.path(o),this.ctx.fill(),[2]}})})},A.prototype.renderNodeBackgroundAndBorders=function(t){return Pe(this,void 0,void 0,function(){var r,n,i,s,o,a,l,c,u=this;return De(this,function(g){switch(g.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,n=!Ot(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],s=py(Er(r.backgroundClip,0),t.curves),n||r.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),Ot(r.backgroundColor)||(this.ctx.fillStyle=Ee(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(f){u.ctx.save();var h=ji(t.curves),B=f.inset?0:hy,w=ny(h,-B+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(u.path(h),u.ctx.clip(),u.mask(w)):(u.mask(h),u.ctx.clip(),u.path(w)),u.ctx.shadowOffsetX=f.offsetX.number+B,u.ctx.shadowOffsetY=f.offsetY.number,u.ctx.shadowColor=Ee(f.color),u.ctx.shadowBlur=f.blur.number,u.ctx.fillStyle=f.inset?Ee(f.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),g.label=2;case 2:o=0,a=0,l=i,g.label=3;case 3:return a<l.length?(c=l[a],c.style!==0&&!Ot(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,3)];case 6:return g.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,t.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,t.curves)];case 10:g.sent(),g.label=11;case 11:o++,g.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},A.prototype.renderDashedDottedBorder=function(t,r,n,i,s){return Pe(this,void 0,void 0,function(){var o,a,l,c,u,g,f,h,B,w,d,F,_,Q,C,y,C,y;return De(this,function(H){return this.ctx.save(),o=ay(i,n),a=Jf(i,n),s===2&&(this.path(a),this.ctx.clip()),je(a[0])?(l=a[0].start.x,c=a[0].start.y):(l=a[0].x,c=a[0].y),je(a[1])?(u=a[1].end.x,g=a[1].end.y):(u=a[1].x,g=a[1].y),n===0||n===2?f=Math.abs(l-u):f=Math.abs(c-g),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(a.slice(0,2)),h=r<3?r*3:r*2,B=r<3?r*2:r,s===3&&(h=r,B=r),w=!0,f<=h*2?w=!1:f<=h*2+B?(d=f/(2*h+B),h*=d,B*=d):(F=Math.floor((f+B)/(h+B)),_=(f-F*h)/(F-1),Q=(f-(F+1)*h)/F,B=Q<=0||Math.abs(B-_)<Math.abs(B-Q)?_:Q),w&&(s===3?this.ctx.setLineDash([0,h+B]):this.ctx.setLineDash([h,B])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Ee(t),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(je(a[0])&&(C=a[3],y=a[0],this.ctx.beginPath(),this.formatPath([new oA(C.end.x,C.end.y),new oA(y.start.x,y.start.y)]),this.ctx.stroke()),je(a[1])&&(C=a[1],y=a[2],this.ctx.beginPath(),this.formatPath([new oA(C.end.x,C.end.y),new oA(y.start.x,y.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},A.prototype.render=function(t){return Pe(this,void 0,void 0,function(){var r;return De(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ee(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=iy(t),[4,this.renderStack(r)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},A}(zf),wy=function(e){return e instanceof mf||e instanceof pf?!0:e instanceof Ko&&e.type!==Ji&&e.type!==Xi},py=function(e,A){switch(e){case 0:return ji(A);case 2:return qF(A);case 1:default:return qi(A)}},my=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Qy=["-apple-system","system-ui"],Cy=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(A){return Qy.indexOf(A)===-1}):e},vy=function(e){st(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=r,n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),n}return A.prototype.render=function(t){return Pe(this,void 0,void 0,function(){var r,n;return De(this,function(i){switch(i.label){case 0:return r=xo(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,Uy(r)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ee(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},A}(zf),Uy=function(e){return new Promise(function(A,t){var r=new Image;r.onload=function(){A(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Fy=function(){function e(A){var t=A.id,r=A.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,ui([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,ui([this.id,this.getTime()+"ms"],A))},e.prototype.warn=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,ui([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},e.prototype.error=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,ui([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},e.instances={},e}(),yy=function(){function e(A,t){var r;this.windowBounds=t,this.instanceName="#"+e.instanceCount++,this.logger=new Fy({id:this.instanceName,enabled:A.logging}),this.cache=(r=A.cache)!==null&&r!==void 0?r:new XF(this,A)}return e.instanceCount=1,e}(),_y=function(e,A){return A===void 0&&(A={}),by(e,A)};typeof window<"u"&&Nf.setContext(window);var by=function(e,A){return Pe(void 0,void 0,void 0,function(){var t,r,n,i,s,o,a,l,c,u,g,f,h,B,w,d,F,_,Q,C,H,y,H,U,S,E,L,N,X,k,z,K,Z,V,W,J,lA,wA,MA,DA;return De(this,function(VA){switch(VA.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=e.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return n={allowTaint:(U=A.allowTaint)!==null&&U!==void 0?U:!1,imageTimeout:(S=A.imageTimeout)!==null&&S!==void 0?S:15e3,proxy:A.proxy,useCORS:(E=A.useCORS)!==null&&E!==void 0?E:!1},i=$s({logging:(L=A.logging)!==null&&L!==void 0?L:!0,cache:A.cache},n),s={windowWidth:(N=A.windowWidth)!==null&&N!==void 0?N:r.innerWidth,windowHeight:(X=A.windowHeight)!==null&&X!==void 0?X:r.innerHeight,scrollX:(k=A.scrollX)!==null&&k!==void 0?k:r.pageXOffset,scrollY:(z=A.scrollY)!==null&&z!==void 0?z:r.pageYOffset},o=new yt(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),a=new yy(i,o),l=(K=A.foreignObjectRendering)!==null&&K!==void 0?K:!1,c={allowTaint:(Z=A.allowTaint)!==null&&Z!==void 0?Z:!1,onclone:A.onclone,ignoreElements:A.ignoreElements,inlineImages:l,copyStyles:l},a.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),u=new Tf(a,e,c),g=u.clonedReferenceElement,g?[4,u.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=VA.sent(),h=Do(g)||EF(g)?nC(g.ownerDocument):fi(a,g),B=h.width,w=h.height,d=h.left,F=h.top,_=Ey(a,g,A.backgroundColor),Q={canvas:A.canvas,backgroundColor:_,scale:(W=(V=A.scale)!==null&&V!==void 0?V:r.devicePixelRatio)!==null&&W!==void 0?W:1,x:((J=A.x)!==null&&J!==void 0?J:0)+d,y:((lA=A.y)!==null&&lA!==void 0?lA:0)+F,width:(wA=A.width)!==null&&wA!==void 0?wA:Math.ceil(B),height:(MA=A.height)!==null&&MA!==void 0?MA:Math.ceil(w)},l?(a.logger.debug("Document cloned, using foreign object rendering"),H=new vy(a,Q),[4,H.render(g)]):[3,3];case 2:return C=VA.sent(),[3,5];case 3:return a.logger.debug("Document cloned, element located at "+d+","+F+" with size "+B+"x"+w+" using computed rendering"),a.logger.debug("Starting DOM parsing"),y=vf(a,g),_===y.styles.backgroundColor&&(y.styles.backgroundColor=bt.TRANSPARENT),a.logger.debug("Starting renderer for element at "+Q.x+","+Q.y+" with size "+Q.width+"x"+Q.height),H=new dy(a,Q),[4,H.render(y)];case 4:C=VA.sent(),VA.label=5;case 5:return(!((DA=A.removeContainer)!==null&&DA!==void 0)||DA)&&(Tf.destroy(f)||a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),a.logger.debug("Finished rendering"),[2,C]}})})},Ey=function(e,A,t){var r=A.ownerDocument,n=r.documentElement?an(e,getComputedStyle(r.documentElement).backgroundColor):bt.TRANSPARENT,i=r.body?an(e,getComputedStyle(r.body).backgroundColor):bt.TRANSPARENT,s=typeof t=="string"?an(e,t):t===null?bt.TRANSPARENT:4294967295;return A===r.documentElement?Ot(n)?Ot(i)?s:i:n:s};function Hy(e){let A,t,r,n;return{c(){A=v("button"),t=v("span"),t.innerHTML='<i class="fas fa-download"></i>',m(t,"class","icon is-small p-0"),m(A,"class","tag is-link"),m(A,"title",eA==="en"?"Download as PNG":"Télécharger en PNG")},m(i,s){D(i,A,s),p(A,t),r||(n=mA(A,"click",e[0]),r=!0)},p:tA,i:tA,o:tA,d(i){i&&M(A),r=!1,n()}}}function Iy(e){for(;e&&e!==document.body;){const A=getComputedStyle(e);if(/(auto|scroll|hidden)/.test(A.overflow+A.overflowX+A.overflowY))return e;e=e.parentElement}return null}function Sy(e,A,t){let{targetId:r}=A,{filename:n="export.png"}=A;async function i(){await fs(async()=>{const s=document.getElementById(r);if(!s)return;const o=Iy(s),a=o?{overflow:o.style.overflow,maxHeight:o.style.maxHeight,height:o.style.height}:null;try{o&&(o.style.overflow="visible",o.style.maxHeight="none",o.style.height="auto");const l=await _y(s,{backgroundColor:null,scale:2,logging:!1,useCORS:!0,scrollX:0,scrollY:0}),c=document.createElement("a");c.download=n,c.href=l.toDataURL("image/png"),c.click()}catch(l){await Ct(`Error generating PNG: ${l}`,eA==="en"?"Error":"Erreur")}finally{o&&a&&(o.style.overflow=a.overflow,o.style.maxHeight=a.maxHeight,o.style.height=a.height)}})}return e.$$set=s=>{"targetId"in s&&t(1,r=s.targetId),"filename"in s&&t(2,n=s.filename)},[i,r,n]}class $f extends $A{constructor(A){super(),zA(this,A,Sy,Hy,JA,{targetId:1,filename:2})}}const Yb="",xy=e=>({}),Zf=e=>({}),Ly=e=>({}),jf=e=>({}),ky=e=>({}),qf=e=>({}),Ky=e=>({}),Ag=e=>({});function My(e){let A,t,r,n,i,s,o,a,l,c,u,g,f,h,B,w,d;const F=e[7]["left-title"],_=Fe(F,e,e[6],Ag),Q=e[7]["left-scroll"],C=Fe(Q,e,e[6],qf),y=e[7]["right-title"],H=Fe(y,e,e[6],jf),U=e[7]["right-scroll"],S=Fe(U,e,e[6],Zf);return{c(){A=v("div"),t=v("div"),r=v("div"),n=v("div"),_&&_.c(),i=T(),s=v("div"),C&&C.c(),o=T(),a=v("div"),l=T(),c=v("div"),u=v("div"),g=v("div"),H&&H.c(),f=T(),h=v("div"),S&&S.c(),m(n,"class","mb-3"),m(s,"class","scroll-area svelte-rqnyt8"),m(r,"class","box panel-box svelte-rqnyt8"),m(t,"class","split-panel svelte-rqnyt8"),GA(t,"width",e[2]+"px"),m(a,"class","split-divider svelte-rqnyt8"),m(a,"role","separator"),m(a,"tabindex","-1"),m(g,"class","mb-3"),m(h,"class","scroll-area svelte-rqnyt8"),m(u,"class","box panel-box svelte-rqnyt8"),m(c,"class","split-panel svelte-rqnyt8"),GA(c,"width",e[1]+"px"),m(A,"class","split-container svelte-rqnyt8")},m(E,L){D(E,A,L),p(A,t),p(t,r),p(r,n),_&&_.m(n,null),p(r,i),p(r,s),C&&C.m(s,null),p(A,o),p(A,a),p(A,l),p(A,c),p(c,u),p(u,g),H&&H.m(g,null),p(u,f),p(u,h),S&&S.m(h,null),e[8](A),B=!0,w||(d=[mA(a,"mousedown",e[3]),mA(a,"touchstart",e[3])],w=!0)},p(E,[L]){_&&_.p&&(!B||L&64)&&_e(_,F,E,E[6],B?ye(F,E[6],L,Ky):be(E[6]),Ag),C&&C.p&&(!B||L&64)&&_e(C,Q,E,E[6],B?ye(Q,E[6],L,ky):be(E[6]),qf),(!B||L&4)&&GA(t,"width",E[2]+"px"),H&&H.p&&(!B||L&64)&&_e(H,y,E,E[6],B?ye(y,E[6],L,Ly):be(E[6]),jf),S&&S.p&&(!B||L&64)&&_e(S,U,E,E[6],B?ye(U,E[6],L,xy):be(E[6]),Zf),(!B||L&2)&&GA(c,"width",E[1]+"px")},i(E){B||(O(_,E),O(C,E),O(H,E),O(S,E),B=!0)},o(E){P(_,E),P(C,E),P(H,E),P(S,E),B=!1},d(E){E&&M(A),_&&_.d(E),C&&C.d(E),H&&H.d(E),S&&S.d(E),e[8](null),w=!1,Be(d)}}}const eg=250;function Dy(e,A,t){let r,n,{$$slots:i={},$$scope:s}=A,o,a,l=.5,c=!1,u=0;function g(w){c=!0,w.preventDefault()}function f(w){var _,Q;if(!c||!o)return;const d=o.getBoundingClientRect(),F=(w.clientX||((Q=(_=w.touches)==null?void 0:_[0])==null?void 0:Q.clientX))-d.left;t(4,l=Math.max(.2,Math.min(.8,F/d.width)))}function h(){c=!1}Gt(()=>{o&&(t(5,u=o.offsetWidth),a=new ResizeObserver(w=>{t(5,u=w[0].contentRect.width)}),a.observe(o)),window.addEventListener("mousemove",f),window.addEventListener("mouseup",h),window.addEventListener("touchmove",f),window.addEventListener("touchend",h)}),rr(()=>{a==null||a.disconnect(),window.removeEventListener("mousemove",f),window.removeEventListener("mouseup",h),window.removeEventListener("touchmove",f),window.removeEventListener("touchend",h)});function B(w){ze[w?"unshift":"push"](()=>{o=w,t(0,o)})}return e.$$set=w=>{"$$scope"in w&&t(6,s=w.$$scope)},e.$$.update=()=>{e.$$.dirty&48&&t(2,r=Math.max(eg,u*l-4)),e.$$.dirty&48&&t(1,n=Math.max(eg,u*(1-l)-4))},[o,n,r,g,l,u,s,i,B]}class Ty extends $A{constructor(A){super(),zA(this,A,Dy,My,JA,{})}}const zb="",{Map:Oy}=ra;function tg(e,A,t){const r=e.slice();return r[51]=A[t],r[53]=t,r}function rg(e,A,t){const r=e.slice();return r[51]=A[t],r[55]=t,r}function ng(e,A,t){const r=e.slice();return r[56]=A[t],r}function ig(e,A,t){const r=e.slice();return r[59]=A[t],r}function Ny(e){let A,t;return A=new Ty({props:{$$slots:{"right-scroll":[Wy],"right-title":[Py],"left-scroll":[Gy],"left-title":[Vy]},$$scope:{ctx:e}}}),{c(){_A(A.$$.fragment)},m(r,n){FA(A,r,n),t=!0},p(r,n){const i={};n[0]&607|n[2]&1&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(O(A.$$.fragment,r),t=!0)},o(r){P(A.$$.fragment,r),t=!1},d(r){yA(A,r)}}}function Ry(e){let A,t;return{c(){A=v("div"),t=v("div"),t.textContent=`${e[20]("noDocuments")}`,m(t,"class","notification is-info"),GA(t,"width","100%"),m(A,"class","container")},m(r,n){D(r,A,n),p(A,t)},p:tA,i:tA,o:tA,d(r){r&&M(A)}}}function Vy(e){let A,t,r,n,i,s,o,a,l,c,u,g,f,h,B,w=e[20]("normalize")+"",d,F,_,Q;return i=new $f({props:{targetId:"matrix-viz",filename:"document-matrix.png"}}),{c(){A=v("div"),t=v("h4"),t.textContent=`${e[20]("title")}`,r=T(),n=v("div"),_A(i.$$.fragment),s=T(),o=v("div"),a=v("div"),l=v("select"),c=v("option"),c.textContent=`${e[20]("byName")}`,u=v("option"),u.textContent=`${e[20]("byScore")}`,g=T(),f=v("label"),h=v("input"),B=T(),d=sA(w),m(t,"class","title is-6 mb-0"),c.__value="name",c.value=c.__value,u.__value="score",u.value=u.__value,e[3]===void 0&&et(()=>e[34].call(l)),m(a,"class","select is-small"),m(o,"class","control"),m(h,"type","checkbox"),h.checked=e[9],m(f,"title",e[20]("normalization")),m(f,"class","checkbox is-size-7"),m(n,"class","is-flex is-align-items-center"),GA(n,"gap","0.5rem"),m(A,"slot","left-title"),m(A,"class","is-flex is-justify-content-space-between")},m(C,y){D(C,A,y),p(A,t),p(A,r),p(A,n),FA(i,n,null),p(n,s),p(n,o),p(o,a),p(a,l),p(l,c),p(l,u),It(l,e[3],!0),p(n,g),p(n,f),p(f,h),p(f,B),p(f,d),F=!0,_||(Q=[mA(l,"change",e[34]),mA(h,"change",e[35])],_=!0)},p(C,y){y[0]&8&&It(l,C[3]),(!F||y[0]&512)&&(h.checked=C[9])},i(C){F||(O(i.$$.fragment,C),F=!0)},o(C){P(i.$$.fragment,C),F=!1},d(C){C&&M(A),yA(i),_=!1,Be(Q)}}}function sg(e,A){let t,r,n;return{key:e,first:null,c(){t=v("div"),r=v("span"),m(r,"class","color-dot svelte-1hnn458"),GA(r,"background-color",A[59].color),m(r,"title",n=A[59].title+" "+In.Witness+" #"+A[59].witnessId),m(t,"class","header-cell svelte-1hnn458"),this.first=t},m(i,s){D(i,t,s),p(t,r)},p(i,s){A=i,s[0]&64&&GA(r,"background-color",A[59].color),s[0]&64&&n!==(n=A[59].title+" "+In.Witness+" #"+A[59].witnessId)&&m(r,"title",n)},d(i){i&&M(t)}}}function og(e){let A,t=[],r=new Oy,n=e[6].docs;const i=s=>s[59].id;for(let s=0;s<n.length;s+=1){let o=ig(e,n,s),a=i(o);r.set(a,t[s]=sg(a,o))}return{c(){A=v("div");for(let s=0;s<t.length;s+=1)t[s].c();m(A,"class",e[56]+"-headers svelte-1hnn458")},m(s,o){D(s,A,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(A,null)},p(s,o){o[0]&64&&(n=s[6].docs,t=_n(t,o,i,1,s,n,r,A,ca,sg,null,ig))},d(s){s&&M(A);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Gy(e){let A,t,r,n,i,s,o=["col","row"],a=[];for(let l=0;l<2;l+=1)a[l]=og(ng(e,o,l));return{c(){A=v("div"),t=v("div"),r=v("div"),n=T();for(let l=0;l<2;l+=1)a[l].c();i=T(),s=v("div"),m(r,"class","matrix-corner svelte-1hnn458"),m(s,"class","matrix-canvas svelte-1hnn458"),m(t,"id","matrix-viz"),m(t,"class","matrix-grid svelte-1hnn458"),GA(t,"--cell-size",gg+"px"),m(A,"slot","left-scroll")},m(l,c){D(l,A,c),p(A,t),p(t,r),p(t,n);for(let u=0;u<2;u+=1)a[u]&&a[u].m(t,null);p(t,i),p(t,s),e[33](s)},p(l,c){if(c[0]&64){o=["col","row"];let u;for(u=0;u<2;u+=1){const g=ng(l,o,u);a[u]?a[u].p(g,c):(a[u]=og(g),a[u].c(),a[u].m(t,i))}for(;u<2;u+=1)a[u].d(1)}},d(l){l&&M(A),Se(a,l),e[33](null)}}}function ag(e){let A,t,r,n,i,s,o,a,l,c;return A=new $f({props:{targetId:"scatter-viz",filename:"document-comparison.png"}}),{c(){_A(A.$$.fragment),t=T(),r=v("div"),n=v("div"),i=v("select"),s=v("option"),s.textContent=`${e[20]("byPage")}`,o=v("option"),o.textContent=`${e[20]("byImage")}`,s.__value="page",s.value=s.__value,o.__value="image",o.value=o.__value,e[4]===void 0&&et(()=>e[32].call(i)),m(n,"class","select is-small"),m(r,"class","control")},m(u,g){FA(A,u,g),D(u,t,g),D(u,r,g),p(r,n),p(n,i),p(i,s),p(i,o),It(i,e[4],!0),a=!0,l||(c=mA(i,"change",e[32]),l=!0)},p(u,g){g[0]&16&&It(i,u[4])},i(u){a||(O(A.$$.fragment,u),a=!0)},o(u){P(A.$$.fragment,u),a=!1},d(u){yA(A,u),u&&M(t),u&&M(r),l=!1,c()}}}function Py(e){let A,t,r,n,i,s=e[2]&&ag(e);return{c(){A=v("div"),t=v("h4"),t.textContent=`${e[20]("pageByPage")}`,r=T(),n=v("div"),s&&s.c(),m(t,"class","title is-6 mb-0"),m(n,"class","is-flex is-align-items-center"),GA(n,"gap","0.5rem"),m(A,"slot","right-title"),m(A,"class","is-flex is-justify-content-space-between")},m(o,a){D(o,A,a),p(A,t),p(A,r),p(A,n),s&&s.m(n,null),i=!0},p(o,a){o[2]?s?(s.p(o,a),a[0]&4&&O(s,1)):(s=ag(o),s.c(),O(s,1),s.m(n,null)):s&&(WA(),P(s,1,1,()=>{s=null}),YA())},i(o){i||(O(s),i=!0)},o(o){P(s),i=!1},d(o){o&&M(A),s&&s.d()}}}function Xy(e){let A;return{c(){A=v("p"),A.textContent=`${e[20]("selectCell")}`,m(A,"class","has-text-grey is-size-7")},m(t,r){D(t,A,r)},p:tA,d(t){t&&M(A)}}}function Jy(e){let A;return{c(){A=v("div"),m(A,"id","scatter-viz"),m(A,"class","scatter-container svelte-1hnn458")},m(t,r){D(t,A,r),e[31](A)},p:tA,d(t){t&&M(A),e[31](null)}}}function Wy(e){let A;function t(i,s){return i[2]?Jy:Xy}let r=t(e),n=r(e);return{c(){A=v("div"),n.c(),m(A,"slot","right-scroll")},m(i,s){D(i,A,s),n.m(A,null)},p(i,s){r===(r=t(i))&&n?n.p(i,s):(n.d(1),n=r(i),n&&(n.c(),n.m(A,null)))},d(i){i&&M(A),n.d()}}}function lg(e){let A,t,r,n,i,s,o,a,l=e[11].items,c=[];for(let B=0;B<l.length;B+=1)c[B]=cg(rg(e,l,B));let u=e[11].score!==void 0&&ug(e),g=e[11].items,f=[];for(let B=0;B<g.length;B+=1)f[B]=fg(tg(e,g,B));const h=B=>P(f[B],1,1,()=>{f[B]=null});return{c(){A=v("table"),t=v("thead"),r=v("tr");for(let B=0;B<c.length;B+=1)c[B].c();n=T(),i=v("tbody"),u&&u.c(),s=T(),o=v("tr");for(let B=0;B<f.length;B+=1)f[B].c();m(A,"class","table is-fullwidth p-3 has-text-centered")},m(B,w){D(B,A,w),p(A,t),p(t,r);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(r,null);p(A,n),p(A,i),u&&u.m(i,null),p(i,s),p(i,o);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(o,null);a=!0},p(B,w){if(w[0]&2048){l=B[11].items;let d;for(d=0;d<l.length;d+=1){const F=rg(B,l,d);c[d]?c[d].p(F,w):(c[d]=cg(F),c[d].c(),c[d].m(r,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=l.length}if(B[11].score!==void 0?u?u.p(B,w):(u=ug(B),u.c(),u.m(i,s)):u&&(u.d(1),u=null),w[0]&2099232){g=B[11].items;let d;for(d=0;d<g.length;d+=1){const F=tg(B,g,d);f[d]?(f[d].p(F,w),O(f[d],1)):(f[d]=fg(F),f[d].c(),O(f[d],1),f[d].m(o,null))}for(WA(),d=g.length;d<f.length;d+=1)h(d);YA()}},i(B){if(!a){for(let w=0;w<g.length;w+=1)O(f[w]);a=!0}},o(B){f=f.filter(Boolean);for(let w=0;w<f.length;w+=1)P(f[w]);a=!1},d(B){B&&M(A),Se(c,B),u&&u.d(),Se(f,B)}}}function cg(e){let A,t,r,n,i,s=e[51].doc.title+"",o,a,l,c=e[51].label+"",u,g;return{c(){A=v("th"),t=v("span"),r=sA("●"),n=T(),i=v("strong"),o=sA(s),a=T(),l=v("p"),u=sA(c),g=T(),GA(t,"color",e[51].doc.color),m(l,"class","is-size-7 has-text-grey mt-2"),m(A,"class","doc-title svelte-1hnn458")},m(f,h){D(f,A,h),p(A,t),p(t,r),p(A,n),p(A,i),p(i,o),p(A,a),p(A,l),p(l,u),p(A,g)},p(f,h){h[0]&2048&&GA(t,"color",f[51].doc.color),h[0]&2048&&s!==(s=f[51].doc.title+"")&&TA(o,s),h[0]&2048&&c!==(c=f[51].label+"")&&TA(u,c)},d(f){f&&M(A)}}}function ug(e){let A,t,r,n=e[20]("score")+"",i,s,o=e[11].score.toFixed(2)+"",a;return{c(){A=v("tr"),t=v("td"),r=v("span"),i=sA(n),s=T(),a=sA(o),m(r,"class","tag is-small is-link is-bold"),m(t,"colspan","2"),m(t,"class","has-text-centered")},m(l,c){D(l,A,c),p(A,t),p(t,r),p(r,i),p(r,s),p(r,a)},p(l,c){c[0]&2048&&o!==(o=l[11].score.toFixed(2)+"")&&TA(a,o)},d(l){l&&M(A)}}}function fg(e){let A,t,r,n,i,s,o,a,l,c,u,g;return r=new dr({props:{direction:e[53]!==0?"up":"left",delta:-1,axis:e[53]!==0?"vertical":"horizontal",navigationFct:e[21]}}),c=new dr({props:{direction:e[53]!==0?"down":"right",delta:1,axis:e[53]!==0?"vertical":"horizontal",navigationFct:e[21]}}),{c(){var f;A=v("td"),t=v("div"),_A(r.$$.fragment),n=T(),i=v("figure"),s=v("img"),l=T(),_A(c.$$.fragment),u=T(),lt(s.src,o=e[51].imgUrl)||m(s,"src",o),m(s,"alt",a=(((f=e[5])==null?void 0:f.mode)==="image"?"Image":"Page")+" "+e[51].label),m(s,"class","img-preview svelte-1hnn458"),m(i,"class","image"),m(t,"class","image-nav-container svelte-1hnn458"),m(A,"class","modal-cell svelte-1hnn458")},m(f,h){D(f,A,h),p(A,t),FA(r,t,null),p(t,n),p(t,i),p(i,s),p(t,l),FA(c,t,null),p(A,u),g=!0},p(f,h){var B;(!g||h[0]&2048&&!lt(s.src,o=f[51].imgUrl))&&m(s,"src",o),(!g||h[0]&2080&&a!==(a=(((B=f[5])==null?void 0:B.mode)==="image"?"Image":"Page")+" "+f[51].label))&&m(s,"alt",a)},i(f){g||(O(r.$$.fragment,f),O(c.$$.fragment,f),g=!0)},o(f){P(r.$$.fragment,f),P(c.$$.fragment,f),g=!1},d(f){f&&M(A),yA(r),yA(c)}}}function Yy(e){let A,t,r,n,i,s,o,a,l,c,u,g,f,h,B,w,d,F,_,Q,C,y;const H=[Ry,Ny],U=[];function S(L,N){return L[7].length?1:0}c=S(e),u=U[c]=H[c](e);let E=e[11]&&lg(e);return{c(){A=v("div"),t=v("label"),t.textContent=`${e[20]("filtering")}`,r=T(),n=v("div"),i=v("div"),s=v("select"),o=v("option"),o.textContent=`${e[20]("allPairs")}`,a=v("option"),a.textContent=`${e[20]("filteredPairs")}`,l=T(),u.c(),g=T(),f=v("div"),h=v("div"),B=T(),w=v("div"),d=v("div"),E&&E.c(),F=T(),_=v("button"),m(t,"class","label is-small"),m(t,"for","matrix-mode"),o.__value="all",o.value=o.__value,a.__value="filtered",a.value=a.__value,m(s,"id","matrix-mode"),e[8]===void 0&&et(()=>e[30].call(s)),m(i,"class","select is-small is-fullwidth"),m(n,"class","control"),m(A,"class","field mb-4"),m(h,"class","modal-background"),m(d,"class","box p-5"),m(w,"class","modal-content"),GA(w,"width","auto"),GA(w,"max-width","70vw"),m(_,"class","modal-close is-large"),m(_,"aria-label","close"),m(f,"id","matrix-page-modal"),m(f,"class","modal")},m(L,N){D(L,A,N),p(A,t),p(A,r),p(A,n),p(n,i),p(i,s),p(s,o),p(s,a),It(s,e[8],!0),D(L,l,N),U[c].m(L,N),D(L,g,N),D(L,f,N),p(f,h),p(f,B),p(f,w),p(w,d),E&&E.m(d,null),p(f,F),p(f,_),e[36](f),Q=!0,C||(y=[mA(s,"change",e[30]),Hr(gs.call(null,f))],C=!0)},p(L,N){N[0]&256&&It(s,L[8]);let X=c;c=S(L),c===X?U[c].p(L,N):(WA(),P(U[X],1,1,()=>{U[X]=null}),YA(),u=U[c],u?u.p(L,N):(u=U[c]=H[c](L),u.c()),O(u,1),u.m(g.parentNode,g)),L[11]?E?(E.p(L,N),N[0]&2048&&O(E,1)):(E=lg(L),E.c(),O(E,1),E.m(d,null)):E&&(WA(),P(E,1,1,()=>{E=null}),YA())},i(L){Q||(O(u),O(E),Q=!0)},o(L){P(u),P(E),Q=!1},d(L){L&&M(A),L&&M(l),U[c].d(L),L&&M(g),L&&M(f),E&&E.d(),e[36](null),C=!1,Be(y)}}}const gg=30,re=5;function zy(e){if(e.mode==="image")return{max1:e.images1.length,max2:e.images2.length};const A=Math.max(...e.points.map(r=>r.page1)),t=Math.max(...e.points.map(r=>r.page2));return{max1:A,max2:t}}function $y(e,A,t){const r=new Map;let n=1/0,i=-1/0;for(const o of t){const[a,l,c]=o.regions_id_1===e.id?[o.page_1,o.page_2,o.weightedScore||0]:[o.page_2,o.page_1,o.weightedScore||0],u=`${a}-${l}`;r.has(u)||r.set(u,{page1:a,page2:l,scores:[]}),r.get(u).scores.push(c),c<n&&(n=c),c>i&&(i=c)}return{mode:"page",points:Array.from(r.values()).map(({page1:o,page2:a,scores:l})=>({page1:o,page2:a,score:l.reduce((c,u)=>c+u,0)/l.length,count:l.length})),minScore:n,maxScore:i,doc1:e,doc2:A}}function Zy(e,A,t){const r=e.images||[],n=A.images||[];if(!r.length||!n.length)return null;const i=new Map(r.map((c,u)=>[c.id,u])),s=new Map(n.map((c,u)=>[c.id,u])),o=new Map;let a=1/0,l=-1/0;return t.forEach(c=>{const[u,g,f]=c.regions_id_1===e.id?[c.id_1,c.id_2,c.weightedScore||0]:[c.id_2,c.id_1,c.weightedScore||0],h=i.get(u),B=s.get(g);if(h!==void 0&&B!==void 0){const w=`${h}-${B}`;o.set(w,{idx1:h,idx2:B,imgId1:u,imgId2:g,score:f}),f<a&&(a=f),f>l&&(l=f)}}),{mode:"image",images1:r,images2:n,pairScores:o,minScore:a,maxScore:l,doc1:e,doc2:A}}function Bg(e){const A=[];let t=null,r=0;return e.forEach((n,i)=>{n.canvas!==t&&(t!==null&&A.push({start:r,end:i,page:t,count:i-r}),t=n.canvas,r=i)}),t!==null&&A.push({start:r,end:e.length,page:t,count:e.length-r}),A}function jy(e,A,t){let r,n,i,s,o,a,l,c,u,g,f,h,B,{documentSetStore:w}=A;const{documentNodes:d,pairIndex:F,activeDocPairStats:_,activeDocStats:Q,imageCountMap:C,visiblePairIds:y,matrixMode:H,normalizeByImages:U}=w;SA(e,d,G=>t(29,B=G)),SA(e,F,G=>t(37,a=G)),SA(e,_,G=>t(28,h=G)),SA(e,Q,G=>t(27,f=G)),SA(e,C,G=>t(26,u=G)),SA(e,y,G=>t(25,l=G)),SA(e,H,G=>t(8,c=G)),SA(e,U,G=>t(9,g=G));const S={title:{en:"Document Matrix",fr:"Matrice de documents"},order:{en:"Order",fr:"Ordre"},byName:{en:"By title",fr:"Par titre"},byScore:{en:"By score",fr:"Par score"},noDocuments:{en:"No documents available",fr:"Aucun document disponible"},pageByPage:{en:"Page-by-page similarity",fr:"Similarité page par page"},page:{en:"page",fr:"page"},score:{en:"Score",fr:"Score"},noPairs:{en:"No pairs",fr:"Aucune paire"},selectCell:{en:"Click a cell to view page-by-page similarity",fr:"Cliquez sur une cellule pour voir la similarité page par page"},byPage:{en:"By page",fr:"Par page"},byImage:{en:"By image",fr:"Par image"},image:{en:"image",fr:"image"},normalize:{en:"Normalize",fr:"Normaliser"},normalization:{en:"Normalization by document image counts",fr:"Normalisation par le nombre d'images des documents"},allPairs:{en:"All pairs in the document set",fr:"Toutes les paires du corpus"},filteredPairs:{en:"Filtered pairs",fr:"Paires après filtrage"},filtering:{en:"Source of image pairs for the visualizations",fr:"Source des paires d’images pour les visualisations"}},E=G=>{var gA,CA;return((gA=S[G])==null?void 0:gA[eA])||((CA=S[G])==null?void 0:CA.en)||G};let L,N,X,k=null,z="name",K=null,Z="page";function V(G,gA){const CA="600,";return ar(`wit${G.witnessId}_${G.digitizationRef}_${String(gA).padStart(G.zeros,"0")}`,"full",CA)}function W(G){var CA;const gA="600,";return ar(G.ref,(CA=G.xywh)==null?void 0:CA.join(","),gA)}function J(G,gA,CA){var BA,rA;if(!G||!gA||!CA)return null;const{doc1:HA,doc2:vA}=gA;if(gA.mode==="image"){const hA=(BA=gA.images1)==null?void 0:BA[G.idx1],XA=(rA=gA.images2)==null?void 0:rA[G.idx2];if(!hA||!XA)return null;const UA=`${G.idx1}-${G.idx2}`,bA=gA.pairScores.get(UA);return{items:[{doc:HA,label:`Canvas ${hA.canvas} — Image #${G.idx1+1}`,imgUrl:W(hA)},{doc:vA,label:`Canvas ${XA.canvas} — Image #${G.idx2+1}`,imgUrl:W(XA)}],score:bA==null?void 0:bA.score}}const fA=G.idx1+1,RA=G.idx2+1,iA=gA.points.find(hA=>hA.page1===fA&&hA.page2===RA);return{items:[{doc:HA,label:`Page ${fA}`,imgUrl:V(HA,fA)},{doc:vA,label:`Page ${RA}`,imgUrl:V(vA,RA)}],score:iA==null?void 0:iA.score}}function lA(G,gA){!K||!i||(gA==="horizontal"?t(23,K.idx1=(K.idx1+G+s.max1)%s.max1,K):t(23,K.idx2=(K.idx2+G+s.max2)%s.max2,K),t(23,K))}function wA(G){if(!K||!(X!=null&&X.classList.contains("is-active")))return;const CA={ArrowUp:[-1,"vertical"],ArrowDown:[1,"vertical"],ArrowLeft:[-1,"horizontal"],ArrowRight:[1,"horizontal"]}[G.key];CA&&(G.preventDefault(),lA(CA[0],CA[1]))}function MA(G,gA,CA,HA,vA,fA){var XA;if(!G.length)return{docs:[],matrix:[],maxScore:0};G.forEach((UA,bA)=>{var qA;UA.index=bA,UA.count=((qA=CA==null?void 0:CA.get(UA.id))==null?void 0:qA.count)||0});const iA={name:Dn(G.length).sort((UA,bA)=>G[UA].title.localeCompare(G[bA].title)),score:Dn(G.length).sort((UA,bA)=>G[bA].count-G[UA].count)}[HA].map(UA=>G[UA]),BA=iA.length,rA=[];let hA=0;for(let UA=0;UA<BA;UA++){const bA=[];for(let qA=0;qA<BA;qA++)if(UA!==qA){const ce=iA[UA].id<iA[qA].id?`${iA[UA].id}-${iA[qA].id}`:`${iA[qA].id}-${iA[UA].id}`;let ue=((XA=gA==null?void 0:gA.get(ce))==null?void 0:XA.score)||0;if(vA&&ue>0){const He=fA.get(iA[UA].id)||1,oe=fA.get(iA[qA].id)||1;ue/=Math.sqrt(He*oe)}ue>hA&&(hA=ue),bA.push({x:qA,y:UA,z:ue,doc1:iA[UA],doc2:iA[qA]})}else bA.push({x:qA,y:UA,z:0,diagonal:!0});rA.push(bA)}return{docs:iA,matrix:rA,maxScore:hA}}function DA(G,gA,CA,HA){const{doc1:vA,doc2:fA}=G,RA=vA.id<fA.id?`${vA.id}-${fA.id}`:`${fA.id}-${vA.id}`;let iA=a.byDocPair.get(RA)||[];return CA&&HA.size>0&&(iA=iA.filter(BA=>HA.has(`${BA.id_1}-${BA.id_2}`))),iA.length?gA==="image"?Zy(vA,fA,iA):$y(vA,fA,iA):null}function VA(){if(!L||!n.docs.length)return;const{docs:G,matrix:gA,maxScore:CA}=n,HA=G.length*gg;le(L).selectAll("*").remove();const vA=le(L).append("svg").attr("width",HA).attr("height",HA),fA=uc().range([0,HA]).domain(Dn(G.length)).padding(.02),RA=le("body").selectAll(".matrix-tooltip").data([0]).join("div").attr("class","matrix-tooltip").style("position","fixed").style("background","var(--bulma-scheme-main)").style("border","1px solid var(--bulma-border)").style("border-radius","4px").style("padding","8px").style("pointer-events","none").style("opacity",0).style("font-size","12px").style("box-shadow","0 2px 4px rgba(0,0,0,0.15)").style("z-index","9999").style("color","var(--bulma-text)");vA.selectAll(".row").data(gA).join("g").attr("class","row").attr("transform",(BA,rA)=>`translate(0,${fA(rA)})`).each(function(BA){le(this).selectAll(".cell").data(BA.filter(rA=>!rA.diagonal)).join("rect").attr("class","cell").attr("x",rA=>fA(rA.x)).attr("width",fA.bandwidth()).attr("height",fA.bandwidth()).attr("fill",rA=>{if(rA.z===0)return"var(--bulma-text)";const hA=Jn(233,.951,.52);return hA.opacity=CA>0?.2+.8*(rA.z/CA):.2,hA}).attr("stroke",rA=>OA(rA)?"var(--bulma-text)":"var(--bulma-scheme-main)").attr("stroke-width",rA=>OA(rA)?2:.5).style("cursor","pointer").on("mouseover",function(rA,hA){OA(hA)||le(this).attr("stroke","var(--bulma-text)").attr("stroke-width",2),RA.style("opacity",1)}).on("mousemove",function(rA,hA){const XA=`<span style="color:${hA.doc1.color}">●</span> ${hA.doc1.title}<br/>↔<br/><span style="color:${hA.doc2.color}">●</span> ${hA.doc2.title}`,UA=hA.z===0?`${XA}<br/><br/><em>${E("noPairs")}</em>`:`${XA}<br/><br/>${E("score")}: ${hA.z.toFixed(2)}`;RA.html(UA).style("left",rA.clientX+15+"px").style("top",rA.clientY+15+"px")}).on("mouseleave",function(rA,hA){OA(hA)||le(this).attr("stroke","var(--bulma-scheme-main)").attr("stroke-width",.5),RA.style("opacity",0)}).on("click",(rA,hA)=>{t(2,k={row:hA.y,col:hA.x,doc1:hA.doc1,doc2:hA.doc2}),ee()})}),vA.selectAll(".row").selectAll(".cell-diagonal").data(BA=>BA.filter(rA=>rA.diagonal)).join("rect").attr("class","cell-diagonal").attr("x",BA=>fA(BA.x)).attr("width",fA.bandwidth()).attr("height",fA.bandwidth()).attr("fill","var(--contrasted)")}function OA(G){return k&&k.doc1.id===G.doc1.id&&k.doc2.id===G.doc2.id}function ee(){L&&le(L).selectAll(".cell").attr("stroke",G=>OA(G)?"var(--bulma-text)":"var(--bulma-scheme-main)").attr("stroke-width",G=>OA(G)?2:.5)}function $(){!N||!i||(le(N).selectAll("*").remove(),i.mode==="image"?Y():cA())}function cA(){const{points:G,minScore:gA,maxScore:CA,doc1:HA,doc2:vA}=i;if(!G.length)return;const fA={top:65,right:40,bottom:20,left:80},RA=10,iA=Math.max(...G.map(x=>x.page1)),BA=Math.max(...G.map(x=>x.page2)),rA=iA*re,hA=BA*re,XA=new Map(G.map(x=>[`${x.page1}-${x.page2}`,x])),UA=rA+fA.left+fA.right,bA=hA+fA.top+fA.bottom,ce=le(N).append("svg").attr("width",UA).attr("height",bA).append("g").attr("transform",`translate(${fA.left},${fA.top})`),ue=Xr().domain([0,iA]).range([0,rA]),He=Xr().domain([0,BA]).range([0,hA]),oe=le("body").selectAll(".scatter-tooltip").data([0]).join("div").attr("class","scatter-tooltip").style("position","fixed").style("background","var(--bulma-scheme-main)").style("border","1px solid var(--bulma-border)").style("border-radius","4px").style("padding","6px 10px").style("pointer-events","none").style("opacity",0).style("font-size","11px").style("box-shadow","0 2px 4px rgba(0,0,0,0.15)").style("z-index","9999").style("color","var(--bulma-text)"),dt=new Array(iA).fill(0),at=new Array(BA).fill(0);G.forEach(x=>{dt[x.page1-1]++,at[x.page2-1]++});const At=Math.max(...dt),we=Math.max(...at),wt=ce.append("g").attr("transform",`translate(0,${-22-RA})`);dt.forEach((x,I)=>{x!==0&&wt.append("rect").attr("x",I*re).attr("width",re).attr("height",RA).attr("fill",HA.color).attr("opacity",.15+.85*(x/At)).style("cursor","default").on("mouseover",()=>oe.style("opacity",1)).on("mousemove",R=>{oe.html(`<strong>${x}</strong> image${x>1?"s":""}<br/>${E("page")} ${I+1}`).style("left",R.clientX+10+"px").style("top",R.clientY-30+"px")}).on("mouseleave",()=>oe.style("opacity",0))});const AA=ce.append("g").attr("transform","translate(-55,0)");at.forEach((x,I)=>{x!==0&&AA.append("rect").attr("x",0).attr("y",I*re).attr("width",RA).attr("height",re).attr("fill",vA.color).attr("opacity",.15+.85*(x/we)).style("cursor","default").on("mouseover",()=>oe.style("opacity",1)).on("mousemove",R=>{oe.html(`<strong>${x}</strong> image${x>1?"s":""}<br/>${E("page")} ${I+1}`).style("left",R.clientX+10+"px").style("top",R.clientY-30+"px")}).on("mouseleave",()=>oe.style("opacity",0))}),ce.append("g").call(Al(ue).ticks(Math.min(iA,10))),ce.append("g").call(el(He).ticks(Math.min(BA,10)));const KA=(x,I)=>{const R=Math.floor(I/6);return x.length>R?x.slice(0,R-1)+"…":x},pA=ce.append("g").attr("transform",`translate(${rA/2},-50)`);pA.append("circle").attr("r",4).attr("cx",-rA/2+4).attr("fill",HA.color),pA.append("text").attr("x",-rA/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(KA(`${HA.title} (${E("page")})`,rA-20));const b=ce.append("g").attr("transform",`translate(-68,${hA/2}) rotate(-90)`);b.append("circle").attr("r",4).attr("cx",-hA/2+4).attr("fill",vA.color),b.append("text").attr("x",-hA/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(KA(`${vA.title} (${E("page")})`,hA-20)),ce.append("rect").attr("class","hover-overlay").attr("width",rA).attr("height",hA).attr("fill","transparent").style("cursor","pointer").on("mousemove",x=>{const[I,R]=ve(x,ce.node()),j=Math.floor(I/re)+1,q=Math.floor(R/re)+1;if(j<1||j>iA||q<1||q>BA){oe.style("opacity",0);return}const dA=XA.get(`${j}-${q}`),aA=`<span style="color:${HA.color}">●</span> ${E("page")} ${j}<br/><span style="color:${vA.color}">●</span> ${E("page")} ${q}`,ZA=dA?`${aA}<br/>${E("score")}: ${dA.score.toFixed(2)}`:aA;oe.style("opacity",1).html(ZA).style("left",x.clientX+10+"px").style("top",x.clientY-40+"px")}).on("mouseleave",()=>oe.style("opacity",0)).on("click",x=>{const[I,R]=ve(x,ce.node()),j=Math.floor(I/re)+1,q=Math.floor(R/re)+1;j<1||j>iA||q<1||q>BA||(t(23,K={idx1:j-1,idx2:q-1}),X==null||X.classList.add("is-active"))}),ce.selectAll(".cell").data(G).join("rect").attr("class","cell").attr("x",x=>(x.page1-1)*re).attr("y",x=>(x.page2-1)*re).attr("width",re).attr("height",re).attr("fill",Jn(233,.951,.52)).attr("opacity",x=>CA>gA?.2+.8*(x.score-gA)/(CA-gA):.5).attr("pointer-events","none"),t(1,N.style.width=UA+"px",N),t(1,N.style.height=bA+"px",N)}function Y(){const{images1:G,images2:gA,pairScores:CA,minScore:HA,maxScore:vA,doc1:fA,doc2:RA}=i;if(!G.length||!gA.length)return;const iA={top:65,right:40,bottom:20,left:80},BA=10,rA=G.length*re,hA=gA.length*re,XA=rA+iA.left+iA.right,UA=hA+iA.top+iA.bottom,qA=le(N).append("svg").attr("width",XA).attr("height",UA).append("g").attr("transform",`translate(${iA.left},${iA.top})`),ce=Xr().domain([0,G.length]).range([0,rA]),ue=Xr().domain([0,gA.length]).range([0,hA]),He=le("body").selectAll(".scatter-tooltip").data([0]).join("div").attr("class","scatter-tooltip").style("position","fixed").style("background","var(--bulma-scheme-main)").style("border","1px solid var(--bulma-border)").style("border-radius","4px").style("padding","6px 10px").style("pointer-events","none").style("opacity",0).style("font-size","11px").style("box-shadow","0 2px 4px rgba(0,0,0,0.15)").style("z-index","9999").style("color","var(--bulma-text)"),oe=Bg(G),dt=Bg(gA),at=qA.append("g").attr("transform",`translate(0,${-22-BA})`);oe.forEach(({start:pA,end:b,page:x,count:I})=>{at.append("rect").attr("x",pA*re).attr("width",(b-pA)*re).attr("height",BA).attr("fill",fA.color).attr("opacity",.5).style("cursor","default").on("mouseover",()=>He.style("opacity",1)).on("mousemove",R=>{He.html(`${E("page")} ${x}<br/><strong>${I}</strong> image${I>1?"s":""}`).style("left",R.clientX+10+"px").style("top",R.clientY-30+"px")}).on("mouseleave",()=>He.style("opacity",0))});const At=qA.append("g").attr("transform","translate(-55,0)");dt.forEach(({start:pA,end:b,page:x,count:I})=>{At.append("rect").attr("x",0).attr("y",pA*re).attr("width",BA).attr("height",(b-pA)*re).attr("fill",RA.color).attr("opacity",.5).style("cursor","default").on("mouseover",()=>He.style("opacity",1)).on("mousemove",R=>{He.html(`${E("page")} ${x}<br/><strong>${I}</strong> image${I>1?"s":""}`).style("left",R.clientX+10+"px").style("top",R.clientY-30+"px")}).on("mouseleave",()=>He.style("opacity",0))}),qA.append("g").call(Al(ce).ticks(Math.min(G.length,10))),qA.append("g").call(el(ue).ticks(Math.min(gA.length,10)));const we=(pA,b)=>{const x=Math.floor(b/6);return pA.length>x?pA.slice(0,x-1)+"…":pA},wt=qA.append("g").attr("transform",`translate(${rA/2},-50)`);wt.append("circle").attr("r",4).attr("cx",-rA/2+4).attr("fill",fA.color),wt.append("text").attr("x",-rA/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(we(`${fA.title} (${E("image")})`,rA-20));const AA=qA.append("g").attr("transform",`translate(-68,${hA/2}) rotate(-90)`);AA.append("circle").attr("r",4).attr("cx",-hA/2+4).attr("fill",RA.color),AA.append("text").attr("x",-hA/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(we(`${RA.title} (${E("image")})`,hA-20)),qA.append("rect").attr("class","hover-overlay").attr("width",rA).attr("height",hA).attr("fill","transparent").style("cursor","pointer").on("mousemove",pA=>{const[b,x]=ve(pA,qA.node()),I=Math.floor(b/re),R=Math.floor(x/re);if(I<0||I>=G.length||R<0||R>=gA.length){He.style("opacity",0);return}const j=G[I],q=gA[R],dA=CA.get(`${I}-${R}`),aA=`<span style="color:${fA.color}">●</span> ${E("page")} ${j.canvas}, ${E("image")} ${I+1}<br/><span style="color:${RA.color}">●</span> ${E("page")} ${q.canvas}, ${E("image")} ${R+1}`,ZA=dA?`${aA}<br/>${E("score")}: ${dA.score.toFixed(2)}`:aA;He.style("opacity",1).html(ZA).style("left",pA.clientX+10+"px").style("top",pA.clientY-40+"px")}).on("mouseleave",()=>He.style("opacity",0)).on("click",pA=>{const[b,x]=ve(pA,qA.node()),I=Math.floor(b/re),R=Math.floor(x/re);I>=0&&I<G.length&&R>=0&&R<gA.length&&(t(23,K={idx1:I,idx2:R}),X==null||X.classList.add("is-active"))});const KA=Array.from(CA.values());qA.selectAll(".cell").data(KA).join("rect").attr("class","cell").attr("x",pA=>pA.idx1*re).attr("y",pA=>pA.idx2*re).attr("width",re).attr("height",re).attr("fill",Jn(233,.951,.52)).attr("opacity",pA=>vA>HA?.2+.8*(pA.score-HA)/(vA-HA):.5).attr("pointer-events","none"),t(1,N.style.width=XA+"px",N),t(1,N.style.height=UA+"px",N)}Gt(()=>{window.addEventListener("keydown",wA)}),rr(()=>{window.removeEventListener("keydown",wA)});function QA(){c=pn(this),H.set(c)}function nA(G){ze[G?"unshift":"push"](()=>{N=G,t(1,N)})}function xA(){Z=pn(this),t(4,Z)}function IA(G){ze[G?"unshift":"push"](()=>{L=G,t(0,L)})}function LA(){z=pn(this),t(3,z)}const kA=G=>U.set(G.target.checked);function EA(G){ze[G?"unshift":"push"](()=>{X=G,t(10,X)})}return e.$$set=G=>{"documentSetStore"in G&&t(22,w=G.documentSetStore)},e.$$.update=()=>{e.$$.dirty[0]&536870912&&t(7,r=Array.from((B==null?void 0:B.values())||[])),e.$$.dirty[0]&469762696&&t(6,n=MA(r,h.scoreCount,f.scoreCount,z,g,u)),e.$$.dirty[0]&33554708&&t(5,i=k?DA(k,Z,c==="filtered",l):null),e.$$.dirty[0]&32&&t(24,s=i?zy(i):{max1:0,max2:0,pages1:[],pages2:[]}),e.$$.dirty[0]&25165856&&t(11,o=K&&i&&s?J(K,i,s):null),e.$$.dirty[0]&65&&L&&n.docs.length&&VA(),e.$$.dirty[0]&34&&N&&i&&$()},[L,N,k,z,Z,i,n,r,c,g,X,o,d,F,_,Q,C,y,H,U,E,lA,w,K,s,l,u,f,h,B,QA,nA,xA,IA,LA,kA,EA]}class qy extends $A{constructor(A){super(),zA(this,A,jy,Yy,JA,{documentSetStore:22},null,[-1,-1,-1])}}const A_=1e4;async function e_(e,A,t={}){const{onProgress:r,onError:n,signal:i}=t,s=await fetch(e,{signal:i});if(!s.ok){const f=await s.json().catch(()=>({error:s.statusText}));throw new Error(f.error||`HTTP ${s.status}`)}const o=s.body.getReader(),a=new TextDecoder;let l="",c=[],u=0,g=!1;try{for(;;){const{done:f,value:h}=await o.read();if(f){if(l.trim()){const w=hg(l);w&&c.push(w)}return c.length>0?(u+=c.length,A.postMessage({type:"batch",pairs:c,isLast:!0})):A.postMessage({type:"done"}),r==null||r(u,!0),u}l+=a.decode(h,{stream:!0});const B=l.split(`
`);l=B.pop()||"";for(const w of B){if(!w)continue;const d=hg(w);d&&(c.push(d),c.length>=A_&&(g||(A.postMessage({type:"init"}),g=!0),u+=c.length,A.postMessage({type:"batch",pairs:c,isLast:!1}),c=[],r==null||r(u,!1)))}}}catch(f){throw f.name==="AbortError"?(A.postMessage({type:"abort"}),f):(n==null||n(f),f)}}function hg(e){try{return JSON.parse(e)}catch{return console.warn("Parse error:",e.slice(0,50)),null}}const t_=()=>new Worker("/static/js/pairWorker.js",{type:"module"});function r_(e){const A=PA(null),t=PA(!1),r=PA({loaded:0,done:!1}),n=PA([]),i=PA(new Set),s=PA([]),o=PA(0),a=PA(3),l=PA(!1),c=PA("threshold"),u=PA([]),g=PA(new Map);let f,h=null;const B=PA({byImage:new Map,byDocPair:new Map,byDoc:new Map}),w=PA(new Map),d=PA(new Map),F=PA({}),_=PA({}),Q=PA({}),C=PA({}),y=PA({documents:0,pairs:null,images:0,categories:{}}),H=pe(n,($,cA)=>{if($.length===0){cA(Promise.resolve(0));return}f&&f.terminate()&&(f=null),h&&h.abort(),h=new AbortController;const Y=new Promise((QA,nA)=>{t.set(!0),r.set({loaded:0,done:!1}),A.set(null),(async()=>{try{f=t_(),f.onmessage=async LA=>{const{type:kA}=LA.data;if(kA==="progress"){r.set({loaded:LA.data.count,done:!1});return}if(kA!=="complete")return;const{allPairs:EA,imageNodes:G,pairIndex:gA,categories:CA,stats:HA}=LA.data;B.set(gA),F.set(HA.pairStats),W(),_.set(HA.documentStats),Q.set(HA.imageStats),C.set(HA.docPairStats);const vA=Array.from(HA.documentStats.scoreCount.keys());Ce(i).size===0&&i.set(new Set(vA));const fA=await Promise.all(vA.map(BA=>U(BA).then(rA=>({id:BA,info:rA})))),RA=new Map;fA.forEach(({id:BA,info:rA})=>RA.set(BA,rA)),g.set(RA);const iA=new Map;vA.forEach((BA,rA)=>{const hA=RA.get(BA)||{};iA.set(BA,{id:BA,title:hA.title||`Region Extraction ${BA}`,color:hA.color||LB(rA),images:[],...hA})}),G.forEach(BA=>{const rA=iA.get(BA.regionId);rA&&(BA.color=rA.color,BA.title=`${rA.title} | Page ${BA.canvas}`,rA.images.push(BA))}),iA.forEach(BA=>BA.images.sort((rA,hA)=>{var XA,UA;return rA.canvas!==hA.canvas?rA.canvas-hA.canvas:(parseInt((XA=rA.xywh)==null?void 0:XA[1])||0)-(parseInt((UA=hA.xywh)==null?void 0:UA[1])||0)})),w.set(G),d.set(iA),y.set({documents:vA.length,pairs:EA.length,images:G.size,categories:CA}),u.set(EA),t.set(!1),r.set({loaded:EA.length,done:!0}),f.terminate(),f=null,QA(EA.length)},f.onerror=LA=>{console.error("Worker error",LA),A.set(`Worker error: ${LA.message}`),t.set(!1),nA(LA)};const IA=`${Hn}/document-set/${e}/pairs/stream?category=${$.join(",")}`;await e_(IA,f,{signal:h.signal,onProgress:(LA,kA)=>{r.set({loaded:LA,done:kA})},onError:LA=>{A.set(`Stream error: ${LA.message}`)}})}catch(IA){if(IA.name==="AbortError"){console.log("Request aborted");return}A.set(`Fetch error: ${IA.message}`),t.set(!1),nA(IA)}})()});cA(Y)});async function U($){try{const cA=await fetch(`${Hn}/search/regions/?id=${$}`);if(!cA.ok)throw new Error(`HTTP ${cA.status}`);const{results:Y}=await cA.json();if(!(Y!=null&&Y.length))return{title:`Region Extraction ${$}`};const QA=Y[0],[,...nA]=QA.title.split(" | "),[xA,IA]=(QA.ref||"_").split("_");return{title:nA.join(" | "),ref:QA.ref,witnessId:bB(xA),digitizationRef:IA,zeros:QA.zeros,img_nb:QA.img_nb,url:QA.url}}catch(cA){return A.set(`Error fetching region #${$}: ${cA.message}`),{title:`Region Extraction ${$}`}}}const S=pe([u,o,a,l,i],([$,cA,Y,QA,nA])=>{if(!$)return[];const xA=[],IA=Ce(c);for(let LA=0;LA<$.length;LA++){const kA=$[LA];if(IA==="threshold"&&kA.weightedScore<cA)break;if(!(!nA.has(kA.regions_id_1)||!nA.has(kA.regions_id_2))){if(IA==="topk"&&Y!==null){const EA=kA.rank_1??1/0,G=kA.rank_2??1/0;if(QA){if(EA>Y||G>Y)continue}else if(EA>Y&&G>Y)continue}xA.push(kA)}}return xA}),E=pe([S,d],([$,cA])=>{if(!$.length||cA.size===0)return[];const Y=new Set;for(const nA of $)Y.add(nA.regions_id_1),Y.add(nA.regions_id_2);const QA=[];return Y.forEach(nA=>{const xA=cA.get(nA);xA&&QA.push(xA)}),QA.sort((nA,xA)=>xA.id-nA.id)});function L($,cA,Y=10,QA=200,nA=2,xA=25){if(!cA)return{strength:.5,distance:100,width:2};const{min:IA,_:LA,range:kA}=cA,EA=kA===0?.5:($-IA)/kA,G=QA-EA*(QA-Y),gA=nA+EA*(xA-nA);return{strength:EA,distance:G,width:gA}}function N($,cA,Y=10,QA=60){if(!cA)return Y;const{min:nA,_:xA,range:IA}=cA;return IA===0?(Y+QA)/2:Y+($-nA)/IA*(QA-Y)}const X=pe([S],([$])=>{var LA;const cA=Ce(w),Y=Ce(Q),QA=Ce(F),nA=new Set,xA=[];for(const kA of $){const{strength:EA,distance:G,width:gA}=L(kA.weightedScore,QA.scoreRange);xA.push({source:kA.id_1,target:kA.id_2,strength:EA,distance:G,width:gA}),nA.has(kA.id_1)||nA.add(kA.id_1),nA.has(kA.id_2)||nA.add(kA.id_2)}const IA=[];for(const kA of nA){const EA=cA.get(kA);if(EA){const G=(LA=Y.scoreCount)==null?void 0:LA.get(kA),{count:gA,score:CA}=G;IA.push({...EA,radius:N(CA,Y.scoreRange),label:`Region: ${EA.regionId}
Page: ${EA.canvas}
Connections: ${gA}
Total score: ${CA.toFixed(2)}`})}}return{nodes:IA,links:xA}}),k=pe(E,$=>{const cA=Ce(C),Y=Ce(_);if($.size===0)return{nodes:[],links:[]};const QA=Array.from($.values()).map(xA=>{var EA;const IA=(EA=Y.scoreCount)==null?void 0:EA.get(xA.id),{count:LA,score:kA}=IA;return{...xA,radius:N(LA,Y.countRange),label:`${xA.title}
Images: ${LA}
Total score: ${kA.toFixed(2)}`}}),nA=Array.from(cA.scoreCount.entries()).map(([xA,IA])=>{const[LA,kA]=xA.split("-").map(Number),{strength:EA,distance:G,width:gA}=L(IA.score,cA.scoreRange);return{source:LA,target:kA,strength:EA,distance:G,width:gA}});return{nodes:QA,links:nA}});function z($){if(!$.length)return{regions:[],rows:[]};const cA=Ce(d),Y=Ce(B),QA=$[0],nA=cA.get(QA);if(!(nA!=null&&nA.images))return{regions:$,rows:[]};const xA=nA.images,IA=(G,gA,CA)=>{const{r1:HA,r2:vA}={r1:gA,r2:CA},fA=HA<vA?`${HA}-${vA}`:`${vA}-${HA}`;return(Y.byDocPair.get(fA)||[]).map(iA=>iA.id_1===G&&iA.regions_id_1===gA?{id:iA.id_2,page:iA.page_2}:iA.id_2===G&&iA.regions_id_2===gA?{id:iA.id_1,page:iA.page_1}:null).filter(Boolean)},LA=[];for(const G of xA){let gA=[{[QA]:{id:G.id,page:G.canvas}}];for(let CA=1;CA<$.length;CA++){const HA=$[CA],vA=[];for(const fA of gA){const RA=[];for(let iA=0;iA<CA;iA++){const BA=$[iA];if(fA[BA]){const rA=IA(fA[BA].id,BA,HA);RA.push(...rA)}}if(RA.length===0)vA.push(fA);else{const iA=new Map;RA.forEach(BA=>{iA.has(BA.id)||iA.set(BA.id,BA)});for(const BA of iA.values()){const rA={...fA,[HA]:BA};vA.push(rA)}}}gA=vA}LA.push(...gA)}const kA=[],EA=new Set;for(const G of LA){const gA=$.map(CA=>{var HA;return((HA=G[CA])==null?void 0:HA.id)||""}).join("|");EA.has(gA)||(EA.add(gA),kA.push(G))}return{regions:$,rows:kA}}function K($){n.update(cA=>cA.indexOf($)>-1?cA.filter(QA=>QA!==$):[...cA,$].sort((QA,nA)=>QA-nA))}function Z($){i.update(cA=>{const Y=new Set(cA);return Y.has($)?Y.delete($):Y.add($),Y})}function V(){const $=Array.from(Ce(d).keys());i.set(new Set($))}function W(){if(!Ce(n).includes(0))return;const{min:$,max:cA}=Ce(F).scoreRange||{};$==null||cA==null||Ce(o)===$&&o.set(($+cA)/2)}const J=PA("filtered"),lA=PA(!1),wA=pe(S,$=>{const cA=new Set;for(const Y of $)cA.add(`${Y.id_1}-${Y.id_2}`);return cA}),MA=pe(S,$=>{const cA=new Map;if(!($!=null&&$.length))return{scoreCount:cA,scoreRange:{min:0,max:0,range:0}};let Y=1/0,QA=-1/0;for(const nA of $){const xA=nA.regions_id_1<nA.regions_id_2?`${nA.regions_id_1}-${nA.regions_id_2}`:`${nA.regions_id_2}-${nA.regions_id_1}`,IA=cA.get(xA)||{score:0,count:0};IA.score+=nA.weightedScore||0,IA.count++,cA.set(xA,IA)}for(const{score:nA}of cA.values())nA<Y&&(Y=nA),nA>QA&&(QA=nA);return Y===1/0&&(Y=QA=0),{scoreCount:cA,scoreRange:{min:Y,max:QA,range:QA-Y}}}),DA=pe(S,$=>{const cA=new Map;if(!($!=null&&$.length))return{scoreCount:cA,countRange:{min:0,max:0,range:0}};for(const nA of $)for(const xA of[nA.regions_id_1,nA.regions_id_2]){const IA=cA.get(xA)||{score:0,count:0};IA.score+=nA.weightedScore||0,IA.count++,cA.set(xA,IA)}let Y=1/0,QA=-1/0;for(const{count:nA}of cA.values())nA<Y&&(Y=nA),nA>QA&&(QA=nA);return Y===1/0&&(Y=QA=0),{scoreCount:cA,countRange:{min:Y,max:QA,range:QA-Y}}}),VA=pe([J,C,MA],([$,cA,Y])=>$==="filtered"?Y:cA),OA=pe([J,_,DA],([$,cA,Y])=>$==="filtered"?Y:cA),ee=pe(d,$=>{var Y;const cA=new Map;for(const[QA,nA]of $)cA.set(QA,Math.max(1,((Y=nA.images)==null?void 0:Y.length)||nA.img_nb||1));return cA});return{error:A,loadingProgress:r,cancelLoading:()=>{h&&(h.abort(),t.set(!1))},allPairs:u,visiblePairs:S,pairIndex:B,documentNodes:d,imageNodes:w,fetchPairs:H,imageNetwork:X,documentNetwork:k,selectedCategories:n,pairStats:F,documentStats:_,imageStats:Q,docPairStats:C,docSetNumber:y,selectedNodes:s,selectedRegions:i,updateSelectedNodes:$=>s.set($),toggleCategory:K,toggleRegion:Z,selectAllRegions:V,buildAlignedImageMatrix:z,threshold:o,setThreshold:$=>o.set($),topK:a,setTopK:$=>a.set($),mutualTopK:l,setMutualTopK:$=>l.set($),scoreMode:c,setScoreMode:$=>c.set($),matrixMode:J,setMatrixMode:$=>J.set($),normalizeByImages:lA,activeDocPairStats:VA,activeDocStats:OA,imageCountMap:ee,visiblePairIds:wA}}function n_(e){let A,t,r;const n=e[1].default,i=Fe(n,e,e[0],null);return{c(){A=v("table"),t=v("tbody"),i&&i.c(),m(A,"class","table is-fullwidth")},m(s,o){D(s,A,o),p(A,t),i&&i.m(t,null),r=!0},p(s,[o]){i&&i.p&&(!r||o&1)&&_e(i,n,s,s[0],r?ye(n,s[0],o,null):be(s[0]),null)},i(s){r||(O(i,s),r=!0)},o(s){P(i,s),r=!1},d(s){s&&M(A),i&&i.d(s)}}}function i_(e,A,t){let{$$slots:r={},$$scope:n}=A;return e.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,r]}class s_ extends $A{constructor(A){super(),zA(this,A,i_,n_,JA,{})}}const o_=e=>({}),dg=e=>({}),a_=e=>({}),wg=e=>({}),l_=e=>({}),pg=e=>({});function c_(e){let A;const t=e[4]["row-body"],r=Fe(t,e,e[3],dg);return{c(){r&&r.c()},m(n,i){r&&r.m(n,i),A=!0},p(n,i){r&&r.p&&(!A||i&8)&&_e(r,t,n,n[3],A?ye(t,n[3],i,o_):be(n[3]),dg)},i(n){A||(O(r,n),A=!0)},o(n){P(r,n),A=!1},d(n){r&&r.d(n)}}}function u_(e){let A,t,r,n;const i=e[4]["row-body"],s=Fe(i,e,e[3],wg);return{c(){A=v("div"),t=v("div"),s&&s.c(),m(t,"class","grid is-gap-2"),m(A,"class",r="fixed-grid has-"+e[2]+"-cols")},m(o,a){D(o,A,a),p(A,t),s&&s.m(t,null),n=!0},p(o,a){s&&s.p&&(!n||a&8)&&_e(s,i,o,o[3],n?ye(i,o[3],a,a_):be(o[3]),wg),(!n||a&4&&r!==(r="fixed-grid has-"+o[2]+"-cols"))&&m(A,"class",r)},i(o){n||(O(s,o),n=!0)},o(o){P(s,o),n=!1},d(o){o&&M(A),s&&s.d(o)}}}function f_(e){let A,t,r,n,i,s,o,a,l,c;et(e[5]);const u=e[4]["row-header"],g=Fe(u,e,e[3],pg),f=[u_,c_],h=[];function B(w,d){return w[0]?0:1}return s=B(e),o=h[s]=f[s](e),{c(){A=v("tr"),t=v("th"),r=v("div"),g&&g.c(),n=T(),i=v("td"),o.c(),m(r,"class","content-wrapper py-5"),m(t,"class","is-3 center-flex is-narrow"),GA(t,"width","15vw"),m(i,"class","p-5 is-fullwidth")},m(w,d){D(w,A,d),p(A,t),p(t,r),g&&g.m(r,null),p(A,n),p(A,i),h[s].m(i,null),a=!0,l||(c=mA(window,"resize",e[5]),l=!0)},p(w,[d]){g&&g.p&&(!a||d&8)&&_e(g,u,w,w[3],a?ye(u,w[3],d,l_):be(w[3]),pg);let F=s;s=B(w),s===F?h[s].p(w,d):(WA(),P(h[F],1,1,()=>{h[F]=null}),YA(),o=h[s],o?o.p(w,d):(o=h[s]=f[s](w),o.c()),O(o,1),o.m(i,null))},i(w){a||(O(g,w),O(o),a=!0)},o(w){P(g,w),P(o),a=!1},d(w){w&&M(A),g&&g.d(w),h[s].d(),l=!1,c()}}}function g_(e,A,t){let r,{$$slots:n={},$$scope:i}=A,{useGrid:s=!0}=A,o=0;function a(){t(1,o=window.innerWidth)}return e.$$set=l=>{"useGrid"in l&&t(0,s=l.useGrid),"$$scope"in l&&t(3,i=l.$$scope)},e.$$.update=()=>{e.$$.dirty&2&&t(2,r=kB(o))},[s,o,r,i,n,a]}class B_ extends $A{constructor(A){super(),zA(this,A,g_,f_,JA,{useGrid:0})}}const $b="",h_=e=>({}),mg=e=>({}),d_=e=>({}),Qg=e=>({});function Cg(e){let A,t,r,n,i,s,o,a,l,c,u,g=e[1]&&vg(e);return a=new ws({props:{tooltipText:e[2][e[1]][eA]}}),{c(){g&&g.c(),A=T(),t=v("div"),r=v("button"),n=pt("svg"),i=pt("path"),o=T(),_A(a.$$.fragment),m(i,"fill","none"),m(i,"stroke","currentColor"),m(i,"stroke-linecap","round"),m(i,"stroke-linejoin","round"),m(i,"stroke-width","1.5"),m(i,"d","M12 3v18m0 0l8.5-8.5M12 21l-8.5-8.5"),m(n,"style",s=`transform: rotate(${e[1]?"180":"0"}deg)`),m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"width","24"),m(n,"height","24"),m(n,"viewBox","0 0 24 24"),m(n,"class","svelte-jbs1sd"),m(r,"class","button is-link svelte-jbs1sd"),m(t,"class","ctrl-toggle svelte-jbs1sd")},m(f,h){g&&g.m(f,h),D(f,A,h),D(f,t,h),p(t,r),p(r,n),p(n,i),p(r,o),FA(a,r,null),l=!0,c||(u=mA(r,"click",Ht(e[3])),c=!0)},p(f,h){f[1]?g?(g.p(f,h),h&2&&O(g,1)):(g=vg(f),g.c(),O(g,1),g.m(A.parentNode,A)):g&&(WA(),P(g,1,1,()=>{g=null}),YA()),(!l||h&2&&s!==(s=`transform: rotate(${f[1]?"180":"0"}deg)`))&&m(n,"style",s);const B={};h&2&&(B.tooltipText=f[2][f[1]][eA]),a.$set(B)},i(f){l||(O(g),O(a.$$.fragment,f),l=!0)},o(f){P(g),P(a.$$.fragment,f),l=!1},d(f){g&&g.d(f),f&&M(A),f&&M(t),yA(a),c=!1,u()}}}function vg(e){let A,t,r;const n=e[5]["toolbar-hidden"],i=Fe(n,e,e[4],mg);return{c(){A=v("div"),i&&i.c(),m(A,"class","ctrl-extra")},m(s,o){D(s,A,o),i&&i.m(A,null),r=!0},p(s,o){i&&i.p&&(!r||o&16)&&_e(i,n,s,s[4],r?ye(n,s[4],o,h_):be(s[4]),mg)},i(s){r||(O(i,s),et(()=>{r&&(t||(t=Fn(A,da,{axis:"y"},!0)),t.run(1))}),r=!0)},o(s){P(i,s),t||(t=Fn(A,da,{axis:"y"},!1)),t.run(0),r=!1},d(s){s&&M(A),i&&i.d(s),s&&t&&t.end()}}}function w_(e){let A,t,r,n,i,s,o,a;const l=e[5]["toolbar-visible"],c=Fe(l,e,e[4],Qg);let u=e[0]&&Cg(e);return{c(){A=v("div"),t=v("form"),r=v("div"),n=v("div"),i=v("div"),c&&c.c(),s=T(),u&&u.c(),m(i,"class","ctrl-block svelte-jbs1sd"),m(n,"class","ctrl-block-wrapper svelte-jbs1sd"),m(r,"class","ctrl-base"),m(t,"class","ctrl svelte-jbs1sd"),m(A,"id","toolbar"),m(A,"class",o="ctrl-wrapper is-flex is-justify-content-center is-align-items-center "+(e[1]?"toolbar-expanded":"toolbar-collapsed")+" svelte-jbs1sd")},m(g,f){D(g,A,f),p(A,t),p(t,r),p(r,n),p(n,i),c&&c.m(i,null),p(t,s),u&&u.m(t,null),a=!0},p(g,[f]){c&&c.p&&(!a||f&16)&&_e(c,l,g,g[4],a?ye(l,g[4],f,d_):be(g[4]),Qg),g[0]?u?(u.p(g,f),f&1&&O(u,1)):(u=Cg(g),u.c(),O(u,1),u.m(t,null)):u&&(WA(),P(u,1,1,()=>{u=null}),YA()),(!a||f&2&&o!==(o="ctrl-wrapper is-flex is-justify-content-center is-align-items-center "+(g[1]?"toolbar-expanded":"toolbar-collapsed")+" svelte-jbs1sd"))&&m(A,"class",o)},i(g){a||(O(c,g),O(u),a=!0)},o(g){P(c,g),P(u),a=!1},d(g){g&&M(A),c&&c.d(g),u&&u.d()}}}function p_(e,A,t){let r,{$$slots:n={},$$scope:i}=A,{expandable:s=!0}=A;const o={true:{en:"Collapse the toolbar",fr:"Refermer le menu"},false:{en:"Expand the toolbar",fr:"Ouvrir le menu"}},a=()=>t(1,r=!r);return e.$$set=l=>{"expandable"in l&&t(0,s=l.expandable),"$$scope"in l&&t(4,i=l.$$scope)},t(1,r=!1),[s,r,o,a,i,n]}class m_ extends $A{constructor(A){super(),zA(this,A,p_,w_,JA,{expandable:0})}}function Ug(e){let A,t,r,n,i,s,o,a,l,c=e[5]>1&&Fg(e),u=e[5]<e[3]&&bg(e);return{c(){A=v("nav"),t=v("ul"),c&&c.c(),r=T(),n=v("li"),i=v("a"),s=sA(e[5]),o=T(),u&&u.c(),m(i,"class","pagination-link is-current"),m(i,"href",null),m(t,"class","pagination-list ml-0"),m(A,"class","pagination is-centered mb-2"),m(A,"aria-label","pagination")},m(g,f){D(g,A,f),p(A,t),c&&c.m(t,null),p(t,r),p(t,n),p(n,i),p(i,s),p(t,o),u&&u.m(t,null),a||(l=mA(i,"click",Ht(e[9])),a=!0)},p(g,f){g[5]>1?c?c.p(g,f):(c=Fg(g),c.c(),c.m(t,r)):c&&(c.d(1),c=null),f&32&&TA(s,g[5]),g[5]<g[3]?u?u.p(g,f):(u=bg(g),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},d(g){g&&M(A),c&&c.d(),u&&u.d(),a=!1,l()}}}function Fg(e){let A,t,r,n,i,s,o=e[5]-1>1&&yg(e);return{c(){A=v("li"),t=v("a"),t.textContent="1",r=T(),o&&o.c(),n=Ke(),m(t,"class","pagination-link"),m(t,"href",null)},m(a,l){D(a,A,l),p(A,t),D(a,r,l),o&&o.m(a,l),D(a,n,l),i||(s=mA(t,"click",Ht(e[7])),i=!0)},p(a,l){a[5]-1>1?o?o.p(a,l):(o=yg(a),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(a){a&&M(A),a&&M(r),o&&o.d(a),a&&M(n),i=!1,s()}}}function yg(e){let A,t,r,n=e[5]-1+"",i,s,o,a=e[5]-1>2&&_g();return{c(){a&&a.c(),A=T(),t=v("li"),r=v("a"),i=sA(n),m(r,"class","pagination-link"),m(r,"href",null)},m(l,c){a&&a.m(l,c),D(l,A,c),D(l,t,c),p(t,r),p(r,i),s||(o=mA(r,"click",Ht(e[8])),s=!0)},p(l,c){l[5]-1>2?a||(a=_g(),a.c(),a.m(A.parentNode,A)):a&&(a.d(1),a=null),c&32&&n!==(n=l[5]-1+"")&&TA(i,n)},d(l){a&&a.d(l),l&&M(A),l&&M(t),s=!1,o()}}}function _g(e){let A;return{c(){A=v("li"),A.innerHTML='<span class="pagination-ellipsis">…</span>'},m(t,r){D(t,A,r)},d(t){t&&M(A)}}}function bg(e){let A,t,r,n,i,s,o=e[5]+1<e[3]&&Eg(e);return{c(){o&&o.c(),A=T(),t=v("li"),r=v("a"),n=sA(e[3]),m(r,"class","pagination-link"),m(r,"href",null)},m(a,l){o&&o.m(a,l),D(a,A,l),D(a,t,l),p(t,r),p(r,n),i||(s=mA(r,"click",Ht(e[11])),i=!0)},p(a,l){a[5]+1<a[3]?o?o.p(a,l):(o=Eg(a),o.c(),o.m(A.parentNode,A)):o&&(o.d(1),o=null),l&8&&TA(n,a[3])},d(a){o&&o.d(a),a&&M(A),a&&M(t),i=!1,s()}}}function Eg(e){let A,t,r=e[5]+1+"",n,i,s,o,a,l=e[5]+2<e[3]&&Hg();return{c(){A=v("li"),t=v("a"),n=sA(r),i=T(),l&&l.c(),s=Ke(),m(t,"class","pagination-link"),m(t,"href",null)},m(c,u){D(c,A,u),p(A,t),p(t,n),D(c,i,u),l&&l.m(c,u),D(c,s,u),o||(a=mA(t,"click",Ht(e[10])),o=!0)},p(c,u){u&32&&r!==(r=c[5]+1+"")&&TA(n,r),c[5]+2<c[3]?l||(l=Hg(),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d(c){c&&M(A),c&&M(i),l&&l.d(c),c&&M(s),o=!1,a()}}}function Hg(e){let A;return{c(){A=v("li"),A.innerHTML='<span class="pagination-ellipsis">…</span>'},m(t,r){D(t,A,r)},d(t){t&&M(A)}}}function Q_(e){let A,t,r=e[5]*e[2]-e[2]+1+"",n,i,s=Math.min(e[5]*e[2],e[1])+"",o,a,l,c,u=e[4]&&Ug(e);return{c(){u&&u.c(),A=T(),t=v("div"),n=sA(r),i=sA(" - "),o=sA(s),a=sA(" / "),l=sA(e[1]),m(t,"class",c="is-size-7 is-center mb-4 "+(e[4]?"":"mt-4"))},m(g,f){u&&u.m(g,f),D(g,A,f),D(g,t,f),p(t,n),p(t,i),p(t,o),p(t,a),p(t,l)},p(g,[f]){g[4]?u?u.p(g,f):(u=Ug(g),u.c(),u.m(A.parentNode,A)):u&&(u.d(1),u=null),f&36&&r!==(r=g[5]*g[2]-g[2]+1+"")&&TA(n,r),f&38&&s!==(s=Math.min(g[5]*g[2],g[1])+"")&&TA(o,s),f&2&&TA(l,g[1]),f&16&&c!==(c="is-size-7 is-center mb-4 "+(g[4]?"":"mt-4"))&&m(t,"class",c)},i:tA,o:tA,d(g){u&&u.d(g),g&&M(A),g&&M(t)}}}function C_(e,A,t){let r,n,i,{store:s}=A;const{currentPage:o}=s;SA(e,o,B=>t(5,i=B));let{nbOfItems:a}=A,{pageLength:l=yB}=A;const c=()=>s.handlePageUpdate(1),u=()=>s.handlePageUpdate(i-1),g=()=>s.handlePageUpdate(i),f=()=>s.handlePageUpdate(i+1),h=()=>s.handlePageUpdate(r);return e.$$set=B=>{"store"in B&&t(0,s=B.store),"nbOfItems"in B&&t(1,a=B.nbOfItems),"pageLength"in B&&t(2,l=B.pageLength)},e.$$.update=()=>{e.$$.dirty&6&&t(3,r=l>0?Math.ceil(a/l):1),e.$$.dirty&14&&t(4,n=r>1||a>l)},[s,a,l,r,n,i,o,c,u,g,f,h]}class Ig extends $A{constructor(A){super(),zA(this,A,C_,Q_,JA,{store:0,nbOfItems:1,pageLength:2})}}function v_(e){let A,t,r,n,i=eA==="en"?"Save selection":"Sauvegarder la sélection",s,o,a;return{c(){A=v("button"),t=v("span"),r=v("i"),n=T(),s=sA(i),m(r,"class","fa-solid fa-floppy-disk"),m(A,"class","button is-link")},m(l,c){D(l,A,c),p(A,t),p(t,r),p(t,n),p(t,s),o||(a=mA(A,"click",e[7]),o=!0)},p:tA,d(l){l&&M(A),o=!1,a()}}}function U_(e){let A,t,r,n,i=eA==="en"?"Go to treatment":"Accéder au traitement",s,o;return{c(){var a;A=v("a"),t=v("span"),r=v("i"),n=T(),s=sA(i),m(r,"class","fa-solid fa-gear"),m(A,"class","button is-link"),m(A,"href",o="/"+ct+"/treatment/add/?document_set="+((a=e[3])==null?void 0:a.id))},m(a,l){D(a,A,l),p(A,t),p(t,r),p(t,n),p(t,s)},p(a,l){var c;l&8&&o!==(o="/"+ct+"/treatment/add/?document_set="+((c=a[3])==null?void 0:c.id))&&m(A,"href",o)},d(a){a&&M(A)}}}function Sg(e){let A,t,r,n,i,s,o;return{c(){var a,l;A=v("a"),t=v("span"),t.innerHTML='<i class="fa-solid fa-file-export"></i> JSON',n=T(),i=v("a"),s=v("span"),s.innerHTML='<i class="fa-solid fa-file-zipper"></i> ZIP',m(A,"class","button is-link is-dark"),m(A,"href",r="/"+ct+"/document-set/"+((a=e[3])==null?void 0:a.id)+"/json"),m(A,"target","_blank"),m(i,"class","button is-link is-dark"),m(i,"href",o="/"+ct+"/document-set/"+((l=e[3])==null?void 0:l.id)+"/zip"),m(i,"target","_blank")},m(a,l){D(a,A,l),p(A,t),D(a,n,l),D(a,i,l),p(i,s)},p(a,l){var c,u;l&8&&r!==(r="/"+ct+"/document-set/"+((c=a[3])==null?void 0:c.id)+"/json")&&m(A,"href",r),l&8&&o!==(o="/"+ct+"/document-set/"+((u=a[3])==null?void 0:u.id)+"/zip")&&m(i,"href",o)},d(a){a&&M(A),a&&M(n),a&&M(i)}}}function F_(e){let A,t,r,n,i,s,o;function a(g,f){return g[2]&&!g[1]?U_:v_}let l=a(e),c=l(e),u=!e[1]&&Sg(e);return{c(){A=v("footer"),t=v("div"),r=v("button"),r.textContent=`${eA==="en"?"Clear selection":"Vider la sélection"}`,n=T(),c.c(),i=T(),u&&u.c(),m(r,"class","button button-close is-link is-light"),m(t,"class","buttons"),m(A,"class","modal-card-foot is-center")},m(g,f){D(g,A,f),p(A,t),p(t,r),p(t,n),c.m(t,null),p(t,i),u&&u.m(t,null),s||(o=mA(r,"click",e[6]),s=!0)},p(g,[f]){l===(l=a(g))&&c?c.p(g,f):(c.d(1),c=l(g),c&&(c.c(),c.m(t,i))),g[1]?u&&(u.d(1),u=null):u?u.p(g,f):(u=Sg(g),u.c(),u.m(t,null))},i:tA,o:tA,d(g){g&&M(A),c.d(),u&&u.d(),s=!1,o()}}}function y_(e,A,t){let r,n,{selectionStore:i}=A;const{isSaved:s,selection:o}=i;SA(e,s,u=>t(2,r=u)),SA(e,o,u=>t(3,n=u));let{isRegion:a=i.type!=="documentSet"}=A;const l=()=>i.empty(),c=()=>i.save();return e.$$set=u=>{"selectionStore"in u&&t(0,i=u.selectionStore),"isRegion"in u&&t(1,a=u.isRegion)},[i,a,r,n,s,o,l,c]}class __ extends $A{constructor(A){super(),zA(this,A,y_,F_,JA,{selectionStore:0,isRegion:1})}}const Zb="";function xg(e,A,t){const r=e.slice();return r[31]=A[t],r}function Lg(e,A,t){const r=e.slice();return r[31]=A[t],r}function b_(e){let A,t,r,n,i,s;return{c(){A=v("span"),t=sA(e[10]),r=T(),n=v("span"),n.innerHTML='<i class="fas fa-edit"></i>',m(n,"class","pl-3 smaller has-text-link")},m(o,a){D(o,A,a),p(A,t),p(A,r),p(A,n),i||(s=[mA(A,"click",e[14]),mA(A,"keyup",null)],i=!0)},p(o,a){a[0]&1024&&TA(t,o[10])},d(o){o&&M(A),i=!1,Be(s)}}}function E_(e){let A,t,r;return{c(){A=v("input"),m(A,"class","input selection-title svelte-fumu7c")},m(n,i){D(n,A,i),e[23](A),wn(A,e[5]),t||(r=[mA(A,"input",e[24]),mA(A,"keydown",e[15]),mA(A,"blur",e[16])],t=!0)},p(n,i){i[0]&32&&A.value!==n[5]&&wn(A,n[5])},d(n){n&&M(A),e[23](null),t=!1,Be(r)}}}function kg(e){let A,t,r;function n(){return e[25](e[31])}return{c(){A=v("button"),m(A,"class","tag is-delete is-link ml-0")},m(i,s){D(i,A,s),t||(r=mA(A,"click",n),t=!0)},p(i,s){e=i},d(i){i&&M(A),t=!1,r()}}}function Kg(e,A){let t,r,n=A[31].username+"",i,s,o,a=A[9]&&kg(A);return{key:e,first:null,c(){t=v("div"),r=v("span"),i=sA(n),s=T(),a&&a.c(),o=T(),m(r,"class","tag"),m(t,"class","tags has-addons svelte-fumu7c"),this.first=t},m(l,c){D(l,t,c),p(t,r),p(r,i),p(t,s),a&&a.m(t,null),p(t,o)},p(l,c){A=l,c[0]&256&&n!==(n=A[31].username+"")&&TA(i,n),A[9]?a?a.p(A,c):(a=kg(A),a.c(),a.m(t,o)):a&&(a.d(1),a=null)},d(l){l&&M(t),a&&a.d()}}}function Mg(e){let A,t,r,n,i,s,o,a,l,c,u,g,f,h,B=eA==="en"?"Make public":"Rendre public",w,d,F,_=e[7].length>0&&Dg(e);return{c(){var Q;A=v("div"),t=v("div"),r=v("div"),n=v("p"),i=v("input"),s=T(),o=v("span"),o.innerHTML='<i class="fas fa-search"></i>',a=T(),_&&_.c(),l=T(),c=v("div"),u=v("label"),g=v("input"),h=T(),w=sA(B),m(i,"class","input svelte-fumu7c"),m(i,"placeholder","Search users…"),m(o,"class","icon is-small is-right"),m(n,"class","control is-expanded has-icons-right"),m(r,"class","field"),m(t,"class","dropdown-trigger"),m(A,"class","dropdown is-active"),m(g,"type","checkbox"),g.checked=f=(Q=e[2])==null?void 0:Q.is_public,m(u,"class","checkbox"),m(c,"class","field mt-3 is-right")},m(Q,C){D(Q,A,C),p(A,t),p(t,r),p(r,n),p(n,i),wn(i,e[6]),p(n,s),p(n,o),p(A,a),_&&_.m(A,null),D(Q,l,C),D(Q,c,C),p(c,u),p(u,g),p(u,h),p(u,w),d||(F=[mA(i,"input",e[26]),mA(i,"input",e[17]),mA(g,"change",e[28])],d=!0)},p(Q,C){var y;C[0]&64&&i.value!==Q[6]&&wn(i,Q[6]),Q[7].length>0?_?_.p(Q,C):(_=Dg(Q),_.c(),_.m(A,null)):_&&(_.d(1),_=null),C[0]&4&&f!==(f=(y=Q[2])==null?void 0:y.is_public)&&(g.checked=f)},d(Q){Q&&M(A),_&&_.d(),Q&&M(l),Q&&M(c),d=!1,Be(F)}}}function Dg(e){let A,t,r=e[7],n=[];for(let i=0;i<r.length;i+=1)n[i]=Tg(xg(e,r,i));return{c(){A=v("div"),t=v("div");for(let i=0;i<n.length;i+=1)n[i].c();m(t,"class","dropdown-content"),m(A,"class","dropdown-menu"),m(A,"id","dropdown-menu"),m(A,"role","menu")},m(i,s){D(i,A,s),p(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s[0]&262272){r=i[7];let o;for(o=0;o<r.length;o+=1){const a=xg(i,r,o);n[o]?n[o].p(a,s):(n[o]=Tg(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&M(A),Se(n,i)}}}function Tg(e){let A,t=e[31].username+"",r,n,i,s;function o(){return e[27](e[31])}return{c(){A=v("div"),r=sA(t),n=T(),m(A,"class","dropdown-item")},m(a,l){D(a,A,l),p(A,r),p(A,n),i||(s=[mA(A,"click",o),mA(A,"keydown",null)],i=!0)},p(a,l){e=a,l[0]&128&&t!==(t=e[31].username+"")&&TA(r,t)},d(a){a&&M(A),i=!1,Be(s)}}}function H_(e){let A,t,r,n,i,s,o,a,l,c,u,g,f,h,B,w,d,F,_,Q=[],C=new Map,y,H,U,S,E,L;function N(J,lA){return J[3]?E_:b_}let X=N(e),k=X(e);const z=e[22].default,K=Fe(z,e,e[21],null);let Z=e[8];const V=J=>J[31].id;for(let J=0;J<Z.length;J+=1){let lA=Lg(e,Z,J),wA=V(lA);C.set(wA,Q[J]=Kg(wA,lA))}let W=e[9]&&Mg(e);return U=new __({props:{selectionStore:e[0]}}),{c(){A=v("div"),t=v("div"),r=T(),n=v("div"),i=v("div"),s=v("div"),o=v("i"),a=T(),k.c(),l=sA(`

                (`),c=sA(e[1]),u=sA(")"),g=T(),f=v("button"),h=T(),B=v("section"),K&&K.c(),w=T(),d=v("h4"),d.textContent=`${eA==="en"?"Shared with":"Partagé avec"}`,F=T(),_=v("div");for(let J=0;J<Q.length;J+=1)Q[J].c();y=T(),W&&W.c(),H=T(),_A(U.$$.fragment),m(t,"class","modal-background"),m(o,"class","fa-solid fa-book-bookmark"),m(s,"class","title is-4 mb-0 media-content"),m(f,"class","delete media-left"),m(f,"aria-label","close"),m(i,"class","modal-card-head media mb-0 is-middle"),m(_,"class","field is-grouped is-grouped-multiline"),m(B,"class","modal-card-body"),m(n,"class","modal-content"),m(A,"id","selection-modal"),m(A,"class","modal fade"),m(A,"tabindex","-1"),m(A,"aria-labelledby","selection-modal-label"),m(A,"aria-hidden","true")},m(J,lA){D(J,A,lA),p(A,t),p(A,r),p(A,n),p(n,i),p(i,s),p(s,o),p(s,a),k.m(s,null),p(s,l),p(s,c),p(s,u),p(i,g),p(i,f),p(n,h),p(n,B),K&&K.m(B,null),p(B,w),p(B,d),p(B,F),p(B,_);for(let wA=0;wA<Q.length;wA+=1)Q[wA]&&Q[wA].m(_,null);p(B,y),W&&W.m(B,null),p(n,H),FA(U,n,null),S=!0,E||(L=Hr(gs.call(null,A)),E=!0)},p(J,lA){X===(X=N(J))&&k?k.p(J,lA):(k.d(1),k=X(J),k&&(k.c(),k.m(s,l))),(!S||lA[0]&2)&&TA(c,J[1]),K&&K.p&&(!S||lA[0]&2097152)&&_e(K,z,J,J[21],S?ye(z,J[21],lA,null):be(J[21]),null),lA[0]&525056&&(Z=J[8],Q=_n(Q,lA,V,1,J,Z,C,_,ca,Kg,null,Lg)),J[9]?W?W.p(J,lA):(W=Mg(J),W.c(),W.m(B,null)):W&&(W.d(1),W=null);const wA={};lA[0]&1&&(wA.selectionStore=J[0]),U.$set(wA)},i(J){S||(O(K,J),O(U.$$.fragment,J),S=!0)},o(J){P(K,J),P(U.$$.fragment,J),S=!1},d(J){J&&M(A),k.d(),K&&K.d(J);for(let lA=0;lA<Q.length;lA+=1)Q[lA].d();W&&W.d(),yA(U),E=!1,L()}}}function I_(e,A,t){let r,n,i,s,o,{$$slots:a={},$$scope:l}=A;const{selected:c}=uQ;SA(e,c,V=>t(2,s=V));let{selectionStore:u}=A,{selectionLength:g=!1}=A;const{selectionTitle:f,updateTitle:h,updatePublic:B,save:w}=u;SA(e,f,V=>t(10,o=V));let d=!1,F,_;function Q(){t(3,d=!0),t(5,_=o),setTimeout(()=>F==null?void 0:F.focus(),0)}function C(V){V.key==="Enter"&&y()}function y(){t(3,d=!1),h(_),w()}let H="",U=[];async function S(){if(H.trim().length<1){t(7,U=[]);return}const W=await(await fetch(`${window.location.origin}/search/user?q=${encodeURIComponent(H)}`)).json();t(7,U=W.users||[])}function E(V){u.add({id:V.id,class:"User",title:V.username}),t(6,H=""),t(7,U=[])}function L(V){u.remove(V,"User")}function N(V){ze[V?"unshift":"push"](()=>{F=V,t(4,F)})}function X(){_=this.value,t(5,_)}const k=V=>L(V.id);function z(){H=this.value,t(6,H)}const K=V=>E(V),Z=V=>B(V.target.checked);return e.$$set=V=>{"selectionStore"in V&&t(0,u=V.selectionStore),"selectionLength"in V&&t(1,g=V.selectionLength),"$$scope"in V&&t(21,l=V.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&4&&t(20,r=s==null?void 0:s.owner_id),e.$$.dirty[0]&1048576&&t(9,n=En||r===CB),e.$$.dirty[0]&4&&t(8,i=Object.entries((s==null?void 0:s.User)||{}).map(([V,W])=>({id:Number(V),username:W.title})))},[u,g,s,d,F,_,H,U,i,n,o,c,f,B,Q,C,y,S,E,L,r,l,a,N,X,k,z,K,Z]}class S_ extends $A{constructor(A){super(),zA(this,A,I_,H_,JA,{selectionStore:0,selectionLength:1},null,[-1,-1])}}const jb="";function x_(e){let A,t,r,n,i,s=eA==="en"?"Selection":"Sélection",o,a,l,c,u,g;return{c(){A=v("div"),t=v("button"),r=v("span"),n=v("i"),i=T(),o=sA(s),a=sA(`
            (`),l=sA(e[0]),c=sA(")"),m(n,"class","fa-solid fa-book-bookmark"),m(r,"id","btn-content"),m(t,"id","set-btn"),m(t,"class","button px-5 py-4 is-link svelte-gmt9z5"),m(t,"data-target","selection-modal"),m(A,"class","set-container svelte-gmt9z5")},m(f,h){D(f,A,h),p(A,t),p(t,r),p(r,n),p(r,i),p(r,o),p(r,a),p(r,l),p(r,c),u||(g=Hr(Ba.call(null,t)),u=!0)},p(f,[h]){h&1&&TA(l,f[0])},i:tA,o:tA,d(f){f&&M(A),u=!1,g()}}}function L_(e,A,t){let{selectionLength:r=0}=A,n=r;return e.$$set=i=>{"selectionLength"in i&&t(0,r=i.selectionLength)},e.$$.update=()=>{if(e.$$.dirty&3&&r!==n){const i=r>n;t(1,n=r);const s=document.getElementById("btn-content");s&&s.animate([{transform:i?"translateY(-7px)":"translateX(-5px)"},{transform:i?"translateY(7px)":"translateX(5px)"},{transform:"translate(0)"}],{duration:300,easing:"cubic-bezier(0.65, 0, 0.35, 1)"})}},[r,n]}class k_ extends $A{constructor(A){super(),zA(this,A,L_,x_,JA,{selectionLength:0})}}const qb="";function Og(e,A,t){const r=e.slice();return r[7]=A[t][0],r[8]=A[t][1],r}function K_(e){let A;return{c(){A=v("div"),A.textContent=`${eA==="en"?"No regions in selection":"Aucune région sélectionnée"}`},m(t,r){D(t,A,r)},p:tA,d(t){t&&M(A)}}}function M_(e){let A,t,r=Object.entries(e[2]),n=[];for(let i=0;i<r.length;i+=1)n[i]=Ng(Og(e,r,i));return{c(){A=v("div"),t=v("div");for(let i=0;i<n.length;i+=1)n[i].c();m(t,"class","grid is-gap-2"),m(A,"class","fixed-grid has-6-cols")},m(i,s){D(i,A,s),p(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s&13){r=Object.entries(i[2]);let o;for(o=0;o<r.length;o+=1){const a=Og(i,r,o);n[o]?n[o].p(a,s):(n[o]=Ng(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&M(A),Se(n,i)}}}function Ng(e){let A,t,r,n,i,s,o,a=e[8].title+"",l,c,u,g,f,h;function B(){return e[6](e[7])}return{c(){A=v("div"),t=v("figure"),r=v("img"),i=T(),s=v("div"),o=v("span"),l=sA(a),c=T(),u=v("button"),g=T(),lt(r.src,n=ar(e[8].img,e[8].xywh,"96,"))||m(r,"src",n),m(r,"alt","Extracted region"),m(o,"class","overlay-desc"),m(s,"class","overlay is-center svelte-g8ij5d"),m(t,"class","image is-64x64 card"),m(u,"class","delete region-btn svelte-g8ij5d"),m(u,"aria-label","remove from selection"),m(A,"class","selection cell svelte-g8ij5d")},m(w,d){D(w,A,d),p(A,t),p(t,r),p(t,i),p(t,s),p(s,o),p(o,l),p(A,c),p(A,u),p(A,g),f||(h=mA(u,"click",B),f=!0)},p(w,d){e=w,d&4&&!lt(r.src,n=ar(e[8].img,e[8].xywh,"96,"))&&m(r,"src",n),d&4&&a!==(a=e[8].title+"")&&TA(l,a)},d(w){w&&M(A),f=!1,h()}}}function D_(e){let A;function t(i,s){return i[4]?M_:K_}let r=t(e),n=r(e);return{c(){n.c(),A=Ke()},m(i,s){n.m(i,s),D(i,A,s)},p(i,s){r===(r=t(i))&&n?n.p(i,s):(n.d(1),n=r(i),n&&(n.c(),n.m(A.parentNode,A)))},d(i){n.d(i),i&&M(A)}}}function T_(e){let A,t,r,n;return A=new k_({props:{selectionLength:e[1]}}),r=new S_({props:{selectionLength:e[1],selectionStore:e[0],$$slots:{default:[D_]},$$scope:{ctx:e}}}),{c(){_A(A.$$.fragment),t=T(),_A(r.$$.fragment)},m(i,s){FA(A,i,s),D(i,t,s),FA(r,i,s),n=!0},p(i,[s]){const o={};s&2&&(o.selectionLength=i[1]),A.$set(o);const a={};s&2&&(a.selectionLength=i[1]),s&1&&(a.selectionStore=i[0]),s&2077&&(a.$$scope={dirty:s,ctx:i}),r.$set(a)},i(i){n||(O(A.$$.fragment,i),O(r.$$.fragment,i),n=!0)},o(i){P(A.$$.fragment,i),P(r.$$.fragment,i),n=!1},d(i){yA(A,i),i&&M(t),yA(r,i)}}}function O_(e,A,t){let r,n,i,s,{selectionStore:o}=A;const{selected:a}=o;SA(e,a,c=>t(3,s=c));const l=c=>o.remove(c,Object.keys(s)[0]);return e.$$set=c=>{"selectionStore"in c&&t(0,o=c.selectionStore)},e.$$.update=()=>{e.$$.dirty&8&&t(2,r=Object.values(s)[0]||{}),e.$$.dirty&4&&t(1,n=Object.keys(r).length),e.$$.dirty&2&&t(4,i=n>0)},[o,n,r,s,i,a,l]}class N_ extends $A{constructor(A){super(),zA(this,A,O_,T_,JA,{selectionStore:0})}}const AE="",{Map:R_}=ra;function Rg(e,A,t){const r=e.slice();return r[18]=A[t],r}function Vg(e,A,t){const r=e.slice();return r[21]=A[t],r}function V_(e){let A,t;return A=new m_({props:{expandable:!1,$$slots:{"toolbar-visible":[G_]},$$scope:{ctx:e}}}),{c(){_A(A.$$.fragment)},m(r,n){FA(A,r,n),t=!0},p(r,n){const i={};n&16777216&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(O(A.$$.fragment,r),t=!0)},o(r){P(A.$$.fragment,r),t=!1},d(r){yA(A,r)}}}function Gg(e){let A,t,r,n,i,s=e[21].title+"",o,a,l,c=e[21].shortcut+"",u,g,f,h;return{c(){A=v("p"),t=v("button"),r=v("span"),n=v("i"),i=T(),o=sA(s),a=T(),l=v("span"),u=sA(c),g=T(),m(n,"class","fas "+e[21].icon+" svelte-7vjt6f"),m(r,"class","icon is-small"),m(l,"class","shortcut svelte-7vjt6f"),m(t,"class","button pl-5"),m(t,"title",e[21].desc),m(A,"class","control")},m(B,w){D(B,A,w),p(A,t),p(t,r),p(r,n),p(t,i),p(t,o),p(t,a),p(t,l),p(l,u),p(A,g),f||(h=mA(t,"click",Ht(e[21].fct)),f=!0)},p(B,w){e=B},d(B){B&&M(A),f=!1,h()}}}function G_(e){let A,t,r,n,i,s,o,a=Object.values(e[10]),l=[];for(let c=0;c<a.length;c+=1)l[c]=Gg(Vg(e,a,c));return{c(){A=v("div"),t=v("div"),r=v("div"),n=v("span"),n.textContent=`${eA==="en"?"Process selection":"Agir sur la sélection"}`,i=T(),s=v("div"),o=v("div");for(let c=0;c<l.length;c+=1)l[c].c();m(n,"class","tag is-medium is-link mr-5"),m(r,"class","column is-narrow mr-5"),m(o,"class","field has-addons"),m(s,"class","column"),m(t,"class","columns is-vcentered is-mobile py-4"),m(A,"slot","toolbar-visible")},m(c,u){D(c,A,u),p(A,t),p(t,r),p(r,n),p(t,i),p(t,s),p(s,o);for(let g=0;g<l.length;g+=1)l[g]&&l[g].m(o,null)},p(c,u){if(u&1024){a=Object.values(c[10]);let g;for(g=0;g<a.length;g+=1){const f=Vg(c,a,g);l[g]?l[g].p(f,u):(l[g]=Gg(f),l[g].c(),l[g].m(o,null))}for(;g<l.length;g+=1)l[g].d(1);l.length=a.length}},d(c){c&&M(A),Se(l,c)}}}function P_(e){let A,t=e[9].title+"",r;return{c(){A=v("span"),r=sA(t),m(A,"class","button is-small is-success"),m(A,"title",e[9].desc)},m(n,i){D(n,A,i),p(A,r)},p:tA,d(n){n&&M(A)}}}function X_(e){let A,t=e[8].title+"",r,n,i;function s(){return e[13](e[18])}return{c(){A=v("button"),r=sA(t),m(A,"class","button is-small is-warning"),m(A,"title",e[8].desc)},m(o,a){D(o,A,a),p(A,r),n||(i=mA(A,"click",s),n=!0)},p(o,a){e=o},d(o){o&&M(A),n=!1,i()}}}function J_(e){let A,t,r=e[18].size+"",n,i,s,o,a,l;function c(f,h){return f[18].fullyConnected?P_:X_}let u=c(e),g=u(e);return{c(){A=v("div"),t=v("span"),n=sA(r),i=sA(" images"),s=T(),o=v("hr"),a=T(),g.c(),l=T(),m(t,"class","cluster-size"),m(A,"class","cluster-info is-center is-fullwidth")},m(f,h){D(f,A,h),p(A,t),p(t,n),p(t,i),p(A,s),p(A,o),p(A,a),g.m(A,null),D(f,l,h)},p(f,h){h&2&&r!==(r=f[18].size+"")&&TA(n,r),u===(u=c(f))&&g?g.p(f,h):(g.d(1),g=u(f),g&&(g.c(),g.m(A,null)))},d(f){f&&M(A),g.d(),f&&M(l)}}}function W_(e){let A,t,r;return A=new Xc({props:{items:e[2].get(e[18].id),copyable:!1,selectionStore:li}}),{c(){_A(A.$$.fragment),t=T()},m(n,i){FA(A,n,i),D(n,t,i),r=!0},p(n,i){const s={};i&6&&(s.items=n[2].get(n[18].id)),A.$set(s)},i(n){r||(O(A.$$.fragment,n),r=!0)},o(n){P(A.$$.fragment,n),r=!1},d(n){yA(A,n),n&&M(t)}}}function Pg(e,A){let t,r,n;return r=new B_({props:{$$slots:{"row-body":[W_],"row-header":[J_]},$$scope:{ctx:A}}}),{key:e,first:null,c(){t=Ke(),_A(r.$$.fragment),this.first=t},m(i,s){D(i,t,s),FA(r,i,s),n=!0},p(i,s){A=i;const o={};s&16777222&&(o.$$scope={dirty:s,ctx:A}),r.$set(o)},i(i){n||(O(r.$$.fragment,i),n=!0)},o(i){P(r.$$.fragment,i),n=!1},d(i){i&&M(t),yA(r,i)}}}function Y_(e){let A=[],t=new R_,r,n,i=e[1];const s=o=>o[18].id;for(let o=0;o<i.length;o+=1){let a=Rg(e,i,o),l=s(a);t.set(l,A[o]=Pg(l,a))}return{c(){for(let o=0;o<A.length;o+=1)A[o].c();r=Ke()},m(o,a){for(let l=0;l<A.length;l+=1)A[l]&&A[l].m(o,a);D(o,r,a),n=!0},p(o,a){a&774&&(i=o[1],WA(),A=_n(A,a,s,1,o,i,t,r.parentNode,ua,Pg,r,Rg),YA())},i(o){if(!n){for(let a=0;a<i.length;a+=1)O(A[a]);n=!0}},o(o){for(let a=0;a<A.length;a+=1)P(A[a]);n=!1},d(o){for(let a=0;a<A.length;a+=1)A[a].d(o);o&&M(r)}}}function z_(e){let A,t,r,n,i,s,o,a,l,c=En&&V_(e);return t=new Ig({props:{store:e[0],nbOfItems:e[3],pageLength:e[7]}}),n=new N_({props:{selectionStore:li}}),s=new s_({props:{$$slots:{default:[Y_]},$$scope:{ctx:e}}}),a=new Ig({props:{store:e[0],nbOfItems:e[3],pageLength:e[7]}}),{c(){c&&c.c(),A=T(),_A(t.$$.fragment),r=T(),_A(n.$$.fragment),i=T(),_A(s.$$.fragment),o=T(),_A(a.$$.fragment)},m(u,g){c&&c.m(u,g),D(u,A,g),FA(t,u,g),D(u,r,g),FA(n,u,g),D(u,i,g),FA(s,u,g),D(u,o,g),FA(a,u,g),l=!0},p(u,[g]){En&&c.p(u,g);const f={};g&1&&(f.store=u[0]),g&8&&(f.nbOfItems=u[3]),t.$set(f);const h={};g&16777222&&(h.$$scope={dirty:g,ctx:u}),s.$set(h);const B={};g&1&&(B.store=u[0]),g&8&&(B.nbOfItems=u[3]),a.$set(B)},i(u){l||(O(c),O(t.$$.fragment,u),O(n.$$.fragment,u),O(s.$$.fragment,u),O(a.$$.fragment,u),l=!0)},o(u){P(c),P(t.$$.fragment,u),P(n.$$.fragment,u),P(s.$$.fragment,u),P(a.$$.fragment,u),l=!1},d(u){c&&c.d(u),u&&M(A),yA(t,u),u&&M(r),yA(n,u),u&&M(i),yA(s,u),u&&M(o),yA(a,u)}}}function $_(e,A,t){let r,n,i,s,{documentSetStore:o}=A;const{imageNodes:a}=o;SA(e,a,C=>t(12,n=C));let{clusterStore:l}=A;const{clusterNb:c,paginatedClusters:u,pageLength:g,validateCluster:f,newCluster:h,removeFromClusters:B}=l;SA(e,c,C=>t(3,s=C)),SA(e,u,C=>t(1,i=C));const w={create:{title:eA==="en"?"New cluster":"Nouveau cluster",desc:eA==="en"?"Create a new validated cluster from the selected regions":"Créer un nouveau cluster valide à partir des régions sélectionnées",icon:"fa-object-group",shortcut:"Shift + C",fct:h},remove:{title:eA==="en"?"Remove from cluster":"Retirer du cluster",desc:eA==="en"?"Remove the selected regions from their cluster":"Retirer les régions sélectionnées de leur cluster",icon:"fa-chain-broken",shortcut:"Shift + D",fct:B},validate:{title:eA==="en"?"Validate cluster":"Valider le cluster",desc:eA==="en"?"Set as exact match all the pairs of regions in the cluster":"Définir comme correspondance exacte toutes les paires de régions dans le cluster",icon:"fa-check",fct:f},validated:{title:eA==="en"?"Validated cluster":"Cluster valide",desc:eA==="en"?"All pairs of regions have be categorized as exact matches":"Toutes les paires de régions ont été catégorisées comme des correspondances exactes",icon:"fa-check"}},{validate:d,validated:F,..._}=w,Q=C=>d.fct(C);return e.$$set=C=>{"documentSetStore"in C&&t(11,o=C.documentSetStore),"clusterStore"in C&&t(0,l=C.clusterStore)},e.$$.update=()=>{e.$$.dirty&4098&&t(2,r=new Map(i.map(C=>[C.id,C.members.map(y=>({...n.get(y),clusterId:C.id}))])))},[l,i,r,s,a,c,u,g,d,F,_,o,n,Q]}class Z_ extends $A{constructor(A){super(),zA(this,A,$_,z_,JA,{documentSetStore:11,clusterStore:0})}}function j_(e,A){const r=PA(1),{visiblePairs:n,imageNodes:i}=e;fa(r,"p");function s(Q){ga(Q,r,"p")}function o(Q){if(Q.length===0)return[];const C=new Map,y=E=>C.has(E)?(C.get(E)!==E&&C.set(E,y(C.get(E))),C.get(E)):(C.set(E,E),E),H=(E,L)=>{const N=y(E),X=y(L);N!==X&&C.set(X,N)},U=new Set;Q.forEach(E=>{H(E.id_1,E.id_2),U.add(E.id_1),U.add(E.id_2)});const S=new Map;return U.forEach(E=>{const L=y(E);S.has(L)||S.set(L,[]),S.get(L).push(E)}),Array.from(S.values()).map(E=>{const L=E.length,N=L*(L-1)/2,X=new Set(E),k=Q.filter(z=>X.has(z.id_1)&&X.has(z.id_2)).length;return{id:crypto.randomUUID(),members:E,size:L,fullyConnected:k===N}}).filter(E=>E.size>1).sort((E,L)=>L.size-E.size)}const a=pe(n,Q=>Q.length?o(Q):[]),l=PA([]);a.subscribe(Q=>{l.set(Q)});const c=pe([l,r],([Q,C])=>{const y=(C-1)*10,H=y+10;return Q.slice(y,H)}),u=(Q,C)=>{const y=Ce(i).get(Q),H=Ce(i).get(C);return{img_1:Q,img_2:C,regions_id_1:y==null?void 0:y.regionId,regions_id_2:H==null?void 0:H.regionId}},g=(Q,C)=>(l.update(y=>y.map(H=>{if(!C[H.id])return H;const U=H.members.filter(S=>!Q.has(S));return{...H,members:U,size:U.length}}).filter(H=>H.size>0)),!0),f=async Q=>{const C=Array.isArray(Q)?Q:Object.keys(Q),y=new Set(C),H={};Ce(l).forEach(S=>{const E=S.members.filter(L=>y.has(L));E.length>0&&(H[S.id]=E)});const U=Object.entries(H).flatMap(([S,E])=>{const L=Ce(l).find(X=>X.id===S);if(!L)return[];const N=L.members.filter(X=>!y.has(X));return E.flatMap(X=>N.map(k=>u(X,k)))});if(U.length===0)return g(y,H),!0;try{const S=await fs(()=>fetch(`${window.location.origin}/${ct}/uncategorize-pair-batch`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":cs},body:JSON.stringify({pairs:U})}));return S.ok?(g(y,H),!0):(console.log(S),await Ct(eA==="en"?"Batch un-categorization failed":"La dé-catégorisation par lot a échoué",eA==="en"?"Error":"Erreur"),!1)}catch(S){return await Ct(S,eA==="en"?"Error":"Erreur"),!1}},h=async Q=>{const C=Q.flatMap((y,H)=>Q.slice(H+1).map(U=>u(y,U)));try{const y=await fs(()=>fetch(`${window.location.origin}/${ct}/exact-match-batch`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":cs},body:JSON.stringify({pairs:C})}));return y.ok?!0:(console.log(y),await Ct(eA==="en"?"Batch validation failed":"La validation par lot a échoué",eA==="en"?"Error":"Erreur"),!1)}catch(y){return await Ct(y,eA==="en"?"Error":"Erreur"),console.error("Error:",y),!1}},B=async Q=>{if(!En)return await Ct(eA==="en"?"You do not have permission to validate clusters":"Vous n'avez pas la permission, de valider les clusters.",eA==="en"?"Permission Denied":"Permission refusée"),!1;const C=await h(Q.members);return C&&l.update(y=>y.map(H=>H.id===Q.id?{...H,fullyConnected:!0}:H)),C},w=async Q=>{if(Q.length<2)return!1;const C=await h(Q);return C&&l.update(y=>[{id:crypto.randomUUID(),members:Q,size:Q.length,fullyConnected:!0},...y].sort((U,S)=>S.size-U.size)),C},d=()=>Object.values(Ce(A).selected)[0]||{},F=async()=>{if(!await Ct(eA==="en"?"Do you want to create a cluster out of these images?":"Voulez-vous créer un cluster à partir de ces images ?",eA==="en"?"Confirm creation":"Confirmer la création",!0))return;const C=d(),y=Object.keys(C);return y.length<2?(await Ct(eA==="en"?"Cluster creation requires at least 2 images":"La création d'un nouveau cluster nécessite a minima 2 images",eA==="en"?"Impossible creation":"Création impossible"),!1):!await f(y)||!await w(y)?!1:(A.empty(),!0)},_=async()=>{if(!await Ct(eA==="en"?"Do you want to remove these images from their clusters?":"Voulez-vous supprimer ces images de leurs clusters ?",eA==="en"?"Confirm deletion":"Confirmer la suppression",!0))return;const C=d();return await f(Object.keys(C))?(A.empty(),!0):!1};return{imageClusters:a,interfaceClusters:l,clusterNb:pe(l,Q=>Q.length),validateCluster:B,removeFromClusters:_,newCluster:F,paginatedClusters:c,handlePageUpdate:s,pageLength:10,currentPage:r}}const q_=e=>({}),Xg=e=>({});function Ab(e){let A,t,r,n,i,s,o,a,l,c,u,g,f,h,B,w,d,F,_,Q,C;const y=e[1].content,H=Fe(y,e,e[0],Xg);return{c(){A=v("button"),t=T(),r=v("div"),n=v("div"),i=T(),s=v("div"),o=v("div"),o.innerHTML=`<div class="title is-4 mb-0 media-content"><span id="modal-title" class="mb-0"></span></div>
            <button class="delete media-left" aria-label="close"></button>`,a=T(),l=v("section"),c=v("div"),u=T(),g=v("div"),H&&H.c(),f=T(),h=v("footer"),B=v("div"),w=v("button"),w.textContent=`${eA==="en"?"Abort":"Retour"}`,d=T(),F=v("button"),F.textContent="OK",m(A,"id","hidden-msg-btn"),m(A,"data-target","msg-modal"),A.hidden=!0,m(n,"id","modal-bkg"),m(n,"class","modal-background"),m(o,"class","modal-card-head media mb-0"),m(c,"id","modal-msg"),m(g,"class","py-3"),m(l,"id","modal-body"),m(l,"class","modal-card-body"),m(w,"id","cancel-btn"),m(w,"class","button is-link is-light button-close"),m(F,"id","ok-btn"),m(F,"class","button is-link button-close"),m(B,"class","buttons"),m(h,"id","modal-footer"),m(h,"class","modal-card-foot is-center pt-3"),h.hidden=!0,m(s,"class","modal-content"),m(r,"id","msg-modal"),m(r,"class","modal fade"),m(r,"tabindex","-1"),m(r,"aria-labelledby","selection-modal-label"),m(r,"aria-hidden","true")},m(U,S){D(U,A,S),D(U,t,S),D(U,r,S),p(r,n),p(r,i),p(r,s),p(s,o),p(s,a),p(s,l),p(l,c),p(l,u),p(l,g),H&&H.m(g,null),p(s,f),p(s,h),p(h,B),p(B,w),p(B,d),p(B,F),_=!0,Q||(C=[Hr(Ba.call(null,A)),Hr(gs.call(null,r))],Q=!0)},p(U,[S]){H&&H.p&&(!_||S&1)&&_e(H,y,U,U[0],_?ye(y,U[0],S,q_):be(U[0]),Xg)},i(U){_||(O(H,U),_=!0)},o(U){P(H,U),_=!1},d(U){U&&M(A),U&&M(t),U&&M(r),H&&H.d(U),Q=!1,Be(C)}}}function eb(e,A,t){let{$$slots:r={},$$scope:n}=A;return e.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,r]}class tb extends $A{constructor(A){super(),zA(this,A,eb,Ab,JA,{})}}function Jg(e,A,t){const r=e.slice();return r[25]=A[t],r}function rb(e){let A,t,r;return t=new td({props:{docSet:e[0],documentSetStore:e[5],clusterStore:e[9]}}),{c(){A=v("div"),_A(t.$$.fragment),m(A,"slot","sidebar")},m(n,i){D(n,A,i),FA(t,A,null),r=!0},p(n,i){const s={};i&1&&(s.docSet=n[0]),t.$set(s)},i(n){r||(O(t.$$.fragment,n),r=!0)},o(n){P(t.$$.fragment,n),r=!1},d(n){n&&M(A),yA(t)}}}function Wg(e){let A,t,r,n,i,s,o,a=e[25].title+"",l,c;return{c(){A=v("div"),t=v("figure"),r=v("img"),i=T(),s=v("div"),o=v("span"),l=sA(a),c=T(),lt(r.src,n=ar(e[25].img,e[25].xywh,"96,"))||m(r,"src",n),m(r,"alt","Extracted region"),m(o,"class","overlay-desc"),m(s,"class","overlay is-center"),m(t,"class","image is-64x64 card"),m(A,"class","selection cell")},m(u,g){D(u,A,g),p(A,t),p(t,r),p(t,i),p(t,s),p(s,o),p(o,l),p(A,c)},p(u,g){g&2&&!lt(r.src,n=ar(u[25].img,u[25].xywh,"96,"))&&m(r,"src",n),g&2&&a!==(a=u[25].title+"")&&TA(l,a)},d(u){u&&M(A)}}}function nb(e){let A,t,r=Object.values(Object.values(e[1])[0]||{}),n=[];for(let i=0;i<r.length;i+=1)n[i]=Wg(Jg(e,r,i));return{c(){A=v("div"),t=v("div");for(let i=0;i<n.length;i+=1)n[i].c();m(t,"class","grid is-gap-2"),m(A,"slot","content"),m(A,"class","fixed-grid has-6-cols")},m(i,s){D(i,A,s),p(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s&2){r=Object.values(Object.values(i[1])[0]||{});let o;for(o=0;o<r.length;o+=1){const a=Jg(i,r,o);n[o]?n[o].p(a,s):(n[o]=Wg(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&M(A),Se(n,i)}}}function ib(e){let A,t,r,n={ctx:e,current:null,token:null,hasCatch:!1,pending:Bb,then:ab,catch:ob,value:24,blocks:[,,,]};return yn(t=e[3],n),{c(){A=Ke(),n.block.c()},m(i,s){D(i,A,s),n.block.m(i,n.anchor=s),n.mount=()=>A.parentNode,n.anchor=A,r=!0},p(i,s){e=i,n.ctx=e,s&8&&t!==(t=e[3])&&yn(t,n)||la(n,e,s)},i(i){r||(O(n.block),r=!0)},o(i){for(let s=0;s<3;s+=1){const o=n.blocks[s];P(o)}r=!1},d(i){i&&M(A),n.block.d(i),n.token=null,n=null}}}function sb(e){let A,t,r;return{c(){A=v("article"),t=v("div"),r=sA(e[2]),m(t,"class","message-body"),m(A,"class","message is-danger")},m(n,i){D(n,A,i),p(A,t),p(t,r)},p(n,i){i&4&&TA(r,n[2])},i:tA,o:tA,d(n){n&&M(A)}}}function ob(e){return{c:tA,m:tA,p:tA,i:tA,o:tA,d:tA}}function ab(e){let A,t,r,n;const i=[cb,lb],s=[];function o(a,l){return a[24]===0?0:1}return A=o(e),t=s[A]=i[A](e),{c(){t.c(),r=Ke()},m(a,l){s[A].m(a,l),D(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?s[A].p(a,l):(WA(),P(s[c],1,1,()=>{s[c]=null}),YA(),t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),O(t,1),t.m(r.parentNode,r))},i(a){n||(O(t),n=!0)},o(a){P(t),n=!1},d(a){s[A].d(a),a&&M(r)}}}function lb(e){let A,t,r=e[10][e[4]]+"",n,i,s,o,a;const l=[gb,fb,ub],c=[];function u(g,f){return g[4]==="img"||g[4]==="doc"?0:g[4]==="sim"?1:g[4]==="mat"?2:-1}return~(s=u(e))&&(o=c[s]=l[s](e)),{c(){A=v("div"),t=v("h2"),n=sA(r),i=T(),o&&o.c(),m(t,"class","title is-3 has-text-link")},m(g,f){D(g,A,f),p(A,t),p(t,n),p(A,i),~s&&c[s].m(A,null),a=!0},p(g,f){(!a||f&16)&&r!==(r=g[10][g[4]]+"")&&TA(n,r);let h=s;s=u(g),s===h?~s&&c[s].p(g,f):(o&&(WA(),P(c[h],1,1,()=>{c[h]=null}),YA()),~s?(o=c[s],o?o.p(g,f):(o=c[s]=l[s](g),o.c()),O(o,1),o.m(A,null)):o=null)},i(g){a||(O(o),a=!0)},o(g){P(o),a=!1},d(g){g&&M(A),~s&&c[s].d()}}}function cb(e){let A;return{c(){A=v("article"),A.innerHTML=`<div class="message-body">No document pairs found for this configuration.
                            Please adjust your selection criteria in the sidebar to include more documents or
                            categories.</div>`,m(A,"class","message is-warning")},m(t,r){D(t,A,r)},p:tA,i:tA,o:tA,d(t){t&&M(A)}}}function ub(e){let A,t;return A=new qy({props:{documentSetStore:e[5]}}),{c(){_A(A.$$.fragment)},m(r,n){FA(A,r,n),t=!0},p:tA,i(r){t||(O(A.$$.fragment,r),t=!0)},o(r){P(A.$$.fragment,r),t=!1},d(r){yA(A,r)}}}function fb(e){let A,t;return A=new Z_({props:{documentSetStore:e[5],clusterStore:e[9]}}),{c(){_A(A.$$.fragment)},m(r,n){FA(A,r,n),t=!0},p:tA,i(r){t||(O(A.$$.fragment,r),t=!0)},o(r){P(A.$$.fragment,r),t=!1},d(r){yA(A,r)}}}function gb(e){let A,t;return A=new rC({props:{documentSetStore:e[5],type:e[4]}}),{c(){_A(A.$$.fragment)},m(r,n){FA(A,r,n),t=!0},p(r,n){const i={};n&16&&(i.type=r[4]),A.$set(i)},i(r){t||(O(A.$$.fragment,r),t=!0)},o(r){P(A.$$.fragment,r),t=!1},d(r){yA(A,r)}}}function Bb(e){let A;return{c(){A=v("progress"),A.textContent="Loading...",m(A,"class","progress is-link"),m(A,"max","100")},m(t,r){D(t,A,r)},p:tA,i:tA,o:tA,d(t){t&&M(A)}}}function hb(e){let A,t,r,n,i,s;t=new tb({props:{$$slots:{content:[nb]},$$scope:{ctx:e}}});const o=[sb,ib],a=[];function l(c,u){return c[2]?0:1}return n=l(e),i=a[n]=o[n](e),{c(){A=v("div"),_A(t.$$.fragment),r=T(),i.c(),m(A,"slot","content")},m(c,u){D(c,A,u),FA(t,A,null),p(A,r),a[n].m(A,null),s=!0},p(c,u){const g={};u&268435458&&(g.$$scope={dirty:u,ctx:c}),t.$set(g);let f=n;n=l(c),n===f?a[n].p(c,u):(WA(),P(a[f],1,1,()=>{a[f]=null}),YA(),i=a[n],i?i.p(c,u):(i=a[n]=o[n](c),i.c()),O(i,1),i.m(A,null))},i(c){s||(O(t.$$.fragment,c),O(i),s=!0)},o(c){P(t.$$.fragment,c),P(i),s=!1},d(c){c&&M(A),yA(t),a[n].d()}}}function db(e){let A,t;return A=new WB({props:{tabList:e[10],$$slots:{content:[hb],sidebar:[rb]},$$scope:{ctx:e}}}),{c(){_A(A.$$.fragment)},m(r,n){FA(A,r,n),t=!0},p(r,[n]){const i={};n&268435487&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(O(A.$$.fragment,r),t=!0)},o(r){P(A.$$.fragment,r),t=!1},d(r){yA(A,r)}}}function wb(e,A,t){var L;let r,n,i,s;SA(e,Pt,N=>t(4,s=N));let{docSet:o}=A;const a=r_(o.id),{error:l,fetchPairs:c,selectedRegions:u,selectedCategories:g,threshold:f,topK:h,mutualTopK:B,scoreMode:w}=a;SA(e,l,N=>t(2,n=N)),SA(e,c,N=>t(3,i=N));let d,F,_,Q,C,y;Gt(()=>{d=lr(u,"regions","set"),F=lr(g,"categories","array",[1]),_=lr(f,"threshold","number"),Q=lr(h,"topk","number"),C=lr(B,"mutual","boolean"),y=lr(w,"mode","string");const N=u.subscribe(d),X=g.subscribe(F),k=f.subscribe(_),z=h.subscribe(Q),K=B.subscribe(C),Z=w.subscribe(y);return()=>{N(),X(),k(),z(),K(),Z()}});const{selected:H}=li;SA(e,H,N=>t(1,r=N));const U=j_(a,li),S={sim:eA==="en"?"Copy Clusters":"Groupe de copies",mat:eA==="en"?"Document Matrix":"Matrice de documents",img:eA==="en"?"Image Network":"Réseau d'images",doc:eA==="en"?"Document Network":"Réseau de documents"},E=((L=o==null?void 0:o.selection)==null?void 0:L.selected)||{Witness:{},Series:{},Work:{}};return cB("selectedDocuments",E),e.$$set=N=>{"docSet"in N&&t(0,o=N.docSet)},[o,r,n,i,s,a,l,c,H,U,S]}class pb extends $A{constructor(A){super(),zA(this,A,wb,db,JA,{docSet:0})}}new pb({target:document.getElementById("document-set"),props:{docSet}})})();
//# sourceMappingURL=documentSet.js.map

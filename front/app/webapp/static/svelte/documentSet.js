(function(){"use strict";function sA(){}const Zo=e=>e;function Wg(e,A){for(const t in A)e[t]=A[t];return e}function Yg(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function jo(e){return e()}function qo(){return Object.create(null)}function Fe(e){e.forEach(jo)}function tr(e){return typeof e=="function"}function Ae(e,A){return e!=e?A==A:e!==A||e&&typeof e=="object"||typeof e=="function"}let wn;function ut(e,A){return wn||(wn=document.createElement("a")),wn.href=A,e===wn.href}function zg(e){return Object.keys(e).length===0}function pn(e,...A){if(e==null)return sA;const t=e.subscribe(...A);return t.unsubscribe?()=>t.unsubscribe():t}function be(e){let A;return pn(e,t=>A=t)(),A}function MA(e,A,t){e.$$.on_destroy.push(pn(A,t))}function Xe(e,A,t,r){if(e){const n=Aa(e,A,t,r);return e[0](n)}}function Aa(e,A,t,r){return e[1]&&r?Wg(t.ctx.slice(),e[1](r(A))):t.ctx}function Je(e,A,t,r){if(e[2]&&r){const n=e[2](r(t));if(A.dirty===void 0)return n;if(typeof n=="object"){const i=[],s=Math.max(A.dirty.length,n.length);for(let o=0;o<s;o+=1)i[o]=A.dirty[o]|n[o];return i}return A.dirty|n}return A.dirty}function We(e,A,t,r,n,i){if(n){const s=Aa(A,t,r,i);e.p(s,n)}}function Ye(e){if(e.ctx.length>32){const A=[],t=e.ctx.length/32;for(let r=0;r<t;r++)A[r]=-1;return A}return-1}function $g(e){const A={};for(const t in e)A[t]=!0;return A}function Ir(e){return e&&tr(e.destroy)?e.destroy:sA}const ea=typeof window<"u";let Zg=ea?()=>window.performance.now():()=>Date.now(),os=ea?e=>requestAnimationFrame(e):sA;const rr=new Set;function ta(e){rr.forEach(A=>{A.c(e)||(rr.delete(A),A.f())}),rr.size!==0&&os(ta)}function jg(e){let A;return rr.size===0&&os(ta),{promise:new Promise(t=>{rr.add(A={c:e,f:t})}),abort(){rr.delete(A)}}}const ra=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function p(e,A){e.appendChild(A)}function na(e){if(!e)return document;const A=e.getRootNode?e.getRootNode():e.ownerDocument;return A&&A.host?A:e.ownerDocument}function qg(e){const A=v("style");return AB(na(e),A),A.sheet}function AB(e,A){return p(e.head||e,A),A.sheet}function T(e,A,t){e.insertBefore(A,t||null)}function D(e){e.parentNode&&e.parentNode.removeChild(e)}function xe(e,A){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(A)}function v(e){return document.createElement(e)}function pt(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function aA(e){return document.createTextNode(e)}function O(){return aA(" ")}function Ke(){return aA("")}function QA(e,A,t,r){return e.addEventListener(A,t,r),()=>e.removeEventListener(A,t,r)}function St(e){return function(A){return A.preventDefault(),e.call(this,A)}}function ia(e){return function(A){return A.stopPropagation(),e.call(this,A)}}function m(e,A,t){t==null?e.removeAttribute(A):e.getAttribute(A)!==t&&e.setAttribute(A,t)}function eB(e){return Array.from(e.childNodes)}function RA(e,A){A=""+A,e.data!==A&&(e.data=A)}function mn(e,A){e.value=A??""}function VA(e,A,t,r){t==null?e.style.removeProperty(A):e.style.setProperty(A,t,r?"important":"")}function xt(e,A,t){for(let r=0;r<e.options.length;r+=1){const n=e.options[r];if(n.__value===A){n.selected=!0;return}}(!t||A!==void 0)&&(e.selectedIndex=-1)}function Qn(e){const A=e.querySelector(":checked");return A&&A.__value}function he(e,A,t){e.classList[t?"add":"remove"](A)}function sa(e,A,{bubbles:t=!1,cancelable:r=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t,r,A),n}const Cn=new Map;let vn=0;function tB(e){let A=5381,t=e.length;for(;t--;)A=(A<<5)-A^e.charCodeAt(t);return A>>>0}function rB(e,A){const t={stylesheet:qg(A),rules:{}};return Cn.set(e,t),t}function oa(e,A,t,r,n,i,s,o=0){const a=16.666/r;let l=`{
`;for(let w=0;w<=1;w+=a){const d=A+(t-A)*i(w);l+=w*100+`%{${s(d,1-d)}}
`}const c=l+`100% {${s(t,1-t)}}
}`,g=`__svelte_${tB(c)}_${o}`,u=na(e),{stylesheet:f,rules:h}=Cn.get(u)||rB(u,e);h[g]||(h[g]=!0,f.insertRule(`@keyframes ${g} ${c}`,f.cssRules.length));const B=e.style.animation||"";return e.style.animation=`${B?`${B}, `:""}${g} ${r}ms linear ${n}ms 1 both`,vn+=1,g}function nB(e,A){const t=(e.style.animation||"").split(", "),r=t.filter(A?i=>i.indexOf(A)<0:i=>i.indexOf("__svelte")===-1),n=t.length-r.length;n&&(e.style.animation=r.join(", "),vn-=n,vn||iB())}function iB(){os(()=>{vn||(Cn.forEach(e=>{const{ownerNode:A}=e.stylesheet;A&&D(A)}),Cn.clear())})}let Sr;function mt(e){Sr=e}function nr(){if(!Sr)throw new Error("Function called outside component initialization");return Sr}function ir(e){nr().$$.on_mount.push(e)}function xr(e){nr().$$.on_destroy.push(e)}function Un(){const e=nr();return(A,t,{cancelable:r=!1}={})=>{const n=e.$$.callbacks[A];if(n){const i=sa(A,t,{cancelable:r});return n.slice().forEach(s=>{s.call(e,i)}),!i.defaultPrevented}return!0}}function sB(e,A){return nr().$$.context.set(e,A),A}function aa(e){return nr().$$.context.get(e)}function oB(e,A){const t=e.$$.callbacks[A.type];t&&t.slice().forEach(r=>r.call(this,A))}const sr=[],qe=[];let or=[];const as=[],aB=Promise.resolve();let ls=!1;function lB(){ls||(ls=!0,aB.then(us))}function nt(e){or.push(e)}function Fn(e){as.push(e)}const cs=new Set;let ar=0;function us(){if(ar!==0)return;const e=Sr;do{try{for(;ar<sr.length;){const A=sr[ar];ar++,mt(A),cB(A.$$)}}catch(A){throw sr.length=0,ar=0,A}for(mt(null),sr.length=0,ar=0;qe.length;)qe.pop()();for(let A=0;A<or.length;A+=1){const t=or[A];cs.has(t)||(cs.add(t),t())}or.length=0}while(sr.length);for(;as.length;)as.pop()();ls=!1,cs.clear(),mt(e)}function cB(e){if(e.fragment!==null){e.update(),Fe(e.before_update);const A=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,A),e.after_update.forEach(nt)}}function uB(e){const A=[],t=[];or.forEach(r=>e.indexOf(r)===-1?A.push(r):t.push(r)),t.forEach(r=>r()),or=A}let Lr;function fB(){return Lr||(Lr=Promise.resolve(),Lr.then(()=>{Lr=null})),Lr}function fs(e,A,t){e.dispatchEvent(sa(`${A?"intro":"outro"}${t}`))}const yn=new Set;let Qt;function ne(){Qt={r:0,c:[],p:Qt}}function ie(){Qt.r||Fe(Qt.c),Qt=Qt.p}function V(e,A){e&&e.i&&(yn.delete(e),e.i(A))}function Y(e,A,t,r){if(e&&e.o){if(yn.has(e))return;yn.add(e),Qt.c.push(()=>{yn.delete(e),r&&(t&&e.d(1),r())}),e.o(A)}else r&&r()}const gB={duration:0};function _n(e,A,t,r){const n={direction:"both"};let i=A(e,t,n),s=r?0:1,o=null,a=null,l=null;function c(){l&&nB(e,l)}function g(f,h){const B=f.b-s;return h*=Math.abs(B),{a:s,b:f.b,d:B,duration:h,start:f.start,end:f.start+h,group:f.group}}function u(f){const{delay:h=0,duration:B=300,easing:w=Zo,tick:d=sA,css:F}=i||gB,b={start:Zg()+h,b:f};f||(b.group=Qt,Qt.r+=1),o||a?a=b:(F&&(c(),l=oa(e,s,f,B,h,w,F)),f&&d(0,1),o=g(b,B),nt(()=>fs(e,f,"start")),jg(Q=>{if(a&&Q>a.start&&(o=g(a,B),a=null,fs(e,o.b,"start"),F&&(c(),l=oa(e,s,o.b,o.duration,0,w,i.css))),o){if(Q>=o.end)d(s=o.b,1-s),fs(e,o.b,"end"),a||(o.b?c():--o.group.r||Fe(o.group.c)),o=null;else if(Q>=o.start){const C=Q-o.start;s=o.a+o.d*w(C/o.duration),d(s,1-s)}}return!!(o||a)}))}return{run(f){tr(i)?fB().then(()=>{i=i(n),u(f)}):u(f)},end(){c(),o=a=null}}}function bn(e,A){const t=A.token={};function r(n,i,s,o){if(A.token!==t)return;A.resolved=o;let a=A.ctx;s!==void 0&&(a=a.slice(),a[s]=o);const l=n&&(A.current=n)(a);let c=!1;A.block&&(A.blocks?A.blocks.forEach((g,u)=>{u!==i&&g&&(ne(),Y(g,1,1,()=>{A.blocks[u]===g&&(A.blocks[u]=null)}),ie())}):A.block.d(1),l.c(),V(l,1),l.m(A.mount(),A.anchor),c=!0),A.block=l,A.blocks&&(A.blocks[i]=l),c&&us()}if(Yg(e)){const n=nr();if(e.then(i=>{mt(n),r(A.then,1,A.value,i),mt(null)},i=>{if(mt(n),r(A.catch,2,A.error,i),mt(null),!A.hasCatch)throw i}),A.current!==A.pending)return r(A.pending,0),!0}else{if(A.current!==A.then)return r(A.then,1,A.value,e),!0;A.resolved=e}}function la(e,A,t){const r=A.slice(),{resolved:n}=e;e.current===e.then&&(r[e.value]=n),e.current===e.catch&&(r[e.error]=n),e.block.p(r,t)}function ca(e,A){e.d(1),A.delete(e.key)}function ua(e,A){Y(e,1,1,()=>{A.delete(e.key)})}function En(e,A,t,r,n,i,s,o,a,l,c,g){let u=e.length,f=i.length,h=u;const B={};for(;h--;)B[e[h].key]=h;const w=[],d=new Map,F=new Map,b=[];for(h=f;h--;){const E=g(n,i,h),U=t(E);let H=s.get(U);H?r&&b.push(()=>H.p(E,A)):(H=l(U,E),H.c()),d.set(U,w[h]=H),U in B&&F.set(U,Math.abs(h-B[U]))}const Q=new Set,C=new Set;function y(E){V(E,1),E.m(o,c),s.set(E.key,E),c=E.first,f--}for(;u&&f;){const E=w[f-1],U=e[u-1],H=E.key,k=U.key;E===U?(c=E.first,u--,f--):d.has(k)?!s.has(H)||Q.has(H)?y(E):C.has(k)?u--:F.get(H)>F.get(k)?(C.add(H),y(E)):(Q.add(k),u--):(a(U,s),u--)}for(;u--;){const E=e[u];d.has(E.key)||a(E,s)}for(;f;)y(w[f-1]);return Fe(b),w}function Hn(e,A,t){const r=e.$$.props[A];r!==void 0&&(e.$$.bound[r]=t,t(e.$$.ctx[r]))}function SA(e){e&&e.c()}function bA(e,A,t,r){const{fragment:n,after_update:i}=e.$$;n&&n.m(A,t),r||nt(()=>{const s=e.$$.on_mount.map(jo).filter(tr);e.$$.on_destroy?e.$$.on_destroy.push(...s):Fe(s),e.$$.on_mount=[]}),i.forEach(nt)}function EA(e,A){const t=e.$$;t.fragment!==null&&(uB(t.after_update),Fe(t.on_destroy),t.fragment&&t.fragment.d(A),t.on_destroy=t.fragment=null,t.ctx=[])}function BB(e,A){e.$$.dirty[0]===-1&&(sr.push(e),lB(),e.$$.dirty.fill(0)),e.$$.dirty[A/31|0]|=1<<A%31}function se(e,A,t,r,n,i,s,o=[-1]){const a=Sr;mt(e);const l=e.$$={fragment:null,ctx:[],props:i,update:sA,not_equal:n,bound:qo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(A.context||(a?a.$$.context:[])),callbacks:qo(),dirty:o,skip_bound:!1,root:A.target||a.$$.root};s&&s(l.root);let c=!1;if(l.ctx=t?t(e,A.props||{},(g,u,...f)=>{const h=f.length?f[0]:u;return l.ctx&&n(l.ctx[g],l.ctx[g]=h)&&(!l.skip_bound&&l.bound[g]&&l.bound[g](h),c&&BB(e,g)),u}):[],l.update(),c=!0,Fe(l.before_update),l.fragment=r?r(l.ctx):!1,A.target){if(A.hydrate){const g=eB(A.target);l.fragment&&l.fragment.l(g),g.forEach(D)}else l.fragment&&l.fragment.c();A.intro&&V(e.$$.fragment),bA(e,A.target,A.anchor,A.customElement),us()}mt(a)}class oe{$destroy(){EA(this,1),this.$destroy=sA}$on(A,t){if(!tr(t))return sA;const r=this.$$.callbacks[A]||(this.$$.callbacks[A]=[]);return r.push(t),()=>{const n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(A){this.$$set&&!zg(A)&&(this.$$.skip_bound=!0,this.$$set(A),this.$$.skip_bound=!1)}}const lr=[];function hB(e,A){return{subscribe:ZA(e,A).subscribe}}function ZA(e,A=sA){let t;const r=new Set;function n(o){if(Ae(e,o)&&(e=o,t)){const a=!lr.length;for(const l of r)l[1](),lr.push(l,e);if(a){for(let l=0;l<lr.length;l+=2)lr[l][0](lr[l+1]);lr.length=0}}}function i(o){n(o(e))}function s(o,a=sA){const l=[o,a];return r.add(l),r.size===1&&(t=A(n)||sA),o(e),()=>{r.delete(l),r.size===0&&t&&(t(),t=null)}}return{set:n,update:i,subscribe:s}}function ye(e,A,t){const r=!Array.isArray(e),n=r?[e]:e,i=A.length<2;return hB(t,s=>{let o=!1;const a=[];let l=0,c=sA;const g=()=>{if(l)return;c();const f=A(r?a[0]:a,s);i?s(f):c=tr(f)?f:sA},u=n.map((f,h)=>pn(f,B=>{a[h]=B,l&=~(1<<h),o&&g()},()=>{l|=1<<h}));return o=!0,g(),function(){Fe(u),c(),o=!1}})}function dB(){const e=new URLSearchParams(window.location.search).get("tab")??"all",{subscribe:A,set:t}=ZA(e);return{subscribe:A,change:r=>{t(r);const n=new URL(window.location);n.searchParams.set("tab",r),window.history.pushState({},"",n)},init:()=>{const r=new URLSearchParams(window.location.search).get("tab")??"all";t(r)}}}const Xt=dB(),rA=APP_LANG,ft=APP_NAME;WEBAPP_NAME;const wB=USER_ID,In=IS_SUPERUSER,gs=CSRF_TOKEN;ADDITIONAL_MODULES;const pB="Region",Sn=APP_URL,mB=SAS_APP_URL,QB=CANTALOUPE_APP_URL;MEDIA_PATH;const CB=PAGE_LEN,xn={Witness:rA==="en"?"Witness":"Témoin",Work:rA==="en"?"Work":"Œuvre",Series:rA==="en"?"Series":"Série d'imprimés",Regions:rA==="en"?"Region Extraction":"Extraction d'illustrations",User:rA==="en"?"User":"Utilisateur"},Bs=ZA(!1),vB=e=>typeof e=="string"||e instanceof String;async function hs(e){Bs.set(!0);try{return await e()}finally{Bs.set(!1)}}function UB(e){return e.match(/\d+/g).toString()}function kr(){return QB??"http://localhost:8182"}function FB(){return mB??"http://localhost:8888"}function fa(e,A){if(typeof window<"u"){const t=parseInt(new URLSearchParams(window.location.search).get(A));if(!isNaN(t))return e.set(t),t}return e.set(1),1}function ga(e,A,t){if(A.set(e),typeof window<"u"){const r=new URL(window.location.href);r.searchParams.set(t,e),window.history.pushState({},"",r)}}function yB(e=null){if(e)return e=e.split("_"),e.length<3?void 0:`${e.slice(0,3).join("_").replace(".jpg","")}.jpg`}function _B(e=null){const A=yB(e);return A===void 0?void 0:`${kr()}/iiif/2/${A}`}function cr(e=null,A=null,t="full"){if(A=vB(A)?A.replace(".jpg",""):A,!e)return"https://placehold.co/96x96/png?text=No+image";if(!e.startsWith("wit")){const[i,...s]=e.split("_wit");e=`wit${s}`}const r=_B(e);if(r===void 0)return"https://placehold.co/96x96/png?text=No+image";const n=e.split("_");return A||(A=n[n.length-1].includes(",")?n.pop().replace(".jpg",""):"full"),`${r}/${A}/${t}/0/default.jpg`}function Ct(e,A=null,t=!1){return new Promise(r=>{if(document.getElementById("msg-modal")){t?document.getElementById("modal-footer").hidden=!1:r(void 0),A&&(document.getElementById("modal-title").innerHTML=A),document.getElementById("modal-msg").innerHTML=e,document.getElementById("hidden-msg-btn").click();const i=document.getElementById("cancel-btn"),s=document.getElementById("ok-btn"),o=document.getElementById("modal-bkg"),a=()=>{i.removeEventListener("click",l),o.removeEventListener("click",l),s.removeEventListener("click",c),document.getElementById("modal-footer").hidden=!0},l=()=>{a(),r(!1)},c=()=>{a(),r(!0)};i.addEventListener("click",l),s.addEventListener("click",c)}else t?r(window.confirm(e)):(window.alert(e),r(void 0))})}function bB(){let e,A,t=(r,n)=>r===n;return{set:r=>{A=e,e=r},setCompareFn:r=>t=r,get:()=>e,getNewAndOld:()=>[e,A],same:()=>t(e,A)}}const EB=(e,A)=>Array.isArray(e)&&Array.isArray(A)&&e.length===A.length&&e.every((t,r)=>t===A[r]||void 0);function HB(e){const t=[85,70,60],r=[50,65,40],n=e*137.5%360,i=t[e%t.length],s=r[Math.floor(e/t.length)%r.length];return`hsl(${Math.floor(n)}, ${i}%, ${s}%)`}function IB(e=null){return e<600?1:e<800?2:e<1e3?3:e<1200?4:e<1400?5:e>=1400?6:4}function ds(e){const A=e.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button-close"),t=()=>e.classList.remove("is-active");A.forEach(n=>n.addEventListener("click",t));const r=n=>{n.key==="Escape"&&e.classList.contains("is-active")&&t()};return document.addEventListener("keydown",r),{destroy(){A.forEach(n=>n.removeEventListener("click",t)),document.removeEventListener("keydown",r)}}}function Ba(e){const A=()=>{const t=document.getElementById(e.dataset.target);t==null||t.classList.add("is-active")};return e.addEventListener("click",A),{destroy(){e.removeEventListener("click",A)}}}function ur(e,A,t="string",r=null){const n={string:s=>{const o=s.get(A);return o!==null?o:null},array:s=>{const o=s.get(A);return o?o.split(",").map(Number).filter(a=>!isNaN(a)):null},set:s=>{const o=s.get(A);return o?new Set(o.split(",").map(Number).filter(a=>!isNaN(a))):null},number:s=>{const o=s.get(A);return o!==null?Number(o):null},boolean:s=>{const o=s.get(A);return o!==null?o==="true":null}},i={string:(s,o)=>o?s.searchParams.set(A,o):s.searchParams.delete(A),array:(s,o)=>{o!=null&&o.length?s.searchParams.set(A,o.join(",")):s.searchParams.delete(A)},set:(s,o)=>{o!=null&&o.size?s.searchParams.set(A,Array.from(o).join(",")):s.searchParams.delete(A)},number:(s,o)=>{o!=null?s.searchParams.set(A,String(o)):s.searchParams.delete(A)},boolean:(s,o)=>o?s.searchParams.set(A,"true"):s.searchParams.delete(A)};if(typeof window<"u"){const s=new URLSearchParams(window.location.search),o=n[t](s);if(o!==null)e.set(o);else if(r!==null){const a=typeof r=="function"?r():r;e.set(a)}return a=>{const l=new URL(window.location);i[t](l,a),window.history.pushState({},"",l)}}return()=>{}}function SB(e){const A=e-1;return A*A*A+1}function ha(e,{delay:A=0,duration:t=400,easing:r=Zo}={}){const n=+getComputedStyle(e).opacity;return{delay:A,duration:t,easing:r,css:i=>`opacity: ${i*n}`}}function da(e,{delay:A=0,duration:t=400,easing:r=SB,axis:n="y"}={}){const i=getComputedStyle(e),s=+i.opacity,o=n==="y"?"height":"width",a=parseFloat(i[o]),l=n==="y"?["top","bottom"]:["left","right"],c=l.map(d=>`${d[0].toUpperCase()}${d.slice(1)}`),g=parseFloat(i[`padding${c[0]}`]),u=parseFloat(i[`padding${c[1]}`]),f=parseFloat(i[`margin${c[0]}`]),h=parseFloat(i[`margin${c[1]}`]),B=parseFloat(i[`border${c[0]}Width`]),w=parseFloat(i[`border${c[1]}Width`]);return{delay:A,duration:t,easing:r,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*s};${o}: ${d*a}px;padding-${l[0]}: ${d*g}px;padding-${l[1]}: ${d*u}px;margin-${l[0]}: ${d*f}px;margin-${l[1]}: ${d*h}px;border-${l[0]}-width: ${d*B}px;border-${l[1]}-width: ${d*w}px;`}}const nb="";function wa(e){let A,t,r;return{c(){A=v("div"),A.innerHTML='<div class="loader svelte-vizlcg"></div>',m(A,"class","bkg-shade svelte-vizlcg")},m(n,i){T(n,A,i),r=!0},i(n){r||(nt(()=>{r&&(t||(t=_n(A,ha,{duration:150},!0)),t.run(1))}),r=!0)},o(n){t||(t=_n(A,ha,{duration:150},!1)),t.run(0),r=!1},d(n){n&&D(A),n&&t&&t.end()}}}function xB(e){let A,t,r=e[0]&&wa();return{c(){r&&r.c(),A=Ke()},m(n,i){r&&r.m(n,i),T(n,A,i),t=!0},p(n,[i]){n[0]?r?i&1&&V(r,1):(r=wa(),r.c(),V(r,1),r.m(A.parentNode,A)):r&&(ne(),Y(r,1,1,()=>{r=null}),ie())},i(n){t||(V(r),t=!0)},o(n){Y(r),t=!1},d(n){r&&r.d(n),n&&D(A)}}}function LB(e,A,t){let r;return MA(e,Bs,n=>t(0,r=n)),[r]}class kB extends oe{constructor(A){super(),se(this,A,LB,xB,Ae,{})}}const ib="",KB=e=>({}),pa=e=>({});function ma(e,A,t){const r=e.slice();return r[9]=A[t][0],r[10]=A[t][1],r}const MB=e=>({}),Qa=e=>({}),DB=e=>({}),Ca=e=>({});function TB(e){let A,t,r=Object.entries(e[2]),n=[];for(let i=0;i<r.length;i+=1)n[i]=va(ma(e,r,i));return{c(){A=v("div"),t=v("ul");for(let i=0;i<n.length;i+=1)n[i].c();m(A,"class","tabs")},m(i,s){T(i,A,s),p(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s&12){r=Object.entries(i[2]);let o;for(o=0;o<r.length;o+=1){const a=ma(i,r,o);n[o]?n[o].p(a,s):(n[o]=va(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},i:sA,o:sA,d(i){i&&D(A),xe(n,i)}}}function OB(e){let A;const t=e[7].tabs,r=Xe(t,e,e[6],Qa);return{c(){r&&r.c()},m(n,i){r&&r.m(n,i),A=!0},p(n,i){r&&r.p&&(!A||i&64)&&We(r,t,n,n[6],A?Je(t,n[6],i,MB):Ye(n[6]),Qa)},i(n){A||(V(r,n),A=!0)},o(n){Y(r,n),A=!1},d(n){r&&r.d(n)}}}function va(e){let A,t,r=e[10]+"",n,i,s,o;function a(){return e[8](e[9])}return{c(){A=v("li"),t=v("a"),n=aA(r),i=O(),m(t,"href",null),he(A,"is-active",e[3]===e[9])},m(l,c){T(l,A,c),p(A,t),p(t,n),p(A,i),s||(o=QA(t,"click",a),s=!0)},p(l,c){e=l,c&4&&r!==(r=e[10]+"")&&RA(n,r),c&12&&he(A,"is-active",e[3]===e[9])},d(l){l&&D(A),s=!1,o()}}}function NB(e){let A,t,r,n,i,s,o,a,l,c,g,u,f;A=new kB({});const h=e[7].sidebar,B=Xe(h,e,e[6],Ca),w=[OB,TB],d=[];function F(C,y){return y&4&&(a=null),C[4].tabs?0:(a==null&&(a=!!Object.keys(C[2]).length),a?1:-1)}~(l=F(e,-1))&&(c=d[l]=w[l](e));const b=e[7].content,Q=Xe(b,e,e[6],pa);return{c(){SA(A.$$.fragment),t=O(),r=v("div"),n=v("aside"),B&&B.c(),i=O(),s=v("main"),o=v("nav"),c&&c.c(),g=O(),u=v("div"),Q&&Q.c(),m(n,"class","sidebar svelte-jr84gp"),VA(n,"width",e[0]+"%"),VA(n,"min-height",e[1]),m(o,"id","tabs"),m(o,"class","tabs-bar"),m(u,"class","content-area pl-5 svelte-jr84gp"),m(s,"class","main-content svelte-jr84gp"),VA(s,"width",100-e[0]+"%"),VA(s,"min-height",e[1]),m(r,"class","layout svelte-jr84gp"),VA(r,"min-height",e[1])},m(C,y){bA(A,C,y),T(C,t,y),T(C,r,y),p(r,n),B&&B.m(n,null),p(r,i),p(r,s),p(s,o),~l&&d[l].m(o,null),p(s,g),p(s,u),Q&&Q.m(u,null),f=!0},p(C,[y]){B&&B.p&&(!f||y&64)&&We(B,h,C,C[6],f?Je(h,C[6],y,DB):Ye(C[6]),Ca),(!f||y&1)&&VA(n,"width",C[0]+"%");let E=l;l=F(C,y),l===E?~l&&d[l].p(C,y):(c&&(ne(),Y(d[E],1,1,()=>{d[E]=null}),ie()),~l?(c=d[l],c?c.p(C,y):(c=d[l]=w[l](C),c.c()),V(c,1),c.m(o,null)):c=null),Q&&Q.p&&(!f||y&64)&&We(Q,b,C,C[6],f?Je(b,C[6],y,KB):Ye(C[6]),pa),(!f||y&1)&&VA(s,"width",100-C[0]+"%")},i(C){f||(V(A.$$.fragment,C),V(B,C),V(c),V(Q,C),f=!0)},o(C){Y(A.$$.fragment,C),Y(B,C),Y(c),Y(Q,C),f=!1},d(C){EA(A,C),C&&D(t),C&&D(r),B&&B.d(C),~l&&d[l].d(),Q&&Q.d(C)}}}function RB(e=null){e||(e=document.getElementById("navbar")),document.documentElement.style.setProperty("--top-offset",`${e.offsetHeight}px`)}function VB(e,A,t){let r;MA(e,Xt,u=>t(3,r=u));let{$$slots:n={},$$scope:i}=A;const s=$g(n);let{sidebarWidth:o="25"}=A;const a="90vh";let{tabList:l={}}=A,{topOffsetElement:c=null}=A;RB(c),ir(()=>(Xt.init(),window.addEventListener("popstate",()=>Xt.init()),()=>window.removeEventListener("popstate",()=>Xt.init())));const g=u=>Xt.change(u);return e.$$set=u=>{"sidebarWidth"in u&&t(0,o=u.sidebarWidth),"tabList"in u&&t(2,l=u.tabList),"topOffsetElement"in u&&t(5,c=u.topOffsetElement),"$$scope"in u&&t(6,i=u.$$scope)},[o,a,l,r,s,c,i,n,g]}class GB extends oe{constructor(A){super(),se(this,A,VB,NB,Ae,{sidebarWidth:0,layoutHeight:1,tabList:2,topOffsetElement:5})}get layoutHeight(){return this.$$.ctx[1]}}const Ln={0:{title:rA==="en"?"no categorization":"aucune catégorisation",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59">
        <rect x="1" y="0.62" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
    </svg>`},1:{title:rA==="en"?"overall visual matches":"correspondances visuelles globales",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 69">
        <rect x="10" y="10.62" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <rect x="1" y="1" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <rect x="10" y="10.62" width="46" height="45.71" rx="4.11" ry="4.11" fill="currentColor" stroke="none"/>
    </svg>`},2:{title:rA==="en"?"visual matches on part of the image":"correspondances visuelles sur une partie de l'image",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 71">
        <rect x="12" y="12.43" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <rect x="1" y="0.81" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <path d="M 12 21.43 L 21 12.43" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 12 30 L 30 12.43" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 40 56 L 57 38" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 48.3 56.29 L 57 47" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 12 39 L 39 12" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 12 48 L 48 12" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 13 56 L 57 12" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 31 56 L 57 29" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 21 57 L 57 21" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
    </svg>`},3:{title:rA==="en"?"semantic and non-visual matches":"correspondances sémantiques et non-visuelle",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 73">
        <rect x="14" y="14.43" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3" stroke-dasharray="9 9"/>
        <rect x="1" y="0.81" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
    </svg>`},4:{title:rA==="en"?"regions without match":"régions sans correspondance",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59">
        <rect x="1" y="0.62" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <path d="M 2.67 54.55 L 55 2" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 54.37 54.05 L 2.72 2.24" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
    </svg>`},5:{title:rA==="en"?"user specific category":"correspondances spécifiques à l'utilisateur",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59">
        <rect x="1" y="0.81" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <path d="M 8.69 55.28 C 9.25 44.15 18.08 35.28 28.86 35.28 C 32.5 35.28 36.07 36.3 39.18 38.25 C 44.96 41.85 48.66 48.3 49.02 55.28 Z M 17.85 21.48 C 17.85 15.37 22.79 10.39 28.86 10.39 C 34.92 10.39 39.86 15.37 39.86 21.48 C 39.86 27.59 34.92 32.56 28.86 32.56 C 22.79 32.56 17.85 27.59 17.85 21.48 Z M 40.37 36.34 C 38.43 35.13 36.32 34.25 34.13 33.7 C 38.82 31.64 42.1 26.94 42.1 21.48 C 42.1 14.13 36.16 8.15 28.86 8.15 C 21.55 8.15 15.61 14.13 15.61 21.48 C 15.61 26.95 18.9 31.66 23.6 33.71 C 13.76 36.18 6.41 45.4 6.41 56.4 C 6.41 57.02 6.92 57.52 7.54 57.52 L 50.17 57.52 C 50.79 57.52 51.3 57.02 51.3 56.4 C 51.3 48.23 47.11 40.54 40.37 36.34 Z" fill="currentColor" stroke="none"/>
    </svg>`}};function PB(e){let A,t=Ln[e[2]].svg+"",r,n,i,s;return{c(){A=v("span"),m(A,"class",r="tag py-4 "+e[4]+" "+(e[0]?"is-hoverable":"")),m(A,"title",n=Ln[e[2]].title),he(A,"is-selected",e[1])},m(o,a){T(o,A,a),A.innerHTML=t,i||(s=[QA(A,"click",e[5]),QA(A,"keyup",null)],i=!0)},p(o,[a]){a&4&&t!==(t=Ln[o[2]].svg+"")&&(A.innerHTML=t),a&17&&r!==(r="tag py-4 "+o[4]+" "+(o[0]?"is-hoverable":""))&&m(A,"class",r),a&4&&n!==(n=Ln[o[2]].title)&&m(A,"title",n),a&19&&he(A,"is-selected",o[1])},i:sA,o:sA,d(o){o&&D(A),i=!1,Fe(s)}}}function XB(e,A,t){let{selectable:r=!0}=A,{isSelected:n=!1}=A,{category:i}=A,{toggle:s=()=>{}}=A,{padding:o="px-2"}=A;const a=()=>s(i);return e.$$set=l=>{"selectable"in l&&t(0,r=l.selectable),"isSelected"in l&&t(1,n=l.isSelected),"category"in l&&t(2,i=l.category),"toggle"in l&&t(3,s=l.toggle),"padding"in l&&t(4,o=l.padding)},[r,n,i,s,o,a]}class JB extends oe{constructor(A){super(),se(this,A,XB,PB,Ae,{selectable:0,isSelected:1,category:2,toggle:3,padding:4})}}const pb="";function Ua(e){let A,t,r=e[3].title+"",n,i;return{c(){A=v("span"),t=v("a"),n=aA(r),m(t,"href",i=`${Sn}/${ft}/witness/${e[3].witnessId}/regions/${e[1]}`),m(t,"target","_blank"),m(A,"class","legend-label svelte-w1sf17")},m(s,o){T(s,A,o),p(A,t),p(t,n)},p(s,o){o&8&&r!==(r=s[3].title+"")&&RA(n,r),o&10&&i!==(i=`${Sn}/${ft}/witness/${s[3].witnessId}/regions/${s[1]}`)&&m(t,"href",i)},d(s){s&&D(A)}}}function WB(e){let A,t,r,n,i,s,o,a,l,c=!e[5]&&Ua(e);return{c(){A=v("div"),t=v("span"),r=O(),n=v("span"),o=O(),c&&c.c(),m(t,"class","legend-nb svelte-w1sf17"),m(n,"class","legend-color svelte-w1sf17"),m(n,"aria-label",i=e[3].title),m(n,"title",s=e[3].title),VA(n,"background-color",e[0]?e[3].color:"#999"),m(n,"role","button"),m(n,"tabindex","0"),he(n,"inactive",!e[0]),he(n,"clickable",e[4]),m(A,"class","legend-item svelte-w1sf17"),he(A,"inactive",!e[0])},m(g,u){T(g,A,u),p(A,t),p(A,r),p(A,n),p(A,o),c&&c.m(A,null),a||(l=[QA(n,"click",function(){tr(e[2])&&e[2].apply(this,arguments)}),QA(n,"keydown",null)],a=!0)},p(g,[u]){e=g,u&8&&i!==(i=e[3].title)&&m(n,"aria-label",i),u&8&&s!==(s=e[3].title)&&m(n,"title",s),u&9&&VA(n,"background-color",e[0]?e[3].color:"#999"),u&1&&he(n,"inactive",!e[0]),u&16&&he(n,"clickable",e[4]),e[5]?c&&(c.d(1),c=null):c?c.p(e,u):(c=Ua(e),c.c(),c.m(A,null)),u&1&&he(A,"inactive",!e[0])},i:sA,o:sA,d(g){g&&D(A),c&&c.d(),a=!1,Fe(l)}}}function YB(e,A,t){let{isActive:r=!0}=A,{id:n}=A,{toggle:i=()=>{}}=A,{meta:s={title:"Region",color:"#999",witnessId:1}}=A,{clickable:o=!0}=A,{onlyColor:a=!1}=A;return e.$$set=l=>{"isActive"in l&&t(0,r=l.isActive),"id"in l&&t(1,n=l.id),"toggle"in l&&t(2,i=l.toggle),"meta"in l&&t(3,s=l.meta),"clickable"in l&&t(4,o=l.clickable),"onlyColor"in l&&t(5,a=l.onlyColor)},[r,n,i,s,o,a]}class Fa extends oe{constructor(A){super(),se(this,A,YB,WB,Ae,{isActive:0,id:1,toggle:2,meta:3,clickable:4,onlyColor:5})}}const mb="";function ya(e,A,t){const r=e.slice();return r[12]=A[t][0],r[13]=A[t][1],r}function zB(e){let A;return{c(){A=v("span"),A.innerHTML='<i class="fas fa-chevron-down"></i>',m(A,"class","icon is-small")},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function $B(e){let A;return{c(){A=v("span"),A.innerHTML='<i class="fas fa-chevron-up"></i>',m(A,"class","icon is-small")},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function _a(e){let A,t;function r(){return e[10](e[12])}return A=new Fa({props:{id:e[12],meta:e[13],isActive:e[0].has(parseInt(e[12])),toggle:r,onlyColor:!e[4]}}),{c(){SA(A.$$.fragment)},m(n,i){bA(A,n,i),t=!0},p(n,i){e=n;const s={};i&32&&(s.id=e[12]),i&32&&(s.meta=e[13]),i&33&&(s.isActive=e[0].has(parseInt(e[12]))),i&34&&(s.toggle=r),i&16&&(s.onlyColor=!e[4]),A.$set(s)},i(n){t||(V(A.$$.fragment,n),t=!0)},o(n){Y(A.$$.fragment,n),t=!1},d(n){EA(A,n)}}}function ZB(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,h,B,w,d,F,b,Q,C,y,E,U,H,k,x;function M(N,X){return N[4]?$B:zB}let R=M(e),I=R(e),G=e[5],K=[];for(let N=0;N<G.length;N+=1)K[N]=_a(ya(e,G,N));const $=N=>Y(K[N],1,1,()=>{K[N]=null});return{c(){A=v("div"),t=v("div"),r=v("div"),n=v("div"),i=v("h3"),i.textContent=`${rA==="en"?"Visible documents":"Documents visibles"}`,s=O(),o=v("div"),a=v("div"),l=v("p"),c=v("span"),g=v("select"),u=v("option"),u.textContent="ID",f=v("option"),f.textContent=`${xn.Witness}`,h=v("option"),h.textContent=`${rA==="en"?"Title":"Titre"}`,B=O(),w=v("p"),d=v("button"),d.innerHTML='<span class="icon is-small has-text-link pl-2"><i class="fas fa-check"></i></span>',F=O(),b=v("div"),Q=v("button"),I.c(),E=O(),U=v("div");for(let N=0;N<K.length;N+=1)K[N].c();m(i,"class","title mb-0"),m(n,"class","level-item"),m(r,"class","level-left"),u.__value="id",u.value=u.__value,f.__value="witnessId",f.value=f.__value,h.__value="title",h.value=h.__value,e[3]===void 0&&nt(()=>e[7].call(g)),m(c,"class","select is-small"),m(l,"class","control mb-0"),m(l,"title",rA==="en"?"Sort documents by":"Trier les documents par"),m(d,"class","button is-small is-shadowless"),m(w,"class","control"),m(w,"title",rA==="en"?"Select all documents":"Sélectionner tous les documents"),m(a,"class","level-item mb-0 field has-addons is-small"),m(Q,"class","button is-small is-ghost"),m(Q,"aria-label",C=e[4]?"Minify legend":"Expand legend"),m(b,"class","level-item"),m(b,"title",y=e[4]?"Minify legend":"Expand legend"),m(o,"class","level-right"),m(t,"class","level is-mobile mb-3"),m(U,"class","svelte-13ym7ov"),he(U,"is-condensed",!e[4]),he(U,"is-expanded",e[4])},m(N,X){T(N,A,X),p(A,t),p(t,r),p(r,n),p(n,i),p(t,s),p(t,o),p(o,a),p(a,l),p(l,c),p(c,g),p(g,u),p(g,f),p(g,h),xt(g,e[3],!0),p(a,B),p(a,w),p(w,d),p(o,F),p(o,b),p(b,Q),I.m(Q,null),p(A,E),p(A,U);for(let P=0;P<K.length;P+=1)K[P]&&K[P].m(U,null);H=!0,k||(x=[QA(g,"change",e[7]),QA(d,"click",e[8]),QA(Q,"click",e[9])],k=!0)},p(N,[X]){if(X&8&&xt(g,N[3]),R!==(R=M(N))&&(I.d(1),I=R(N),I&&(I.c(),I.m(Q,null))),(!H||X&16&&C!==(C=N[4]?"Minify legend":"Expand legend"))&&m(Q,"aria-label",C),(!H||X&16&&y!==(y=N[4]?"Minify legend":"Expand legend"))&&m(b,"title",y),X&51){G=N[5];let P;for(P=0;P<G.length;P+=1){const nA=ya(N,G,P);K[P]?(K[P].p(nA,X),V(K[P],1)):(K[P]=_a(nA),K[P].c(),V(K[P],1),K[P].m(U,null))}for(ne(),P=G.length;P<K.length;P+=1)$(P);ie()}(!H||X&16)&&he(U,"is-condensed",!N[4]),(!H||X&16)&&he(U,"is-expanded",N[4])},i(N){if(!H){for(let X=0;X<G.length;X+=1)V(K[X]);H=!0}},o(N){K=K.filter(Boolean);for(let X=0;X<K.length;X+=1)Y(K[X]);H=!1},d(N){N&&D(A),I.d(),xe(K,N),k=!1,Fe(x)}}}function jB(e,A,t){let r,{documentNodes:n}=A,{selectedRegions:i}=A,{toggleRegion:s}=A,{selectAllRegions:o}=A,a=!0,l="id";const c={id:(B,w)=>B[0]-w[0],witnessId:(B,w)=>(B[1].witnessId||0)-(w[1].witnessId||0),title:(B,w)=>(B[1].title||"").localeCompare(w[1].title||"")};function g(){l=Qn(this),t(3,l)}const u=()=>o(),f=()=>t(4,a=!a),h=B=>s(parseInt(B));return e.$$set=B=>{"documentNodes"in B&&t(6,n=B.documentNodes),"selectedRegions"in B&&t(0,i=B.selectedRegions),"toggleRegion"in B&&t(1,s=B.toggleRegion),"selectAllRegions"in B&&t(2,o=B.selectAllRegions)},e.$$.update=()=>{e.$$.dirty&72&&t(5,r=Array.from(n||new Map).sort(c[l]))},[i,s,o,l,a,r,n,g,u,f,h]}class qB extends oe{constructor(A){super(),se(this,A,jB,ZB,Ae,{documentNodes:6,selectedRegions:0,toggleRegion:1,selectAllRegions:2})}}var Lt;(function(e){e.Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values"})(Lt||(Lt={}));var Oe;(function(e){e[e.None=-1]="None",e[e.NoValue=0]="NoValue",e[e.LargeValue=1]="LargeValue",e[e.SmallValue=2]="SmallValue"})(Oe||(Oe={}));function Ah(e){return kn(e)&&typeof e.from=="function"}function kn(e){return typeof e=="object"&&typeof e.to=="function"}function ba(e){e.parentElement.removeChild(e)}function ws(e){return e!=null}function Ea(e){e.preventDefault()}function eh(e){return e.filter(function(A){return this[A]?!1:this[A]=!0},{})}function th(e,A){return Math.round(e/A)*A}function rh(e,A){var t=e.getBoundingClientRect(),r=e.ownerDocument,n=r.documentElement,i=Sa(r);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(i.x=0),A?t.top+i.y-n.clientTop:t.left+i.x-n.clientLeft}function it(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Ha(e,A,t){t>0&&(Me(e,A),setTimeout(function(){Mn(e,A)},t))}function Ia(e){return Math.max(Math.min(e,100),0)}function Kn(e){return Array.isArray(e)?e:[e]}function nh(e){e=String(e);var A=e.split(".");return A.length>1?A[1].length:0}function Me(e,A){e.classList&&!/\s/.test(A)?e.classList.add(A):e.className+=" "+A}function Mn(e,A){e.classList&&!/\s/.test(A)?e.classList.remove(A):e.className=e.className.replace(new RegExp("(^|\\b)"+A.split(" ").join("|")+"(\\b|$)","gi")," ")}function ih(e,A){return e.classList?e.classList.contains(A):new RegExp("\\b"+A+"\\b").test(e.className)}function Sa(e){var A=window.pageXOffset!==void 0,t=(e.compatMode||"")==="CSS1Compat",r=A?window.pageXOffset:t?e.documentElement.scrollLeft:e.body.scrollLeft,n=A?window.pageYOffset:t?e.documentElement.scrollTop:e.body.scrollTop;return{x:r,y:n}}function sh(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function oh(){var e=!1;try{var A=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,A)}catch{}return e}function ah(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function ps(e,A){return 100/(A-e)}function ms(e,A,t){return A*100/(e[t+1]-e[t])}function lh(e,A){return ms(e,e[0]<0?A+Math.abs(e[0]):A-e[0],0)}function ch(e,A){return A*(e[1]-e[0])/100+e[0]}function Kr(e,A){for(var t=1;e>=A[t];)t+=1;return t}function uh(e,A,t){if(t>=e.slice(-1)[0])return 100;var r=Kr(t,e),n=e[r-1],i=e[r],s=A[r-1],o=A[r];return s+lh([n,i],t)/ps(s,o)}function fh(e,A,t){if(t>=100)return e.slice(-1)[0];var r=Kr(t,A),n=e[r-1],i=e[r],s=A[r-1],o=A[r];return ch([n,i],(t-s)*ps(s,o))}function gh(e,A,t,r){if(r===100)return r;var n=Kr(r,e),i=e[n-1],s=e[n];return t?r-i>(s-i)/2?s:i:A[n-1]?e[n-1]+th(r-e[n-1],A[n-1]):r}var xa=function(){function e(A,t,r){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=t;var n,i=[];for(Object.keys(A).forEach(function(s){i.push([Kn(A[s]),s])}),i.sort(function(s,o){return s[0][0]-o[0][0]}),n=0;n<i.length;n++)this.handleEntryPoint(i[n][1],i[n][0]);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)this.handleStepPoint(n,this.xNumSteps[n])}return e.prototype.getDistance=function(A){for(var t=[],r=0;r<this.xNumSteps.length-1;r++)t[r]=ms(this.xVal,A,r);return t},e.prototype.getAbsoluteDistance=function(A,t,r){var n=0;if(A<this.xPct[this.xPct.length-1])for(;A>this.xPct[n+1];)n++;else A===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);!r&&A===this.xPct[n+1]&&n++,t===null&&(t=[]);var i,s=1,o=t[n],a=0,l=0,c=0,g=0;for(r?i=(A-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):i=(this.xPct[n+1]-A)/(this.xPct[n+1]-this.xPct[n]);o>0;)a=this.xPct[n+1+g]-this.xPct[n+g],t[n+g]*s+100-i*100>100?(l=a*i,s=(o-100*i)/t[n+g],i=1):(l=t[n+g]*a/100*s,s=0),r?(c=c-l,this.xPct.length+g>=1&&g--):(c=c+l,this.xPct.length-g>=1&&g++),o=t[n+g]*s;return A+c},e.prototype.toStepping=function(A){return A=uh(this.xVal,this.xPct,A),A},e.prototype.fromStepping=function(A){return fh(this.xVal,this.xPct,A)},e.prototype.getStep=function(A){return A=gh(this.xPct,this.xSteps,this.snap,A),A},e.prototype.getDefaultStep=function(A,t,r){var n=Kr(A,this.xPct);return(A===100||t&&A===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/r},e.prototype.getNearbySteps=function(A){var t=Kr(A,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var A=this.xNumSteps.map(nh);return Math.max.apply(null,A)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(A){return this.getStep(this.toStepping(A))},e.prototype.handleEntryPoint=function(A,t){var r;if(A==="min"?r=0:A==="max"?r=100:r=parseFloat(A),!it(r)||!it(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(r),this.xVal.push(t[0]);var n=Number(t[1]);r?this.xSteps.push(isNaN(n)?!1:n):isNaN(n)||(this.xSteps[0]=n),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(A,t){if(t){if(this.xVal[A]===this.xVal[A+1]){this.xSteps[A]=this.xHighestCompleteStep[A]=this.xVal[A];return}this.xSteps[A]=ms([this.xVal[A],this.xVal[A+1]],t,0)/ps(this.xPct[A],this.xPct[A+1]);var r=(this.xVal[A+1]-this.xVal[A])/this.xNumSteps[A],n=Math.ceil(Number(r.toFixed(3))-1),i=this.xVal[A]+this.xNumSteps[A]*n;this.xHighestCompleteStep[A]=i}},e}(),La={to:function(e){return e===void 0?"":e.toFixed(2)},from:Number},ka={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},kt={tooltips:".__tooltips",aria:".__aria"};function Bh(e,A){if(!it(A))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=A}function hh(e,A){if(!it(A))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=A}function dh(e,A){if(!it(A))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=A}function wh(e,A){if(!it(A))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=A}function ph(e,A){if(typeof A!="object"||Array.isArray(A))throw new Error("noUiSlider: 'range' is not an object.");if(A.min===void 0||A.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new xa(A,e.snap||!1,e.singleStep)}function mh(e,A){if(A=Kn(A),!Array.isArray(A)||!A.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=A.length,e.start=A}function Qh(e,A){if(typeof A!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=A}function Ch(e,A){if(typeof A!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=A}function vh(e,A){if(typeof A!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=A}function Ka(e,A){var t=[!1],r;if(A==="lower"?A=[!0,!1]:A==="upper"&&(A=[!1,!0]),A===!0||A===!1){for(r=1;r<e.handles;r++)t.push(A);t.push(!1)}else{if(!Array.isArray(A)||!A.length||A.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t=A}e.connect=t}function Uh(e,A){switch(A){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Ma(e,A){if(!it(A))throw new Error("noUiSlider: 'margin' option must be numeric.");A!==0&&(e.margin=e.spectrum.getDistance(A))}function Fh(e,A){if(!it(A))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(A),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function yh(e,A){var t;if(!it(A)&&!Array.isArray(A))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(A)&&!(A.length===2||it(A[0])||it(A[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(A!==0){for(Array.isArray(A)||(A=[A,A]),e.padding=[e.spectrum.getDistance(A[0]),e.spectrum.getDistance(A[1])],t=0;t<e.spectrum.xNumSteps.length-1;t++)if(e.padding[0][t]<0||e.padding[1][t]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=A[0]+A[1],n=e.spectrum.xVal[0],i=e.spectrum.xVal[e.spectrum.xVal.length-1];if(r/(i-n)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function _h(e,A){switch(A){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function bh(e,A){if(typeof A!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var t=A.indexOf("tap")>=0,r=A.indexOf("drag")>=0,n=A.indexOf("fixed")>=0,i=A.indexOf("snap")>=0,s=A.indexOf("hover")>=0,o=A.indexOf("unconstrained")>=0,a=A.indexOf("invert-connects")>=0,l=A.indexOf("drag-all")>=0,c=A.indexOf("smooth-steps")>=0;if(n){if(e.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Ma(e,e.start[1]-e.start[0])}if(a&&e.handles!==2)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(o&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:t||i,drag:r,dragAll:l,smoothSteps:c,fixed:n,snap:i,hover:s,unconstrained:o,invertConnects:a}}function Eh(e,A){if(A!==!1)if(A===!0||kn(A)){e.tooltips=[];for(var t=0;t<e.handles;t++)e.tooltips.push(A)}else{if(A=Kn(A),A.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");A.forEach(function(r){if(typeof r!="boolean"&&!kn(r))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),e.tooltips=A}}function Hh(e,A){if(A.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=A}function Ih(e,A){if(!kn(A))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=A}function Sh(e,A){if(!Ah(A))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=A}function xh(e,A){if(typeof A!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=A}function Lh(e,A){e.documentElement=A}function kh(e,A){if(typeof A!="string"&&A!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=A}function Kh(e,A){if(typeof A!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof e.cssPrefix=="string"?(e.cssClasses={},Object.keys(A).forEach(function(t){e.cssClasses[t]=e.cssPrefix+A[t]})):e.cssClasses=A}function Da(e){var A={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:La,format:La},t={step:{r:!1,t:Bh},keyboardPageMultiplier:{r:!1,t:hh},keyboardMultiplier:{r:!1,t:dh},keyboardDefaultStep:{r:!1,t:wh},start:{r:!0,t:mh},connect:{r:!0,t:Ka},direction:{r:!0,t:_h},snap:{r:!1,t:Qh},animate:{r:!1,t:Ch},animationDuration:{r:!1,t:vh},range:{r:!0,t:ph},orientation:{r:!1,t:Uh},margin:{r:!1,t:Ma},limit:{r:!1,t:Fh},padding:{r:!1,t:yh},behaviour:{r:!0,t:bh},ariaFormat:{r:!1,t:Ih},format:{r:!1,t:Sh},tooltips:{r:!1,t:Eh},keyboardSupport:{r:!0,t:xh},documentElement:{r:!1,t:Lh},cssPrefix:{r:!0,t:kh},cssClasses:{r:!0,t:Kh},handleAttributes:{r:!1,t:Hh}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:ka,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(t).forEach(function(a){if(!ws(e[a])&&r[a]===void 0){if(t[a].r)throw new Error("noUiSlider: '"+a+"' is required.");return}t[a].t(A,ws(e[a])?e[a]:r[a])}),A.pips=e.pips;var n=document.createElement("div"),i=n.style.msTransform!==void 0,s=n.style.transform!==void 0;A.transformRule=s?"transform":i?"msTransform":"webkitTransform";var o=[["left","top"],["right","bottom"]];return A.style=o[A.dir][A.ort],A}function Mh(e,A,t){var r=sh(),n=ah(),i=n&&oh(),s=e,o,a,l,c,g,u,f=A.spectrum,h=[],B=[],w=[],d=0,F={},b=!1,Q=e.ownerDocument,C=A.documentElement||Q.documentElement,y=Q.body,E=Q.dir==="rtl"||A.ort===1?0:100;function U(_,L){var S=Q.createElement("div");return L&&Me(S,L),_.appendChild(S),S}function H(_,L){var S=U(_,A.cssClasses.origin),z=U(S,A.cssClasses.handle);if(U(z,A.cssClasses.touchArea),z.setAttribute("data-handle",String(L)),A.keyboardSupport&&(z.setAttribute("tabindex","0"),z.addEventListener("keydown",function(tA){return NA(tA,L)})),A.handleAttributes!==void 0){var eA=A.handleAttributes[L];Object.keys(eA).forEach(function(tA){z.setAttribute(tA,eA[tA])})}return z.setAttribute("role","slider"),z.setAttribute("aria-orientation",A.ort?"vertical":"horizontal"),L===0?Me(z,A.cssClasses.handleLower):L===A.handles-1&&Me(z,A.cssClasses.handleUpper),S.handle=z,S}function k(_,L){return L?U(_,A.cssClasses.connect):!1}function x(_,L){a=U(L,A.cssClasses.connects),l=[],c=[],c.push(k(a,_[0]));for(var S=0;S<A.handles;S++)l.push(H(L,S)),w[S]=S,c.push(k(a,_[S+1]))}function M(_){Me(_,A.cssClasses.target),A.dir===0?Me(_,A.cssClasses.ltr):Me(_,A.cssClasses.rtl),A.ort===0?Me(_,A.cssClasses.horizontal):Me(_,A.cssClasses.vertical);var L=getComputedStyle(_).direction;return L==="rtl"?Me(_,A.cssClasses.textDirectionRtl):Me(_,A.cssClasses.textDirectionLtr),U(_,A.cssClasses.base)}function R(_,L){return!A.tooltips||!A.tooltips[L]?!1:U(_.firstChild,A.cssClasses.tooltip)}function I(){return s.hasAttribute("disabled")}function G(_){var L=l[_];return L.hasAttribute("disabled")}function K(_){_!=null?(l[_].setAttribute("disabled",""),l[_].handle.removeAttribute("tabindex")):(s.setAttribute("disabled",""),l.forEach(function(L){L.handle.removeAttribute("tabindex")}))}function $(_){_!=null?(l[_].removeAttribute("disabled"),l[_].handle.setAttribute("tabindex","0")):(s.removeAttribute("disabled"),l.forEach(function(L){L.removeAttribute("disabled"),L.handle.setAttribute("tabindex","0")}))}function N(){u&&(ge("update"+kt.tooltips),u.forEach(function(_){_&&ba(_)}),u=null)}function X(){N(),u=l.map(R),we("update"+kt.tooltips,function(_,L,S){if(!(!u||!A.tooltips)&&u[L]!==!1){var z=_[L];A.tooltips[L]!==!0&&(z=A.tooltips[L].to(S[L])),u[L].innerHTML=z}})}function P(){ge("update"+kt.aria),we("update"+kt.aria,function(_,L,S,z,eA){w.forEach(function(tA){var wA=l[tA],cA=Se(B,tA,0,!0,!0,!0),jA=Se(B,tA,100,!0,!0,!0),qA=eA[tA],FA=String(A.ariaFormat.to(S[tA]));cA=f.fromStepping(cA).toFixed(1),jA=f.fromStepping(jA).toFixed(1),qA=f.fromStepping(qA).toFixed(1),wA.children[0].setAttribute("aria-valuemin",cA),wA.children[0].setAttribute("aria-valuemax",jA),wA.children[0].setAttribute("aria-valuenow",qA),wA.children[0].setAttribute("aria-valuetext",FA)})})}function nA(_){if(_.mode===Lt.Range||_.mode===Lt.Steps)return f.xVal;if(_.mode===Lt.Count){if(_.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var L=_.values-1,S=100/L,z=[];L--;)z[L]=L*S;return z.push(100),fA(z,_.stepped)}return _.mode===Lt.Positions?fA(_.values,_.stepped):_.mode===Lt.Values?_.stepped?_.values.map(function(eA){return f.fromStepping(f.getStep(f.toStepping(eA)))}):_.values:[]}function fA(_,L){return _.map(function(S){return f.fromStepping(L?f.getStep(S):S)})}function pA(_){function L(qA,FA){return Number((qA+FA).toFixed(7))}var S=nA(_),z={},eA=f.xVal[0],tA=f.xVal[f.xVal.length-1],wA=!1,cA=!1,jA=0;return S=eh(S.slice().sort(function(qA,FA){return qA-FA})),S[0]!==eA&&(S.unshift(eA),wA=!0),S[S.length-1]!==tA&&(S.push(tA),cA=!0),S.forEach(function(qA,FA){var YA,iA,yA,IA=qA,ce=S[FA+1],Be,Ht,It,er,Pg,$o,Xg,Jg=_.mode===Lt.Steps;for(Jg&&(YA=f.xNumSteps[FA]),YA||(YA=ce-IA),ce===void 0&&(ce=IA),YA=Math.max(YA,1e-7),iA=IA;iA<=ce;iA=L(iA,YA)){for(Be=f.toStepping(iA),Ht=Be-jA,Pg=Ht/(_.density||1),$o=Math.round(Pg),Xg=Ht/$o,yA=1;yA<=$o;yA+=1)It=jA+yA*Xg,z[It.toFixed(5)]=[f.fromStepping(It),0];er=S.indexOf(iA)>-1?Oe.LargeValue:Jg?Oe.SmallValue:Oe.NoValue,!FA&&wA&&iA!==ce&&(er=0),iA===ce&&cA||(z[Be.toFixed(5)]=[iA,er]),jA=Be}}),z}function xA(_,L,S){var z,eA,tA=Q.createElement("div"),wA=(z={},z[Oe.None]="",z[Oe.NoValue]=A.cssClasses.valueNormal,z[Oe.LargeValue]=A.cssClasses.valueLarge,z[Oe.SmallValue]=A.cssClasses.valueSub,z),cA=(eA={},eA[Oe.None]="",eA[Oe.NoValue]=A.cssClasses.markerNormal,eA[Oe.LargeValue]=A.cssClasses.markerLarge,eA[Oe.SmallValue]=A.cssClasses.markerSub,eA),jA=[A.cssClasses.valueHorizontal,A.cssClasses.valueVertical],qA=[A.cssClasses.markerHorizontal,A.cssClasses.markerVertical];Me(tA,A.cssClasses.pips),Me(tA,A.ort===0?A.cssClasses.pipsHorizontal:A.cssClasses.pipsVertical);function FA(iA,yA){var IA=yA===A.cssClasses.value,ce=IA?jA:qA,Be=IA?wA:cA;return yA+" "+ce[A.ort]+" "+Be[iA]}function YA(iA,yA,IA){if(IA=L?L(yA,IA):IA,IA!==Oe.None){var ce=U(tA,!1);ce.className=FA(IA,A.cssClasses.marker),ce.style[A.style]=iA+"%",IA>Oe.NoValue&&(ce=U(tA,!1),ce.className=FA(IA,A.cssClasses.value),ce.setAttribute("data-value",String(yA)),ce.style[A.style]=iA+"%",ce.innerHTML=String(S.to(yA)))}}return Object.keys(_).forEach(function(iA){YA(iA,_[iA][0],_[iA][1])}),tA}function DA(){g&&(ba(g),g=null)}function HA(_){DA();var L=pA(_),S=_.filter,z=_.format||{to:function(eA){return String(Math.round(eA))}};return g=s.appendChild(xA(L,S,z)),g}function vA(){var _=o.getBoundingClientRect(),L="offset"+["Width","Height"][A.ort];return A.ort===0?_.width||o[L]:_.height||o[L]}function Z(_,L,S,z){var eA=function(wA){var cA=oA(wA,z.pageOffset,z.target||L);if(!cA||I()&&!z.doNotReject||ih(s,A.cssClasses.tap)&&!z.doNotReject||_===r.start&&cA.buttons!==void 0&&cA.buttons>1||z.hover&&cA.buttons)return!1;i||cA.preventDefault(),cA.calcPoint=cA.points[A.ort],S(cA,z)},tA=[];return _.split(" ").forEach(function(wA){L.addEventListener(wA,eA,i?{passive:!0}:!1),tA.push([wA,eA])}),tA}function oA(_,L,S){var z=_.type.indexOf("touch")===0,eA=_.type.indexOf("mouse")===0,tA=_.type.indexOf("pointer")===0,wA=0,cA=0;if(_.type.indexOf("MSPointer")===0&&(tA=!0),_.type==="mousedown"&&!_.buttons&&!_.touches)return!1;if(z){var jA=function(YA){var iA=YA.target;return iA===S||S.contains(iA)||_.composed&&_.composedPath().shift()===S};if(_.type==="touchstart"){var qA=Array.prototype.filter.call(_.touches,jA);if(qA.length>1)return!1;wA=qA[0].pageX,cA=qA[0].pageY}else{var FA=Array.prototype.find.call(_.changedTouches,jA);if(!FA)return!1;wA=FA.pageX,cA=FA.pageY}}return L=L||Sa(Q),(eA||tA)&&(wA=_.clientX+L.x,cA=_.clientY+L.y),_.pageOffset=L,_.points=[wA,cA],_.cursor=eA||tA,_}function J(_){var L=_-rh(o,A.ort),S=L*100/vA();return S=Ia(S),A.dir?100-S:S}function q(_){var L=100,S=!1;return l.forEach(function(z,eA){if(!G(eA)){var tA=B[eA],wA=Math.abs(tA-_),cA=wA===100&&L===100,jA=wA<L,qA=wA<=L&&_>tA;(jA||qA||cA)&&(S=eA,L=wA)}}),S}function AA(_,L){_.type==="mouseout"&&_.target.nodeName==="HTML"&&_.relatedTarget===null&&LA(_,L)}function gA(_,L){if(navigator.appVersion.indexOf("MSIE 9")===-1&&_.buttons===0&&L.buttonsProperty!==0)return LA(_,L);var S=(A.dir?-1:1)*(_.calcPoint-L.startCalcPoint),z=S*100/L.baseSize;JA(S>0,z,L.locations,L.handleNumbers,L.connect)}function LA(_,L){L.handle&&(Mn(L.handle,A.cssClasses.active),d-=1),L.listeners.forEach(function(S){C.removeEventListener(S[0],S[1])}),d===0&&(Mn(s,A.cssClasses.drag),W(),_.cursor&&(y.style.cursor="",y.removeEventListener("selectstart",Ea))),A.events.smoothSteps&&(L.handleNumbers.forEach(function(S){BA(S,B[S],!0,!0,!1,!1)}),L.handleNumbers.forEach(function(S){GA("update",S)})),L.handleNumbers.forEach(function(S){GA("change",S),GA("set",S),GA("end",S)})}function TA(_,L){if(!L.handleNumbers.some(G)){var S;if(L.handleNumbers.length===1){var z=l[L.handleNumbers[0]];S=z.children[0],d+=1,Me(S,A.cssClasses.active)}_.stopPropagation();var eA=[],tA=Z(r.move,C,gA,{target:_.target,handle:S,connect:L.connect,listeners:eA,startCalcPoint:_.calcPoint,baseSize:vA(),pageOffset:_.pageOffset,handleNumbers:L.handleNumbers,buttonsProperty:_.buttons,locations:B.slice()}),wA=Z(r.end,C,LA,{target:_.target,handle:S,listeners:eA,doNotReject:!0,handleNumbers:L.handleNumbers}),cA=Z("mouseout",C,AA,{target:_.target,handle:S,listeners:eA,doNotReject:!0,handleNumbers:L.handleNumbers});eA.push.apply(eA,tA.concat(wA,cA)),_.cursor&&(y.style.cursor=getComputedStyle(_.target).cursor,l.length>1&&Me(s,A.cssClasses.drag),y.addEventListener("selectstart",Ea,!1)),L.handleNumbers.forEach(function(jA){GA("start",jA)})}}function OA(_){_.stopPropagation();var L=J(_.calcPoint),S=q(L);S!==!1&&(A.events.snap||Ha(s,A.cssClasses.tap,A.animationDuration),BA(S,L,!0,!0),W(),GA("slide",S,!0),GA("update",S,!0),A.events.snap?TA(_,{handleNumbers:[S]}):(GA("change",S,!0),GA("set",S,!0)))}function kA(_){var L=J(_.calcPoint),S=f.getStep(L),z=f.fromStepping(S);Object.keys(F).forEach(function(eA){eA.split(".")[0]==="hover"&&F[eA].forEach(function(tA){tA.call(KA,z)})})}function NA(_,L){if(I()||G(L))return!1;var S=["Left","Right"],z=["Down","Up"],eA=["PageDown","PageUp"],tA=["Home","End"];A.dir&&!A.ort?S.reverse():A.ort&&!A.dir&&(z.reverse(),eA.reverse());var wA=_.key.replace("Arrow",""),cA=wA===eA[0],jA=wA===eA[1],qA=wA===z[0]||wA===S[0]||cA,FA=wA===z[1]||wA===S[1]||jA,YA=wA===tA[0],iA=wA===tA[1];if(!qA&&!FA&&!YA&&!iA)return!0;_.preventDefault();var yA;if(FA||qA){var IA=qA?0:1,ce=UA(L),Be=ce[IA];if(Be===null)return!1;Be===!1&&(Be=f.getDefaultStep(B[L],qA,A.keyboardDefaultStep)),jA||cA?Be*=A.keyboardPageMultiplier:Be*=A.keyboardMultiplier,Be=Math.max(Be,1e-7),Be=(qA?-1:1)*Be,yA=h[L]+Be}else iA?yA=A.spectrum.xVal[A.spectrum.xVal.length-1]:yA=A.spectrum.xVal[0];return BA(L,f.toStepping(yA),!0,!0),GA("slide",L),GA("update",L),GA("change",L),GA("set",L),!1}function ee(_){_.fixed||l.forEach(function(L,S){Z(r.start,L.children[0],TA,{handleNumbers:[S]})}),_.tap&&Z(r.start,o,OA,{}),_.hover&&Z(r.move,o,kA,{hover:!0}),_.drag&&c.forEach(function(L,S){if(!(L===!1||S===0||S===c.length-1)){var z=l[S-1],eA=l[S],tA=[L],wA=[z,eA],cA=[S-1,S];Me(L,A.cssClasses.draggable),_.fixed&&(tA.push(z.children[0]),tA.push(eA.children[0])),_.dragAll&&(wA=l,cA=w),tA.forEach(function(jA){Z(r.start,jA,TA,{handles:wA,handleNumbers:cA,connect:L})})}})}function we(_,L){F[_]=F[_]||[],F[_].push(L),_.split(".")[0]==="update"&&l.forEach(function(S,z){GA("update",z)})}function Ce(_){return _===kt.aria||_===kt.tooltips}function ge(_){var L=_&&_.split(".")[0],S=L?_.substring(L.length):_;Object.keys(F).forEach(function(z){var eA=z.split(".")[0],tA=z.substring(eA.length);(!L||L===eA)&&(!S||S===tA)&&(!Ce(tA)||S===tA)&&delete F[z]})}function GA(_,L,S){Object.keys(F).forEach(function(z){var eA=z.split(".")[0];_===eA&&F[z].forEach(function(tA){tA.call(KA,h.map(A.format.to),L,h.slice(),S||!1,B.slice(),KA)})})}function Se(_,L,S,z,eA,tA,wA){var cA;return l.length>1&&!A.events.unconstrained&&(z&&L>0&&(cA=f.getAbsoluteDistance(_[L-1],A.margin,!1),S=Math.max(S,cA)),eA&&L<l.length-1&&(cA=f.getAbsoluteDistance(_[L+1],A.margin,!0),S=Math.min(S,cA))),l.length>1&&A.limit&&(z&&L>0&&(cA=f.getAbsoluteDistance(_[L-1],A.limit,!1),S=Math.min(S,cA)),eA&&L<l.length-1&&(cA=f.getAbsoluteDistance(_[L+1],A.limit,!0),S=Math.max(S,cA))),A.padding&&(L===0&&(cA=f.getAbsoluteDistance(0,A.padding[0],!1),S=Math.max(S,cA)),L===l.length-1&&(cA=f.getAbsoluteDistance(100,A.padding[1],!0),S=Math.min(S,cA))),wA||(S=f.getStep(S)),S=Ia(S),S===_[L]&&!tA?!1:S}function PA(_,L){var S=A.ort;return(S?L:_)+", "+(S?_:L)}function JA(_,L,S,z,eA){var tA=S.slice(),wA=z[0],cA=A.events.smoothSteps,jA=[!_,_],qA=[_,!_];z=z.slice(),_&&z.reverse(),z.length>1?z.forEach(function(YA,iA){var yA=Se(tA,YA,tA[YA]+L,jA[iA],qA[iA],!1,cA);yA===!1?L=0:(L=yA-tA[YA],tA[YA]=yA)}):jA=qA=[!0];var FA=!1;z.forEach(function(YA,iA){FA=BA(YA,S[YA]+L,jA[iA],qA[iA],!1,cA)||FA}),FA&&(z.forEach(function(YA){GA("update",YA),GA("slide",YA)}),eA!=null&&GA("drag",wA))}function zA(_,L){return A.dir?100-_-L:_}function Pe(_,L){B[_]=L,h[_]=f.fromStepping(L);var S=zA(L,0)-E,z="translate("+PA(S+"%","0")+")";if(l[_].style[A.transformRule]=z,A.events.invertConnects&&B.length>1){var eA=B.every(function(tA,wA,cA){return wA===0||tA>=cA[wA-1]});if(b!==!eA){j();return}}dA(_),dA(_+1),b&&(dA(_-1),dA(_+2))}function W(){w.forEach(function(_){var L=B[_]>50?-1:1,S=3+(l.length+L*_);l[_].style.zIndex=String(S)})}function BA(_,L,S,z,eA,tA){return eA||(L=Se(B,_,L,S,z,!1,tA)),L===!1?!1:(Pe(_,L),!0)}function dA(_){if(c[_]){var L=B.slice();b&&L.sort(function(cA,jA){return cA-jA});var S=0,z=100;_!==0&&(S=L[_-1]),_!==c.length-1&&(z=L[_]);var eA=z-S,tA="translate("+PA(zA(S,eA)+"%","0")+")",wA="scale("+PA(eA/100,"1")+")";c[_].style[A.transformRule]=tA+" "+wA}}function le(_,L){return _===null||_===!1||_===void 0||(typeof _=="number"&&(_=String(_)),_=A.format.from(_),_!==!1&&(_=f.toStepping(_)),_===!1||isNaN(_))?B[L]:_}function $A(_,L,S){var z=Kn(_),eA=B[0]===void 0;L=L===void 0?!0:L,A.animate&&!eA&&Ha(s,A.cssClasses.tap,A.animationDuration),w.forEach(function(cA){BA(cA,le(z[cA],cA),!0,!1,S)});var tA=w.length===1?0:1;if(eA&&f.hasNoSize()&&(S=!0,B[0]=0,w.length>1)){var wA=100/(w.length-1);w.forEach(function(cA){B[cA]=cA*wA})}for(;tA<w.length;++tA)w.forEach(function(cA){BA(cA,B[cA],!0,!0,S)});W(),w.forEach(function(cA){GA("update",cA),z[cA]!==null&&L&&GA("set",cA)})}function _A(_){$A(A.start,_)}function me(_,L,S,z){if(_=Number(_),!(_>=0&&_<w.length))throw new Error("noUiSlider: invalid handle number, got: "+_);BA(_,le(L,_),!0,!0,z),GA("update",_),S&&GA("set",_)}function CA(_){if(_===void 0&&(_=!1),_)return h.length===1?h[0]:h.slice(0);var L=h.map(A.format.to);return L.length===1?L[0]:L}function te(){for(ge(kt.aria),ge(kt.tooltips),Object.keys(A.cssClasses).forEach(function(_){Mn(s,A.cssClasses[_])});s.firstChild;)s.removeChild(s.firstChild);delete s.noUiSlider}function UA(_){var L=B[_],S=f.getNearbySteps(L),z=h[_],eA=S.thisStep.step,tA=null;if(A.snap)return[z-S.stepBefore.startValue||null,S.stepAfter.startValue-z||null];eA!==!1&&z+eA>S.stepAfter.startValue&&(eA=S.stepAfter.startValue-z),z>S.thisStep.startValue?tA=S.thisStep.step:S.stepBefore.step===!1?tA=!1:tA=z-S.stepBefore.highestStep,L===100?eA=null:L===0&&(tA=null);var wA=f.countStepDecimals();return eA!==null&&eA!==!1&&(eA=Number(eA.toFixed(wA))),tA!==null&&tA!==!1&&(tA=Number(tA.toFixed(wA))),[tA,eA]}function mA(){return w.map(UA)}function re(_,L){var S=CA(),z=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];z.forEach(function(tA){_[tA]!==void 0&&(t[tA]=_[tA])});var eA=Da(t);z.forEach(function(tA){_[tA]!==void 0&&(A[tA]=eA[tA])}),f=eA.spectrum,A.margin=eA.margin,A.limit=eA.limit,A.padding=eA.padding,A.pips?HA(A.pips):DA(),A.tooltips?X():N(),B=[],$A(ws(_.start)?_.start:S,L),_.connect&&WA()}function WA(){for(;a.firstChild;)a.removeChild(a.firstChild);for(var _=0;_<=A.handles;_++)c[_]=k(a,A.connect[_]),dA(_);ee({drag:A.events.drag,fixed:!0})}function j(){b=!b,Ka(A,A.connect.map(function(_){return!_})),WA()}function hA(){o=M(s),x(A.connect,o),ee(A.events),$A(A.start),A.pips&&HA(A.pips),A.tooltips&&X(),P()}hA();var KA={destroy:te,steps:mA,on:we,off:ge,get:CA,set:$A,setHandle:me,reset:_A,disable:K,enable:$,__moveHandles:function(_,L,S){JA(_,L,B,S)},options:t,updateOptions:re,target:s,removePips:DA,removeTooltips:N,getPositions:function(){return B.slice()},getTooltips:function(){return u},getOrigins:function(){return l},pips:HA};return KA}function Dh(e,A){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var t=Da(A),r=Mh(e,t,A);return e.noUiSlider=r,r}const Th={__spectrum:xa,cssClasses:ka,create:Dh},Qb="",Cb="";function Oh(e){let A,t,r;return{c(){A=v("span"),t=aA(e[0]),m(A,"id",e[3]),m(A,"class",r="tooltip "+e[2]+" "+(e[1]?"display":"")+" svelte-1vbe6c4")},m(n,i){T(n,A,i),p(A,t)},p(n,[i]){i&1&&RA(t,n[0]),i&6&&r!==(r="tooltip "+n[2]+" "+(n[1]?"display":"")+" svelte-1vbe6c4")&&m(A,"class",r)},i:sA,o:sA,d(n){n&&D(A)}}}function Nh(e,A,t){let r,n,i,s,{tooltipText:o}=A,{targetHtmlId:a}=A;const l=`tooltip-generic-${window.crypto.randomUUID()}`,c=()=>t(1,s=!0),g=()=>t(1,s=!1),u=()=>t(1,s=!s);return ir(()=>{i=a?document.getElementById(a):document.getElementById(l).parentElement,a&&!i&&(console.error(`TooltipGeneric: element with ID ${a} not found, defaulting to the parent element`),i=document.getElementById(l).targetElement),i.addEventListener("mouseover",c),i.addEventListener("mouseout",g),i.addEventListener("click",u)}),xr(()=>{i.removeEventListener("mouseover",c),i.removeEventListener("mouseout",g),i.removeEventListener("click",u)}),e.$$set=f=>{"tooltipText"in f&&t(0,o=f.tooltipText),"targetHtmlId"in f&&t(4,a=f.targetHtmlId)},e.$$.update=()=>{e.$$.dirty&33&&t(2,r=n(o))},t(5,n=f=>t(2,r=f.length>100?"tooltip-wide":f.length>20?"tooltip-mid":"tooltip-thin")),i=void 0,t(1,s=!1),[o,s,r,l,a,n]}class Qs extends oe{constructor(A){super(),se(this,A,Nh,Oh,Ae,{tooltipText:0,targetHtmlId:4})}}const vb="";function Rh(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,h,B,w;return{c(){A=v("div"),t=v("span"),r=aA(e[2]),n=aA(" ("),i=aA(e[3]),s=aA(")"),o=O(),a=v("div"),l=v("span"),c=aA(e[0]),g=O(),u=v("div"),f=v("div"),h=O(),B=v("span"),w=aA(e[1]),m(l,"class","range-marker svelte-216mtn"),m(f,"class","slider"),m(f,"id",e[4]),m(u,"class","slider-wrapper svelte-216mtn"),m(B,"class","range-marker svelte-216mtn"),m(a,"class","slider-outer-wrapper is-flex flex-direction-row svelte-216mtn")},m(d,F){T(d,A,F),p(A,t),p(t,r),p(t,n),p(t,i),p(t,s),p(A,o),p(A,a),p(a,l),p(l,c),p(a,g),p(a,u),p(u,f),p(a,h),p(a,B),p(B,w)},p(d,[F]){F&4&&RA(r,d[2]),F&8&&RA(i,d[3]),F&1&&RA(c,d[0]),F&2&&RA(w,d[1])},i:sA,o:sA,d(d){d&&D(A)}}}function Vh(e,A,t){let r,{minVal:n}=A,{maxVal:i}=A,{start:s}=A,{step:o=void 0}=A,{roundTo:a=2}=A,{title:l=""}=A,{emitOnUpdate:c=!1}=A;const g=Un(),u=`slider-${window.crypto.randomUUID()}`,f=Array.isArray(s)&&s.length===2&&s.every(U=>!isNaN(parseFloat(U))),h=[],B=f?[`noUi-handle-${window.crypto.randomUUID()}`,`noUi-handle-${window.crypto.randomUUID()}`]:[`noUi-handle-${window.crypto.randomUUID()}`],w=bB();w.setCompareFn(f?EB:(U,H)=>F(U)===F(H)),w.set(s);const d=aa("resetTrigger")||void 0;d==null||d.subscribe(C);const F=U=>Number(U.toFixed(a)),b=(U,H)=>{U=Array.isArray(U)?U.map(F):F(U),t(3,r=U),(H==="set"||H==="update"&&c)&&(w.set(U),w.same()||g("updateSlider",w.get()))};function Q(U){h.length&&h.map((H,k)=>H.$set({tooltipText:f?U[k]:U}))}function C(){const U=document.getElementById(u);U!=null&&U.noUiSlider&&U.noUiSlider.reset()}function y(){const U=document.getElementById(u);let H;Th.create(U,{start:s,step:o,connect:f?!0:"lower",range:{min:n,max:i},handleAttributes:B.map(k=>({id:k}))}),U.noUiSlider.on("update",()=>{H=U.noUiSlider.get(!0),b(H,"update")}),U.noUiSlider.on("set",()=>{H=U.noUiSlider.get(!0),b(H,"set")})}function E(){B.map((U,H)=>{h.push(new Qs({target:document.getElementById(U),props:f?{tooltipText:r[H]}:{tooltipText:r}}))})}return ir(()=>{y(),E()}),xr(()=>{document.getElementById(u)&&(document.getElementById(u).innerHTML="")}),e.$$set=U=>{"minVal"in U&&t(0,n=U.minVal),"maxVal"in U&&t(1,i=U.maxVal),"start"in U&&t(5,s=U.start),"step"in U&&t(6,o=U.step),"roundTo"in U&&t(7,a=U.roundTo),"title"in U&&t(2,l=U.title),"emitOnUpdate"in U&&t(8,c=U.emitOnUpdate)},e.$$.update=()=>{e.$$.dirty&32&&t(3,r=s),e.$$.dirty&8&&Q(r)},[n,i,l,r,u,s,o,a,c]}class Ta extends oe{constructor(A){super(),se(this,A,Vh,Rh,Ae,{minVal:0,maxVal:1,start:5,step:6,roundTo:7,title:2,emitOnUpdate:8})}}function Oa(e,A,t){const r=e.slice();return r[43]=A[t],r}function Na(e,A,t){const r=e.slice();return r[46]=A[t],r}function Ra(e,A,t){const r=e.slice();return r[43]=A[t],r}function Va(e,A,t){const r=e.slice();r[51]=A[t];const n=Object.keys(r[29][r[51]]||{});return r[52]=n,r}function Ga(e){var WA;let A,t,r,n=((WA=e[0])==null?void 0:WA.title)+"",i,s,o,a,l,c,g,u,f,h=(e[3].pairs||0)+"",B,w,d,F,b,Q,C,y=(e[3].images||0)+"",E,U,H,k,x,M,R,I=(e[4]||0)+"",G,K,$,N,X,P,nA,fA,pA,xA,DA,HA,vA,Z,oA,J,q,AA,gA,LA,TA,OA,kA,NA,ee,we,Ce,ge,GA,Se,PA,JA=["Series","Witness","Work"],zA=[];for(let j=0;j<3;j+=1)zA[j]=Pa(Va(e,JA,j));X=new qB({props:{documentNodes:e[5],selectedRegions:e[6],toggleRegion:e[19],selectAllRegions:e[18]}});let Pe=["all","filtered"],W=[];for(let j=0;j<2;j+=1)W[j]=Xa(Ra(e,Pe,j));let BA=e[30],dA=[];for(let j=0;j<BA.length;j+=1)dA[j]=Ja(Na(e,BA,j));const le=j=>Y(dA[j],1,1,()=>{dA[j]=null});let $A=["threshold","topk"],_A=[];for(let j=0;j<2;j+=1)_A[j]=Wa(Oa(e,$A,j));const me=[Xh,Ph],CA=[];function te(j,hA){return j[7]==="threshold"?0:1}kA=te(e),NA=CA[kA]=me[kA](e);function UA(j,hA){if(j[12]==="img")return zh;if(j[12]==="doc")return Yh;if(j[12]==="mat")return Wh;if(j[12]==="sim")return Jh}let mA=UA(e),re=mA&&mA(e);return{c(){A=v("div"),t=v("div"),r=v("h1"),i=aA(n),s=O(),o=v("div");for(let j=0;j<3;j+=1)zA[j].c();a=O(),l=v("div"),c=v("div"),g=v("p"),g.textContent=`${rA==="en"?"Pairs":"Paires"}`,u=O(),f=v("p"),B=aA(h),w=O(),d=v("div"),F=v("div"),b=v("p"),b.textContent="Images",Q=O(),C=v("p"),E=aA(y),U=O(),H=v("div"),k=v("div"),x=v("p"),x.textContent="Clusters",M=O(),R=v("p"),G=aA(I),K=O(),$=v("hr"),N=O(),SA(X.$$.fragment),P=O(),nA=v("hr"),fA=O(),pA=v("div"),xA=v("h3"),xA.textContent=`${rA==="en"?"Similarity categories":"Catégories de similarité"}`,DA=O(),HA=v("div");for(let j=0;j<2;j+=1)W[j].c();vA=O(),Z=v("div");for(let j=0;j<dA.length;j+=1)dA[j].c();oA=O(),J=v("hr"),q=O(),AA=v("div"),gA=v("h3"),gA.textContent=`${rA==="en"?"Similarity score":"Score de similarité"}`,LA=O(),TA=v("div");for(let j=0;j<2;j+=1)_A[j].c();OA=O(),NA.c(),ee=O(),we=v("hr"),Ce=O(),ge=v("div"),GA=v("h3"),GA.textContent=`${rA==="en"?"Visualisation information":"Informations sur la visualisation"}`,Se=O(),re&&re.c(),m(r,"class","title"),m(g,"class","heading"),m(f,"class","title is-5"),m(l,"class","level-item has-text-centered"),m(b,"class","heading"),m(C,"class","title is-5"),m(d,"class","level-item has-text-centered"),m(x,"class","heading"),m(R,"class","title is-5"),m(H,"class","level-item has-text-centered"),m(o,"class","level"),m(t,"class","pb-2"),m(xA,"class","title"),m(HA,"class","buttons mb-3"),m(Z,"class","level"),he(Z,"is-disabled",e[1]==="all"),m(pA,"class","pt-2"),m(gA,"class","title"),m(TA,"class","buttons mb-3"),m(AA,"class","pt-2"),m(GA,"class","title"),m(ge,"class","py-2"),m(A,"class","content is-small mt-4")},m(j,hA){T(j,A,hA),p(A,t),p(t,r),p(r,i),p(t,s),p(t,o);for(let KA=0;KA<3;KA+=1)zA[KA]&&zA[KA].m(o,null);p(o,a),p(o,l),p(l,c),p(c,g),p(c,u),p(c,f),p(f,B),p(o,w),p(o,d),p(d,F),p(F,b),p(F,Q),p(F,C),p(C,E),p(o,U),p(o,H),p(H,k),p(k,x),p(k,M),p(k,R),p(R,G),p(A,K),p(A,$),p(A,N),bA(X,A,null),p(A,P),p(A,nA),p(A,fA),p(A,pA),p(pA,xA),p(pA,DA),p(pA,HA);for(let KA=0;KA<2;KA+=1)W[KA]&&W[KA].m(HA,null);p(pA,vA),p(pA,Z);for(let KA=0;KA<dA.length;KA+=1)dA[KA]&&dA[KA].m(Z,null);p(A,oA),p(A,J),p(A,q),p(A,AA),p(AA,gA),p(AA,LA),p(AA,TA);for(let KA=0;KA<2;KA+=1)_A[KA]&&_A[KA].m(TA,null);p(AA,OA),CA[kA].m(AA,null),p(A,ee),p(A,we),p(A,Ce),p(A,ge),p(ge,GA),p(ge,Se),re&&re.m(ge,null),PA=!0},p(j,hA){var L;if((!PA||hA[0]&1)&&n!==(n=((L=j[0])==null?void 0:L.title)+"")&&RA(i,n),hA[0]&536870912){JA=["Series","Witness","Work"];let S;for(S=0;S<3;S+=1){const z=Va(j,JA,S);zA[S]?zA[S].p(z,hA):(zA[S]=Pa(z),zA[S].c(),zA[S].m(o,a))}for(;S<3;S+=1)zA[S].d(1)}(!PA||hA[0]&8)&&h!==(h=(j[3].pairs||0)+"")&&RA(B,h),(!PA||hA[0]&8)&&y!==(y=(j[3].images||0)+"")&&RA(E,y),(!PA||hA[0]&16)&&I!==(I=(j[4]||0)+"")&&RA(G,I);const KA={};if(hA[0]&32&&(KA.documentNodes=j[5]),hA[0]&64&&(KA.selectedRegions=j[6]),X.$set(KA),hA[0]&2|hA[1]&1){Pe=["all","filtered"];let S;for(S=0;S<2;S+=1){const z=Ra(j,Pe,S);W[S]?W[S].p(z,hA):(W[S]=Xa(z),W[S].c(),W[S].m(HA,null))}for(;S<2;S+=1)W[S].d(1)}if(hA[0]&1073807374){BA=j[30];let S;for(S=0;S<BA.length;S+=1){const z=Na(j,BA,S);dA[S]?(dA[S].p(z,hA),V(dA[S],1)):(dA[S]=Ja(z),dA[S].c(),V(dA[S],1),dA[S].m(Z,null))}for(ne(),S=BA.length;S<dA.length;S+=1)le(S);ie()}if((!PA||hA[0]&2)&&he(Z,"is-disabled",j[1]==="all"),hA[0]&128|hA[1]&2){$A=["threshold","topk"];let S;for(S=0;S<2;S+=1){const z=Oa(j,$A,S);_A[S]?_A[S].p(z,hA):(_A[S]=Wa(z),_A[S].c(),_A[S].m(TA,null))}for(;S<2;S+=1)_A[S].d(1)}let _=kA;kA=te(j),kA===_?CA[kA].p(j,hA):(ne(),Y(CA[_],1,1,()=>{CA[_]=null}),ie(),NA=CA[kA],NA?NA.p(j,hA):(NA=CA[kA]=me[kA](j),NA.c()),V(NA,1),NA.m(AA,null)),mA===(mA=UA(j))&&re?re.p(j,hA):(re&&re.d(1),re=mA&&mA(j),re&&(re.c(),re.m(ge,null)))},i(j){if(!PA){V(X.$$.fragment,j);for(let hA=0;hA<BA.length;hA+=1)V(dA[hA]);V(NA),PA=!0}},o(j){Y(X.$$.fragment,j),dA=dA.filter(Boolean);for(let hA=0;hA<dA.length;hA+=1)Y(dA[hA]);Y(NA),PA=!1},d(j){j&&D(A),xe(zA,j),EA(X),xe(W,j),xe(dA,j),xe(_A,j),CA[kA].d(),re&&re.d()}}}function Gh(e){let A,t,r,n=xn[e[51]]+"",i,s,o,a=(e[52].length||0)+"",l;return{c(){A=v("div"),t=v("div"),r=v("p"),i=aA(n),s=O(),o=v("p"),l=aA(a),m(r,"class","heading"),m(o,"class","title is-5"),m(A,"class","level-item has-text-centered")},m(c,g){T(c,A,g),p(A,t),p(t,r),p(r,i),p(t,s),p(t,o),p(o,l)},p:sA,d(c){c&&D(A)}}}function Pa(e){let A,t=e[52].length>0&&Gh(e);return{c(){t&&t.c(),A=Ke()},m(r,n){t&&t.m(r,n),T(r,A,n)},p(r,n){r[52].length>0&&t.p(r,n)},d(r){t&&t.d(r),r&&D(A)}}}function Xa(e){let A,t=e[43]==="all"?rA==="en"?"All pairs":"Toutes les paires":rA==="en"?"Filter by category":"Filtrer par catégorie",r,n,i,s;function o(){return e[35](e[43])}return{c(){A=v("button"),r=aA(t),n=O(),m(A,"class","button is-small is-flex-grow-1"),he(A,"is-link",e[1]===e[43]),he(A,"is-contrasted",e[1]!==e[43])},m(a,l){T(a,A,l),p(A,r),p(A,n),i||(s=QA(A,"click",o),i=!0)},p(a,l){e=a,l[0]&2&&he(A,"is-link",e[1]===e[43]),l[0]&2&&he(A,"is-contrasted",e[1]!==e[43])},d(a){a&&D(A),i=!1,s()}}}function Ja(e){let A,t,r,n,i,s=(e[3].categories[e[46]]||0)+"",o,a,l;return r=new JB({props:{category:e[46],isSelected:e[2].includes(e[46]),toggle:e[36],selectable:e[1]==="filtered"}}),{c(){A=v("div"),t=v("div"),SA(r.$$.fragment),n=O(),i=v("p"),o=aA(s),a=O(),m(i,"class","is-size-7 mt-1"),m(A,"class","level-item has-text-centered")},m(c,g){T(c,A,g),p(A,t),bA(r,t,null),p(t,n),p(t,i),p(i,o),p(A,a),l=!0},p(c,g){const u={};g[0]&4&&(u.isSelected=c[2].includes(c[46])),g[0]&2&&(u.toggle=c[36]),g[0]&2&&(u.selectable=c[1]==="filtered"),r.$set(u),(!l||g[0]&8)&&s!==(s=(c[3].categories[c[46]]||0)+"")&&RA(o,s)},i(c){l||(V(r.$$.fragment,c),l=!0)},o(c){Y(r.$$.fragment,c),l=!1},d(c){c&&D(A),EA(r)}}}function Wa(e){let A,t=e[43]==="threshold"?rA==="en"?"Score threshold":"Seuil de score":rA==="en"?"Top K pairs":"Top K paires",r,n,i,s;function o(){return e[37](e[43])}return{c(){A=v("button"),r=aA(t),n=O(),m(A,"class","button is-small is-flex-grow-1"),he(A,"is-link",e[7]===e[43]),he(A,"is-contrasted",e[7]!==e[43])},m(a,l){T(a,A,l),p(A,r),p(A,n),i||(s=QA(A,"click",o),i=!0)},p(a,l){e=a,l[0]&128&&he(A,"is-link",e[7]===e[43]),l[0]&128&&he(A,"is-contrasted",e[7]!==e[43])},d(a){a&&D(A),i=!1,s()}}}function Ph(e){let A,t,r,n,i,s,o,a,l,c,g,u;return r=new Ta({props:{minVal:1,maxVal:5,start:e[10]||3,step:1,roundTo:0,title:"K"}}),r.$on("updateSlider",e[39]),{c(){A=v("div"),t=v("div"),SA(r.$$.fragment),n=O(),i=v("div"),s=v("label"),o=v("input"),a=O(),l=v("span"),l.textContent=`${rA==="en"?"Mutual top K":"Top K mutuel"}`,m(t,"class","column is-two-thirds pl-4"),o.checked=e[11],m(o,"type","checkbox"),m(o,"class","mr-2"),m(l,"class","is-size-7"),m(s,"class","checkbox mt-3 is-flex is-align-items-center"),m(i,"class","column mt-2"),m(A,"class","columns mt-2")},m(f,h){T(f,A,h),p(A,t),bA(r,t,null),p(A,n),p(A,i),p(i,s),p(s,o),p(s,a),p(s,l),c=!0,g||(u=QA(o,"change",e[40]),g=!0)},p(f,h){const B={};h[0]&1024&&(B.start=f[10]||3),r.$set(B),(!c||h[0]&2048)&&(o.checked=f[11])},i(f){c||(V(r.$$.fragment,f),c=!0)},o(f){Y(r.$$.fragment,f),c=!1},d(f){f&&D(A),EA(r),g=!1,u()}}}function Xh(e){var r,n;let A,t;return A=new Ta({props:{minVal:((r=e[8].scoreRange)==null?void 0:r.min)||0,maxVal:((n=e[8].scoreRange)==null?void 0:n.max)||1,start:e[9],step:.01,roundTo:2,title:rA==="en"?"Minimum score":"Score minimum"}}),A.$on("updateSlider",e[38]),{c(){SA(A.$$.fragment)},m(i,s){bA(A,i,s),t=!0},p(i,s){var a,l;const o={};s[0]&256&&(o.minVal=((a=i[8].scoreRange)==null?void 0:a.min)||0),s[0]&256&&(o.maxVal=((l=i[8].scoreRange)==null?void 0:l.max)||1),s[0]&512&&(o.start=i[9]),A.$set(o)},i(i){t||(V(A.$$.fragment,i),t=!0)},o(i){Y(A.$$.fragment,i),t=!1},d(i){EA(A,i)}}}function Jh(e){let A;return{c(){A=v("p"),A.textContent=`${rA==="en"?"Groups of images that share a similarity connection above the score threshold.":"Groupes d'images partageant une connexion de similarité au-dessus du seuil de score."}`},m(t,r){T(t,A,r)},p:sA,d(t){t&&D(A)}}}function Wh(e){let A;return{c(){A=v("p"),A.textContent=`${rA==="en"?"Matrix showing aggregated similarity scores between documents. Click a cell to explore page-level similarities in a scatter plot interface.":"Matrice affichant les scores de similarité agrégés entre documents. Cliquez sur une cellule pour explorer les similarités entre paires de documents."}`},m(t,r){T(t,A,r)},p:sA,d(t){t&&D(A)}}}function Yh(e){let A;return{c(){A=v("p"),A.textContent=`${rA==="en"?"Network where each node is a document. Edge thickness reflects the cumulative similarity score between document pairs. Node size indicates the number of connections.":"Réseau où chaque nœud est un document. L'épaisseur des liens reflète le score de similarité cumulé entre paires de documents. La taille des nœuds indique le nombre de connexions."}`},m(t,r){T(t,A,r)},p:sA,d(t){t&&D(A)}}}function zh(e){let A;return{c(){A=v("p"),A.textContent=`${rA==="en"?"Network where each node is an image region. Edges connect regions with similarity scores above the threshold. Node color indicates the source document.":"Réseau où chaque nœud est une région d'image. Les liens connectent les régions dont le score de similarité dépasse le seuil. La couleur indique le document source."}`},m(t,r){T(t,A,r)},p:sA,d(t){t&&D(A)}}}function $h(e){let A,t,r=e[3]&&Ga(e);return{c(){A=v("div"),r&&r.c(),m(A,"class","m-4 py-5 px-4")},m(n,i){T(n,A,i),r&&r.m(A,null),t=!0},p(n,i){n[3]?r?(r.p(n,i),i[0]&8&&V(r,1)):(r=Ga(n),r.c(),V(r,1),r.m(A,null)):r&&(ne(),Y(r,1,1,()=>{r=null}),ie())},i(n){t||(V(r),t=!0)},o(n){Y(r),t=!1},d(n){n&&D(A),r&&r.d()}}}function Zh(e,A,t){let r,n,i,s,o,a,l,c,g,u,f;MA(e,Xt,J=>t(12,f=J));let{docSet:h=null}=A,{documentSetStore:B}=A,{clusterStore:w}=A;const{docSetNumber:d,documentNodes:F,selectedCategories:b,toggleCategory:Q,selectedRegions:C,selectAllRegions:y,toggleRegion:E,threshold:U,setThreshold:H,topK:k,setTopK:x,mutualTopK:M,setMutualTopK:R,scoreMode:I,setScoreMode:G,pairStats:K}=B;MA(e,d,J=>t(3,n=J)),MA(e,F,J=>t(5,s=J)),MA(e,b,J=>t(2,r=J)),MA(e,C,J=>t(6,o=J)),MA(e,U,J=>t(9,c=J)),MA(e,k,J=>t(10,g=J)),MA(e,M,J=>t(11,u=J)),MA(e,I,J=>t(7,a=J)),MA(e,K,J=>t(8,l=J));const{clusterNb:$,handlePageUpdate:N}=w;MA(e,$,J=>t(4,i=J));const X=aa("selectedDocuments"),P=[0,1,2,3,5];let nA="filtered";function fA(J){t(1,nA=J),J==="all"&&r.length!==P.length&&b.set(P)}function pA(J){N(1),G(J)}const xA=J=>fA(J),DA=J=>nA==="filtered"?Q(J):null,HA=J=>pA(J),vA=J=>H(J.detail),Z=J=>x(J.detail),oA=()=>R(!u);return e.$$set=J=>{"docSet"in J&&t(0,h=J.docSet),"documentSetStore"in J&&t(33,B=J.documentSetStore),"clusterStore"in J&&t(34,w=J.clusterStore)},[h,nA,r,n,i,s,o,a,l,c,g,u,f,d,F,b,Q,C,y,E,U,H,k,x,M,R,I,K,$,X,P,fA,pA,B,w,xA,DA,HA,vA,Z,oA]}class jh extends oe{constructor(A){super(),se(this,A,Zh,$h,Ae,{docSet:0,documentSetStore:33,clusterStore:34},null,[-1,-1])}}function Dn(e,A){return e==null||A==null?NaN:e<A?-1:e>A?1:e>=A?0:NaN}function qh(e,A){return e==null||A==null?NaN:A<e?-1:A>e?1:A>=e?0:NaN}function Ya(e){let A,t,r;e.length!==2?(A=Dn,t=(o,a)=>Dn(e(o),a),r=(o,a)=>e(o)-a):(A=e===Dn||e===qh?e:Ad,t=e,r=e);function n(o,a,l=0,c=o.length){if(l<c){if(A(a,a)!==0)return c;do{const g=l+c>>>1;t(o[g],a)<0?l=g+1:c=g}while(l<c)}return l}function i(o,a,l=0,c=o.length){if(l<c){if(A(a,a)!==0)return c;do{const g=l+c>>>1;t(o[g],a)<=0?l=g+1:c=g}while(l<c)}return l}function s(o,a,l=0,c=o.length){const g=n(o,a,l,c-1);return g>l&&r(o[g-1],a)>-r(o[g],a)?g-1:g}return{left:n,center:s,right:i}}function Ad(){return 0}function ed(e){return e===null?NaN:+e}const td=Ya(Dn).right;Ya(ed).center;const rd=td;class za extends Map{constructor(A,t=sd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),A!=null)for(const[r,n]of A)this.set(r,n)}get(A){return super.get($a(this,A))}has(A){return super.has($a(this,A))}set(A,t){return super.set(nd(this,A),t)}delete(A){return super.delete(id(this,A))}}function $a({_intern:e,_key:A},t){const r=A(t);return e.has(r)?e.get(r):t}function nd({_intern:e,_key:A},t){const r=A(t);return e.has(r)?e.get(r):(e.set(r,t),t)}function id({_intern:e,_key:A},t){const r=A(t);return e.has(r)&&(t=e.get(r),e.delete(r)),t}function sd(e){return e!==null&&typeof e=="object"?e.valueOf():e}const od=Math.sqrt(50),ad=Math.sqrt(10),ld=Math.sqrt(2);function Tn(e,A,t){const r=(A-e)/Math.max(0,t),n=Math.floor(Math.log10(r)),i=r/Math.pow(10,n),s=i>=od?10:i>=ad?5:i>=ld?2:1;let o,a,l;return n<0?(l=Math.pow(10,-n)/s,o=Math.round(e*l),a=Math.round(A*l),o/l<e&&++o,a/l>A&&--a,l=-l):(l=Math.pow(10,n)*s,o=Math.round(e/l),a=Math.round(A/l),o*l<e&&++o,a*l>A&&--a),a<o&&.5<=t&&t<2?Tn(e,A,t*2):[o,a,l]}function cd(e,A,t){if(A=+A,e=+e,t=+t,!(t>0))return[];if(e===A)return[e];const r=A<e,[n,i,s]=r?Tn(A,e,t):Tn(e,A,t);if(!(i>=n))return[];const o=i-n+1,a=new Array(o);if(r)if(s<0)for(let l=0;l<o;++l)a[l]=(i-l)/-s;else for(let l=0;l<o;++l)a[l]=(i-l)*s;else if(s<0)for(let l=0;l<o;++l)a[l]=(n+l)/-s;else for(let l=0;l<o;++l)a[l]=(n+l)*s;return a}function Cs(e,A,t){return A=+A,e=+e,t=+t,Tn(e,A,t)[2]}function ud(e,A,t){A=+A,e=+e,t=+t;const r=A<e,n=r?Cs(A,e,t):Cs(e,A,t);return(r?-1:1)*(n<0?1/-n:n)}function On(e,A,t){e=+e,A=+A,t=(n=arguments.length)<2?(A=e,e=0,1):n<3?1:+t;for(var r=-1,n=Math.max(0,Math.ceil((A-e)/t))|0,i=new Array(n);++r<n;)i[r]=e+r*t;return i}function fd(e){return e}var Nn=1,vs=2,Za=3,Mr=4,ja=1e-6;function gd(e){return"translate("+e+",0)"}function Bd(e){return"translate(0,"+e+")"}function hd(e){return A=>+e(A)}function dd(e,A){return A=Math.max(0,e.bandwidth()-A*2)/2,e.round()&&(A=Math.round(A)),t=>+e(t)+A}function wd(){return!this.__axis}function qa(e,A){var t=[],r=null,n=null,i=6,s=6,o=3,a=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===Nn||e===Mr?-1:1,c=e===Mr||e===vs?"x":"y",g=e===Nn||e===Za?gd:Bd;function u(f){var h=r??(A.ticks?A.ticks.apply(A,t):A.domain()),B=n??(A.tickFormat?A.tickFormat.apply(A,t):fd),w=Math.max(i,0)+o,d=A.range(),F=+d[0]+a,b=+d[d.length-1]+a,Q=(A.bandwidth?dd:hd)(A.copy(),a),C=f.selection?f.selection():f,y=C.selectAll(".domain").data([null]),E=C.selectAll(".tick").data(h,A).order(),U=E.exit(),H=E.enter().append("g").attr("class","tick"),k=E.select("line"),x=E.select("text");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(H),k=k.merge(H.append("line").attr("stroke","currentColor").attr(c+"2",l*i)),x=x.merge(H.append("text").attr("fill","currentColor").attr(c,l*w).attr("dy",e===Nn?"0em":e===Za?"0.71em":"0.32em")),f!==C&&(y=y.transition(f),E=E.transition(f),k=k.transition(f),x=x.transition(f),U=U.transition(f).attr("opacity",ja).attr("transform",function(M){return isFinite(M=Q(M))?g(M+a):this.getAttribute("transform")}),H.attr("opacity",ja).attr("transform",function(M){var R=this.parentNode.__axis;return g((R&&isFinite(R=R(M))?R:Q(M))+a)})),U.remove(),y.attr("d",e===Mr||e===vs?s?"M"+l*s+","+F+"H"+a+"V"+b+"H"+l*s:"M"+a+","+F+"V"+b:s?"M"+F+","+l*s+"V"+a+"H"+b+"V"+l*s:"M"+F+","+a+"H"+b),E.attr("opacity",1).attr("transform",function(M){return g(Q(M)+a)}),k.attr(c+"2",l*i),x.attr(c,l*w).text(B),C.filter(wd).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===vs?"start":e===Mr?"end":"middle"),C.each(function(){this.__axis=Q})}return u.scale=function(f){return arguments.length?(A=f,u):A},u.ticks=function(){return t=Array.from(arguments),u},u.tickArguments=function(f){return arguments.length?(t=f==null?[]:Array.from(f),u):t.slice()},u.tickValues=function(f){return arguments.length?(r=f==null?null:Array.from(f),u):r&&r.slice()},u.tickFormat=function(f){return arguments.length?(n=f,u):n},u.tickSize=function(f){return arguments.length?(i=s=+f,u):i},u.tickSizeInner=function(f){return arguments.length?(i=+f,u):i},u.tickSizeOuter=function(f){return arguments.length?(s=+f,u):s},u.tickPadding=function(f){return arguments.length?(o=+f,u):o},u.offset=function(f){return arguments.length?(a=+f,u):a},u}function Al(e){return qa(Nn,e)}function el(e){return qa(Mr,e)}var pd={value:()=>{}};function Dr(){for(var e=0,A=arguments.length,t={},r;e<A;++e){if(!(r=arguments[e]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new Rn(t)}function Rn(e){this._=e}function md(e,A){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!A.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}Rn.prototype=Dr.prototype={constructor:Rn,on:function(e,A){var t=this._,r=md(e+"",t),n,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((n=(e=r[i]).type)&&(n=Qd(t[n],e.name)))return n;return}if(A!=null&&typeof A!="function")throw new Error("invalid callback: "+A);for(;++i<s;)if(n=(e=r[i]).type)t[n]=tl(t[n],e.name,A);else if(A==null)for(n in t)t[n]=tl(t[n],e.name,null);return this},copy:function(){var e={},A=this._;for(var t in A)e[t]=A[t].slice();return new Rn(e)},call:function(e,A){if((n=arguments.length-2)>0)for(var t=new Array(n),r=0,n,i;r<n;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,n=i.length;r<n;++r)i[r].value.apply(A,t)},apply:function(e,A,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],n=0,i=r.length;n<i;++n)r[n].value.apply(A,t)}};function Qd(e,A){for(var t=0,r=e.length,n;t<r;++t)if((n=e[t]).name===A)return n.value}function tl(e,A,t){for(var r=0,n=e.length;r<n;++r)if(e[r].name===A){e[r]=pd,e=e.slice(0,r).concat(e.slice(r+1));break}return t!=null&&e.push({name:A,value:t}),e}var Us="http://www.w3.org/1999/xhtml";const rl={svg:"http://www.w3.org/2000/svg",xhtml:Us,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vn(e){var A=e+="",t=A.indexOf(":");return t>=0&&(A=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),rl.hasOwnProperty(A)?{space:rl[A],local:e}:e}function Cd(e){return function(){var A=this.ownerDocument,t=this.namespaceURI;return t===Us&&A.documentElement.namespaceURI===Us?A.createElement(e):A.createElementNS(t,e)}}function vd(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function nl(e){var A=Vn(e);return(A.local?vd:Cd)(A)}function Ud(){}function Fs(e){return e==null?Ud:function(){return this.querySelector(e)}}function Fd(e){typeof e!="function"&&(e=Fs(e));for(var A=this._groups,t=A.length,r=new Array(t),n=0;n<t;++n)for(var i=A[n],s=i.length,o=r[n]=new Array(s),a,l,c=0;c<s;++c)(a=i[c])&&(l=e.call(a,a.__data__,c,i))&&("__data__"in a&&(l.__data__=a.__data__),o[c]=l);return new Ze(r,this._parents)}function yd(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function _d(){return[]}function il(e){return e==null?_d:function(){return this.querySelectorAll(e)}}function bd(e){return function(){return yd(e.apply(this,arguments))}}function Ed(e){typeof e=="function"?e=bd(e):e=il(e);for(var A=this._groups,t=A.length,r=[],n=[],i=0;i<t;++i)for(var s=A[i],o=s.length,a,l=0;l<o;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),n.push(a));return new Ze(r,n)}function sl(e){return function(){return this.matches(e)}}function ol(e){return function(A){return A.matches(e)}}var Hd=Array.prototype.find;function Id(e){return function(){return Hd.call(this.children,e)}}function Sd(){return this.firstElementChild}function xd(e){return this.select(e==null?Sd:Id(typeof e=="function"?e:ol(e)))}var Ld=Array.prototype.filter;function kd(){return Array.from(this.children)}function Kd(e){return function(){return Ld.call(this.children,e)}}function Md(e){return this.selectAll(e==null?kd:Kd(typeof e=="function"?e:ol(e)))}function Dd(e){typeof e!="function"&&(e=sl(e));for(var A=this._groups,t=A.length,r=new Array(t),n=0;n<t;++n)for(var i=A[n],s=i.length,o=r[n]=[],a,l=0;l<s;++l)(a=i[l])&&e.call(a,a.__data__,l,i)&&o.push(a);return new Ze(r,this._parents)}function al(e){return new Array(e.length)}function Td(){return new Ze(this._enter||this._groups.map(al),this._parents)}function Gn(e,A){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=A}Gn.prototype={constructor:Gn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,A){return this._parent.insertBefore(e,A)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Od(e){return function(){return e}}function Nd(e,A,t,r,n,i){for(var s=0,o,a=A.length,l=i.length;s<l;++s)(o=A[s])?(o.__data__=i[s],r[s]=o):t[s]=new Gn(e,i[s]);for(;s<a;++s)(o=A[s])&&(n[s]=o)}function Rd(e,A,t,r,n,i,s){var o,a,l=new Map,c=A.length,g=i.length,u=new Array(c),f;for(o=0;o<c;++o)(a=A[o])&&(u[o]=f=s.call(a,a.__data__,o,A)+"",l.has(f)?n[o]=a:l.set(f,a));for(o=0;o<g;++o)f=s.call(e,i[o],o,i)+"",(a=l.get(f))?(r[o]=a,a.__data__=i[o],l.delete(f)):t[o]=new Gn(e,i[o]);for(o=0;o<c;++o)(a=A[o])&&l.get(u[o])===a&&(n[o]=a)}function Vd(e){return e.__data__}function Gd(e,A){if(!arguments.length)return Array.from(this,Vd);var t=A?Rd:Nd,r=this._parents,n=this._groups;typeof e!="function"&&(e=Od(e));for(var i=n.length,s=new Array(i),o=new Array(i),a=new Array(i),l=0;l<i;++l){var c=r[l],g=n[l],u=g.length,f=Pd(e.call(c,c&&c.__data__,l,r)),h=f.length,B=o[l]=new Array(h),w=s[l]=new Array(h),d=a[l]=new Array(u);t(c,g,B,w,d,f,A);for(var F=0,b=0,Q,C;F<h;++F)if(Q=B[F]){for(F>=b&&(b=F+1);!(C=w[b])&&++b<h;);Q._next=C||null}}return s=new Ze(s,r),s._enter=o,s._exit=a,s}function Pd(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Xd(){return new Ze(this._exit||this._groups.map(al),this._parents)}function Jd(e,A,t){var r=this.enter(),n=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),A!=null&&(n=A(n),n&&(n=n.selection())),t==null?i.remove():t(i),r&&n?r.merge(n).order():n}function Wd(e){for(var A=e.selection?e.selection():e,t=this._groups,r=A._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),a=0;a<s;++a)for(var l=t[a],c=r[a],g=l.length,u=o[a]=new Array(g),f,h=0;h<g;++h)(f=l[h]||c[h])&&(u[h]=f);for(;a<n;++a)o[a]=t[a];return new Ze(o,this._parents)}function Yd(){for(var e=this._groups,A=-1,t=e.length;++A<t;)for(var r=e[A],n=r.length-1,i=r[n],s;--n>=0;)(s=r[n])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function zd(e){e||(e=$d);function A(g,u){return g&&u?e(g.__data__,u.__data__):!g-!u}for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i){for(var s=t[i],o=s.length,a=n[i]=new Array(o),l,c=0;c<o;++c)(l=s[c])&&(a[c]=l);a.sort(A)}return new Ze(n,this._parents).order()}function $d(e,A){return e<A?-1:e>A?1:e>=A?0:NaN}function Zd(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function jd(){return Array.from(this)}function qd(){for(var e=this._groups,A=0,t=e.length;A<t;++A)for(var r=e[A],n=0,i=r.length;n<i;++n){var s=r[n];if(s)return s}return null}function Aw(){let e=0;for(const A of this)++e;return e}function ew(){return!this.node()}function tw(e){for(var A=this._groups,t=0,r=A.length;t<r;++t)for(var n=A[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&e.call(o,o.__data__,i,n);return this}function rw(e){return function(){this.removeAttribute(e)}}function nw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function iw(e,A){return function(){this.setAttribute(e,A)}}function sw(e,A){return function(){this.setAttributeNS(e.space,e.local,A)}}function ow(e,A){return function(){var t=A.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}function aw(e,A){return function(){var t=A.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function lw(e,A){var t=Vn(e);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((A==null?t.local?nw:rw:typeof A=="function"?t.local?aw:ow:t.local?sw:iw)(t,A))}function ll(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function cw(e){return function(){this.style.removeProperty(e)}}function uw(e,A,t){return function(){this.style.setProperty(e,A,t)}}function fw(e,A,t){return function(){var r=A.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,t)}}function gw(e,A,t){return arguments.length>1?this.each((A==null?cw:typeof A=="function"?fw:uw)(e,A,t??"")):fr(this.node(),e)}function fr(e,A){return e.style.getPropertyValue(A)||ll(e).getComputedStyle(e,null).getPropertyValue(A)}function Bw(e){return function(){delete this[e]}}function hw(e,A){return function(){this[e]=A}}function dw(e,A){return function(){var t=A.apply(this,arguments);t==null?delete this[e]:this[e]=t}}function ww(e,A){return arguments.length>1?this.each((A==null?Bw:typeof A=="function"?dw:hw)(e,A)):this.node()[e]}function cl(e){return e.trim().split(/^|\s+/)}function ys(e){return e.classList||new ul(e)}function ul(e){this._node=e,this._names=cl(e.getAttribute("class")||"")}ul.prototype={add:function(e){var A=this._names.indexOf(e);A<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var A=this._names.indexOf(e);A>=0&&(this._names.splice(A,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function fl(e,A){for(var t=ys(e),r=-1,n=A.length;++r<n;)t.add(A[r])}function gl(e,A){for(var t=ys(e),r=-1,n=A.length;++r<n;)t.remove(A[r])}function pw(e){return function(){fl(this,e)}}function mw(e){return function(){gl(this,e)}}function Qw(e,A){return function(){(A.apply(this,arguments)?fl:gl)(this,e)}}function Cw(e,A){var t=cl(e+"");if(arguments.length<2){for(var r=ys(this.node()),n=-1,i=t.length;++n<i;)if(!r.contains(t[n]))return!1;return!0}return this.each((typeof A=="function"?Qw:A?pw:mw)(t,A))}function vw(){this.textContent=""}function Uw(e){return function(){this.textContent=e}}function Fw(e){return function(){var A=e.apply(this,arguments);this.textContent=A??""}}function yw(e){return arguments.length?this.each(e==null?vw:(typeof e=="function"?Fw:Uw)(e)):this.node().textContent}function _w(){this.innerHTML=""}function bw(e){return function(){this.innerHTML=e}}function Ew(e){return function(){var A=e.apply(this,arguments);this.innerHTML=A??""}}function Hw(e){return arguments.length?this.each(e==null?_w:(typeof e=="function"?Ew:bw)(e)):this.node().innerHTML}function Iw(){this.nextSibling&&this.parentNode.appendChild(this)}function Sw(){return this.each(Iw)}function xw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Lw(){return this.each(xw)}function kw(e){var A=typeof e=="function"?e:nl(e);return this.select(function(){return this.appendChild(A.apply(this,arguments))})}function Kw(){return null}function Mw(e,A){var t=typeof e=="function"?e:nl(e),r=A==null?Kw:typeof A=="function"?A:Fs(A);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function Dw(){var e=this.parentNode;e&&e.removeChild(this)}function Tw(){return this.each(Dw)}function Ow(){var e=this.cloneNode(!1),A=this.parentNode;return A?A.insertBefore(e,this.nextSibling):e}function Nw(){var e=this.cloneNode(!0),A=this.parentNode;return A?A.insertBefore(e,this.nextSibling):e}function Rw(e){return this.select(e?Nw:Ow)}function Vw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Gw(e){return function(A){e.call(this,A,this.__data__)}}function Pw(e){return e.trim().split(/^|\s+/).map(function(A){var t="",r=A.indexOf(".");return r>=0&&(t=A.slice(r+1),A=A.slice(0,r)),{type:A,name:t}})}function Xw(e){return function(){var A=this.__on;if(A){for(var t=0,r=-1,n=A.length,i;t<n;++t)i=A[t],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):A[++r]=i;++r?A.length=r:delete this.__on}}}function Jw(e,A,t){return function(){var r=this.__on,n,i=Gw(A);if(r){for(var s=0,o=r.length;s<o;++s)if((n=r[s]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=i,n.options=t),n.value=A;return}}this.addEventListener(e.type,i,t),n={type:e.type,name:e.name,value:A,listener:i,options:t},r?r.push(n):this.__on=[n]}}function Ww(e,A,t){var r=Pw(e+""),n,i=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var a=0,l=o.length,c;a<l;++a)for(n=0,c=o[a];n<i;++n)if((s=r[n]).type===c.type&&s.name===c.name)return c.value}return}for(o=A?Jw:Xw,n=0;n<i;++n)this.each(o(r[n],A,t));return this}function Bl(e,A,t){var r=ll(e),n=r.CustomEvent;typeof n=="function"?n=new n(A,t):(n=r.document.createEvent("Event"),t?(n.initEvent(A,t.bubbles,t.cancelable),n.detail=t.detail):n.initEvent(A,!1,!1)),e.dispatchEvent(n)}function Yw(e,A){return function(){return Bl(this,e,A)}}function zw(e,A){return function(){return Bl(this,e,A.apply(this,arguments))}}function $w(e,A){return this.each((typeof A=="function"?zw:Yw)(e,A))}function*Zw(){for(var e=this._groups,A=0,t=e.length;A<t;++A)for(var r=e[A],n=0,i=r.length,s;n<i;++n)(s=r[n])&&(yield s)}var hl=[null];function Ze(e,A){this._groups=e,this._parents=A}function Tr(){return new Ze([[document.documentElement]],hl)}function jw(){return this}Ze.prototype=Tr.prototype={constructor:Ze,select:Fd,selectAll:Ed,selectChild:xd,selectChildren:Md,filter:Dd,data:Gd,enter:Td,exit:Xd,join:Jd,merge:Wd,selection:jw,order:Yd,sort:zd,call:Zd,nodes:jd,node:qd,size:Aw,empty:ew,each:tw,attr:lw,style:gw,property:ww,classed:Cw,text:yw,html:Hw,raise:Sw,lower:Lw,append:kw,insert:Mw,remove:Tw,clone:Rw,datum:Vw,on:Ww,dispatch:$w,[Symbol.iterator]:Zw};function Qe(e){return typeof e=="string"?new Ze([[document.querySelector(e)]],[document.documentElement]):new Ze([[e]],hl)}function qw(e){let A;for(;A=e.sourceEvent;)e=A;return e}function Ee(e,A){if(e=qw(e),A===void 0&&(A=e.currentTarget),A){var t=A.ownerSVGElement||A;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(A.getScreenCTM().inverse()),[r.x,r.y]}if(A.getBoundingClientRect){var n=A.getBoundingClientRect();return[e.clientX-n.left-A.clientLeft,e.clientY-n.top-A.clientTop]}}return[e.pageX,e.pageY]}const A0={passive:!1},Or={capture:!0,passive:!1};function _s(e){e.stopImmediatePropagation()}function gr(e){e.preventDefault(),e.stopImmediatePropagation()}function dl(e){var A=e.document.documentElement,t=Qe(e).on("dragstart.drag",gr,Or);"onselectstart"in A?t.on("selectstart.drag",gr,Or):(A.__noselect=A.style.MozUserSelect,A.style.MozUserSelect="none")}function wl(e,A){var t=e.document.documentElement,r=Qe(e).on("dragstart.drag",null);A&&(r.on("click.drag",gr,Or),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const Pn=e=>()=>e;function bs(e,{sourceEvent:A,subject:t,target:r,identifier:n,active:i,x:s,y:o,dx:a,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:A,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:n,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}bs.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function e0(e){return!e.ctrlKey&&!e.button}function t0(){return this.parentNode}function r0(e,A){return A??{x:e.x,y:e.y}}function n0(){return navigator.maxTouchPoints||"ontouchstart"in this}function i0(){var e=e0,A=t0,t=r0,r=n0,n={},i=Dr("start","drag","end"),s=0,o,a,l,c,g=0;function u(Q){Q.on("mousedown.drag",f).filter(r).on("touchstart.drag",w).on("touchmove.drag",d,A0).on("touchend.drag touchcancel.drag",F).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(Q,C){if(!(c||!e.call(this,Q,C))){var y=b(this,A.call(this,Q,C),Q,C,"mouse");y&&(Qe(Q.view).on("mousemove.drag",h,Or).on("mouseup.drag",B,Or),dl(Q.view),_s(Q),l=!1,o=Q.clientX,a=Q.clientY,y("start",Q))}}function h(Q){if(gr(Q),!l){var C=Q.clientX-o,y=Q.clientY-a;l=C*C+y*y>g}n.mouse("drag",Q)}function B(Q){Qe(Q.view).on("mousemove.drag mouseup.drag",null),wl(Q.view,l),gr(Q),n.mouse("end",Q)}function w(Q,C){if(e.call(this,Q,C)){var y=Q.changedTouches,E=A.call(this,Q,C),U=y.length,H,k;for(H=0;H<U;++H)(k=b(this,E,Q,C,y[H].identifier,y[H]))&&(_s(Q),k("start",Q,y[H]))}}function d(Q){var C=Q.changedTouches,y=C.length,E,U;for(E=0;E<y;++E)(U=n[C[E].identifier])&&(gr(Q),U("drag",Q,C[E]))}function F(Q){var C=Q.changedTouches,y=C.length,E,U;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),E=0;E<y;++E)(U=n[C[E].identifier])&&(_s(Q),U("end",Q,C[E]))}function b(Q,C,y,E,U,H){var k=i.copy(),x=Ee(H||y,C),M,R,I;if((I=t.call(Q,new bs("beforestart",{sourceEvent:y,target:u,identifier:U,active:s,x:x[0],y:x[1],dx:0,dy:0,dispatch:k}),E))!=null)return M=I.x-x[0]||0,R=I.y-x[1]||0,function G(K,$,N){var X=x,P;switch(K){case"start":n[U]=G,P=s++;break;case"end":delete n[U],--s;case"drag":x=Ee(N||$,C),P=s;break}k.call(K,Q,new bs(K,{sourceEvent:$,subject:I,target:u,identifier:U,active:P,x:x[0]+M,y:x[1]+R,dx:x[0]-X[0],dy:x[1]-X[1],dispatch:k}),E)}}return u.filter=function(Q){return arguments.length?(e=typeof Q=="function"?Q:Pn(!!Q),u):e},u.container=function(Q){return arguments.length?(A=typeof Q=="function"?Q:Pn(Q),u):A},u.subject=function(Q){return arguments.length?(t=typeof Q=="function"?Q:Pn(Q),u):t},u.touchable=function(Q){return arguments.length?(r=typeof Q=="function"?Q:Pn(!!Q),u):r},u.on=function(){var Q=i.on.apply(i,arguments);return Q===i?u:Q},u.clickDistance=function(Q){return arguments.length?(g=(Q=+Q)*Q,u):Math.sqrt(g)},u}function Es(e,A,t){e.prototype=A.prototype=t,t.constructor=e}function pl(e,A){var t=Object.create(e.prototype);for(var r in A)t[r]=A[r];return t}function Nr(){}var Rr=.7,Xn=1/Rr,Br="\\s*([+-]?\\d+)\\s*",Vr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s0=/^#([0-9a-f]{3,8})$/,o0=new RegExp(`^rgb\\(${Br},${Br},${Br}\\)$`),a0=new RegExp(`^rgb\\(${gt},${gt},${gt}\\)$`),l0=new RegExp(`^rgba\\(${Br},${Br},${Br},${Vr}\\)$`),c0=new RegExp(`^rgba\\(${gt},${gt},${gt},${Vr}\\)$`),u0=new RegExp(`^hsl\\(${Vr},${gt},${gt}\\)$`),f0=new RegExp(`^hsla\\(${Vr},${gt},${gt},${Vr}\\)$`),ml={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Es(Nr,Jt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ql,formatHex:Ql,formatHex8:g0,formatHsl:B0,formatRgb:Cl,toString:Cl});function Ql(){return this.rgb().formatHex()}function g0(){return this.rgb().formatHex8()}function B0(){return _l(this).formatHsl()}function Cl(){return this.rgb().formatRgb()}function Jt(e){var A,t;return e=(e+"").trim().toLowerCase(),(A=s0.exec(e))?(t=A[1].length,A=parseInt(A[1],16),t===6?vl(A):t===3?new ze(A>>8&15|A>>4&240,A>>4&15|A&240,(A&15)<<4|A&15,1):t===8?Jn(A>>24&255,A>>16&255,A>>8&255,(A&255)/255):t===4?Jn(A>>12&15|A>>8&240,A>>8&15|A>>4&240,A>>4&15|A&240,((A&15)<<4|A&15)/255):null):(A=o0.exec(e))?new ze(A[1],A[2],A[3],1):(A=a0.exec(e))?new ze(A[1]*255/100,A[2]*255/100,A[3]*255/100,1):(A=l0.exec(e))?Jn(A[1],A[2],A[3],A[4]):(A=c0.exec(e))?Jn(A[1]*255/100,A[2]*255/100,A[3]*255/100,A[4]):(A=u0.exec(e))?yl(A[1],A[2]/100,A[3]/100,1):(A=f0.exec(e))?yl(A[1],A[2]/100,A[3]/100,A[4]):ml.hasOwnProperty(e)?vl(ml[e]):e==="transparent"?new ze(NaN,NaN,NaN,0):null}function vl(e){return new ze(e>>16&255,e>>8&255,e&255,1)}function Jn(e,A,t,r){return r<=0&&(e=A=t=NaN),new ze(e,A,t,r)}function h0(e){return e instanceof Nr||(e=Jt(e)),e?(e=e.rgb(),new ze(e.r,e.g,e.b,e.opacity)):new ze}function Hs(e,A,t,r){return arguments.length===1?h0(e):new ze(e,A,t,r??1)}function ze(e,A,t,r){this.r=+e,this.g=+A,this.b=+t,this.opacity=+r}Es(ze,Hs,pl(Nr,{brighter(e){return e=e==null?Xn:Math.pow(Xn,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rr:Math.pow(Rr,e),new ze(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ze(Wt(this.r),Wt(this.g),Wt(this.b),Wn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ul,formatHex:Ul,formatHex8:d0,formatRgb:Fl,toString:Fl}));function Ul(){return`#${Yt(this.r)}${Yt(this.g)}${Yt(this.b)}`}function d0(){return`#${Yt(this.r)}${Yt(this.g)}${Yt(this.b)}${Yt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Fl(){const e=Wn(this.opacity);return`${e===1?"rgb(":"rgba("}${Wt(this.r)}, ${Wt(this.g)}, ${Wt(this.b)}${e===1?")":`, ${e})`}`}function Wn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yt(e){return e=Wt(e),(e<16?"0":"")+e.toString(16)}function yl(e,A,t,r){return r<=0?e=A=t=NaN:t<=0||t>=1?e=A=NaN:A<=0&&(e=NaN),new st(e,A,t,r)}function _l(e){if(e instanceof st)return new st(e.h,e.s,e.l,e.opacity);if(e instanceof Nr||(e=Jt(e)),!e)return new st;if(e instanceof st)return e;e=e.rgb();var A=e.r/255,t=e.g/255,r=e.b/255,n=Math.min(A,t,r),i=Math.max(A,t,r),s=NaN,o=i-n,a=(i+n)/2;return o?(A===i?s=(t-r)/o+(t<r)*6:t===i?s=(r-A)/o+2:s=(A-t)/o+4,o/=a<.5?i+n:2-i-n,s*=60):o=a>0&&a<1?0:s,new st(s,o,a,e.opacity)}function Yn(e,A,t,r){return arguments.length===1?_l(e):new st(e,A,t,r??1)}function st(e,A,t,r){this.h=+e,this.s=+A,this.l=+t,this.opacity=+r}Es(st,Yn,pl(Nr,{brighter(e){return e=e==null?Xn:Math.pow(Xn,e),new st(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rr:Math.pow(Rr,e),new st(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,A=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*A,n=2*t-r;return new ze(Is(e>=240?e-240:e+120,n,r),Is(e,n,r),Is(e<120?e+240:e-120,n,r),this.opacity)},clamp(){return new st(bl(this.h),zn(this.s),zn(this.l),Wn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Wn(this.opacity);return`${e===1?"hsl(":"hsla("}${bl(this.h)}, ${zn(this.s)*100}%, ${zn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function bl(e){return e=(e||0)%360,e<0?e+360:e}function zn(e){return Math.max(0,Math.min(1,e||0))}function Is(e,A,t){return(e<60?A+(t-A)*e/60:e<180?t:e<240?A+(t-A)*(240-e)/60:A)*255}const Ss=e=>()=>e;function w0(e,A){return function(t){return e+t*A}}function p0(e,A,t){return e=Math.pow(e,t),A=Math.pow(A,t)-e,t=1/t,function(r){return Math.pow(e+r*A,t)}}function m0(e){return(e=+e)==1?El:function(A,t){return t-A?p0(A,t,e):Ss(isNaN(A)?t:A)}}function El(e,A){var t=A-e;return t?w0(e,t):Ss(isNaN(e)?A:e)}const $n=function e(A){var t=m0(A);function r(n,i){var s=t((n=Hs(n)).r,(i=Hs(i)).r),o=t(n.g,i.g),a=t(n.b,i.b),l=El(n.opacity,i.opacity);return function(c){return n.r=s(c),n.g=o(c),n.b=a(c),n.opacity=l(c),n+""}}return r.gamma=e,r}(1);function Q0(e,A){A||(A=[]);var t=e?Math.min(A.length,e.length):0,r=A.slice(),n;return function(i){for(n=0;n<t;++n)r[n]=e[n]*(1-i)+A[n]*i;return r}}function C0(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function v0(e,A){var t=A?A.length:0,r=e?Math.min(t,e.length):0,n=new Array(r),i=new Array(t),s;for(s=0;s<r;++s)n[s]=ks(e[s],A[s]);for(;s<t;++s)i[s]=A[s];return function(o){for(s=0;s<r;++s)i[s]=n[s](o);return i}}function U0(e,A){var t=new Date;return e=+e,A=+A,function(r){return t.setTime(e*(1-r)+A*r),t}}function ot(e,A){return e=+e,A=+A,function(t){return e*(1-t)+A*t}}function F0(e,A){var t={},r={},n;(e===null||typeof e!="object")&&(e={}),(A===null||typeof A!="object")&&(A={});for(n in A)n in e?t[n]=ks(e[n],A[n]):r[n]=A[n];return function(i){for(n in t)r[n]=t[n](i);return r}}var xs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ls=new RegExp(xs.source,"g");function y0(e){return function(){return e}}function _0(e){return function(A){return e(A)+""}}function Hl(e,A){var t=xs.lastIndex=Ls.lastIndex=0,r,n,i,s=-1,o=[],a=[];for(e=e+"",A=A+"";(r=xs.exec(e))&&(n=Ls.exec(A));)(i=n.index)>t&&(i=A.slice(t,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,a.push({i:s,x:ot(r,n)})),t=Ls.lastIndex;return t<A.length&&(i=A.slice(t),o[s]?o[s]+=i:o[++s]=i),o.length<2?a[0]?_0(a[0].x):y0(A):(A=a.length,function(l){for(var c=0,g;c<A;++c)o[(g=a[c]).i]=g.x(l);return o.join("")})}function ks(e,A){var t=typeof A,r;return A==null||t==="boolean"?Ss(A):(t==="number"?ot:t==="string"?(r=Jt(A))?(A=r,$n):Hl:A instanceof Jt?$n:A instanceof Date?U0:C0(A)?Q0:Array.isArray(A)?v0:typeof A.valueOf!="function"&&typeof A.toString!="function"||isNaN(A)?F0:ot)(e,A)}function b0(e,A){return e=+e,A=+A,function(t){return Math.round(e*(1-t)+A*t)}}var Il=180/Math.PI,Ks={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sl(e,A,t,r,n,i){var s,o,a;return(s=Math.sqrt(e*e+A*A))&&(e/=s,A/=s),(a=e*t+A*r)&&(t-=e*a,r-=A*a),(o=Math.sqrt(t*t+r*r))&&(t/=o,r/=o,a/=o),e*r<A*t&&(e=-e,A=-A,a=-a,s=-s),{translateX:n,translateY:i,rotate:Math.atan2(A,e)*Il,skewX:Math.atan(a)*Il,scaleX:s,scaleY:o}}var Zn;function E0(e){const A=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return A.isIdentity?Ks:Sl(A.a,A.b,A.c,A.d,A.e,A.f)}function H0(e){return e==null||(Zn||(Zn=document.createElementNS("http://www.w3.org/2000/svg","g")),Zn.setAttribute("transform",e),!(e=Zn.transform.baseVal.consolidate()))?Ks:(e=e.matrix,Sl(e.a,e.b,e.c,e.d,e.e,e.f))}function xl(e,A,t,r){function n(l){return l.length?l.pop()+" ":""}function i(l,c,g,u,f,h){if(l!==g||c!==u){var B=f.push("translate(",null,A,null,t);h.push({i:B-4,x:ot(l,g)},{i:B-2,x:ot(c,u)})}else(g||u)&&f.push("translate("+g+A+u+t)}function s(l,c,g,u){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),u.push({i:g.push(n(g)+"rotate(",null,r)-2,x:ot(l,c)})):c&&g.push(n(g)+"rotate("+c+r)}function o(l,c,g,u){l!==c?u.push({i:g.push(n(g)+"skewX(",null,r)-2,x:ot(l,c)}):c&&g.push(n(g)+"skewX("+c+r)}function a(l,c,g,u,f,h){if(l!==g||c!==u){var B=f.push(n(f)+"scale(",null,",",null,")");h.push({i:B-4,x:ot(l,g)},{i:B-2,x:ot(c,u)})}else(g!==1||u!==1)&&f.push(n(f)+"scale("+g+","+u+")")}return function(l,c){var g=[],u=[];return l=e(l),c=e(c),i(l.translateX,l.translateY,c.translateX,c.translateY,g,u),s(l.rotate,c.rotate,g,u),o(l.skewX,c.skewX,g,u),a(l.scaleX,l.scaleY,c.scaleX,c.scaleY,g,u),l=c=null,function(f){for(var h=-1,B=u.length,w;++h<B;)g[(w=u[h]).i]=w.x(f);return g.join("")}}}var I0=xl(E0,"px, ","px)","deg)"),S0=xl(H0,", ",")",")"),x0=1e-12;function Ll(e){return((e=Math.exp(e))+1/e)/2}function L0(e){return((e=Math.exp(e))-1/e)/2}function k0(e){return((e=Math.exp(2*e))-1)/(e+1)}const K0=function e(A,t,r){function n(i,s){var o=i[0],a=i[1],l=i[2],c=s[0],g=s[1],u=s[2],f=c-o,h=g-a,B=f*f+h*h,w,d;if(B<x0)d=Math.log(u/l)/A,w=function(E){return[o+E*f,a+E*h,l*Math.exp(A*E*d)]};else{var F=Math.sqrt(B),b=(u*u-l*l+r*B)/(2*l*t*F),Q=(u*u-l*l-r*B)/(2*u*t*F),C=Math.log(Math.sqrt(b*b+1)-b),y=Math.log(Math.sqrt(Q*Q+1)-Q);d=(y-C)/A,w=function(E){var U=E*d,H=Ll(C),k=l/(t*F)*(H*k0(A*U+C)-L0(C));return[o+k*f,a+k*h,l*H/Ll(A*U+C)]}}return w.duration=d*1e3*A/Math.SQRT2,w}return n.rho=function(i){var s=Math.max(.001,+i),o=s*s,a=o*o;return e(s,o,a)},n}(Math.SQRT2,2,4);var hr=0,Gr=0,Pr=0,kl=1e3,jn,Xr,qn=0,zt=0,Ai=0,Jr=typeof performance=="object"&&performance.now?performance:Date,Kl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ms(){return zt||(Kl(M0),zt=Jr.now()+Ai)}function M0(){zt=0}function ei(){this._call=this._time=this._next=null}ei.prototype=Ds.prototype={constructor:ei,restart:function(e,A,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?Ms():+t)+(A==null?0:+A),!this._next&&Xr!==this&&(Xr?Xr._next=this:jn=this,Xr=this),this._call=e,this._time=t,Ts()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ts())}};function Ds(e,A,t){var r=new ei;return r.restart(e,A,t),r}function D0(){Ms(),++hr;for(var e=jn,A;e;)(A=zt-e._time)>=0&&e._call.call(void 0,A),e=e._next;--hr}function Ml(){zt=(qn=Jr.now())+Ai,hr=Gr=0;try{D0()}finally{hr=0,O0(),zt=0}}function T0(){var e=Jr.now(),A=e-qn;A>kl&&(Ai-=A,qn=e)}function O0(){for(var e,A=jn,t,r=1/0;A;)A._call?(r>A._time&&(r=A._time),e=A,A=A._next):(t=A._next,A._next=null,A=e?e._next=t:jn=t);Xr=e,Ts(r)}function Ts(e){if(!hr){Gr&&(Gr=clearTimeout(Gr));var A=e-zt;A>24?(e<1/0&&(Gr=setTimeout(Ml,e-Jr.now()-Ai)),Pr&&(Pr=clearInterval(Pr))):(Pr||(qn=Jr.now(),Pr=setInterval(T0,kl)),hr=1,Kl(Ml))}}function Dl(e,A,t){var r=new ei;return A=A==null?0:+A,r.restart(n=>{r.stop(),e(n+A)},A,t),r}var N0=Dr("start","end","cancel","interrupt"),R0=[],Tl=0,Ol=1,Os=2,ti=3,Nl=4,Ns=5,ri=6;function ni(e,A,t,r,n,i){var s=e.__transition;if(!s)e.__transition={};else if(t in s)return;V0(e,t,{name:A,index:r,group:n,on:N0,tween:R0,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Tl})}function Rs(e,A){var t=at(e,A);if(t.state>Tl)throw new Error("too late; already scheduled");return t}function Bt(e,A){var t=at(e,A);if(t.state>ti)throw new Error("too late; already running");return t}function at(e,A){var t=e.__transition;if(!t||!(t=t[A]))throw new Error("transition not found");return t}function V0(e,A,t){var r=e.__transition,n;r[A]=t,t.timer=Ds(i,0,t.time);function i(l){t.state=Ol,t.timer.restart(s,t.delay,t.time),t.delay<=l&&s(l-t.delay)}function s(l){var c,g,u,f;if(t.state!==Ol)return a();for(c in r)if(f=r[c],f.name===t.name){if(f.state===ti)return Dl(s);f.state===Nl?(f.state=ri,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete r[c]):+c<A&&(f.state=ri,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete r[c])}if(Dl(function(){t.state===ti&&(t.state=Nl,t.timer.restart(o,t.delay,t.time),o(l))}),t.state=Os,t.on.call("start",e,e.__data__,t.index,t.group),t.state===Os){for(t.state=ti,n=new Array(u=t.tween.length),c=0,g=-1;c<u;++c)(f=t.tween[c].value.call(e,e.__data__,t.index,t.group))&&(n[++g]=f);n.length=g+1}}function o(l){for(var c=l<t.duration?t.ease.call(null,l/t.duration):(t.timer.restart(a),t.state=Ns,1),g=-1,u=n.length;++g<u;)n[g].call(e,c);t.state===Ns&&(t.on.call("end",e,e.__data__,t.index,t.group),a())}function a(){t.state=ri,t.timer.stop(),delete r[A];for(var l in r)return;delete e.__transition}}function ii(e,A){var t=e.__transition,r,n,i=!0,s;if(t){A=A==null?null:A+"";for(s in t){if((r=t[s]).name!==A){i=!1;continue}n=r.state>Os&&r.state<Ns,r.state=ri,r.timer.stop(),r.on.call(n?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete t[s]}i&&delete e.__transition}}function G0(e){return this.each(function(){ii(this,e)})}function P0(e,A){var t,r;return function(){var n=Bt(this,e),i=n.tween;if(i!==t){r=t=i;for(var s=0,o=r.length;s<o;++s)if(r[s].name===A){r=r.slice(),r.splice(s,1);break}}n.tween=r}}function X0(e,A,t){var r,n;if(typeof t!="function")throw new Error;return function(){var i=Bt(this,e),s=i.tween;if(s!==r){n=(r=s).slice();for(var o={name:A,value:t},a=0,l=n.length;a<l;++a)if(n[a].name===A){n[a]=o;break}a===l&&n.push(o)}i.tween=n}}function J0(e,A){var t=this._id;if(e+="",arguments.length<2){for(var r=at(this.node(),t).tween,n=0,i=r.length,s;n<i;++n)if((s=r[n]).name===e)return s.value;return null}return this.each((A==null?P0:X0)(t,e,A))}function Vs(e,A,t){var r=e._id;return e.each(function(){var n=Bt(this,r);(n.value||(n.value={}))[A]=t.apply(this,arguments)}),function(n){return at(n,r).value[A]}}function Rl(e,A){var t;return(typeof A=="number"?ot:A instanceof Jt?$n:(t=Jt(A))?(A=t,$n):Hl)(e,A)}function W0(e){return function(){this.removeAttribute(e)}}function Y0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function z0(e,A,t){var r,n=t+"",i;return function(){var s=this.getAttribute(e);return s===n?null:s===r?i:i=A(r=s,t)}}function $0(e,A,t){var r,n=t+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===n?null:s===r?i:i=A(r=s,t)}}function Z0(e,A,t){var r,n,i;return function(){var s,o=t(this),a;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=o+"",s===a?null:s===r&&a===n?i:(n=a,i=A(r=s,o)))}}function j0(e,A,t){var r,n,i;return function(){var s,o=t(this),a;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=o+"",s===a?null:s===r&&a===n?i:(n=a,i=A(r=s,o)))}}function q0(e,A){var t=Vn(e),r=t==="transform"?S0:Rl;return this.attrTween(e,typeof A=="function"?(t.local?j0:Z0)(t,r,Vs(this,"attr."+e,A)):A==null?(t.local?Y0:W0)(t):(t.local?$0:z0)(t,r,A))}function Ap(e,A){return function(t){this.setAttribute(e,A.call(this,t))}}function ep(e,A){return function(t){this.setAttributeNS(e.space,e.local,A.call(this,t))}}function tp(e,A){var t,r;function n(){var i=A.apply(this,arguments);return i!==r&&(t=(r=i)&&ep(e,i)),t}return n._value=A,n}function rp(e,A){var t,r;function n(){var i=A.apply(this,arguments);return i!==r&&(t=(r=i)&&Ap(e,i)),t}return n._value=A,n}function np(e,A){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(A==null)return this.tween(t,null);if(typeof A!="function")throw new Error;var r=Vn(e);return this.tween(t,(r.local?tp:rp)(r,A))}function ip(e,A){return function(){Rs(this,e).delay=+A.apply(this,arguments)}}function sp(e,A){return A=+A,function(){Rs(this,e).delay=A}}function op(e){var A=this._id;return arguments.length?this.each((typeof e=="function"?ip:sp)(A,e)):at(this.node(),A).delay}function ap(e,A){return function(){Bt(this,e).duration=+A.apply(this,arguments)}}function lp(e,A){return A=+A,function(){Bt(this,e).duration=A}}function cp(e){var A=this._id;return arguments.length?this.each((typeof e=="function"?ap:lp)(A,e)):at(this.node(),A).duration}function up(e,A){if(typeof A!="function")throw new Error;return function(){Bt(this,e).ease=A}}function fp(e){var A=this._id;return arguments.length?this.each(up(A,e)):at(this.node(),A).ease}function gp(e,A){return function(){var t=A.apply(this,arguments);if(typeof t!="function")throw new Error;Bt(this,e).ease=t}}function Bp(e){if(typeof e!="function")throw new Error;return this.each(gp(this._id,e))}function hp(e){typeof e!="function"&&(e=sl(e));for(var A=this._groups,t=A.length,r=new Array(t),n=0;n<t;++n)for(var i=A[n],s=i.length,o=r[n]=[],a,l=0;l<s;++l)(a=i[l])&&e.call(a,a.__data__,l,i)&&o.push(a);return new vt(r,this._parents,this._name,this._id)}function dp(e){if(e._id!==this._id)throw new Error;for(var A=this._groups,t=e._groups,r=A.length,n=t.length,i=Math.min(r,n),s=new Array(r),o=0;o<i;++o)for(var a=A[o],l=t[o],c=a.length,g=s[o]=new Array(c),u,f=0;f<c;++f)(u=a[f]||l[f])&&(g[f]=u);for(;o<r;++o)s[o]=A[o];return new vt(s,this._parents,this._name,this._id)}function wp(e){return(e+"").trim().split(/^|\s+/).every(function(A){var t=A.indexOf(".");return t>=0&&(A=A.slice(0,t)),!A||A==="start"})}function pp(e,A,t){var r,n,i=wp(A)?Rs:Bt;return function(){var s=i(this,e),o=s.on;o!==r&&(n=(r=o).copy()).on(A,t),s.on=n}}function mp(e,A){var t=this._id;return arguments.length<2?at(this.node(),t).on.on(e):this.each(pp(t,e,A))}function Qp(e){return function(){var A=this.parentNode;for(var t in this.__transition)if(+t!==e)return;A&&A.removeChild(this)}}function Cp(){return this.on("end.remove",Qp(this._id))}function vp(e){var A=this._name,t=this._id;typeof e!="function"&&(e=Fs(e));for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s)for(var o=r[s],a=o.length,l=i[s]=new Array(a),c,g,u=0;u<a;++u)(c=o[u])&&(g=e.call(c,c.__data__,u,o))&&("__data__"in c&&(g.__data__=c.__data__),l[u]=g,ni(l[u],A,t,u,l,at(c,t)));return new vt(i,this._parents,A,t)}function Up(e){var A=this._name,t=this._id;typeof e!="function"&&(e=il(e));for(var r=this._groups,n=r.length,i=[],s=[],o=0;o<n;++o)for(var a=r[o],l=a.length,c,g=0;g<l;++g)if(c=a[g]){for(var u=e.call(c,c.__data__,g,a),f,h=at(c,t),B=0,w=u.length;B<w;++B)(f=u[B])&&ni(f,A,t,B,u,h);i.push(u),s.push(c)}return new vt(i,s,A,t)}var Fp=Tr.prototype.constructor;function yp(){return new Fp(this._groups,this._parents)}function _p(e,A){var t,r,n;return function(){var i=fr(this,e),s=(this.style.removeProperty(e),fr(this,e));return i===s?null:i===t&&s===r?n:n=A(t=i,r=s)}}function Vl(e){return function(){this.style.removeProperty(e)}}function bp(e,A,t){var r,n=t+"",i;return function(){var s=fr(this,e);return s===n?null:s===r?i:i=A(r=s,t)}}function Ep(e,A,t){var r,n,i;return function(){var s=fr(this,e),o=t(this),a=o+"";return o==null&&(a=o=(this.style.removeProperty(e),fr(this,e))),s===a?null:s===r&&a===n?i:(n=a,i=A(r=s,o))}}function Hp(e,A){var t,r,n,i="style."+A,s="end."+i,o;return function(){var a=Bt(this,e),l=a.on,c=a.value[i]==null?o||(o=Vl(A)):void 0;(l!==t||n!==c)&&(r=(t=l).copy()).on(s,n=c),a.on=r}}function Ip(e,A,t){var r=(e+="")=="transform"?I0:Rl;return A==null?this.styleTween(e,_p(e,r)).on("end.style."+e,Vl(e)):typeof A=="function"?this.styleTween(e,Ep(e,r,Vs(this,"style."+e,A))).each(Hp(this._id,e)):this.styleTween(e,bp(e,r,A),t).on("end.style."+e,null)}function Sp(e,A,t){return function(r){this.style.setProperty(e,A.call(this,r),t)}}function xp(e,A,t){var r,n;function i(){var s=A.apply(this,arguments);return s!==n&&(r=(n=s)&&Sp(e,s,t)),r}return i._value=A,i}function Lp(e,A,t){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(A==null)return this.tween(r,null);if(typeof A!="function")throw new Error;return this.tween(r,xp(e,A,t??""))}function kp(e){return function(){this.textContent=e}}function Kp(e){return function(){var A=e(this);this.textContent=A??""}}function Mp(e){return this.tween("text",typeof e=="function"?Kp(Vs(this,"text",e)):kp(e==null?"":e+""))}function Dp(e){return function(A){this.textContent=e.call(this,A)}}function Tp(e){var A,t;function r(){var n=e.apply(this,arguments);return n!==t&&(A=(t=n)&&Dp(n)),A}return r._value=e,r}function Op(e){var A="text";if(arguments.length<1)return(A=this.tween(A))&&A._value;if(e==null)return this.tween(A,null);if(typeof e!="function")throw new Error;return this.tween(A,Tp(e))}function Np(){for(var e=this._name,A=this._id,t=Gl(),r=this._groups,n=r.length,i=0;i<n;++i)for(var s=r[i],o=s.length,a,l=0;l<o;++l)if(a=s[l]){var c=at(a,A);ni(a,e,t,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new vt(r,this._parents,e,t)}function Rp(){var e,A,t=this,r=t._id,n=t.size();return new Promise(function(i,s){var o={value:s},a={value:function(){--n===0&&i()}};t.each(function(){var l=Bt(this,r),c=l.on;c!==e&&(A=(e=c).copy(),A._.cancel.push(o),A._.interrupt.push(o),A._.end.push(a)),l.on=A}),n===0&&i()})}var Vp=0;function vt(e,A,t,r){this._groups=e,this._parents=A,this._name=t,this._id=r}function Gl(){return++Vp}var Ut=Tr.prototype;vt.prototype={constructor:vt,select:vp,selectAll:Up,selectChild:Ut.selectChild,selectChildren:Ut.selectChildren,filter:hp,merge:dp,selection:yp,transition:Np,call:Ut.call,nodes:Ut.nodes,node:Ut.node,size:Ut.size,empty:Ut.empty,each:Ut.each,on:mp,attr:q0,attrTween:np,style:Ip,styleTween:Lp,text:Mp,textTween:Op,remove:Cp,tween:J0,delay:op,duration:cp,ease:fp,easeVarying:Bp,end:Rp,[Symbol.iterator]:Ut[Symbol.iterator]};function Gp(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Pp={time:null,delay:0,duration:250,ease:Gp};function Xp(e,A){for(var t;!(t=e.__transition)||!(t=t[A]);)if(!(e=e.parentNode))throw new Error(`transition ${A} not found`);return t}function Jp(e){var A,t;e instanceof vt?(A=e._id,e=e._name):(A=Gl(),(t=Pp).time=Ms(),e=e==null?null:e+"");for(var r=this._groups,n=r.length,i=0;i<n;++i)for(var s=r[i],o=s.length,a,l=0;l<o;++l)(a=s[l])&&ni(a,e,A,l,s,t||Xp(a,A));return new vt(r,this._parents,e,A)}Tr.prototype.interrupt=G0,Tr.prototype.transition=Jp;function Pl(e,A){var t,r=1;e==null&&(e=0),A==null&&(A=0);function n(){var i,s=t.length,o,a=0,l=0;for(i=0;i<s;++i)o=t[i],a+=o.x,l+=o.y;for(a=(a/s-e)*r,l=(l/s-A)*r,i=0;i<s;++i)o=t[i],o.x-=a,o.y-=l}return n.initialize=function(i){t=i},n.x=function(i){return arguments.length?(e=+i,n):e},n.y=function(i){return arguments.length?(A=+i,n):A},n.strength=function(i){return arguments.length?(r=+i,n):r},n}function Wp(e){const A=+this._x.call(null,e),t=+this._y.call(null,e);return Xl(this.cover(A,t),A,t,e)}function Xl(e,A,t,r){if(isNaN(A)||isNaN(t))return e;var n,i=e._root,s={data:r},o=e._x0,a=e._y0,l=e._x1,c=e._y1,g,u,f,h,B,w,d,F;if(!i)return e._root=s,e;for(;i.length;)if((B=A>=(g=(o+l)/2))?o=g:l=g,(w=t>=(u=(a+c)/2))?a=u:c=u,n=i,!(i=i[d=w<<1|B]))return n[d]=s,e;if(f=+e._x.call(null,i.data),h=+e._y.call(null,i.data),A===f&&t===h)return s.next=i,n?n[d]=s:e._root=s,e;do n=n?n[d]=new Array(4):e._root=new Array(4),(B=A>=(g=(o+l)/2))?o=g:l=g,(w=t>=(u=(a+c)/2))?a=u:c=u;while((d=w<<1|B)===(F=(h>=u)<<1|f>=g));return n[F]=i,n[d]=s,e}function Yp(e){var A,t,r=e.length,n,i,s=new Array(r),o=new Array(r),a=1/0,l=1/0,c=-1/0,g=-1/0;for(t=0;t<r;++t)isNaN(n=+this._x.call(null,A=e[t]))||isNaN(i=+this._y.call(null,A))||(s[t]=n,o[t]=i,n<a&&(a=n),n>c&&(c=n),i<l&&(l=i),i>g&&(g=i));if(a>c||l>g)return this;for(this.cover(a,l).cover(c,g),t=0;t<r;++t)Xl(this,s[t],o[t],e[t]);return this}function zp(e,A){if(isNaN(e=+e)||isNaN(A=+A))return this;var t=this._x0,r=this._y0,n=this._x1,i=this._y1;if(isNaN(t))n=(t=Math.floor(e))+1,i=(r=Math.floor(A))+1;else{for(var s=n-t||1,o=this._root,a,l;t>e||e>=n||r>A||A>=i;)switch(l=(A<r)<<1|e<t,a=new Array(4),a[l]=o,o=a,s*=2,l){case 0:n=t+s,i=r+s;break;case 1:t=n-s,i=r+s;break;case 2:n=t+s,r=i-s;break;case 3:t=n-s,r=i-s;break}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._y0=r,this._x1=n,this._y1=i,this}function $p(){var e=[];return this.visit(function(A){if(!A.length)do e.push(A.data);while(A=A.next)}),e}function Zp(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Ne(e,A,t,r,n){this.node=e,this.x0=A,this.y0=t,this.x1=r,this.y1=n}function jp(e,A,t){var r,n=this._x0,i=this._y0,s,o,a,l,c=this._x1,g=this._y1,u=[],f=this._root,h,B;for(f&&u.push(new Ne(f,n,i,c,g)),t==null?t=1/0:(n=e-t,i=A-t,c=e+t,g=A+t,t*=t);h=u.pop();)if(!(!(f=h.node)||(s=h.x0)>c||(o=h.y0)>g||(a=h.x1)<n||(l=h.y1)<i))if(f.length){var w=(s+a)/2,d=(o+l)/2;u.push(new Ne(f[3],w,d,a,l),new Ne(f[2],s,d,w,l),new Ne(f[1],w,o,a,d),new Ne(f[0],s,o,w,d)),(B=(A>=d)<<1|e>=w)&&(h=u[u.length-1],u[u.length-1]=u[u.length-1-B],u[u.length-1-B]=h)}else{var F=e-+this._x.call(null,f.data),b=A-+this._y.call(null,f.data),Q=F*F+b*b;if(Q<t){var C=Math.sqrt(t=Q);n=e-C,i=A-C,c=e+C,g=A+C,r=f.data}}return r}function qp(e){if(isNaN(c=+this._x.call(null,e))||isNaN(g=+this._y.call(null,e)))return this;var A,t=this._root,r,n,i,s=this._x0,o=this._y0,a=this._x1,l=this._y1,c,g,u,f,h,B,w,d;if(!t)return this;if(t.length)for(;;){if((h=c>=(u=(s+a)/2))?s=u:a=u,(B=g>=(f=(o+l)/2))?o=f:l=f,A=t,!(t=t[w=B<<1|h]))return this;if(!t.length)break;(A[w+1&3]||A[w+2&3]||A[w+3&3])&&(r=A,d=w)}for(;t.data!==e;)if(n=t,!(t=t.next))return this;return(i=t.next)&&delete t.next,n?(i?n.next=i:delete n.next,this):A?(i?A[w]=i:delete A[w],(t=A[0]||A[1]||A[2]||A[3])&&t===(A[3]||A[2]||A[1]||A[0])&&!t.length&&(r?r[d]=t:this._root=t),this):(this._root=i,this)}function Am(e){for(var A=0,t=e.length;A<t;++A)this.remove(e[A]);return this}function em(){return this._root}function tm(){var e=0;return this.visit(function(A){if(!A.length)do++e;while(A=A.next)}),e}function rm(e){var A=[],t,r=this._root,n,i,s,o,a;for(r&&A.push(new Ne(r,this._x0,this._y0,this._x1,this._y1));t=A.pop();)if(!e(r=t.node,i=t.x0,s=t.y0,o=t.x1,a=t.y1)&&r.length){var l=(i+o)/2,c=(s+a)/2;(n=r[3])&&A.push(new Ne(n,l,c,o,a)),(n=r[2])&&A.push(new Ne(n,i,c,l,a)),(n=r[1])&&A.push(new Ne(n,l,s,o,c)),(n=r[0])&&A.push(new Ne(n,i,s,l,c))}return this}function nm(e){var A=[],t=[],r;for(this._root&&A.push(new Ne(this._root,this._x0,this._y0,this._x1,this._y1));r=A.pop();){var n=r.node;if(n.length){var i,s=r.x0,o=r.y0,a=r.x1,l=r.y1,c=(s+a)/2,g=(o+l)/2;(i=n[0])&&A.push(new Ne(i,s,o,c,g)),(i=n[1])&&A.push(new Ne(i,c,o,a,g)),(i=n[2])&&A.push(new Ne(i,s,g,c,l)),(i=n[3])&&A.push(new Ne(i,c,g,a,l))}t.push(r)}for(;r=t.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function im(e){return e[0]}function sm(e){return arguments.length?(this._x=e,this):this._x}function om(e){return e[1]}function am(e){return arguments.length?(this._y=e,this):this._y}function Gs(e,A,t){var r=new Ps(A??im,t??om,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Ps(e,A,t,r,n,i){this._x=e,this._y=A,this._x0=t,this._y0=r,this._x1=n,this._y1=i,this._root=void 0}function Jl(e){for(var A={data:e.data},t=A;e=e.next;)t=t.next={data:e.data};return A}var Re=Gs.prototype=Ps.prototype;Re.copy=function(){var e=new Ps(this._x,this._y,this._x0,this._y0,this._x1,this._y1),A=this._root,t,r;if(!A)return e;if(!A.length)return e._root=Jl(A),e;for(t=[{source:A,target:e._root=new Array(4)}];A=t.pop();)for(var n=0;n<4;++n)(r=A.source[n])&&(r.length?t.push({source:r,target:A.target[n]=new Array(4)}):A.target[n]=Jl(r));return e},Re.add=Wp,Re.addAll=Yp,Re.cover=zp,Re.data=$p,Re.extent=Zp,Re.find=jp,Re.remove=qp,Re.removeAll=Am,Re.root=em,Re.size=tm,Re.visit=rm,Re.visitAfter=nm,Re.x=sm,Re.y=am;function Ve(e){return function(){return e}}function Kt(e){return(e()-.5)*1e-6}function lm(e){return e.x+e.vx}function cm(e){return e.y+e.vy}function Wl(e){var A,t,r,n=1,i=1;typeof e!="function"&&(e=Ve(e==null?1:+e));function s(){for(var l,c=A.length,g,u,f,h,B,w,d=0;d<i;++d)for(g=Gs(A,lm,cm).visitAfter(o),l=0;l<c;++l)u=A[l],B=t[u.index],w=B*B,f=u.x+u.vx,h=u.y+u.vy,g.visit(F);function F(b,Q,C,y,E){var U=b.data,H=b.r,k=B+H;if(U){if(U.index>u.index){var x=f-U.x-U.vx,M=h-U.y-U.vy,R=x*x+M*M;R<k*k&&(x===0&&(x=Kt(r),R+=x*x),M===0&&(M=Kt(r),R+=M*M),R=(k-(R=Math.sqrt(R)))/R*n,u.vx+=(x*=R)*(k=(H*=H)/(w+H)),u.vy+=(M*=R)*k,U.vx-=x*(k=1-k),U.vy-=M*k)}return}return Q>f+k||y<f-k||C>h+k||E<h-k}}function o(l){if(l.data)return l.r=t[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function a(){if(A){var l,c=A.length,g;for(t=new Array(c),l=0;l<c;++l)g=A[l],t[g.index]=+e(g,l,A)}}return s.initialize=function(l,c){A=l,r=c,a()},s.iterations=function(l){return arguments.length?(i=+l,s):i},s.strength=function(l){return arguments.length?(n=+l,s):n},s.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Ve(+l),a(),s):e},s}function um(e){return e.index}function Yl(e,A){var t=e.get(A);if(!t)throw new Error("node not found: "+A);return t}function zl(e){var A=um,t=g,r,n=Ve(30),i,s,o,a,l,c=1;e==null&&(e=[]);function g(w){return 1/Math.min(o[w.source.index],o[w.target.index])}function u(w){for(var d=0,F=e.length;d<c;++d)for(var b=0,Q,C,y,E,U,H,k;b<F;++b)Q=e[b],C=Q.source,y=Q.target,E=y.x+y.vx-C.x-C.vx||Kt(l),U=y.y+y.vy-C.y-C.vy||Kt(l),H=Math.sqrt(E*E+U*U),H=(H-i[b])/H*w*r[b],E*=H,U*=H,y.vx-=E*(k=a[b]),y.vy-=U*k,C.vx+=E*(k=1-k),C.vy+=U*k}function f(){if(s){var w,d=s.length,F=e.length,b=new Map(s.map((C,y)=>[A(C,y,s),C])),Q;for(w=0,o=new Array(d);w<F;++w)Q=e[w],Q.index=w,typeof Q.source!="object"&&(Q.source=Yl(b,Q.source)),typeof Q.target!="object"&&(Q.target=Yl(b,Q.target)),o[Q.source.index]=(o[Q.source.index]||0)+1,o[Q.target.index]=(o[Q.target.index]||0)+1;for(w=0,a=new Array(F);w<F;++w)Q=e[w],a[w]=o[Q.source.index]/(o[Q.source.index]+o[Q.target.index]);r=new Array(F),h(),i=new Array(F),B()}}function h(){if(s)for(var w=0,d=e.length;w<d;++w)r[w]=+t(e[w],w,e)}function B(){if(s)for(var w=0,d=e.length;w<d;++w)i[w]=+n(e[w],w,e)}return u.initialize=function(w,d){s=w,l=d,f()},u.links=function(w){return arguments.length?(e=w,f(),u):e},u.id=function(w){return arguments.length?(A=w,u):A},u.iterations=function(w){return arguments.length?(c=+w,u):c},u.strength=function(w){return arguments.length?(t=typeof w=="function"?w:Ve(+w),h(),u):t},u.distance=function(w){return arguments.length?(n=typeof w=="function"?w:Ve(+w),B(),u):n},u}const fm=1664525,gm=1013904223,$l=4294967296;function Bm(){let e=1;return()=>(e=(fm*e+gm)%$l)/$l}function hm(e){return e.x}function dm(e){return e.y}var wm=10,pm=Math.PI*(3-Math.sqrt(5));function Zl(e){var A,t=1,r=.001,n=1-Math.pow(r,1/300),i=0,s=.6,o=new Map,a=Ds(g),l=Dr("tick","end"),c=Bm();e==null&&(e=[]);function g(){u(),l.call("tick",A),t<r&&(a.stop(),l.call("end",A))}function u(B){var w,d=e.length,F;B===void 0&&(B=1);for(var b=0;b<B;++b)for(t+=(i-t)*n,o.forEach(function(Q){Q(t)}),w=0;w<d;++w)F=e[w],F.fx==null?F.x+=F.vx*=s:(F.x=F.fx,F.vx=0),F.fy==null?F.y+=F.vy*=s:(F.y=F.fy,F.vy=0);return A}function f(){for(var B=0,w=e.length,d;B<w;++B){if(d=e[B],d.index=B,d.fx!=null&&(d.x=d.fx),d.fy!=null&&(d.y=d.fy),isNaN(d.x)||isNaN(d.y)){var F=wm*Math.sqrt(.5+B),b=B*pm;d.x=F*Math.cos(b),d.y=F*Math.sin(b)}(isNaN(d.vx)||isNaN(d.vy))&&(d.vx=d.vy=0)}}function h(B){return B.initialize&&B.initialize(e,c),B}return f(),A={tick:u,restart:function(){return a.restart(g),A},stop:function(){return a.stop(),A},nodes:function(B){return arguments.length?(e=B,f(),o.forEach(h),A):e},alpha:function(B){return arguments.length?(t=+B,A):t},alphaMin:function(B){return arguments.length?(r=+B,A):r},alphaDecay:function(B){return arguments.length?(n=+B,A):+n},alphaTarget:function(B){return arguments.length?(i=+B,A):i},velocityDecay:function(B){return arguments.length?(s=1-B,A):1-s},randomSource:function(B){return arguments.length?(c=B,o.forEach(h),A):c},force:function(B,w){return arguments.length>1?(w==null?o.delete(B):o.set(B,h(w)),A):o.get(B)},find:function(B,w,d){var F=0,b=e.length,Q,C,y,E,U;for(d==null?d=1/0:d*=d,F=0;F<b;++F)E=e[F],Q=B-E.x,C=w-E.y,y=Q*Q+C*C,y<d&&(U=E,d=y);return U},on:function(B,w){return arguments.length>1?(l.on(B,w),A):l.on(B)}}}function jl(){var e,A,t,r,n=Ve(-30),i,s=1,o=1/0,a=.81;function l(f){var h,B=e.length,w=Gs(e,hm,dm).visitAfter(g);for(r=f,h=0;h<B;++h)A=e[h],w.visit(u)}function c(){if(e){var f,h=e.length,B;for(i=new Array(h),f=0;f<h;++f)B=e[f],i[B.index]=+n(B,f,e)}}function g(f){var h=0,B,w,d=0,F,b,Q;if(f.length){for(F=b=Q=0;Q<4;++Q)(B=f[Q])&&(w=Math.abs(B.value))&&(h+=B.value,d+=w,F+=w*B.x,b+=w*B.y);f.x=F/d,f.y=b/d}else{B=f,B.x=B.data.x,B.y=B.data.y;do h+=i[B.data.index];while(B=B.next)}f.value=h}function u(f,h,B,w){if(!f.value)return!0;var d=f.x-A.x,F=f.y-A.y,b=w-h,Q=d*d+F*F;if(b*b/a<Q)return Q<o&&(d===0&&(d=Kt(t),Q+=d*d),F===0&&(F=Kt(t),Q+=F*F),Q<s&&(Q=Math.sqrt(s*Q)),A.vx+=d*f.value*r/Q,A.vy+=F*f.value*r/Q),!0;if(f.length||Q>=o)return;(f.data!==A||f.next)&&(d===0&&(d=Kt(t),Q+=d*d),F===0&&(F=Kt(t),Q+=F*F),Q<s&&(Q=Math.sqrt(s*Q)));do f.data!==A&&(b=i[f.data.index]*r/Q,A.vx+=d*b,A.vy+=F*b);while(f=f.next)}return l.initialize=function(f,h){e=f,t=h,c()},l.strength=function(f){return arguments.length?(n=typeof f=="function"?f:Ve(+f),c(),l):n},l.distanceMin=function(f){return arguments.length?(s=f*f,l):Math.sqrt(s)},l.distanceMax=function(f){return arguments.length?(o=f*f,l):Math.sqrt(o)},l.theta=function(f){return arguments.length?(a=f*f,l):Math.sqrt(a)},l}function ql(e){var A=Ve(.1),t,r,n;typeof e!="function"&&(e=Ve(e==null?0:+e));function i(o){for(var a=0,l=t.length,c;a<l;++a)c=t[a],c.vx+=(n[a]-c.x)*r[a]*o}function s(){if(t){var o,a=t.length;for(r=new Array(a),n=new Array(a),o=0;o<a;++o)r[o]=isNaN(n[o]=+e(t[o],o,t))?0:+A(t[o],o,t)}}return i.initialize=function(o){t=o,s()},i.strength=function(o){return arguments.length?(A=typeof o=="function"?o:Ve(+o),s(),i):A},i.x=function(o){return arguments.length?(e=typeof o=="function"?o:Ve(+o),s(),i):e},i}function Ac(e){var A=Ve(.1),t,r,n;typeof e!="function"&&(e=Ve(e==null?0:+e));function i(o){for(var a=0,l=t.length,c;a<l;++a)c=t[a],c.vy+=(n[a]-c.y)*r[a]*o}function s(){if(t){var o,a=t.length;for(r=new Array(a),n=new Array(a),o=0;o<a;++o)r[o]=isNaN(n[o]=+e(t[o],o,t))?0:+A(t[o],o,t)}}return i.initialize=function(o){t=o,s()},i.strength=function(o){return arguments.length?(A=typeof o=="function"?o:Ve(+o),s(),i):A},i.y=function(o){return arguments.length?(e=typeof o=="function"?o:Ve(+o),s(),i):e},i}function mm(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function si(e,A){if((t=(e=A?e.toExponential(A-1):e.toExponential()).indexOf("e"))<0)return null;var t,r=e.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+e.slice(t+1)]}function dr(e){return e=si(Math.abs(e)),e?e[1]:NaN}function Qm(e,A){return function(t,r){for(var n=t.length,i=[],s=0,o=e[0],a=0;n>0&&o>0&&(a+o+1>r&&(o=Math.max(1,r-a)),i.push(t.substring(n-=o,n+o)),!((a+=o+1)>r));)o=e[s=(s+1)%e.length];return i.reverse().join(A)}}function Cm(e){return function(A){return A.replace(/[0-9]/g,function(t){return e[+t]})}}var vm=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oi(e){if(!(A=vm.exec(e)))throw new Error("invalid format: "+e);var A;return new Xs({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}oi.prototype=Xs.prototype;function Xs(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Xs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Um(e){A:for(var A=e.length,t=1,r=-1,n;t<A;++t)switch(e[t]){case".":r=n=t;break;case"0":r===0&&(r=t),n=t;break;default:if(!+e[t])break A;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(n+1):e}var ec;function Fm(e,A){var t=si(e,A);if(!t)return e+"";var r=t[0],n=t[1],i=n-(ec=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+si(e,Math.max(0,A+i-1))[0]}function tc(e,A){var t=si(e,A);if(!t)return e+"";var r=t[0],n=t[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}const rc={"%":(e,A)=>(e*100).toFixed(A),b:e=>Math.round(e).toString(2),c:e=>e+"",d:mm,e:(e,A)=>e.toExponential(A),f:(e,A)=>e.toFixed(A),g:(e,A)=>e.toPrecision(A),o:e=>Math.round(e).toString(8),p:(e,A)=>tc(e*100,A),r:tc,s:Fm,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nc(e){return e}var ic=Array.prototype.map,sc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ym(e){var A=e.grouping===void 0||e.thousands===void 0?nc:Qm(ic.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?nc:Cm(ic.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function l(g){g=oi(g);var u=g.fill,f=g.align,h=g.sign,B=g.symbol,w=g.zero,d=g.width,F=g.comma,b=g.precision,Q=g.trim,C=g.type;C==="n"?(F=!0,C="g"):rc[C]||(b===void 0&&(b=12),Q=!0,C="g"),(w||u==="0"&&f==="=")&&(w=!0,u="0",f="=");var y=B==="$"?t:B==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",E=B==="$"?r:/[%p]/.test(C)?s:"",U=rc[C],H=/[defgprs%]/.test(C);b=b===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function k(x){var M=y,R=E,I,G,K;if(C==="c")R=U(x)+R,x="";else{x=+x;var $=x<0||1/x<0;if(x=isNaN(x)?a:U(Math.abs(x),b),Q&&(x=Um(x)),$&&+x==0&&h!=="+"&&($=!1),M=($?h==="("?h:o:h==="-"||h==="("?"":h)+M,R=(C==="s"?sc[8+ec/3]:"")+R+($&&h==="("?")":""),H){for(I=-1,G=x.length;++I<G;)if(K=x.charCodeAt(I),48>K||K>57){R=(K===46?n+x.slice(I+1):x.slice(I))+R,x=x.slice(0,I);break}}}F&&!w&&(x=A(x,1/0));var N=M.length+x.length+R.length,X=N<d?new Array(d-N+1).join(u):"";switch(F&&w&&(x=A(X+x,X.length?d-R.length:1/0),X=""),f){case"<":x=M+x+R+X;break;case"=":x=M+X+x+R;break;case"^":x=X.slice(0,N=X.length>>1)+M+x+R+X.slice(N);break;default:x=X+M+x+R;break}return i(x)}return k.toString=function(){return g+""},k}function c(g,u){var f=l((g=oi(g),g.type="f",g)),h=Math.max(-8,Math.min(8,Math.floor(dr(u)/3)))*3,B=Math.pow(10,-h),w=sc[8+h/3];return function(d){return f(B*d)+w}}return{format:l,formatPrefix:c}}var ai,oc,ac;_m({thousands:",",grouping:[3],currency:["$",""]});function _m(e){return ai=ym(e),oc=ai.format,ac=ai.formatPrefix,ai}function bm(e){return Math.max(0,-dr(Math.abs(e)))}function Em(e,A){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dr(A)/3)))*3-dr(Math.abs(e)))}function Hm(e,A){return e=Math.abs(e),A=Math.abs(A)-e,Math.max(0,dr(A)-dr(e))+1}function Js(e,A){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(A).domain(e);break}return this}const lc=Symbol("implicit");function cc(){var e=new za,A=[],t=[],r=lc;function n(i){let s=e.get(i);if(s===void 0){if(r!==lc)return r;e.set(i,s=A.push(i)-1)}return t[s%t.length]}return n.domain=function(i){if(!arguments.length)return A.slice();A=[],e=new za;for(const s of i)e.has(s)||e.set(s,A.push(s)-1);return n},n.range=function(i){return arguments.length?(t=Array.from(i),n):t.slice()},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return cc(A,t).unknown(r)},Js.apply(n,arguments),n}function uc(){var e=cc().unknown(void 0),A=e.domain,t=e.range,r=0,n=1,i,s,o=!1,a=0,l=0,c=.5;delete e.unknown;function g(){var u=A().length,f=n<r,h=f?n:r,B=f?r:n;i=(B-h)/Math.max(1,u-a+l*2),o&&(i=Math.floor(i)),h+=(B-h-i*(u-a))*c,s=i*(1-a),o&&(h=Math.round(h),s=Math.round(s));var w=On(u).map(function(d){return h+i*d});return t(f?w.reverse():w)}return e.domain=function(u){return arguments.length?(A(u),g()):A()},e.range=function(u){return arguments.length?([r,n]=u,r=+r,n=+n,g()):[r,n]},e.rangeRound=function(u){return[r,n]=u,r=+r,n=+n,o=!0,g()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(u){return arguments.length?(o=!!u,g()):o},e.padding=function(u){return arguments.length?(a=Math.min(1,l=+u),g()):a},e.paddingInner=function(u){return arguments.length?(a=Math.min(1,u),g()):a},e.paddingOuter=function(u){return arguments.length?(l=+u,g()):l},e.align=function(u){return arguments.length?(c=Math.max(0,Math.min(1,u)),g()):c},e.copy=function(){return uc(A(),[r,n]).round(o).paddingInner(a).paddingOuter(l).align(c)},Js.apply(g(),arguments)}function Im(e){return function(){return e}}function Sm(e){return+e}var fc=[0,1];function wr(e){return e}function Ws(e,A){return(A-=e=+e)?function(t){return(t-e)/A}:Im(isNaN(A)?NaN:.5)}function xm(e,A){var t;return e>A&&(t=e,e=A,A=t),function(r){return Math.max(e,Math.min(A,r))}}function Lm(e,A,t){var r=e[0],n=e[1],i=A[0],s=A[1];return n<r?(r=Ws(n,r),i=t(s,i)):(r=Ws(r,n),i=t(i,s)),function(o){return i(r(o))}}function km(e,A,t){var r=Math.min(e.length,A.length)-1,n=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),A=A.slice().reverse());++s<r;)n[s]=Ws(e[s],e[s+1]),i[s]=t(A[s],A[s+1]);return function(o){var a=rd(e,o,1,r)-1;return i[a](n[a](o))}}function Km(e,A){return A.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Mm(){var e=fc,A=fc,t=ks,r,n,i,s=wr,o,a,l;function c(){var u=Math.min(e.length,A.length);return s!==wr&&(s=xm(e[0],e[u-1])),o=u>2?km:Lm,a=l=null,g}function g(u){return u==null||isNaN(u=+u)?i:(a||(a=o(e.map(r),A,t)))(r(s(u)))}return g.invert=function(u){return s(n((l||(l=o(A,e.map(r),ot)))(u)))},g.domain=function(u){return arguments.length?(e=Array.from(u,Sm),c()):e.slice()},g.range=function(u){return arguments.length?(A=Array.from(u),c()):A.slice()},g.rangeRound=function(u){return A=Array.from(u),t=b0,c()},g.clamp=function(u){return arguments.length?(s=u?!0:wr,c()):s!==wr},g.interpolate=function(u){return arguments.length?(t=u,c()):t},g.unknown=function(u){return arguments.length?(i=u,g):i},function(u,f){return r=u,n=f,c()}}function Dm(){return Mm()(wr,wr)}function Tm(e,A,t,r){var n=ud(e,A,t),i;switch(r=oi(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(A));return r.precision==null&&!isNaN(i=Em(n,s))&&(r.precision=i),ac(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Hm(n,Math.max(Math.abs(e),Math.abs(A))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=bm(n))&&(r.precision=i-(r.type==="%")*2);break}}return oc(r)}function Om(e){var A=e.domain;return e.ticks=function(t){var r=A();return cd(r[0],r[r.length-1],t??10)},e.tickFormat=function(t,r){var n=A();return Tm(n[0],n[n.length-1],t??10,r)},e.nice=function(t){t==null&&(t=10);var r=A(),n=0,i=r.length-1,s=r[n],o=r[i],a,l,c=10;for(o<s&&(l=s,s=o,o=l,l=n,n=i,i=l);c-- >0;){if(l=Cs(s,o,t),l===a)return r[n]=s,r[i]=o,A(r);if(l>0)s=Math.floor(s/l)*l,o=Math.ceil(o/l)*l;else if(l<0)s=Math.ceil(s*l)/l,o=Math.floor(o*l)/l;else break;a=l}return e},e}function Wr(){var e=Dm();return e.copy=function(){return Km(e,Wr())},Js.apply(e,arguments),Om(e)}const li=e=>()=>e;function Nm(e,{sourceEvent:A,target:t,transform:r,dispatch:n}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:A,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:n}})}function Ft(e,A,t){this.k=e,this.x=A,this.y=t}Ft.prototype={constructor:Ft,scale:function(e){return e===1?this:new Ft(this.k*e,this.x,this.y)},translate:function(e,A){return e===0&A===0?this:new Ft(this.k,this.x+this.k*e,this.y+this.k*A)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ys=new Ft(1,0,0);Ft.prototype;function zs(e){e.stopImmediatePropagation()}function Yr(e){e.preventDefault(),e.stopImmediatePropagation()}function Rm(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Vm(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function gc(){return this.__zoom||Ys}function Gm(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Pm(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xm(e,A,t){var r=e.invertX(A[0][0])-t[0][0],n=e.invertX(A[1][0])-t[1][0],i=e.invertY(A[0][1])-t[0][1],s=e.invertY(A[1][1])-t[1][1];return e.translate(n>r?(r+n)/2:Math.min(0,r)||Math.max(0,n),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function Bc(){var e=Rm,A=Vm,t=Xm,r=Gm,n=Pm,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,a=K0,l=Dr("start","zoom","end"),c,g,u,f=500,h=150,B=0,w=10;function d(I){I.property("__zoom",gc).on("wheel.zoom",U,{passive:!1}).on("mousedown.zoom",H).on("dblclick.zoom",k).filter(n).on("touchstart.zoom",x).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}d.transform=function(I,G,K,$){var N=I.selection?I.selection():I;N.property("__zoom",gc),I!==N?C(I,G,K,$):N.interrupt().each(function(){y(this,arguments).event($).start().zoom(null,typeof G=="function"?G.apply(this,arguments):G).end()})},d.scaleBy=function(I,G,K,$){d.scaleTo(I,function(){var N=this.__zoom.k,X=typeof G=="function"?G.apply(this,arguments):G;return N*X},K,$)},d.scaleTo=function(I,G,K,$){d.transform(I,function(){var N=A.apply(this,arguments),X=this.__zoom,P=K==null?Q(N):typeof K=="function"?K.apply(this,arguments):K,nA=X.invert(P),fA=typeof G=="function"?G.apply(this,arguments):G;return t(b(F(X,fA),P,nA),N,s)},K,$)},d.translateBy=function(I,G,K,$){d.transform(I,function(){return t(this.__zoom.translate(typeof G=="function"?G.apply(this,arguments):G,typeof K=="function"?K.apply(this,arguments):K),A.apply(this,arguments),s)},null,$)},d.translateTo=function(I,G,K,$,N){d.transform(I,function(){var X=A.apply(this,arguments),P=this.__zoom,nA=$==null?Q(X):typeof $=="function"?$.apply(this,arguments):$;return t(Ys.translate(nA[0],nA[1]).scale(P.k).translate(typeof G=="function"?-G.apply(this,arguments):-G,typeof K=="function"?-K.apply(this,arguments):-K),X,s)},$,N)};function F(I,G){return G=Math.max(i[0],Math.min(i[1],G)),G===I.k?I:new Ft(G,I.x,I.y)}function b(I,G,K){var $=G[0]-K[0]*I.k,N=G[1]-K[1]*I.k;return $===I.x&&N===I.y?I:new Ft(I.k,$,N)}function Q(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}function C(I,G,K,$){I.on("start.zoom",function(){y(this,arguments).event($).start()}).on("interrupt.zoom end.zoom",function(){y(this,arguments).event($).end()}).tween("zoom",function(){var N=this,X=arguments,P=y(N,X).event($),nA=A.apply(N,X),fA=K==null?Q(nA):typeof K=="function"?K.apply(N,X):K,pA=Math.max(nA[1][0]-nA[0][0],nA[1][1]-nA[0][1]),xA=N.__zoom,DA=typeof G=="function"?G.apply(N,X):G,HA=a(xA.invert(fA).concat(pA/xA.k),DA.invert(fA).concat(pA/DA.k));return function(vA){if(vA===1)vA=DA;else{var Z=HA(vA),oA=pA/Z[2];vA=new Ft(oA,fA[0]-Z[0]*oA,fA[1]-Z[1]*oA)}P.zoom(null,vA)}})}function y(I,G,K){return!K&&I.__zooming||new E(I,G)}function E(I,G){this.that=I,this.args=G,this.active=0,this.sourceEvent=null,this.extent=A.apply(I,G),this.taps=0}E.prototype={event:function(I){return I&&(this.sourceEvent=I),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,G){return this.mouse&&I!=="mouse"&&(this.mouse[1]=G.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=G.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=G.invert(this.touch1[0])),this.that.__zoom=G,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){var G=Qe(this.that).datum();l.call(I,this.that,new Nm(I,{sourceEvent:this.sourceEvent,target:d,type:I,transform:this.that.__zoom,dispatch:l}),G)}};function U(I,...G){if(!e.apply(this,arguments))return;var K=y(this,G).event(I),$=this.__zoom,N=Math.max(i[0],Math.min(i[1],$.k*Math.pow(2,r.apply(this,arguments)))),X=Ee(I);if(K.wheel)(K.mouse[0][0]!==X[0]||K.mouse[0][1]!==X[1])&&(K.mouse[1]=$.invert(K.mouse[0]=X)),clearTimeout(K.wheel);else{if($.k===N)return;K.mouse=[X,$.invert(X)],ii(this),K.start()}Yr(I),K.wheel=setTimeout(P,h),K.zoom("mouse",t(b(F($,N),K.mouse[0],K.mouse[1]),K.extent,s));function P(){K.wheel=null,K.end()}}function H(I,...G){if(u||!e.apply(this,arguments))return;var K=I.currentTarget,$=y(this,G,!0).event(I),N=Qe(I.view).on("mousemove.zoom",fA,!0).on("mouseup.zoom",pA,!0),X=Ee(I,K),P=I.clientX,nA=I.clientY;dl(I.view),zs(I),$.mouse=[X,this.__zoom.invert(X)],ii(this),$.start();function fA(xA){if(Yr(xA),!$.moved){var DA=xA.clientX-P,HA=xA.clientY-nA;$.moved=DA*DA+HA*HA>B}$.event(xA).zoom("mouse",t(b($.that.__zoom,$.mouse[0]=Ee(xA,K),$.mouse[1]),$.extent,s))}function pA(xA){N.on("mousemove.zoom mouseup.zoom",null),wl(xA.view,$.moved),Yr(xA),$.event(xA).end()}}function k(I,...G){if(e.apply(this,arguments)){var K=this.__zoom,$=Ee(I.changedTouches?I.changedTouches[0]:I,this),N=K.invert($),X=K.k*(I.shiftKey?.5:2),P=t(b(F(K,X),$,N),A.apply(this,G),s);Yr(I),o>0?Qe(this).transition().duration(o).call(C,P,$,I):Qe(this).call(d.transform,P,$,I)}}function x(I,...G){if(e.apply(this,arguments)){var K=I.touches,$=K.length,N=y(this,G,I.changedTouches.length===$).event(I),X,P,nA,fA;for(zs(I),P=0;P<$;++P)nA=K[P],fA=Ee(nA,this),fA=[fA,this.__zoom.invert(fA),nA.identifier],N.touch0?!N.touch1&&N.touch0[2]!==fA[2]&&(N.touch1=fA,N.taps=0):(N.touch0=fA,X=!0,N.taps=1+!!c);c&&(c=clearTimeout(c)),X&&(N.taps<2&&(g=fA[0],c=setTimeout(function(){c=null},f)),ii(this),N.start())}}function M(I,...G){if(this.__zooming){var K=y(this,G).event(I),$=I.changedTouches,N=$.length,X,P,nA,fA;for(Yr(I),X=0;X<N;++X)P=$[X],nA=Ee(P,this),K.touch0&&K.touch0[2]===P.identifier?K.touch0[0]=nA:K.touch1&&K.touch1[2]===P.identifier&&(K.touch1[0]=nA);if(P=K.that.__zoom,K.touch1){var pA=K.touch0[0],xA=K.touch0[1],DA=K.touch1[0],HA=K.touch1[1],vA=(vA=DA[0]-pA[0])*vA+(vA=DA[1]-pA[1])*vA,Z=(Z=HA[0]-xA[0])*Z+(Z=HA[1]-xA[1])*Z;P=F(P,Math.sqrt(vA/Z)),nA=[(pA[0]+DA[0])/2,(pA[1]+DA[1])/2],fA=[(xA[0]+HA[0])/2,(xA[1]+HA[1])/2]}else if(K.touch0)nA=K.touch0[0],fA=K.touch0[1];else return;K.zoom("touch",t(b(P,nA,fA),K.extent,s))}}function R(I,...G){if(this.__zooming){var K=y(this,G).event(I),$=I.changedTouches,N=$.length,X,P;for(zs(I),u&&clearTimeout(u),u=setTimeout(function(){u=null},f),X=0;X<N;++X)P=$[X],K.touch0&&K.touch0[2]===P.identifier?delete K.touch0:K.touch1&&K.touch1[2]===P.identifier&&delete K.touch1;if(K.touch1&&!K.touch0&&(K.touch0=K.touch1,delete K.touch1),K.touch0)K.touch0[1]=this.__zoom.invert(K.touch0[0]);else if(K.end(),K.taps===2&&(P=Ee(P,this),Math.hypot(g[0]-P[0],g[1]-P[1])<w)){var nA=Qe(this).on("dblclick.zoom");nA&&nA.apply(this,arguments)}}}return d.wheelDelta=function(I){return arguments.length?(r=typeof I=="function"?I:li(+I),d):r},d.filter=function(I){return arguments.length?(e=typeof I=="function"?I:li(!!I),d):e},d.touchable=function(I){return arguments.length?(n=typeof I=="function"?I:li(!!I),d):n},d.extent=function(I){return arguments.length?(A=typeof I=="function"?I:li([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),d):A},d.scaleExtent=function(I){return arguments.length?(i[0]=+I[0],i[1]=+I[1],d):[i[0],i[1]]},d.translateExtent=function(I){return arguments.length?(s[0][0]=+I[0][0],s[1][0]=+I[1][0],s[0][1]=+I[0][1],s[1][1]=+I[1][1],d):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},d.constrain=function(I){return arguments.length?(t=I,d):t},d.duration=function(I){return arguments.length?(o=+I,d):o},d.interpolate=function(I){return arguments.length?(a=I,d):a},d.on=function(){var I=l.on.apply(l,arguments);return I===l?d:I},d.clickDistance=function(I){return arguments.length?(B=(I=+I)*I,d):Math.sqrt(B)},d.tapDistance=function(I){return arguments.length?(w=+I,d):w},d}function Jm(e,A,t=null,r,n=null){const i=Qe(e);i.selectAll("*").remove();const s=i.node(),o=s.getBoundingClientRect();let a=o.width||800,l=o.height||600;const c=a/2,g=l/2,u=i.append("canvas").attr("class","network-canvas").attr("width",a).attr("height",l).style("width",a+"px").style("height",l+"px").style("cursor","default"),f=u.node().getContext("2d",{alpha:!1});let h=Ys;const B=new Set,w={current:null};function d(){const x=s.getBoundingClientRect(),M=x.width||800,R=x.height||600;(M!==a||R!==l)&&(a=M,l=R,u.attr("width",a).attr("height",l).style("width",a+"px").style("height",l+"px"),k())}const F=new ResizeObserver(d);F.observe(s);const b=Zl(A).force("link",zl(t).id(x=>x.id).distance(x=>x.distance)).force("charge",jl().strength(-250)).force("center",Pl(c,g).strength(.7)).force("collide",Wl(x=>x.radius+10).strength(.5)).force("x",ql(c).strength(.025)).force("y",Ac(g).strength(.025)).alphaDecay(.05).velocityDecay(.6);let Q=null;b.on("tick",()=>{Q||(Q=requestAnimationFrame(()=>{k(),Q=null}))}),b.tick(100);for(let x=0;x<100;x++)b.tick();b.alphaTarget(0);const C=Wm({canvas:u,nodes:A,transform:()=>h,hoveredNode:w,onSelectionChange:(x,M)=>{B.clear(),x.forEach(I=>B.add(I));const R=zm(A,x,M);r(R),k()},render:()=>k()}),y=Bc().scaleExtent([.1,10]).filter(x=>!C.isSelectionMode()||x.type==="wheel").on("zoom",({transform:x})=>{h=x,k()});u.call(y);const{dragstarted:E,dragged:U,dragended:H}=Ym(u,A,b,()=>h,w,()=>!C.isSelectionMode(),k);C.setupInteractions(u,{start:E,drag:U,end:H});function k(){f.save(),f.fillRect(0,0,a,l),f.translate(h.x,h.y),f.scale(h.k,h.k),f.strokeStyle="#8a8a8a",f.lineWidth=1/h.k,t.forEach(M=>{const R=M.source.x,I=M.source.y,G=M.target.x,K=M.target.y;f.globalAlpha=Math.max(.2,M.strength),f.lineWidth=M.width/h.k,f.beginPath(),f.moveTo(R,I),f.lineTo(G,K),f.stroke()}),f.globalAlpha=1,A.forEach(M=>{const R=B.has(M.id);f.fillStyle=M.color,f.beginPath(),f.arc(M.x,M.y,M.radius,0,2*Math.PI),f.fill(),R&&(f.strokeStyle="#0f2bff",f.lineWidth=3/h.k,f.stroke())});const x=C.getSelectionRect();if(x){f.strokeStyle="#0f2bff",f.fillStyle="rgba(15, 43, 255, 0.2)",f.lineWidth=2/h.k;const M=Math.min(x.x1,x.x2),R=Math.min(x.y1,x.y2),I=Math.abs(x.x2-x.x1),G=Math.abs(x.y2-x.y1);f.fillRect(M,R,I,G),f.strokeRect(M,R,I,G)}f.restore()}return k(),{destroy:()=>{Q&&cancelAnimationFrame(Q),b.stop(),F.disconnect(),u.remove()},toggleSelectionMode:()=>{const x=C.toggleSelectionMode();return n&&n(x),k(),x}}}function Wm(e){const{canvas:A,nodes:t,transform:r,hoveredNode:n,onSelectionChange:i,render:s}=e,o=new Set,a=[];let l=!1,c=null;function g(){return l=!l,A.style("cursor",l?"crosshair":"default"),l}function u(B){if(o.has(B)){o.delete(B);const w=a.indexOf(B);w>-1&&a.splice(w,1)}else o.add(B),a.push(B);i(o,a)}function f(B,w){const d=r(),F=(B-d.x)/d.k,b=(w-d.y)/d.k;for(let Q=t.length-1;Q>=0;Q--){const C=t[Q],y=F-C.x,E=b-C.y;if(Math.sqrt(y*y+E*E)<C.radius)return C}return null}function h(B,w){let d=null;B.on("mousedown",function(F){const[b,Q]=Ee(F),C=f(b,Q);if(l){const y=r(),E=(b-y.x)/y.k,U=(Q-y.y)/y.k;c={x1:E,y1:U,x2:E,y2:U},s()}else C&&(d=C,w.start(F,C))}),B.on("mousemove",function(F){const[b,Q]=Ee(F);if(l){if(c){const C=r(),y=(b-C.x)/C.k,E=(Q-C.y)/C.k;c.x2=y,c.y2=E,s()}}else if(d)w.drag(F,d,b,Q);else{const C=f(b,Q);n.current!==C&&(n.current=C,B.style("cursor",C?"pointer":"default"),s())}}),B.on("mouseup",function(F){if(l){if(c){const b=Math.min(c.x1,c.x2),Q=Math.min(c.y1,c.y2),C=Math.max(c.x1,c.x2),y=Math.max(c.y1,c.y2);o.clear(),a.length=0;const E=[];t.forEach(U=>{U.x>=b&&U.x<=C&&U.y>=Q&&U.y<=y&&E.push({id:U.id,y:U.y})}),E.sort((U,H)=>U.y-H.y),E.forEach(({id:U})=>{o.add(U),a.push(U)}),i(o,a),c=null,s()}}else if(d)w.end(F,d),d=null;else{const[b,Q]=Ee(F),C=f(b,Q);C&&u(C.id)}})}return{toggleSelectionMode:g,isSelectionMode:()=>l,setupInteractions:h,getSelectionRect:()=>c}}function Ym(e,A,t,r,n,i,s){let o=null;function a(g,u){i()&&(g.active||t.alphaTarget(.3).restart(),o=u,u.fx=u.x,u.fy=u.y)}function l(g,u,f,h){if(!o||!i())return;const B=r();u.fx=(f-B.x)/B.k,u.fy=(h-B.y)/B.k,s()}function c(g,u){!o||!i()||(g.active||t.alphaTarget(0),u.fx=null,u.fy=null,o=null)}return{dragstarted:a,dragged:l,dragended:c}}function zm(e,A,t){const r=new Map(e.map(n=>[n.id,n]));return t.map(n=>r.get(n)).filter(Boolean)}const hc=8,$m=1.5,Zm=50,dc=.5,jm=800,qm=600;function AQ(e,A,t=null,r=null,n=null){const i=jm/2,s=qm/2,a=Qe(e).append("svg").attr("class","network-svg"),l=a.append("g"),c=l.append("g").selectAll("line").data(t).join("line").attr("class","link").attr("stroke-width",h=>h.width||$m).attr("stroke-opacity",h=>Math.max(.2,h.strength||dc)),g=l.append("g").selectAll("circle").data(A).join("circle").attr("class","node").attr("r",h=>h.radius||hc).attr("fill",h=>h.color);g.append("title").text(h=>h.label);const u=Zl(A).force("link",zl(t).id(h=>h.id).distance(h=>h.distance||Zm)).force("charge",jl().strength(-250)).force("center",Pl(i,s).strength(.7)).force("collide",Wl(h=>(h.radius||hc)+10).strength(dc)).force("x",ql(i).strength(.025)).force("y",Ac(s).strength(.025));let f=null;if(r){f=eQ({svg:a,g:l,nodes:A,onSelectionChange:(d,F)=>{g.classed("selected",Q=>d.has(Q.id));const b=rQ(A,d,F);r(b)}}),a.call(Bc().scaleExtent([.1,10]).filter(d=>!f.isSelectionMode()||d.type==="wheel").on("zoom",({transform:d})=>l.attr("transform",d)));const{dragstarted:h,dragged:B,dragended:w}=tQ(u,c,g);f.setupNodeClick(g),f.setupDrag(g,{start:h,drag:B,end:w})}return{destroy:()=>{u.stop(),a.remove()},toggleSelectionMode:()=>{if(f){const h=f.toggleSelectionMode();return n&&n(h),h}}}}function eQ(e){const{svg:A,g:t,nodes:r,onSelectionChange:n,getNodePosition:i=B=>({x:B.x,y:B.y}),getNodeId:s=B=>B.id}=e,o=new Set,a=[];let l=!1;function c(){return l=!l,A.style("cursor",l?"crosshair":"default"),l}function g(B){if(o.has(B)){o.delete(B);const w=a.indexOf(B);w>-1&&a.splice(w,1)}else o.add(B),a.push(B);n(o,a)}function u(){o.clear(),a.length=0,n(o,a)}let f=null,h=null;return A.on("mousedown",function(B){if(!l)return;B.preventDefault();const[w,d]=Ee(B,t.node());f={x:w,y:d},h=t.append("rect").attr("class","selection-rect").attr("x",w).attr("y",d).attr("width",0).attr("height",0)}).on("mousemove",function(B){if(!l||!h)return;const[w,d]=Ee(B,t.node()),F=w-f.x,b=d-f.y;h.attr("x",F<0?w:f.x).attr("y",b<0?d:f.y).attr("width",Math.abs(F)).attr("height",Math.abs(b))}).on("mouseup",function(B){if(!l||!h)return;const[w,d]=Ee(B,t.node()),F=Math.min(f.x,w),b=Math.min(f.y,d),Q=Math.max(f.x,w),C=Math.max(f.y,d);o.clear(),a.length=0;const y=[];r.forEach(E=>{const U=i(E);U.x>=F&&U.x<=Q&&U.y>=b&&U.y<=C&&y.push({id:s(E),y:U.y})}),y.sort((E,U)=>E.y-U.y),y.forEach(({id:E})=>{o.add(E),a.push(E)}),n(o,a),h.remove(),h=null,f=null}),{toggleSelectionMode:c,toggleNode:g,clearSelection:u,isSelectionMode:()=>l,getSelectedNodes:()=>o,getSelectionOrder:()=>a,setupNodeClick:B=>{B.on("click",function(w,d){w.stopPropagation(),g(s(d))})},setupDrag:(B,w)=>{B.call(i0().filter(()=>!l).on("start",w.start).on("drag",w.drag).on("end",w.end))}}}function tQ(e,A,t){e.on("tick",()=>{A.attr("x1",s=>s.source.x).attr("y1",s=>s.source.y).attr("x2",s=>s.target.x).attr("y2",s=>s.target.y),t.attr("cx",s=>s.x).attr("cy",s=>s.y)});function r(s){s.active||e.alphaTarget(.3).restart(),s.subject.fx=s.subject.x,s.subject.fy=s.subject.y}function n(s){s.subject.fx=s.x,s.subject.fy=s.y}function i(s){s.active||e.alphaTarget(0),s.subject.fx=null,s.subject.fy=null}return{dragstarted:r,dragged:n,dragended:i}}function rQ(e,A,t){const r=new Map(e.map(n=>[n.id,n]));return t.map(n=>r.get(n)).filter(Boolean)}const nQ=/^(?:(\d+)_)?wit(\d+)_([a-z]{3})(\d+)(?:_anno(\d+))?_(\d+)(?:_([\d,]+))?(?:\.jpg)?$/;function iQ(e){if(!e)return null;const A=e.match(nQ);if(!A)return null;const[,t,r,n,i,s,o,a]=A;return{witnessId:parseInt(r,10),digitizationType:n,digitizationId:parseInt(i,10),regionId:t?parseInt(t,10):s?parseInt(s,10):null,canvasNb:parseInt(o,10),canvasDigits:o.length,coord:a?a.split(",").map(Number):null,imgRoot:`wit${r}_${n}${i}_${o}.jpg`}}class ci{constructor(A){this.id=A.id,this.img=A.img??A.ref,this.title=A.title,this.xywh=Array.isArray(A.xywh)?A.xywh.map(Number):A.xywh,this.canvas=A.canvas,this.ref=A.ref,this.type=A.type??pB,this._parsed=null}get parsed(){return this._parsed||(this._parsed=iQ(this.img)||{}),this._parsed}get witnessId(){return this.parsed.witnessId}get digitType(){return this.parsed.digitizationType}get digitId(){return this.parsed.digitizationId}get regionId(){return this.parsed.regionId}get canvasNb(){return this.parsed.canvasNb}get canvasDigits(){return this.parsed.canvasDigits}get imgRoot(){return this.parsed.imgRoot}get coord(){return this.parsed.coord??this.xywh}canvasStr(A=this.canvasNb,t=this.canvasDigits){return String(A).padStart(t,"0")}get iiifRoot(){return this.imgRoot?`${kr()}/iiif/2/${this.imgRoot}`:null}url(A=null,t="full"){if(!this.iiifRoot)return"https://placehold.co/96x96/png?text=No+image";let r=A??this.coord??"full";return Array.isArray(r)&&(r=r.join(",")),`${this.iiifRoot}/${r}/${t}/0/default.jpg`}info(){return this.iiifRoot?`${this.iiifRoot}/info.json`:null}manifest(){let A=`wit${this.witnessId}_${this.digitType}${this.digitId}`;return this.regionId&&(A+=`_anno${this.regionId}`),`${kr()}/iiif/v2/${A}/manifest.json`}urlForCanvas(A=this.canvasNb,t=this.coord,r="full"){const n=this.imgRoot.replace(`_${this.canvasStr()}.jpg`,`_${this.canvasStr(A)}.jpg`),i=Array.isArray(t)?t.join(","):t;return`${kr()}/iiif/2/${n}/${i}/${r}/0/default.jpg`}infoUrlForCanvas(A=this.canvasNb){const t=this.imgRoot.replace(`_${this.canvasStr()}.jpg`,`_${this.canvasStr(A)}.jpg`);return`${kr()}/iiif/2/${t}/info.json`}urlForMirador(A=this.canvasNb){return`${FB()}/index.html?iiif-content=${this.manifest()}&canvas=${A}`}}function sQ(){const e=`${window.location.origin}${window.location.pathname}`,A=ZA(1),t=ZA({}),r=ZA({}),n=ZA("");fa(A,"p");function i(c){n.update(g=>{const u=g===c?"":c;return navigator.clipboard.writeText(u).then(f=>""),u})}const s=(async()=>{try{const c=await fetch(`${e}canvas`);if(!c.ok)return{};const g=await c.json();let u={};return Object.values(g).forEach(f=>{Object.entries(f).forEach(([h,B])=>{u[h]=B})}),t.set(u),g}catch{return{}}})(),o=ye(A,c=>(async()=>{const u=await(await fetch(`${e}canvas?p=${c}`)).json();return r.set(u),u})());function a(c){ga(c,A,"p")}function l(c){t.update(g=>(delete g[c],{...g})),r.update(g=>{for(const u in g)if(g[u][c]){const{[c]:f,...h}=g[u];return g[u]=h,g}return g})}return{currentPage:A,pageRegions:r,allRegions:t,fetchPages:o,fetchAll:s,handlePageUpdate:a,remove:l,clipBoard:n,copyRef:i}}const wc=sQ();function $s(e){const{type:A,modelName:t,title:r,extractMeta:n=f=>f}=e,i={id:null,type:A,title:r,is_public:!1,selected:{}},s=JSON.parse(localStorage.getItem(A))||i,o=ZA(s),a=ZA(!1);function l(f,h=!1){a.set(h),localStorage.setItem(A,JSON.stringify(f))}function c(){o.update(f=>{if(A!=="documentSet")return console.error("Document set management is the only type currently supported for saving."),f;const h=Object.fromEntries(Object.entries(f.selected).map(([w,d])=>[w,Object.keys(d)])),B=f.id?`${f.id}/edit`:"new";return fetch(`${window.location.origin}/${t}/${B}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":gs},body:JSON.stringify({title:f.title,is_public:f.is_public,selection:f,...h})}).then(w=>w.json()).then(w=>{if(!(w!=null&&w.document_set_id))throw new Error("Failed to save");o.update(d=>(d.id=w.document_set_id,d.title=w.document_set_title,d.is_public=w.is_public,l(d,!0),d))}).catch(w=>console.error("Error:",w)),f})}const g=f=>o.update(()=>{const h=f.selection.id?f.selection:{...f.selection,id:f.id};return l(h),h}),u=()=>o.update(()=>{const f={...i,selected:{}};return l(f),f});return{type:A,subscribe:o.subscribe,add:f=>o.update(h=>(h.selected[f.class]={...h.selected[f.class]||{},[f.id]:n(f)},l(h),h)),addAll:f=>o.update(h=>(f.forEach(B=>{h.selected[B.class]={...h.selected[B.class]||{},[B.id]:n(B)}}),l(h),h)),remove:(f,h)=>o.update(B=>{const{[f]:w,...d}=B.selected[h];return B.selected[h]=d,l(B),B}),removeAll:(f,h)=>o.update(B=>(f.forEach(w=>{var d;return(d=B.selected[h])==null?!0:delete d[w]}),l(B),B)),toggle:f=>o.update(h=>{var B;if((B=h.selected[f.class])!=null&&B[f.id]){const{[f.id]:w,...d}=h.selected[f.class];h.selected[f.class]=d}else h.selected[f.class]={...h.selected[f.class]||{},[f.id]:n(f)};return l(h),h}),toggleSet:f=>{be(o).id===f.id?u():g(f)},empty:()=>o.update(f=>(f.id=null,f.title=r,f.selected={},l(f,!0),f)),updateTitle:f=>o.update(h=>(h.title=f,l(h,!0),h)),updatePublic:f=>o.update(h=>(h.is_public=f,l(h,!0),h)),save:c,isSaved:a,selection:o,selectionTitle:ye(o,f=>f.title),isSelected:ye(o,f=>h=>{var B;return((B=f.selected[h.class])==null?void 0:B[h.id])||!1}),selected:ye(o,f=>f.selected),nbSelected:ye(o,f=>Object.entries(f.selected).reduce((h,[B,w])=>B==="User"?h:h+Object.keys(w).length,0)),isSetSelected:ye(o,f=>h=>f.id===h.id)}}const oQ=$s({type:"documentSet",modelName:"document-set",title:rA==="en"?"Document set":"Set de documents",extractMeta:e=>({title:e.title,url:e.url})}),pc=$s({type:"regionsSet",modelName:"regions-set",title:rA==="en"?"Regions set":"Set de régions",extractMeta:e=>e});function aQ(e){if(!e.startsWith("wit"))return e;const[A,...t]=e.split("_wit");return`wit${t}`}const ui=$s({type:"clusterSet",modelName:"cluster-set",title:rA==="en"?"Selected regions":"Régions sélectionnées",extractMeta:e=>({imgRef:e.id,clusterId:e.clusterId,title:e.title,xywh:e.xywh,img:aQ(e.id)})}),Fb="";function lQ(e){let A,t,r,n,i,s,o,a,l,c,g;return a=new Qs({props:{targetHtmlId:e[1],tooltipText:e[2]}}),{c(){A=v("div"),t=v("button"),r=pt("svg"),n=pt("path"),i=pt("path"),s=pt("path"),o=O(),SA(a.$$.fragment),m(n,"d","M53.6443 14.25C47.7042 5.33 37.7293 0 26.9801 0C16.2206 0 6.24576 5.33 0.305653 14.25L0 14.71L0.305653 15.17C6.24576 24.09 16.2206 29.42 26.9801 29.42C37.7293 29.42 47.7042 24.09 53.6443 15.16L53.95 14.71L53.6443 14.25ZM3.25025 14.71C7.63146 8.69001 14.0606 4.65 21.2641 3.22C20.0619 3.83 18.9411 4.62 17.963 5.59C15.5176 8.02 14.1625 11.25 14.1625 14.67C14.1625 18.11 15.5176 21.34 17.963 23.76C19.0124 24.79 20.1943 25.61 21.4781 26.23C14.1829 24.85 7.6824 20.78 3.25025 14.71ZM27.1125 22.64C22.7008 22.64 19.1041 19.08 19.1041 14.7C19.1041 12.59 19.9396 10.6 21.4475 9.10001C22.9555 7.60001 24.9729 6.77 27.1125 6.77C29.2522 6.77 31.2594 7.60001 32.7775 9.10001C34.2855 10.6 35.121 12.59 35.121 14.7C35.121 16.82 34.2855 18.82 32.7775 20.32C31.2594 21.81 29.242 22.64 27.1125 22.64ZM32.9915 26.14C34.204 25.53 35.3146 24.74 36.3029 23.77C38.7482 21.34 40.0932 18.11 40.0932 14.68C40.0932 9.75 37.281 5.47001 33.1647 3.32001C40.1747 4.81001 46.4102 8.83001 50.6896 14.71C46.3797 20.64 40.0728 24.67 32.9915 26.14Z"),m(n,"class","svelte-109pj58"),m(i,"d","M26.9804 25.98C33.3222 25.98 38.4633 20.9343 38.4633 14.71C38.4633 8.48576 33.3222 3.44 26.9804 3.44C20.6386 3.44 15.4976 8.48576 15.4976 14.71C15.4976 20.9343 20.6386 25.98 26.9804 25.98Z"),m(i,"class","svelte-109pj58"),m(s,"d","M17.9529 23.85L36.2928 5.85001"),m(s,"stroke-width","3"),m(s,"stroke-miterlimit","10"),m(s,"class","svelte-109pj58"),m(r,"width","54"),m(r,"height","30"),m(r,"viewBox","0 0 54 30"),m(r,"fill","none"),m(r,"xmlns","http://www.w3.org/2000/svg"),m(r,"class","svelte-109pj58"),m(t,"class","button tag svelte-109pj58"),m(t,"title",e[2]),m(A,"id",e[1])},m(u,f){T(u,A,f),p(A,t),p(t,r),p(r,n),p(r,i),p(r,s),p(t,o),bA(a,t,null),l=!0,c||(g=QA(t,"click",ia(e[3])),c=!0)},p:sA,i(u){l||(V(a.$$.fragment,u),l=!0)},o(u){Y(a.$$.fragment,u),l=!1},d(u){u&&D(A),EA(a),c=!1,g()}}}function cQ(e){const A=Un(),t=`modal-opener-${window.crypto.randomUUID()}`;return[A,t,rA==="fr"?"Vue détaillée":"Detailed view",()=>A("open")]}class uQ extends oe{constructor(A){super(),se(this,A,cQ,lQ,Ae,{})}}const yb="",fQ=e=>({}),mc=e=>({});function Qc(e){let A,t,r,n,i,s;function o(f,h){return f[10]?BQ:gQ}let a=o(e),l=a(e);function c(f,h){return f[10]?dQ:hQ}let g=c(e),u=g(e);return{c(){A=v("button"),t=pt("svg"),l.c(),r=O(),n=v("span"),u.c(),m(t,"xmlns","http://www.w3.org/2000/svg"),m(t,"viewBox","0 0 384 512"),m(t,"class","svelte-g5axbe"),m(n,"class","tooltip"),m(A,"class","button tag")},m(f,h){T(f,A,h),p(A,t),l.m(t,null),p(A,r),p(A,n),u.m(n,null),i||(s=QA(A,"click",ia(e[21])),i=!0)},p(f,h){a!==(a=o(f))&&(l.d(1),l=a(f),l&&(l.c(),l.m(t,null))),g===(g=c(f))&&u?u.p(f,h):(u.d(1),u=g(f),u&&(u.c(),u.m(n,null)))},d(f){f&&D(A),l.d(),u.d(),i=!1,s()}}}function gQ(e){let A;return{c(){A=pt("path"),m(A,"d","M384 336H192c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16l140.1 0L400 115.9V320c0 8.8-7.2 16-16 16zM192 384H384c35.3 0 64-28.7 64-64V115.9c0-12.7-5.1-24.9-14.1-33.9L366.1 14.1c-9-9-21.2-14.1-33.9-14.1H192c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64zM64 128c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H256c35.3 0 64-28.7 64-64V416H272v32c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192c0-8.8 7.2-16 16-16H96V128H64z"),m(A,"class","svelte-g5axbe")},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function BQ(e){let A;return{c(){A=pt("path"),m(A,"d","M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"),m(A,"class","svelte-g5axbe")},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function hQ(e){let A=rA==="en"?"Copy ID":"Copier l'ID",t;return{c(){t=aA(A)},m(r,n){T(r,t,n)},p:sA,d(r){r&&D(t)}}}function dQ(e){let A=rA==="en"?"Copied!":"Copié !",t;return{c(){t=aA(A)},m(r,n){T(r,t,n)},p:sA,d(r){r&&D(t)}}}function Cc(e){let A,t;return A=new uQ({}),A.$on("open",e[14]),{c(){SA(A.$$.fragment)},m(r,n){bA(A,r,n),t=!0},p:sA,i(r){t||(V(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){EA(A,r)}}}function wQ(e){let A,t,r,n,i,s,o,a=e[8].title+"",l,c,g,u,f,h,B,w,d,F,b,Q=e[4]&&Qc(e),C=!e[5]&&Cc(e);const y=e[19].actions,E=Xe(y,e,e[18],mc);return{c(){A=v("div"),t=v("figure"),r=v("img"),i=O(),s=v("div"),o=v("span"),g=O(),u=v("div"),Q&&Q.c(),f=O(),C&&C.c(),h=O(),E&&E.c(),m(r,"class","region-img svelte-g5axbe"),ut(r.src,n=e[9])||m(r,"src",n),m(r,"alt","Extracted region"),m(o,"class","overlay-desc"),m(s,"class","overlay is-center svelte-g5axbe"),m(t,"class",l="image card region-image "+(e[0]?"is-96x96":"")+" svelte-g5axbe"),m(t,"tabindex","-1"),m(t,"style",c=(e[7]==="full"?"height: 100%":`height: ${e[7]}px; min-width: ${e[7]}px`)+"; "+(e[3]?`border: 5px solid ${e[3]};`:"")),m(u,"class","region-btn ml-1"),m(A,"class",B="region is-center "+(e[6]&&e[11](e[2])?"checked":"")+" svelte-g5axbe"),m(A,"style",w=e[7]==="full"?"height: 100%":"")},m(U,H){T(U,A,H),p(A,t),p(t,r),p(t,i),p(t,s),p(s,o),o.innerHTML=a,p(A,g),p(A,u),Q&&Q.m(u,null),p(u,f),C&&C.m(u,null),p(u,h),E&&E.m(u,null),d=!0,F||(b=[QA(t,"click",e[20]),QA(t,"keyup",null)],F=!0)},p(U,[H]){(!d||H&512&&!ut(r.src,n=U[9]))&&m(r,"src",n),(!d||H&256)&&a!==(a=U[8].title+"")&&(o.innerHTML=a),(!d||H&1&&l!==(l="image card region-image "+(U[0]?"is-96x96":"")+" svelte-g5axbe"))&&m(t,"class",l),(!d||H&136&&c!==(c=(U[7]==="full"?"height: 100%":`height: ${U[7]}px; min-width: ${U[7]}px`)+"; "+(U[3]?`border: 5px solid ${U[3]};`:"")))&&m(t,"style",c),U[4]?Q?Q.p(U,H):(Q=Qc(U),Q.c(),Q.m(u,f)):Q&&(Q.d(1),Q=null),U[5]?C&&(ne(),Y(C,1,1,()=>{C=null}),ie()):C?(C.p(U,H),H&32&&V(C,1)):(C=Cc(U),C.c(),V(C,1),C.m(u,h)),E&&E.p&&(!d||H&262144)&&We(E,y,U,U[18],d?Je(y,U[18],H,fQ):Ye(U[18]),mc),(!d||H&2116&&B!==(B="region is-center "+(U[6]&&U[11](U[2])?"checked":"")+" svelte-g5axbe"))&&m(A,"class",B),(!d||H&128&&w!==(w=U[7]==="full"?"height: 100%":""))&&m(A,"style",w)},i(U){d||(V(C),V(E,U),d=!0)},o(U){Y(C),Y(E,U),d=!1},d(U){U&&D(A),Q&&Q.d(),C&&C.d(),E&&E.d(U),F=!1,Fe(b)}}}function pQ(e,A,t){let r,n,i,s,o,{$$slots:a={},$$scope:l}=A;const{clipBoard:c}=wc;MA(e,c,k=>t(17,s=k));let{selectionStore:g}=A;g||(g=pc);let{toggleSelection:u=g.toggle}=A;const{isSelected:f}=g;MA(e,f,k=>t(11,o=k));let{item:h}=A,{index:B=null}=A,{borderColor:w=null}=A,{copyable:d=!1}=A,{isInModal:F=!1}=A,{selectable:b=!F}=A,{isSquare:Q=!1}=A,{height:C=Q?96:140}=A;C==="full"&&(Q=!1);const y=Un(),E=()=>F?null:y("openModal",{index:B}),U=()=>b?u(r):E(),H=()=>wc.copyRef(h.ref);return e.$$set=k=>{"selectionStore"in k&&t(15,g=k.selectionStore),"toggleSelection"in k&&t(1,u=k.toggleSelection),"item"in k&&t(2,h=k.item),"index"in k&&t(16,B=k.index),"borderColor"in k&&t(3,w=k.borderColor),"copyable"in k&&t(4,d=k.copyable),"isInModal"in k&&t(5,F=k.isInModal),"selectable"in k&&t(6,b=k.selectable),"isSquare"in k&&t(0,Q=k.isSquare),"height"in k&&t(7,C=k.height),"$$scope"in k&&t(18,l=k.$$scope)},e.$$.update=()=>{e.$$.dirty&4&&t(8,r=new ci(h)),e.$$.dirty&131328&&t(10,n=r.ref===s),e.$$.dirty&385&&t(9,i=r.url(null,C==="full"?"full":Q?`${C},`:`,${C}`))},[Q,u,h,w,d,F,b,C,r,i,n,o,c,f,E,g,B,s,l,a,U,H]}class fi extends oe{constructor(A){super(),se(this,A,pQ,wQ,Ae,{selectionStore:15,toggleSelection:1,item:2,index:16,borderColor:3,copyable:4,isInModal:5,selectable:6,isSquare:0,height:7})}}const _b="",mQ=e=>({item:e&4,index:e&1}),vc=e=>({item:e[2],index:e[0],close:e[4]});function Uc(e){let A,t,r,n,i,s,o,a,l,c,g,u,f=e[3]&&Fc(e);const h=e[8].default,B=Xe(h,e,e[7],vc);let w=e[3]&&yc(e);return{c(){A=v("div"),t=v("div"),r=O(),n=v("div"),f&&f.c(),i=O(),s=v("div"),B&&B.c(),o=O(),w&&w.c(),a=O(),l=v("button"),m(t,"class","modal-background"),m(s,"class","modal-inner svelte-1da92kq"),m(n,"class","modal-content svelte-1da92kq"),m(l,"class","modal-close is-large"),m(l,"aria-label","close"),m(A,"class","modal is-active")},m(d,F){T(d,A,F),p(A,t),p(A,r),p(A,n),f&&f.m(n,null),p(n,i),p(n,s),B&&B.m(s,null),p(n,o),w&&w.m(n,null),p(A,a),p(A,l),c=!0,g||(u=[QA(t,"click",e[4]),QA(t,"keyup",e[9]),QA(l,"click",e[4])],g=!0)},p(d,F){d[3]?f?f.p(d,F):(f=Fc(d),f.c(),f.m(n,i)):f&&(f.d(1),f=null),B&&B.p&&(!c||F&133)&&We(B,h,d,d[7],c?Je(h,d[7],F,mQ):Ye(d[7]),vc),d[3]?w?w.p(d,F):(w=yc(d),w.c(),w.m(n,null)):w&&(w.d(1),w=null)},i(d){c||(V(B,d),c=!0)},o(d){Y(B,d),c=!1},d(d){d&&D(A),f&&f.d(),B&&B.d(d),w&&w.d(),g=!1,Fe(u)}}}function Fc(e){let A,t,r;return{c(){A=v("button"),A.innerHTML='<span class="icon"><i class="fas fa-chevron-left"></i></span>',m(A,"class","nav-btn svelte-1da92kq")},m(n,i){T(n,A,i),t||(r=QA(A,"click",e[10]),t=!0)},p:sA,d(n){n&&D(A),t=!1,r()}}}function yc(e){let A,t,r;return{c(){A=v("button"),A.innerHTML='<span class="icon"><i class="fas fa-chevron-right"></i></span>',m(A,"class","nav-btn svelte-1da92kq")},m(n,i){T(n,A,i),t||(r=QA(A,"click",e[11]),t=!0)},p:sA,d(n){n&&D(A),t=!1,r()}}}function QQ(e){let A,t,r=e[1]&&Uc(e);return{c(){r&&r.c(),A=Ke()},m(n,i){r&&r.m(n,i),T(n,A,i),t=!0},p(n,[i]){n[1]?r?(r.p(n,i),i&2&&V(r,1)):(r=Uc(n),r.c(),V(r,1),r.m(A.parentNode,A)):r&&(ne(),Y(r,1,1,()=>{r=null}),ie())},i(n){t||(V(r),t=!0)},o(n){Y(r),t=!1},d(n){r&&r.d(n),n&&D(A)}}}function CQ(e,A,t){let r,n,{$$slots:i={},$$scope:s}=A,{open:o=!1}=A,{items:a=[]}=A,{currentIndex:l=0}=A;const c=Un(),g=()=>{t(1,o=!1),c("close")},u=d=>{r&&(t(0,l=(l+d+a.length)%a.length),c("navigate",{index:l,item:n}))},f=d=>{o&&(d.key==="Escape"?g():d.key==="ArrowLeft"?u(-1):d.key==="ArrowRight"&&u(1))};ir(()=>document.addEventListener("keydown",f)),xr(()=>document.removeEventListener("keydown",f));function h(d){oB.call(this,e,d)}const B=()=>u(-1),w=()=>u(1);return e.$$set=d=>{"open"in d&&t(1,o=d.open),"items"in d&&t(6,a=d.items),"currentIndex"in d&&t(0,l=d.currentIndex),"$$scope"in d&&t(7,s=d.$$scope)},e.$$.update=()=>{e.$$.dirty&64&&t(3,r=a.length>1),e.$$.dirty&65&&t(2,n=a[l]??null)},[l,o,n,r,g,u,a,s,i,h,B,w]}class _c extends oe{constructor(A){super(),se(this,A,CQ,QQ,Ae,{open:1,items:6,currentIndex:0})}}const bb="";function vQ(e){let A,t,r,n,i,s,o,a;return{c(){A=v("button"),t=v("span"),r=v("i"),m(r,"class",n="fas fa-chevron-"+e[0]+" svelte-v4yed0"),m(t,"class","icon is-small p-0"),m(A,"class",i="nav-btn nav-"+e[0]+" svelte-v4yed0"),m(A,"aria-label",s="Navigate "+e[0]),m(A,"style",e[4])},m(l,c){T(l,A,c),p(A,t),p(t,r),o||(a=QA(A,"click",e[5]),o=!0)},p(l,[c]){c&1&&n!==(n="fas fa-chevron-"+l[0]+" svelte-v4yed0")&&m(r,"class",n),c&1&&i!==(i="nav-btn nav-"+l[0]+" svelte-v4yed0")&&m(A,"class",i),c&1&&s!==(s="Navigate "+l[0])&&m(A,"aria-label",s),c&16&&m(A,"style",l[4])},i:sA,o:sA,d(l){l&&D(A),o=!1,a()}}}function UQ(e,A,t){let{direction:r=""}=A,{delta:n=0}=A,{axis:i=null}=A,{navigationFct:s=()=>{}}=A,{css:o=""}=A;const a=()=>s(n,i);return e.$$set=l=>{"direction"in l&&t(0,r=l.direction),"delta"in l&&t(1,n=l.delta),"axis"in l&&t(2,i=l.axis),"navigationFct"in l&&t(3,s=l.navigationFct),"css"in l&&t(4,o=l.css)},[r,n,i,s,o,a]}class gi extends oe{constructor(A){super(),se(this,A,UQ,vQ,Ae,{direction:0,delta:1,axis:2,navigationFct:3,css:4})}}const Eb="";function bc(e){e[9]=e[13][0],e[10]=e[13][1],e[11]=e[13][2],e[12]=e[13][3]}function Ec(e){let A,t,r={ctx:e,current:null,token:null,hasCatch:!1,pending:_Q,then:yQ,catch:FQ,value:13};return bn(t=e[3],r),{c(){A=Ke(),r.block.c()},m(n,i){T(n,A,i),r.block.m(n,r.anchor=i),r.mount=()=>A.parentNode,r.anchor=A},p(n,i){e=n,r.ctx=e,i&8&&t!==(t=e[3])&&bn(t,r)||la(r,e,i)},d(n){n&&D(A),r.block.d(n),r.token=null,r=null}}}function FQ(e){return{c:sA,m:sA,p:sA,d:sA}}function yQ(e){bc(e);let A,t=`${e[9]}%`,r=`${e[10]}%`,n=`${e[11]}%`,i=`${e[12]}%`;return{c(){A=v("div"),m(A,"class","modal-context-bbox svelte-zgr10j"),VA(A,"left",t),VA(A,"top",r),VA(A,"width",n),VA(A,"height",i)},m(s,o){T(s,A,o)},p(s,o){bc(s),o&8&&t!==(t=`${s[9]}%`)&&VA(A,"left",t),o&8&&r!==(r=`${s[10]}%`)&&VA(A,"top",r),o&8&&n!==(n=`${s[11]}%`)&&VA(A,"width",n),o&8&&i!==(i=`${s[12]}%`)&&VA(A,"height",i)},d(s){s&&D(A)}}}function _Q(e){return{c:sA,m:sA,p:sA,d:sA}}function bQ(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,h,B,w;l=new gi({props:{direction:"left",delta:-1,navigationFct:e[5],css:"margin-left: -2em;"}});let d=e[0]===0&&Ec(e);return B=new gi({props:{direction:"right",delta:1,navigationFct:e[5],css:"margin-right: -2em;"}}),{c(){A=v("div"),t=v("div"),r=v("a"),n=aA("Page "),i=aA(e[2]),o=O(),a=v("div"),SA(l.$$.fragment),c=O(),g=v("img"),f=O(),d&&d.c(),h=O(),SA(B.$$.fragment),m(r,"class","tag button is-small has-text-grey"),m(r,"href",s=e[1].urlForMirador(e[2])),m(r,"target","_blank"),m(t,"class","has-text-centered m-2"),m(g,"class","card modal-context-full-page svelte-zgr10j"),ut(g.src,u=e[4])||m(g,"src",u),m(g,"alt",rA==="fr"?"Vue de la page d'où la région est extraite":"View of the page the region is extracted from"),m(a,"class","modal-context-wrapper svelte-zgr10j"),m(A,"class","modal-context-outer is-flex-direction-column pb-4 svelte-zgr10j")},m(F,b){T(F,A,b),p(A,t),p(t,r),p(r,n),p(r,i),p(A,o),p(A,a),bA(l,a,null),p(a,c),p(a,g),p(a,f),d&&d.m(a,null),p(a,h),bA(B,a,null),w=!0},p(F,[b]){(!w||b&4)&&RA(i,F[2]),(!w||b&6&&s!==(s=F[1].urlForMirador(F[2])))&&m(r,"href",s),(!w||b&16&&!ut(g.src,u=F[4]))&&m(g,"src",u),F[0]===0?d?d.p(F,b):(d=Ec(F),d.c(),d.m(a,h)):d&&(d.d(1),d=null)},i(F){w||(V(l.$$.fragment,F),V(B.$$.fragment,F),w=!0)},o(F){Y(l.$$.fragment,F),Y(B.$$.fragment,F),w=!1},d(F){F&&D(A),EA(l),d&&d.d(),EA(B)}}}function EQ(e,A,t){let r,n,i,s,o,a,{item:l}=A,c=0;const g=u=>t(0,c+=u);return e.$$set=u=>{"item"in u&&t(6,l=u.item)},e.$$.update=()=>{e.$$.dirty&64&&t(1,r=new ci(l)),e.$$.dirty&3&&t(2,n=r.canvasNb+c),e.$$.dirty&6&&t(4,i=r.urlForCanvas(n,"full")),e.$$.dirty&6&&t(8,s=r.infoUrlForCanvas(n)),e.$$.dirty&2&&t(7,o=r.coord),e.$$.dirty&384&&t(3,a=fetch(s).then(u=>u.json()).then(({width:u,height:f})=>[o[0]/u*100,o[1]/f*100,o[2]/u*100,o[3]/f*100]))},[c,r,n,a,i,g,l,o,s]}class Hc extends oe{constructor(A){super(),se(this,A,EQ,bQ,Ae,{item:6})}}const Hb="",HQ=e=>({activeTab:e&1}),Ic=e=>({activeTab:e[0]});function Sc(e,A,t){const r=e.slice();return r[5]=A[t].id,r[6]=A[t].label,r}function xc(e){let A,t,r,n=e[1],i=[];for(let s=0;s<n.length;s+=1)i[s]=Lc(Sc(e,n,s));return{c(){A=v("nav"),t=v("div"),r=v("ul");for(let s=0;s<i.length;s+=1)i[s].c();m(r,"class","svelte-d8a4vd"),m(t,"class","tabs svelte-d8a4vd"),m(A,"class","tabs-bar")},m(s,o){T(s,A,o),p(A,t),p(t,r);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,null)},p(s,o){if(o&3){n=s[1];let a;for(a=0;a<n.length;a+=1){const l=Sc(s,n,a);i[a]?i[a].p(l,o):(i[a]=Lc(l),i[a].c(),i[a].m(r,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},d(s){s&&D(A),xe(i,s)}}}function Lc(e){let A,t,r=e[6]+"",n,i,s,o;function a(){return e[4](e[5])}return{c(){A=v("li"),t=v("a"),n=aA(r),i=O(),m(t,"href",null),he(A,"is-active",e[0]===e[5])},m(l,c){T(l,A,c),p(A,t),p(t,n),p(A,i),s||(o=QA(t,"click",St(a)),s=!0)},p(l,c){e=l,c&2&&r!==(r=e[6]+"")&&RA(n,r),c&3&&he(A,"is-active",e[0]===e[5])},d(l){l&&D(A),s=!1,o()}}}function IQ(e){let A,t,r,n=e[1].length>1&&xc(e);const i=e[3].default,s=Xe(i,e,e[2],Ic);return{c(){n&&n.c(),A=O(),t=v("div"),s&&s.c(),m(t,"class","tab-content svelte-d8a4vd")},m(o,a){n&&n.m(o,a),T(o,A,a),T(o,t,a),s&&s.m(t,null),r=!0},p(o,[a]){o[1].length>1?n?n.p(o,a):(n=xc(o),n.c(),n.m(A.parentNode,A)):n&&(n.d(1),n=null),s&&s.p&&(!r||a&5)&&We(s,i,o,o[2],r?Je(i,o[2],a,HQ):Ye(o[2]),Ic)},i(o){r||(V(s,o),r=!0)},o(o){Y(s,o),r=!1},d(o){n&&n.d(o),o&&D(A),o&&D(t),s&&s.d(o)}}}function SQ(e,A,t){var a;let{$$slots:r={},$$scope:n}=A,{tabs:i=[]}=A,{activeTab:s=((a=i[0])==null?void 0:a.id)??""}=A;const o=l=>t(0,s=l);return e.$$set=l=>{"tabs"in l&&t(1,i=l.tabs),"activeTab"in l&&t(0,s=l.activeTab),"$$scope"in l&&t(2,n=l.$$scope)},[s,i,n,r,o]}class kc extends oe{constructor(A){super(),se(this,A,SQ,IQ,Ae,{tabs:1,activeTab:0})}}const Ib="";function Kc(e,A,t){const r=e.slice();return r[20]=A[t],r}function Mc(e,A,t){const r=e.slice();return r[23]=A[t],r}function Zs(e){const A=e.slice(),t=A[1].get(A[20][A[23]].id);return A[26]=t,A}function Dc(e,A,t){const r=e.slice();return r[23]=A[t],r}function Tc(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,h,B=e[0].regions,w=[];for(let U=0;U<B.length;U+=1)w[U]=Oc(Dc(e,B,U));const d=U=>Y(w[U],1,1,()=>{w[U]=null});let F=e[0].rows,b=[];for(let U=0;U<F.length;U+=1)b[U]=Vc(Kc(e,F,U));const Q=U=>Y(b[U],1,1,()=>{b[U]=null});function C(U){e[14](U)}function y(U){e[15](U)}let E={items:e[6],$$slots:{default:[KQ,({item:U})=>({18:U}),({item:U})=>U?262144:0]},$$scope:{ctx:e}};return e[4]!==void 0&&(E.currentIndex=e[4]),e[3]!==void 0&&(E.open=e[3]),g=new _c({props:E}),qe.push(()=>Hn(g,"currentIndex",C)),qe.push(()=>Hn(g,"open",y)),{c(){A=v("div"),t=v("h3"),t.textContent="Aligned Documents",r=O(),n=v("div"),i=v("table"),s=v("thead"),o=v("tr");for(let U=0;U<w.length;U+=1)w[U].c();a=O(),l=v("tbody");for(let U=0;U<b.length;U+=1)b[U].c();c=O(),SA(g.$$.fragment),m(t,"class","title is-5"),m(s,"class","region-header svelte-1hxxzoa"),m(i,"class","table is-fullwidth svelte-1hxxzoa"),m(n,"class","table-container svelte-1hxxzoa"),m(A,"class","box mt-4")},m(U,H){T(U,A,H),p(A,t),p(A,r),p(A,n),p(n,i),p(i,s),p(s,o);for(let k=0;k<w.length;k+=1)w[k]&&w[k].m(o,null);p(i,a),p(i,l);for(let k=0;k<b.length;k+=1)b[k]&&b[k].m(l,null);T(U,c,H),bA(g,U,H),h=!0},p(U,H){if(H&5){B=U[0].regions;let x;for(x=0;x<B.length;x+=1){const M=Dc(U,B,x);w[x]?(w[x].p(M,H),V(w[x],1)):(w[x]=Oc(M),w[x].c(),V(w[x],1),w[x].m(o,null))}for(ne(),x=B.length;x<w.length;x+=1)d(x);ie()}if(H&3203){F=U[0].rows;let x;for(x=0;x<F.length;x+=1){const M=Kc(U,F,x);b[x]?(b[x].p(M,H),V(b[x],1)):(b[x]=Vc(M),b[x].c(),V(b[x],1),b[x].m(l,null))}for(ne(),x=F.length;x<b.length;x+=1)Q(x);ie()}const k={};H&64&&(k.items=U[6]),H&537133088&&(k.$$scope={dirty:H,ctx:U}),!u&&H&16&&(u=!0,k.currentIndex=U[4],Fn(()=>u=!1)),!f&&H&8&&(f=!0,k.open=U[3],Fn(()=>f=!1)),g.$set(k)},i(U){if(!h){for(let H=0;H<B.length;H+=1)V(w[H]);for(let H=0;H<F.length;H+=1)V(b[H]);V(g.$$.fragment,U),h=!0}},o(U){w=w.filter(Boolean);for(let H=0;H<w.length;H+=1)Y(w[H]);b=b.filter(Boolean);for(let H=0;H<b.length;H+=1)Y(b[H]);Y(g.$$.fragment,U),h=!1},d(U){U&&D(A),xe(w,U),xe(b,U),U&&D(c),EA(g,U)}}}function Oc(e){let A,t,r,n;return t=new Fa({props:{id:e[23],meta:e[2].get(e[23])||{},clickable:!1}}),{c(){A=v("th"),SA(t.$$.fragment),r=O(),m(A,"class","is-vcentered")},m(i,s){T(i,A,s),bA(t,A,null),p(A,r),n=!0},p(i,s){const o={};s&1&&(o.id=i[23]),s&5&&(o.meta=i[2].get(i[23])||{}),t.$set(o)},i(i){n||(V(t.$$.fragment,i),n=!0)},o(i){Y(t.$$.fragment,i),n=!1},d(i){i&&D(A),EA(t)}}}function Nc(e){let A,t,r,n,i=e[20][e[23]].page+"",s,o;return A=new fi({props:{item:e[26],height:96,borderColor:e[10](e[20][e[23]],e[7]),selectable:!1,copyable:!1}}),A.$on("openModal",e[11]),{c(){SA(A.$$.fragment),t=O(),r=v("div"),n=aA("Page "),s=aA(i),m(r,"class","has-text-grey-dark mt-2")},m(a,l){bA(A,a,l),T(a,t,l),T(a,r,l),p(r,n),p(r,s),o=!0},p(a,l){const c={};l&3&&(c.item=a[26]),l&129&&(c.borderColor=a[10](a[20][a[23]],a[7])),A.$set(c),(!o||l&1)&&i!==(i=a[20][a[23]].page+"")&&RA(s,i)},i(a){o||(V(A.$$.fragment,a),o=!0)},o(a){Y(A.$$.fragment,a),o=!1},d(a){EA(A,a),a&&D(t),a&&D(r)}}}function Rc(e){let A,t,r=e[20][e[23]]&&Nc(Zs(e));return{c(){A=v("td"),r&&r.c(),m(A,"class","has-text-centered"),VA(A,"vertical-align","top")},m(n,i){T(n,A,i),r&&r.m(A,null),t=!0},p(n,i){n[20][n[23]]?r?(r.p(Zs(n),i),i&1&&V(r,1)):(r=Nc(Zs(n)),r.c(),V(r,1),r.m(A,null)):r&&(ne(),Y(r,1,1,()=>{r=null}),ie())},i(n){t||(V(r),t=!0)},o(n){Y(r),t=!1},d(n){n&&D(A),r&&r.d()}}}function Vc(e){let A,t,r,n=e[0].regions,i=[];for(let o=0;o<n.length;o+=1)i[o]=Rc(Mc(e,n,o));const s=o=>Y(i[o],1,1,()=>{i[o]=null});return{c(){A=v("tr");for(let o=0;o<i.length;o+=1)i[o].c();t=O()},m(o,a){T(o,A,a);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(A,null);p(A,t),r=!0},p(o,a){if(a&3203){n=o[0].regions;let l;for(l=0;l<n.length;l+=1){const c=Mc(o,n,l);i[l]?(i[l].p(c,a),V(i[l],1)):(i[l]=Rc(c),i[l].c(),V(i[l],1),i[l].m(A,t))}for(ne(),l=n.length;l<i.length;l+=1)s(l);ie()}},i(o){if(!r){for(let a=0;a<n.length;a+=1)V(i[a]);r=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)Y(i[a]);r=!1},d(o){o&&D(A),xe(i,o)}}}function xQ(e){let A,t;return A=new Hc({props:{item:e[18]}}),{c(){SA(A.$$.fragment)},m(r,n){bA(A,r,n),t=!0},p(r,n){const i={};n&262144&&(i.item=r[18]),A.$set(i)},i(r){t||(V(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){EA(A,r)}}}function LQ(e){let A,t,r;return t=new fi({props:{item:e[18],height:"full",isInModal:!0}}),{c(){A=v("div"),SA(t.$$.fragment),m(A,"class","modal-region")},m(n,i){T(n,A,i),bA(t,A,null),r=!0},p(n,i){const s={};i&262144&&(s.item=n[18]),t.$set(s)},i(n){r||(V(t.$$.fragment,n),r=!0)},o(n){Y(t.$$.fragment,n),r=!1},d(n){n&&D(A),EA(t)}}}function kQ(e){let A,t,r,n;const i=[LQ,xQ],s=[];function o(a,l){return a[19]==="region"?0:a[19]==="page"?1:-1}return~(A=o(e))&&(t=s[A]=i[A](e)),{c(){t&&t.c(),r=Ke()},m(a,l){~A&&s[A].m(a,l),T(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?~A&&s[A].p(a,l):(t&&(ne(),Y(s[c],1,1,()=>{s[c]=null}),ie()),~A?(t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),V(t,1),t.m(r.parentNode,r)):t=null)},i(a){n||(V(t),n=!0)},o(a){Y(t),n=!1},d(a){~A&&s[A].d(a),a&&D(r)}}}function KQ(e){let A,t;return A=new kc({props:{tabs:e[5],$$slots:{default:[kQ,({activeTab:r})=>({19:r}),({activeTab:r})=>r?524288:0]},$$scope:{ctx:e}}}),{c(){SA(A.$$.fragment)},m(r,n){bA(A,r,n),t=!0},p(r,n){const i={};n&32&&(i.tabs=r[5]),n&537657344&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(V(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){EA(A,r)}}}function MQ(e){let A,t,r=e[0]&&Tc(e);return{c(){r&&r.c(),A=Ke()},m(n,i){r&&r.m(n,i),T(n,A,i),t=!0},p(n,[i]){n[0]?r?(r.p(n,i),i&1&&V(r,1)):(r=Tc(n),r.c(),V(r,1),r.m(A.parentNode,A)):r&&(ne(),Y(r,1,1,()=>{r=null}),ie())},i(n){t||(V(r),t=!0)},o(n){Y(r),t=!1},d(n){r&&r.d(n),n&&D(A)}}}function DQ(e){let A=0;for(let s=0;s<e.length;s++)A=e.charCodeAt(s)+((A<<5)-A),A=A&A;const r=A*.618033988749895%1*360,n=65+A%20,i=80+A%10;return`hsl(${Math.floor(r)}, ${n}%, ${i}%)`}function TQ(e,A,t){let r,n,i,s,o,{selectedDocuments:a=[]}=A,{documentSetStore:l}=A;const{buildAlignedImageMatrix:c,documentNodes:g,imageNodes:u}=l;MA(e,g,C=>t(2,o=C)),MA(e,u,C=>t(1,s=C));let f=null;function h(C,y){if(!C)return;const E=C.id;if(y.get(E)!==1)return B.has(E)||B.set(E,DQ(E)),B.get(E)}const B=new Map;let w=!1,d=0;const F=C=>{t(4,d=C.detail.index??0),t(3,w=!0)};function b(C){d=C,t(4,d)}function Q(C){w=C,t(3,w)}return e.$$set=C=>{"selectedDocuments"in C&&t(12,a=C.selectedDocuments),"documentSetStore"in C&&t(13,l=C.documentSetStore)},e.$$.update=()=>{if(e.$$.dirty&4102)if(a.length>0&&s&&o){const C=a.map(y=>y.id);t(0,f=c(C))}else t(0,f=null);e.$$.dirty&1&&t(7,r=f?(()=>{const C=new Map;return f.rows.forEach(y=>{Object.values(y).forEach(E=>{C.set(E.id,(C.get(E.id)||0)+1)})}),C})():new Map),e.$$.dirty&3&&t(6,n=f?f.rows.flatMap(C=>f.regions.map(y=>C[y]).filter(y=>y).map(y=>s.get(y.id))):[])},t(5,i=[{id:"region",label:rA==="en"?"Main view":"Vue principale"},{id:"page",label:rA==="en"?"Page View":"Vue de la page"}]),[f,s,o,w,d,i,n,r,g,u,h,F,a,l,b,Q]}class OQ extends oe{constructor(A){super(),se(this,A,TQ,MQ,Ae,{selectedDocuments:12,documentSetStore:13})}}const Sb="";function Gc(e,A,t){const r=e.slice();return r[15]=A[t],r[17]=t,r}function Pc(e,A){let t,r,n;return r=new fi({props:{item:new ci(A[15]),index:A[17],height:A[2],copyable:A[4],selectable:A[3],selectionStore:A[0]}}),r.$on("openModal",A[8]),{key:e,first:null,c(){t=Ke(),SA(r.$$.fragment),this.first=t},m(i,s){T(i,t,s),bA(r,i,s),n=!0},p(i,s){A=i;const o={};s&2&&(o.item=new ci(A[15])),s&2&&(o.index=A[17]),s&4&&(o.height=A[2]),s&16&&(o.copyable=A[4]),s&8&&(o.selectable=A[3]),s&1&&(o.selectionStore=A[0]),r.$set(o)},i(i){n||(V(r.$$.fragment,i),n=!0)},o(i){Y(r.$$.fragment,i),n=!1},d(i){i&&D(t),EA(r,i)}}}function NQ(e){let A,t;return A=new Hc({props:{item:e[13]}}),{c(){SA(A.$$.fragment)},m(r,n){bA(A,r,n),t=!0},p(r,n){const i={};n&8192&&(i.item=r[13]),A.$set(i)},i(r){t||(V(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){EA(A,r)}}}function RQ(e){let A,t,r;return t=new fi({props:{item:e[13],height:"full",isInModal:!0,selectable:!1}}),{c(){A=v("div"),SA(t.$$.fragment),m(A,"class","modal-region svelte-jba7xn")},m(n,i){T(n,A,i),bA(t,A,null),r=!0},p(n,i){const s={};i&8192&&(s.item=n[13]),t.$set(s)},i(n){r||(V(t.$$.fragment,n),r=!0)},o(n){Y(t.$$.fragment,n),r=!1},d(n){n&&D(A),EA(t)}}}function VQ(e){let A,t,r,n;const i=[RQ,NQ],s=[];function o(a,l){return a[14]==="region"?0:a[14]==="page"?1:-1}return~(A=o(e))&&(t=s[A]=i[A](e)),{c(){t&&t.c(),r=Ke()},m(a,l){~A&&s[A].m(a,l),T(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?~A&&s[A].p(a,l):(t&&(ne(),Y(s[c],1,1,()=>{s[c]=null}),ie()),~A?(t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),V(t,1),t.m(r.parentNode,r)):t=null)},i(a){n||(V(t),n=!0)},o(a){Y(t),n=!1},d(a){~A&&s[A].d(a),a&&D(r)}}}function GQ(e){let A,t;return A=new kc({props:{tabs:e[7],$$slots:{default:[VQ,({activeTab:r})=>({14:r}),({activeTab:r})=>r?16384:0]},$$scope:{ctx:e}}}),{c(){SA(A.$$.fragment)},m(r,n){bA(A,r,n),t=!0},p(r,n){const i={};n&128&&(i.tabs=r[7]),n&286720&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(V(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){EA(A,r)}}}function PQ(e){let A=[],t=new Map,r,n,i,s,o,a=Object.values(e[1]);const l=f=>f[15].id;for(let f=0;f<a.length;f+=1){let h=Gc(e,a,f),B=l(h);t.set(B,A[f]=Pc(B,h))}function c(f){e[10](f)}function g(f){e[11](f)}let u={items:e[1],$$slots:{default:[GQ,({item:f})=>({13:f}),({item:f})=>f?8192:0]},$$scope:{ctx:e}};return e[6]!==void 0&&(u.currentIndex=e[6]),e[5]!==void 0&&(u.open=e[5]),n=new _c({props:u}),qe.push(()=>Hn(n,"currentIndex",c)),qe.push(()=>Hn(n,"open",g)),n.$on("navigate",e[9]),{c(){for(let f=0;f<A.length;f+=1)A[f].c();r=O(),SA(n.$$.fragment)},m(f,h){for(let B=0;B<A.length;B+=1)A[B]&&A[B].m(f,h);T(f,r,h),bA(n,f,h),o=!0},p(f,[h]){h&287&&(a=Object.values(f[1]),ne(),A=En(A,h,l,1,f,a,t,r.parentNode,ua,Pc,r,Gc),ie());const B={};h&2&&(B.items=f[1]),h&270464&&(B.$$scope={dirty:h,ctx:f}),!i&&h&64&&(i=!0,B.currentIndex=f[6],Fn(()=>i=!1)),!s&&h&32&&(s=!0,B.open=f[5],Fn(()=>s=!1)),n.$set(B)},i(f){if(!o){for(let h=0;h<a.length;h+=1)V(A[h]);V(n.$$.fragment,f),o=!0}},o(f){for(let h=0;h<A.length;h+=1)Y(A[h]);Y(n.$$.fragment,f),o=!1},d(f){for(let h=0;h<A.length;h+=1)A[h].d(f);f&&D(r),EA(n,f)}}}function XQ(e,A,t){let r,{selectionStore:n=pc}=A,{items:i=[]}=A,{height:s=96}=A,{selectable:o=!0}=A,{copyable:a=!0}=A,l=!1,c=0;const g=B=>{t(6,c=B.detail.index??0),t(5,l=!0)},u=B=>{t(6,c=B.detail.index)};function f(B){c=B,t(6,c)}function h(B){l=B,t(5,l)}return e.$$set=B=>{"selectionStore"in B&&t(0,n=B.selectionStore),"items"in B&&t(1,i=B.items),"height"in B&&t(2,s=B.height),"selectable"in B&&t(3,o=B.selectable),"copyable"in B&&t(4,a=B.copyable)},t(7,r=[{id:"region",label:rA==="en"?"Main view":"Vue principale"},{id:"page",label:rA==="en"?"Page View":"Vue de la page"}]),[n,i,s,o,a,l,c,r,g,u,f,h]}class Xc extends oe{constructor(A){super(),se(this,A,XQ,PQ,Ae,{selectionStore:0,items:1,height:2,selectable:3,copyable:4})}}const xb="";function JQ(e){let A;return{c(){A=v("span"),A.innerHTML='<i class="fas fa-crop-alt"></i>',m(A,"class","icon px-4")},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function WQ(e){let A;return{c(){A=v("span"),A.innerHTML='<i class="fas fa-hand-pointer"></i>',m(A,"class","icon px-4")},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function Jc(e){let A,t,r,n;const i=[zQ,YQ],s=[];function o(a,l){return a[0]==="img"?0:a[0]==="doc"?1:-1}return~(A=o(e))&&(t=s[A]=i[A](e)),{c(){t&&t.c(),r=Ke()},m(a,l){~A&&s[A].m(a,l),T(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?~A&&s[A].p(a,l):(t&&(ne(),Y(s[c],1,1,()=>{s[c]=null}),ie()),~A?(t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),V(t,1),t.m(r.parentNode,r)):t=null)},i(a){n||(V(t),n=!0)},o(a){Y(t),n=!1},d(a){~A&&s[A].d(a),a&&D(r)}}}function YQ(e){let A,t;return A=new OQ({props:{selectedDocuments:e[5],documentSetStore:e[1]}}),{c(){SA(A.$$.fragment)},m(r,n){bA(A,r,n),t=!0},p(r,n){const i={};n&32&&(i.selectedDocuments=r[5]),n&2&&(i.documentSetStore=r[1]),A.$set(i)},i(r){t||(V(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){EA(A,r)}}}function zQ(e){let A,t,r=rA==="en"?"Selected regions":"Régions sélectionnées",n,i,s=e[5].length+"",o,a,l,c,g,u;return g=new Xc({props:{items:e[5],selectable:!1,copyable:!1}}),{c(){A=v("div"),t=v("h3"),n=aA(r),i=aA(" ("),o=aA(s),a=aA(")"),l=O(),c=v("div"),SA(g.$$.fragment),m(t,"class","title is-5"),m(c,"class","selected-nodes grid is-gap-2 mt-5 svelte-1a3kdxu"),m(A,"class","selected-panel box mt-4 svelte-1a3kdxu")},m(f,h){T(f,A,h),p(A,t),p(t,n),p(t,i),p(t,o),p(t,a),p(A,l),p(A,c),bA(g,c,null),u=!0},p(f,h){(!u||h&32)&&s!==(s=f[5].length+"")&&RA(o,s);const B={};h&32&&(B.items=f[5]),g.$set(B)},i(f){u||(V(g.$$.fragment,f),u=!0)},o(f){Y(g.$$.fragment,f),u=!1},d(f){f&&D(A),EA(g)}}}function $Q(e){let A,t,r,n=e[3]?"click":"selection",i,s,o,a,l,c,g,u;function f(d,F){return d[3]?WQ:JQ}let h=f(e),B=h(e),w=e[5].length>0&&Jc(e);return{c(){A=v("div"),t=v("button"),B.c(),r=aA(`
        Switch to `),i=aA(n),s=aA(" mode"),o=O(),a=v("div"),l=O(),w&&w.c(),m(t,"class","toggle-button button is-small is-link mb-3"),m(a,"class","visualization-container")},m(d,F){T(d,A,F),p(A,t),B.m(t,null),p(t,r),p(t,i),p(t,s),p(A,o),p(A,a),e[9](a),p(A,l),w&&w.m(A,null),c=!0,g||(u=QA(t,"click",e[7]),g=!0)},p(d,[F]){h!==(h=f(d))&&(B.d(1),B=h(d),B&&(B.c(),B.m(t,r))),(!c||F&8)&&n!==(n=d[3]?"click":"selection")&&RA(i,n),d[5].length>0?w?(w.p(d,F),F&32&&V(w,1)):(w=Jc(d),w.c(),V(w,1),w.m(A,null)):w&&(ne(),Y(w,1,1,()=>{w=null}),ie())},i(d){c||(V(w),c=!0)},o(d){Y(w),c=!1},d(d){d&&D(A),B.d(),e[9](null),w&&w.d(),g=!1,u()}}}const ZQ=1e3;function jQ(e,A,t){let r,n,i=sA,s=()=>(i(),i=pn(r,Q=>t(8,n=Q)),r),o;e.$$.on_destroy.push(()=>i());let{type:a="img"}=A,{documentSetStore:l}=A;const{imageNetwork:c,documentNetwork:g,selectedNodes:u,updateSelectedNodes:f}=l;MA(e,u,Q=>t(5,o=Q));let h,B,w=!1;function d(){h&&(h.destroy(),f([]));function Q(y){f(y)}h=(n.nodes.length<ZQ?AQ:Jm)(B,n.nodes,n.links,Q,y=>{t(3,w=y)}),t(3,w=a==="img"),w&&h.toggleSelectionMode()}function F(){h&&t(3,w=h.toggleSelectionMode())}xr(()=>{h==null||h.destroy()});function b(Q){qe[Q?"unshift":"push"](()=>{B=Q,t(2,B)})}return e.$$set=Q=>{"type"in Q&&t(0,a=Q.type),"documentSetStore"in Q&&t(1,l=Q.documentSetStore)},e.$$.update=()=>{e.$$.dirty&1&&s(t(4,r=a==="img"?c:g)),e.$$.dirty&260&&n&&B&&d()},[a,l,B,w,r,o,u,F,n,b]}class qQ extends oe{constructor(A){super(),se(this,A,jQ,$Q,Ae,{type:0,documentSetStore:1})}}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var js=function(e,A){return js=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])},js(e,A)};function lt(e,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");js(e,A);function t(){this.constructor=e}e.prototype=A===null?Object.create(A):(t.prototype=A.prototype,new t)}var qs=function(){return qs=Object.assign||function(A){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(A[i]=t[i])}return A},qs.apply(this,arguments)};function Ge(e,A,t,r){function n(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(c){try{l(r.next(c))}catch(g){s(g)}}function a(c){try{l(r.throw(c))}catch(g){s(g)}}function l(c){c.done?i(c.value):n(c.value).then(o,a)}l((r=r.apply(e,A||[])).next())})}function De(e,A){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,n,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(c){return a([l,c])}}function a(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,n&&(i=l[0]&2?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,n=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){t.label=l[1];break}if(l[0]===6&&t.label<i[1]){t.label=i[1],i=l;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(l);break}i[2]&&t.ops.pop(),t.trys.pop();continue}l=A.call(e,t)}catch(c){l=[6,c],n=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Bi(e,A,t){if(t||arguments.length===2)for(var r=0,n=A.length,i;r<n;r++)(i||!(r in A))&&(i||(i=Array.prototype.slice.call(A,0,r)),i[r]=A[r]);return e.concat(i||A)}for(var yt=function(){function e(A,t,r,n){this.left=A,this.top=t,this.width=r,this.height=n}return e.prototype.add=function(A,t,r,n){return new e(this.left+A,this.top+t,this.width+r,this.height+n)},e.fromClientRect=function(A,t){return new e(t.left+A.windowBounds.left,t.top+A.windowBounds.top,t.width,t.height)},e.fromDOMRectList=function(A,t){var r=Array.from(t).find(function(n){return n.width!==0});return r?new e(r.left+A.windowBounds.left,r.top+A.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),hi=function(e,A){return yt.fromClientRect(e,A.getBoundingClientRect())},AC=function(e){var A=e.body,t=e.documentElement;if(!A||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(A.scrollWidth,t.scrollWidth),Math.max(A.offsetWidth,t.offsetWidth),Math.max(A.clientWidth,t.clientWidth)),n=Math.max(Math.max(A.scrollHeight,t.scrollHeight),Math.max(A.offsetHeight,t.offsetHeight),Math.max(A.clientHeight,t.clientHeight));return new yt(0,0,r,n)},di=function(e){for(var A=[],t=0,r=e.length;t<r;){var n=e.charCodeAt(t++);if(n>=55296&&n<=56319&&t<r){var i=e.charCodeAt(t++);(i&64512)===56320?A.push(((n&1023)<<10)+(i&1023)+65536):(A.push(n),t--)}else A.push(n)}return A},ve=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var r=[],n=-1,i="";++n<t;){var s=e[n];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(n+1===t||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},Wc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eC=typeof Uint8Array>"u"?[]:new Uint8Array(256),wi=0;wi<Wc.length;wi++)eC[Wc.charCodeAt(wi)]=wi;for(var Yc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zr=typeof Uint8Array>"u"?[]:new Uint8Array(256),pi=0;pi<Yc.length;pi++)zr[Yc.charCodeAt(pi)]=pi;for(var tC=function(e){var A=e.length*.75,t=e.length,r,n=0,i,s,o,a;e[e.length-1]==="="&&(A--,e[e.length-2]==="="&&A--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),c=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<t;r+=4)i=zr[e.charCodeAt(r)],s=zr[e.charCodeAt(r+1)],o=zr[e.charCodeAt(r+2)],a=zr[e.charCodeAt(r+3)],c[n++]=i<<2|s>>4,c[n++]=(s&15)<<4|o>>2,c[n++]=(o&3)<<6|a&63;return l},rC=function(e){for(var A=e.length,t=[],r=0;r<A;r+=2)t.push(e[r+1]<<8|e[r]);return t},nC=function(e){for(var A=e.length,t=[],r=0;r<A;r+=4)t.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return t},$t=5,Ao=6+5,eo=2,iC=Ao-$t,zc=65536>>$t,sC=1<<$t,to=sC-1,oC=1024>>$t,aC=zc+oC,lC=aC,cC=32,uC=lC+cC,fC=65536>>Ao,gC=1<<iC,BC=gC-1,$c=function(e,A,t){return e.slice?e.slice(A,t):new Uint16Array(Array.prototype.slice.call(e,A,t))},hC=function(e,A,t){return e.slice?e.slice(A,t):new Uint32Array(Array.prototype.slice.call(e,A,t))},dC=function(e,A){var t=tC(e),r=Array.isArray(t)?nC(t):new Uint32Array(t),n=Array.isArray(t)?rC(t):new Uint16Array(t),i=24,s=$c(n,i/2,r[4]/2),o=r[5]===2?$c(n,(i+r[4])/2):hC(r,Math.ceil((i+r[4])/4));return new wC(r[0],r[1],r[2],r[3],s,o)},wC=function(){function e(A,t,r,n,i,s){this.initialValue=A,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=s}return e.prototype.get=function(A){var t;if(A>=0){if(A<55296||A>56319&&A<=65535)return t=this.index[A>>$t],t=(t<<eo)+(A&to),this.data[t];if(A<=65535)return t=this.index[zc+(A-55296>>$t)],t=(t<<eo)+(A&to),this.data[t];if(A<this.highStart)return t=uC-fC+(A>>Ao),t=this.index[t],t+=A>>$t&BC,t=this.index[t],t=(t<<eo)+(A&to),this.data[t];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Zc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pC=typeof Uint8Array>"u"?[]:new Uint8Array(256),mi=0;mi<Zc.length;mi++)pC[Zc.charCodeAt(mi)]=mi;var mC="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",jc=50,QC=1,qc=2,Au=3,CC=4,vC=5,eu=7,tu=8,ru=9,Mt=10,ro=11,nu=12,no=13,UC=14,$r=15,io=16,Qi=17,Zr=18,FC=19,iu=20,so=21,jr=22,oo=23,pr=24,je=25,qr=26,An=27,mr=28,yC=29,Zt=30,_C=31,Ci=32,vi=33,ao=34,lo=35,co=36,en=37,uo=38,Ui=39,Fi=40,fo=41,su=42,bC=43,EC=[9001,65288],ou="!",XA="×",yi="÷",go=dC(mC),_t=[Zt,co],Bo=[QC,qc,Au,vC],au=[Mt,tu],lu=[An,qr],HC=Bo.concat(au),cu=[uo,Ui,Fi,ao,lo],IC=[$r,no],SC=function(e,A){A===void 0&&(A="strict");var t=[],r=[],n=[];return e.forEach(function(i,s){var o=go.get(i);if(o>jc?(n.push(!0),o-=jc):n.push(!1),["normal","auto","loose"].indexOf(A)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(s),t.push(io);if(o===CC||o===ro){if(s===0)return r.push(s),t.push(Zt);var a=t[s-1];return HC.indexOf(a)===-1?(r.push(r[s-1]),t.push(a)):(r.push(s),t.push(Zt))}if(r.push(s),o===_C)return t.push(A==="strict"?so:en);if(o===su||o===yC)return t.push(Zt);if(o===bC)return i>=131072&&i<=196605||i>=196608&&i<=262141?t.push(en):t.push(Zt);t.push(o)}),[r,t,n]},ho=function(e,A,t,r){var n=r[t];if(Array.isArray(e)?e.indexOf(n)!==-1:e===n)for(var i=t;i<=r.length;){i++;var s=r[i];if(s===A)return!0;if(s!==Mt)break}if(n===Mt)for(var i=t;i>0;){i--;var o=r[i];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var a=t;a<=r.length;){a++;var s=r[a];if(s===A)return!0;if(s!==Mt)break}if(o!==Mt)break}return!1},uu=function(e,A){for(var t=e;t>=0;){var r=A[t];if(r===Mt)t--;else return r}return 0},xC=function(e,A,t,r,n){if(t[r]===0)return XA;var i=r-1;if(Array.isArray(n)&&n[i]===!0)return XA;var s=i-1,o=i+1,a=A[i],l=s>=0?A[s]:0,c=A[o];if(a===qc&&c===Au)return XA;if(Bo.indexOf(a)!==-1)return ou;if(Bo.indexOf(c)!==-1||au.indexOf(c)!==-1)return XA;if(uu(i,A)===tu)return yi;if(go.get(e[i])===ro||(a===Ci||a===vi)&&go.get(e[o])===ro||a===eu||c===eu||a===ru||[Mt,no,$r].indexOf(a)===-1&&c===ru||[Qi,Zr,FC,pr,mr].indexOf(c)!==-1||uu(i,A)===jr||ho(oo,jr,i,A)||ho([Qi,Zr],so,i,A)||ho(nu,nu,i,A))return XA;if(a===Mt)return yi;if(a===oo||c===oo)return XA;if(c===io||a===io)return yi;if([no,$r,so].indexOf(c)!==-1||a===UC||l===co&&IC.indexOf(a)!==-1||a===mr&&c===co||c===iu||_t.indexOf(c)!==-1&&a===je||_t.indexOf(a)!==-1&&c===je||a===An&&[en,Ci,vi].indexOf(c)!==-1||[en,Ci,vi].indexOf(a)!==-1&&c===qr||_t.indexOf(a)!==-1&&lu.indexOf(c)!==-1||lu.indexOf(a)!==-1&&_t.indexOf(c)!==-1||[An,qr].indexOf(a)!==-1&&(c===je||[jr,$r].indexOf(c)!==-1&&A[o+1]===je)||[jr,$r].indexOf(a)!==-1&&c===je||a===je&&[je,mr,pr].indexOf(c)!==-1)return XA;if([je,mr,pr,Qi,Zr].indexOf(c)!==-1)for(var g=i;g>=0;){var u=A[g];if(u===je)return XA;if([mr,pr].indexOf(u)!==-1)g--;else break}if([An,qr].indexOf(c)!==-1)for(var g=[Qi,Zr].indexOf(a)!==-1?s:i;g>=0;){var u=A[g];if(u===je)return XA;if([mr,pr].indexOf(u)!==-1)g--;else break}if(uo===a&&[uo,Ui,ao,lo].indexOf(c)!==-1||[Ui,ao].indexOf(a)!==-1&&[Ui,Fi].indexOf(c)!==-1||[Fi,lo].indexOf(a)!==-1&&c===Fi||cu.indexOf(a)!==-1&&[iu,qr].indexOf(c)!==-1||cu.indexOf(c)!==-1&&a===An||_t.indexOf(a)!==-1&&_t.indexOf(c)!==-1||a===pr&&_t.indexOf(c)!==-1||_t.concat(je).indexOf(a)!==-1&&c===jr&&EC.indexOf(e[o])===-1||_t.concat(je).indexOf(c)!==-1&&a===Zr)return XA;if(a===fo&&c===fo){for(var f=t[i],h=1;f>0&&(f--,A[f]===fo);)h++;if(h%2!==0)return XA}return a===Ci&&c===vi?XA:yi},LC=function(e,A){A||(A={lineBreak:"normal",wordBreak:"normal"});var t=SC(e,A.lineBreak),r=t[0],n=t[1],i=t[2];(A.wordBreak==="break-all"||A.wordBreak==="break-word")&&(n=n.map(function(o){return[je,Zt,su].indexOf(o)!==-1?en:o}));var s=A.wordBreak==="keep-all"?i.map(function(o,a){return o&&e[a]>=19968&&e[a]<=40959}):void 0;return[r,n,s]},kC=function(){function e(A,t,r,n){this.codePoints=A,this.required=t===ou,this.start=r,this.end=n}return e.prototype.slice=function(){return ve.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),KC=function(e,A){var t=di(e),r=LC(t,A),n=r[0],i=r[1],s=r[2],o=t.length,a=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var c=XA;l<o&&(c=xC(t,i,n,++l,s))===XA;);if(c!==XA||l===o){var g=new kC(t,c,a,l);return a=l,{value:g,done:!1}}return{done:!0,value:null}}}},MC=1,DC=2,tn=4,fu=8,_i=10,gu=47,rn=92,TC=9,OC=32,bi=34,nn=61,NC=35,RC=36,VC=37,Ei=39,Hi=40,sn=41,GC=95,$e=45,PC=33,XC=60,JC=62,WC=64,YC=91,zC=93,$C=61,ZC=123,Ii=63,jC=125,Bu=124,qC=126,Av=128,hu=65533,wo=42,jt=43,ev=44,tv=58,rv=59,on=46,nv=0,iv=8,sv=11,ov=14,av=31,lv=127,ht=-1,du=48,wu=97,pu=101,cv=102,uv=117,fv=122,mu=65,Qu=69,Cu=70,gv=85,Bv=90,Te=function(e){return e>=du&&e<=57},hv=function(e){return e>=55296&&e<=57343},Qr=function(e){return Te(e)||e>=mu&&e<=Cu||e>=wu&&e<=cv},dv=function(e){return e>=wu&&e<=fv},wv=function(e){return e>=mu&&e<=Bv},pv=function(e){return dv(e)||wv(e)},mv=function(e){return e>=Av},Si=function(e){return e===_i||e===TC||e===OC},xi=function(e){return pv(e)||mv(e)||e===GC},vu=function(e){return xi(e)||Te(e)||e===$e},Qv=function(e){return e>=nv&&e<=iv||e===sv||e>=ov&&e<=av||e===lv},Dt=function(e,A){return e!==rn?!1:A!==_i},Li=function(e,A,t){return e===$e?xi(A)||Dt(A,t):xi(e)?!0:!!(e===rn&&Dt(e,A))},po=function(e,A,t){return e===jt||e===$e?Te(A)?!0:A===on&&Te(t):Te(e===on?A:e)},Cv=function(e){var A=0,t=1;(e[A]===jt||e[A]===$e)&&(e[A]===$e&&(t=-1),A++);for(var r=[];Te(e[A]);)r.push(e[A++]);var n=r.length?parseInt(ve.apply(void 0,r),10):0;e[A]===on&&A++;for(var i=[];Te(e[A]);)i.push(e[A++]);var s=i.length,o=s?parseInt(ve.apply(void 0,i),10):0;(e[A]===Qu||e[A]===pu)&&A++;var a=1;(e[A]===jt||e[A]===$e)&&(e[A]===$e&&(a=-1),A++);for(var l=[];Te(e[A]);)l.push(e[A++]);var c=l.length?parseInt(ve.apply(void 0,l),10):0;return t*(n+o*Math.pow(10,-s))*Math.pow(10,a*c)},vv={type:2},Uv={type:3},Fv={type:4},yv={type:13},_v={type:8},bv={type:21},Ev={type:9},Hv={type:10},Iv={type:11},Sv={type:12},xv={type:14},ki={type:23},Lv={type:1},kv={type:25},Kv={type:24},Mv={type:26},Dv={type:27},Tv={type:28},Ov={type:29},Nv={type:31},mo={type:32},Uu=function(){function e(){this._value=[]}return e.prototype.write=function(A){this._value=this._value.concat(di(A))},e.prototype.read=function(){for(var A=[],t=this.consumeToken();t!==mo;)A.push(t),t=this.consumeToken();return A},e.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case bi:return this.consumeStringToken(bi);case NC:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);if(vu(t)||Dt(r,n)){var i=Li(t,r,n)?DC:MC,s=this.consumeName();return{type:5,value:s,flags:i}}break;case RC:if(this.peekCodePoint(0)===nn)return this.consumeCodePoint(),yv;break;case Ei:return this.consumeStringToken(Ei);case Hi:return vv;case sn:return Uv;case wo:if(this.peekCodePoint(0)===nn)return this.consumeCodePoint(),xv;break;case jt:if(po(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case ev:return Fv;case $e:var o=A,a=this.peekCodePoint(0),l=this.peekCodePoint(1);if(po(o,a,l))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(Li(o,a,l))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(a===$e&&l===JC)return this.consumeCodePoint(),this.consumeCodePoint(),Kv;break;case on:if(po(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case gu:if(this.peekCodePoint(0)===wo)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===wo&&(c=this.consumeCodePoint(),c===gu))return this.consumeToken();if(c===ht)return this.consumeToken()}break;case tv:return Mv;case rv:return Dv;case XC:if(this.peekCodePoint(0)===PC&&this.peekCodePoint(1)===$e&&this.peekCodePoint(2)===$e)return this.consumeCodePoint(),this.consumeCodePoint(),kv;break;case WC:var g=this.peekCodePoint(0),u=this.peekCodePoint(1),f=this.peekCodePoint(2);if(Li(g,u,f)){var s=this.consumeName();return{type:7,value:s}}break;case YC:return Tv;case rn:if(Dt(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case zC:return Ov;case $C:if(this.peekCodePoint(0)===nn)return this.consumeCodePoint(),_v;break;case ZC:return Iv;case jC:return Sv;case uv:case gv:var h=this.peekCodePoint(0),B=this.peekCodePoint(1);return h===jt&&(Qr(B)||B===Ii)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case Bu:if(this.peekCodePoint(0)===nn)return this.consumeCodePoint(),Ev;if(this.peekCodePoint(0)===Bu)return this.consumeCodePoint(),bv;break;case qC:if(this.peekCodePoint(0)===nn)return this.consumeCodePoint(),Hv;break;case ht:return mo}return Si(A)?(this.consumeWhiteSpace(),Nv):Te(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):xi(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:6,value:ve(A)}},e.prototype.consumeCodePoint=function(){var A=this._value.shift();return typeof A>"u"?-1:A},e.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},e.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},e.prototype.consumeUnicodeRangeToken=function(){for(var A=[],t=this.consumeCodePoint();Qr(t)&&A.length<6;)A.push(t),t=this.consumeCodePoint();for(var r=!1;t===Ii&&A.length<6;)A.push(t),t=this.consumeCodePoint(),r=!0;if(r){var n=parseInt(ve.apply(void 0,A.map(function(a){return a===Ii?du:a})),16),i=parseInt(ve.apply(void 0,A.map(function(a){return a===Ii?Cu:a})),16);return{type:30,start:n,end:i}}var s=parseInt(ve.apply(void 0,A),16);if(this.peekCodePoint(0)===$e&&Qr(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];Qr(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var i=parseInt(ve.apply(void 0,o),16);return{type:30,start:s,end:i}}else return{type:30,start:s,end:s}},e.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return A.toLowerCase()==="url"&&this.peekCodePoint(0)===Hi?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Hi?(this.consumeCodePoint(),{type:19,value:A}):{type:20,value:A}},e.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ht)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Ei||t===bi){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ht||this.peekCodePoint(0)===sn)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),ki)}for(;;){var n=this.consumeCodePoint();if(n===ht||n===sn)return{type:22,value:ve.apply(void 0,A)};if(Si(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ht||this.peekCodePoint(0)===sn?(this.consumeCodePoint(),{type:22,value:ve.apply(void 0,A)}):(this.consumeBadUrlRemnants(),ki);if(n===bi||n===Ei||n===Hi||Qv(n))return this.consumeBadUrlRemnants(),ki;if(n===rn)if(Dt(n,this.peekCodePoint(0)))A.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),ki;else A.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;Si(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(A===sn||A===ht)return;Dt(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(A){for(var t=5e4,r="";A>0;){var n=Math.min(t,A);r+=ve.apply(void 0,this._value.splice(0,n)),A-=n}return this._value.shift(),r},e.prototype.consumeStringToken=function(A){var t="",r=0;do{var n=this._value[r];if(n===ht||n===void 0||n===A)return t+=this.consumeStringSlice(r),{type:0,value:t};if(n===_i)return this._value.splice(0,r),Lv;if(n===rn){var i=this._value[r+1];i!==ht&&i!==void 0&&(i===_i?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):Dt(n,i)&&(t+=this.consumeStringSlice(r),t+=ve(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var A=[],t=tn,r=this.peekCodePoint(0);for((r===jt||r===$e)&&A.push(this.consumeCodePoint());Te(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(r===on&&Te(n))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),t=fu;Te(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===Qu||r===pu)&&((n===jt||n===$e)&&Te(i)||Te(n)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),t=fu;Te(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[Cv(A),t]},e.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),t=A[0],r=A[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Li(n,i,s)){var o=this.consumeName();return{type:15,number:t,flags:r,unit:o}}return n===VC?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(Qr(A)){for(var t=ve(A);Qr(this.peekCodePoint(0))&&t.length<6;)t+=ve(this.consumeCodePoint());Si(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||hv(r)||r>1114111?hu:r}return A===ht?hu:A},e.prototype.consumeName=function(){for(var A="";;){var t=this.consumeCodePoint();if(vu(t))A+=ve(t);else if(Dt(t,this.peekCodePoint(0)))A+=ve(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),A}},e}(),Fu=function(){function e(A){this._tokens=A}return e.create=function(A){var t=new Uu;return t.write(A),new e(t.read())},e.parseValue=function(A){return e.create(A).parseComponentValue()},e.parseValues=function(A){return e.create(A).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var A=this.consumeToken();A.type===31;)A=this.consumeToken();if(A.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(A);var t=this.consumeComponentValue();do A=this.consumeToken();while(A.type===31);if(A.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var A=[];;){var t=this.consumeComponentValue();if(t.type===32)return A;A.push(t),A.push()}},e.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case 11:case 28:case 2:return this.consumeSimpleBlock(A.type);case 19:return this.consumeFunction(A)}return A},e.prototype.consumeSimpleBlock=function(A){for(var t={type:A,values:[]},r=this.consumeToken();;){if(r.type===32||Vv(r,A))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(A){for(var t={name:A.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var A=this._tokens.shift();return typeof A>"u"?mo:A},e.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},e}(),an=function(e){return e.type===15},Cr=function(e){return e.type===17},ue=function(e){return e.type===20},Rv=function(e){return e.type===0},Qo=function(e,A){return ue(e)&&e.value===A},yu=function(e){return e.type!==31},vr=function(e){return e.type!==31&&e.type!==4},dt=function(e){var A=[],t=[];return e.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");A.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&A.push(t),A},Vv=function(e,A){return A===11&&e.type===12||A===28&&e.type===29?!0:A===2&&e.type===3},Tt=function(e){return e.type===17||e.type===15},_e=function(e){return e.type===16||Tt(e)},_u=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Le={type:17,number:0,flags:tn},Co={type:16,number:50,flags:tn},Ot={type:16,number:100,flags:tn},ln=function(e,A,t){var r=e[0],n=e[1];return[de(r,A),de(typeof n<"u"?n:r,t)]},de=function(e,A){if(e.type===16)return e.number/100*A;if(an(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},bu="deg",Eu="grad",Hu="rad",Iu="turn",Ki={name:"angle",parse:function(e,A){if(A.type===15)switch(A.unit){case bu:return Math.PI*A.number/180;case Eu:return Math.PI/200*A.number;case Hu:return A.number;case Iu:return Math.PI*2*A.number}throw new Error("Unsupported angle type")}},Su=function(e){return e.type===15&&(e.unit===bu||e.unit===Eu||e.unit===Hu||e.unit===Iu)},xu=function(e){var A=e.filter(ue).map(function(t){return t.value}).join(" ");switch(A){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Le,Le];case"to top":case"bottom":return At(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Le,Ot];case"to right":case"left":return At(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ot,Ot];case"to bottom":case"top":return At(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ot,Le];case"to left":case"right":return At(270)}return 0},At=function(e){return Math.PI*e/180},Nt={name:"color",parse:function(e,A){if(A.type===18){var t=Gv[A.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+A.name+'"');return t(e,A.values)}if(A.type===5){if(A.value.length===3){var r=A.value.substring(0,1),n=A.value.substring(1,2),i=A.value.substring(2,3);return Vt(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),1)}if(A.value.length===4){var r=A.value.substring(0,1),n=A.value.substring(1,2),i=A.value.substring(2,3),s=A.value.substring(3,4);return Vt(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16)/255)}if(A.value.length===6){var r=A.value.substring(0,2),n=A.value.substring(2,4),i=A.value.substring(4,6);return Vt(parseInt(r,16),parseInt(n,16),parseInt(i,16),1)}if(A.value.length===8){var r=A.value.substring(0,2),n=A.value.substring(2,4),i=A.value.substring(4,6),s=A.value.substring(6,8);return Vt(parseInt(r,16),parseInt(n,16),parseInt(i,16),parseInt(s,16)/255)}}if(A.type===20){var o=bt[A.value.toUpperCase()];if(typeof o<"u")return o}return bt.TRANSPARENT}},Rt=function(e){return(255&e)===0},Ie=function(e){var A=255&e,t=255&e>>8,r=255&e>>16,n=255&e>>24;return A<255?"rgba("+n+","+r+","+t+","+A/255+")":"rgb("+n+","+r+","+t+")"},Vt=function(e,A,t,r){return(e<<24|A<<16|t<<8|Math.round(r*255)<<0)>>>0},Lu=function(e,A){if(e.type===17)return e.number;if(e.type===16){var t=A===3?1:255;return A===3?e.number/100*t:Math.round(e.number/100*t)}return 0},ku=function(e,A){var t=A.filter(vr);if(t.length===3){var r=t.map(Lu),n=r[0],i=r[1],s=r[2];return Vt(n,i,s,1)}if(t.length===4){var o=t.map(Lu),n=o[0],i=o[1],s=o[2],a=o[3];return Vt(n,i,s,a)}return 0};function vo(e,A,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(A-e)*t*6+e:t<1/2?A:t<2/3?(A-e)*6*(2/3-t)+e:e}var Ku=function(e,A){var t=A.filter(vr),r=t[0],n=t[1],i=t[2],s=t[3],o=(r.type===17?At(r.number):Ki.parse(e,r))/(Math.PI*2),a=_e(n)?n.number/100:0,l=_e(i)?i.number/100:0,c=typeof s<"u"&&_e(s)?de(s,1):1;if(a===0)return Vt(l*255,l*255,l*255,1);var g=l<=.5?l*(a+1):l+a-l*a,u=l*2-g,f=vo(u,g,o+1/3),h=vo(u,g,o),B=vo(u,g,o-1/3);return Vt(f*255,h*255,B*255,c)},Gv={hsl:Ku,hsla:Ku,rgb:ku,rgba:ku},cn=function(e,A){return Nt.parse(e,Fu.create(A).parseComponentValue())},bt={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Pv={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,A){return A.map(function(t){if(ue(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Xv={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Mi=function(e,A){var t=Nt.parse(e,A[0]),r=A[1];return r&&_e(r)?{color:t,stop:r}:{color:t,stop:null}},Mu=function(e,A){var t=e[0],r=e[e.length-1];t.stop===null&&(t.stop=Le),r.stop===null&&(r.stop=Ot);for(var n=[],i=0,s=0;s<e.length;s++){var o=e[s].stop;if(o!==null){var a=de(o,A);a>i?n.push(a):n.push(i),i=a}else n.push(null)}for(var l=null,s=0;s<n.length;s++){var c=n[s];if(c===null)l===null&&(l=s);else if(l!==null){for(var g=s-l,u=n[l-1],f=(c-u)/(g+1),h=1;h<=g;h++)n[l+h-1]=f*h;l=null}}return e.map(function(B,w){var d=B.color;return{color:d,stop:Math.max(Math.min(1,n[w]/A),0)}})},Jv=function(e,A,t){var r=A/2,n=t/2,i=de(e[0],A)-r,s=n-de(e[1],t);return(Math.atan2(s,i)+Math.PI*2)%(Math.PI*2)},Wv=function(e,A,t){var r=typeof e=="number"?e:Jv(e,A,t),n=Math.abs(A*Math.sin(r))+Math.abs(t*Math.cos(r)),i=A/2,s=t/2,o=n/2,a=Math.sin(r-Math.PI/2)*o,l=Math.cos(r-Math.PI/2)*o;return[n,i-l,i+l,s-a,s+a]},ct=function(e,A){return Math.sqrt(e*e+A*A)},Du=function(e,A,t,r,n){var i=[[0,0],[0,A],[e,0],[e,A]];return i.reduce(function(s,o){var a=o[0],l=o[1],c=ct(t-a,r-l);return(n?c<s.optimumDistance:c>s.optimumDistance)?{optimumCorner:o,optimumDistance:c}:s},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},Yv=function(e,A,t,r,n){var i=0,s=0;switch(e.size){case 0:e.shape===0?i=s=Math.min(Math.abs(A),Math.abs(A-r),Math.abs(t),Math.abs(t-n)):e.shape===1&&(i=Math.min(Math.abs(A),Math.abs(A-r)),s=Math.min(Math.abs(t),Math.abs(t-n)));break;case 2:if(e.shape===0)i=s=Math.min(ct(A,t),ct(A,t-n),ct(A-r,t),ct(A-r,t-n));else if(e.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-n))/Math.min(Math.abs(A),Math.abs(A-r)),a=Du(r,n,A,t,!0),l=a[0],c=a[1];i=ct(l-A,(c-t)/o),s=o*i}break;case 1:e.shape===0?i=s=Math.max(Math.abs(A),Math.abs(A-r),Math.abs(t),Math.abs(t-n)):e.shape===1&&(i=Math.max(Math.abs(A),Math.abs(A-r)),s=Math.max(Math.abs(t),Math.abs(t-n)));break;case 3:if(e.shape===0)i=s=Math.max(ct(A,t),ct(A,t-n),ct(A-r,t),ct(A-r,t-n));else if(e.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-n))/Math.max(Math.abs(A),Math.abs(A-r)),g=Du(r,n,A,t,!1),l=g[0],c=g[1];i=ct(l-A,(c-t)/o),s=o*i}break}return Array.isArray(e.size)&&(i=de(e.size[0],r),s=e.size.length===2?de(e.size[1],n):i),[i,s]},zv=function(e,A){var t=At(180),r=[];return dt(A).forEach(function(n,i){if(i===0){var s=n[0];if(s.type===20&&s.value==="to"){t=xu(n);return}else if(Su(s)){t=Ki.parse(e,s);return}}var o=Mi(e,n);r.push(o)}),{angle:t,stops:r,type:1}},Di=function(e,A){var t=At(180),r=[];return dt(A).forEach(function(n,i){if(i===0){var s=n[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){t=xu(n);return}else if(Su(s)){t=(Ki.parse(e,s)+At(270))%At(360);return}}var o=Mi(e,n);r.push(o)}),{angle:t,stops:r,type:1}},$v=function(e,A){var t=At(180),r=[],n=1,i=0,s=3,o=[];return dt(A).forEach(function(a,l){var c=a[0];if(l===0){if(ue(c)&&c.value==="linear"){n=1;return}else if(ue(c)&&c.value==="radial"){n=2;return}}if(c.type===18){if(c.name==="from"){var g=Nt.parse(e,c.values[0]);r.push({stop:Le,color:g})}else if(c.name==="to"){var g=Nt.parse(e,c.values[0]);r.push({stop:Ot,color:g})}else if(c.name==="color-stop"){var u=c.values.filter(vr);if(u.length===2){var g=Nt.parse(e,u[1]),f=u[0];Cr(f)&&r.push({stop:{type:16,number:f.number*100,flags:f.flags},color:g})}}}}),n===1?{angle:(t+At(180))%At(360),stops:r,type:n}:{size:s,shape:i,stops:r,position:o,type:n}},Tu="closest-side",Ou="farthest-side",Nu="closest-corner",Ru="farthest-corner",Vu="circle",Gu="ellipse",Pu="cover",Xu="contain",Zv=function(e,A){var t=0,r=3,n=[],i=[];return dt(A).forEach(function(s,o){var a=!0;if(o===0){var l=!1;a=s.reduce(function(g,u){if(l)if(ue(u))switch(u.value){case"center":return i.push(Co),g;case"top":case"left":return i.push(Le),g;case"right":case"bottom":return i.push(Ot),g}else(_e(u)||Tt(u))&&i.push(u);else if(ue(u))switch(u.value){case Vu:return t=0,!1;case Gu:return t=1,!1;case"at":return l=!0,!1;case Tu:return r=0,!1;case Pu:case Ou:return r=1,!1;case Xu:case Nu:return r=2,!1;case Ru:return r=3,!1}else if(Tt(u)||_e(u))return Array.isArray(r)||(r=[]),r.push(u),!1;return g},a)}if(a){var c=Mi(e,s);n.push(c)}}),{size:r,shape:t,stops:n,position:i,type:2}},Ti=function(e,A){var t=0,r=3,n=[],i=[];return dt(A).forEach(function(s,o){var a=!0;if(o===0?a=s.reduce(function(c,g){if(ue(g))switch(g.value){case"center":return i.push(Co),!1;case"top":case"left":return i.push(Le),!1;case"right":case"bottom":return i.push(Ot),!1}else if(_e(g)||Tt(g))return i.push(g),!1;return c},a):o===1&&(a=s.reduce(function(c,g){if(ue(g))switch(g.value){case Vu:return t=0,!1;case Gu:return t=1,!1;case Xu:case Tu:return r=0,!1;case Ou:return r=1,!1;case Nu:return r=2,!1;case Pu:case Ru:return r=3,!1}else if(Tt(g)||_e(g))return Array.isArray(r)||(r=[]),r.push(g),!1;return c},a)),a){var l=Mi(e,s);n.push(l)}}),{size:r,shape:t,stops:n,position:i,type:2}},jv=function(e){return e.type===1},qv=function(e){return e.type===2},Uo={name:"image",parse:function(e,A){if(A.type===22){var t={url:A.value,type:0};return e.cache.addImage(A.value),t}if(A.type===18){var r=Ju[A.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+A.name+'"');return r(e,A.values)}throw new Error("Unsupported image type "+A.type)}};function A1(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Ju[e.name])}var Ju={"linear-gradient":zv,"-moz-linear-gradient":Di,"-ms-linear-gradient":Di,"-o-linear-gradient":Di,"-webkit-linear-gradient":Di,"radial-gradient":Zv,"-moz-radial-gradient":Ti,"-ms-radial-gradient":Ti,"-o-radial-gradient":Ti,"-webkit-radial-gradient":Ti,"-webkit-gradient":$v},e1={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,A){if(A.length===0)return[];var t=A[0];return t.type===20&&t.value==="none"?[]:A.filter(function(r){return vr(r)&&A1(r)}).map(function(r){return Uo.parse(e,r)})}},t1={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,A){return A.map(function(t){if(ue(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},r1={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,A){return dt(A).map(function(t){return t.filter(_e)}).map(_u)}},n1={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,A){return dt(A).map(function(t){return t.filter(ue).map(function(r){return r.value}).join(" ")}).map(i1)}},i1=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Ur;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(Ur||(Ur={}));var s1={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,A){return dt(A).map(function(t){return t.filter(o1)})}},o1=function(e){return ue(e)||_e(e)},Oi=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},a1=Oi("top"),l1=Oi("right"),c1=Oi("bottom"),u1=Oi("left"),Ni=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(A,t){return _u(t.filter(_e))}}},f1=Ni("top-left"),g1=Ni("top-right"),B1=Ni("bottom-right"),h1=Ni("bottom-left"),Ri=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(A,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},d1=Ri("top"),w1=Ri("right"),p1=Ri("bottom"),m1=Ri("left"),Vi=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(A,t){return an(t)?t.number:0}}},Q1=Vi("top"),C1=Vi("right"),v1=Vi("bottom"),U1=Vi("left"),F1={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},y1={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,A){switch(A){case"rtl":return 1;case"ltr":default:return 0}}},_1={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,A){return A.filter(ue).reduce(function(t,r){return t|b1(r.value)},0)}},b1=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},E1={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},H1={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,A){return A.type===20&&A.value==="normal"?0:A.type===17||A.type===15?A.number:0}},Gi;(function(e){e.NORMAL="normal",e.STRICT="strict"})(Gi||(Gi={}));var I1={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"strict":return Gi.STRICT;case"normal":default:return Gi.NORMAL}}},S1={name:"line-height",initialValue:"normal",prefix:!1,type:4},Wu=function(e,A){return ue(e)&&e.value==="normal"?1.2*A:e.type===17?A*e.number:_e(e)?de(e,A):A},x1={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,A){return A.type===20&&A.value==="none"?null:Uo.parse(e,A)}},L1={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,A){switch(A){case"inside":return 0;case"outside":default:return 1}}},Fo={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Pi=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},k1=Pi("top"),K1=Pi("right"),M1=Pi("bottom"),D1=Pi("left"),T1={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,A){return A.filter(ue).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},O1={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"break-word":return"break-word";case"normal":default:return"normal"}}},Xi=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},N1=Xi("top"),R1=Xi("right"),V1=Xi("bottom"),G1=Xi("left"),P1={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,A){switch(A){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},X1={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,A){switch(A){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},J1={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.length===1&&Qo(A[0],"none")?[]:dt(A).map(function(t){for(var r={color:bt.TRANSPARENT,offsetX:Le,offsetY:Le,blur:Le},n=0,i=0;i<t.length;i++){var s=t[i];Tt(s)?(n===0?r.offsetX=s:n===1?r.offsetY=s:r.blur=s,n++):r.color=Nt.parse(e,s)}return r})}},W1={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Y1={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,A){if(A.type===20&&A.value==="none")return null;if(A.type===18){var t=Z1[A.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+A.name+'"');return t(A.values)}return null}},z1=function(e){var A=e.filter(function(t){return t.type===17}).map(function(t){return t.number});return A.length===6?A:null},$1=function(e){var A=e.filter(function(a){return a.type===17}).map(function(a){return a.number}),t=A[0],r=A[1];A[2],A[3];var n=A[4],i=A[5];A[6],A[7],A[8],A[9],A[10],A[11];var s=A[12],o=A[13];return A[14],A[15],A.length===16?[t,r,n,i,s,o]:null},Z1={matrix:z1,matrix3d:$1},Yu={type:16,number:50,flags:tn},j1=[Yu,Yu],q1={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,A){var t=A.filter(_e);return t.length!==2?j1:[t[0],t[1]]}},AU={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},un;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(un||(un={}));for(var eU={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"break-all":return un.BREAK_ALL;case"keep-all":return un.KEEP_ALL;case"normal":default:return un.NORMAL}}},tU={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,A){if(A.type===20)return{auto:!0,order:0};if(Cr(A))return{auto:!1,order:A.number};throw new Error("Invalid z-index number parsed")}},zu={name:"time",parse:function(e,A){if(A.type===15)switch(A.unit.toLowerCase()){case"s":return 1e3*A.number;case"ms":return A.number}throw new Error("Unsupported time type")}},rU={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,A){return Cr(A)?A.number:1}},nU={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},iU={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,A){return A.filter(ue).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},sU={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,A){var t=[],r=[];return A.forEach(function(n){switch(n.type){case 20:case 0:t.push(n.value);break;case 17:t.push(n.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},oU={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},aU={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,A){if(Cr(A))return A.number;if(ue(A))switch(A.value){case"bold":return 700;case"normal":default:return 400}return 400}},lU={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.filter(ue).map(function(t){return t.value})}},cU={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},He=function(e,A){return(e&A)!==0},uU={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,A){if(A.length===0)return[];var t=A[0];return t.type===20&&t.value==="none"?[]:A}},fU={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(A.length===0)return null;var t=A[0];if(t.type===20&&t.value==="none")return null;for(var r=[],n=A.filter(yu),i=0;i<n.length;i++){var s=n[i],o=n[i+1];if(s.type===20){var a=o&&Cr(o)?o.number:1;r.push({counter:s.value,increment:a})}}return r}},gU={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(A.length===0)return[];for(var t=[],r=A.filter(yu),n=0;n<r.length;n++){var i=r[n],s=r[n+1];if(ue(i)&&i.value!=="none"){var o=s&&Cr(s)?s.number:0;t.push({counter:i.value,reset:o})}}return t}},BU={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,A){return A.filter(an).map(function(t){return zu.parse(e,t)})}},hU={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(A.length===0)return null;var t=A[0];if(t.type===20&&t.value==="none")return null;var r=[],n=A.filter(Rv);if(n.length%2!==0)return null;for(var i=0;i<n.length;i+=2){var s=n[i].value,o=n[i+1].value;r.push({open:s,close:o})}return r}},$u=function(e,A,t){if(!e)return"";var r=e[Math.min(A,e.length-1)];return r?t?r.open:r.close:""},dU={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.length===1&&Qo(A[0],"none")?[]:dt(A).map(function(t){for(var r={color:255,offsetX:Le,offsetY:Le,blur:Le,spread:Le,inset:!1},n=0,i=0;i<t.length;i++){var s=t[i];Qo(s,"inset")?r.inset=!0:Tt(s)?(n===0?r.offsetX=s:n===1?r.offsetY=s:n===2?r.blur=s:r.spread=s,n++):r.color=Nt.parse(e,s)}return r})}},wU={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,A){var t=[0,1,2],r=[];return A.filter(ue).forEach(function(n){switch(n.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(n){r.indexOf(n)===-1&&r.push(n)}),r}},pU={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},mU={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,A){return an(A)?A.number:0}},QU=function(){function e(A,t){var r,n;this.animationDuration=uA(A,BU,t.animationDuration),this.backgroundClip=uA(A,Pv,t.backgroundClip),this.backgroundColor=uA(A,Xv,t.backgroundColor),this.backgroundImage=uA(A,e1,t.backgroundImage),this.backgroundOrigin=uA(A,t1,t.backgroundOrigin),this.backgroundPosition=uA(A,r1,t.backgroundPosition),this.backgroundRepeat=uA(A,n1,t.backgroundRepeat),this.backgroundSize=uA(A,s1,t.backgroundSize),this.borderTopColor=uA(A,a1,t.borderTopColor),this.borderRightColor=uA(A,l1,t.borderRightColor),this.borderBottomColor=uA(A,c1,t.borderBottomColor),this.borderLeftColor=uA(A,u1,t.borderLeftColor),this.borderTopLeftRadius=uA(A,f1,t.borderTopLeftRadius),this.borderTopRightRadius=uA(A,g1,t.borderTopRightRadius),this.borderBottomRightRadius=uA(A,B1,t.borderBottomRightRadius),this.borderBottomLeftRadius=uA(A,h1,t.borderBottomLeftRadius),this.borderTopStyle=uA(A,d1,t.borderTopStyle),this.borderRightStyle=uA(A,w1,t.borderRightStyle),this.borderBottomStyle=uA(A,p1,t.borderBottomStyle),this.borderLeftStyle=uA(A,m1,t.borderLeftStyle),this.borderTopWidth=uA(A,Q1,t.borderTopWidth),this.borderRightWidth=uA(A,C1,t.borderRightWidth),this.borderBottomWidth=uA(A,v1,t.borderBottomWidth),this.borderLeftWidth=uA(A,U1,t.borderLeftWidth),this.boxShadow=uA(A,dU,t.boxShadow),this.color=uA(A,F1,t.color),this.direction=uA(A,y1,t.direction),this.display=uA(A,_1,t.display),this.float=uA(A,E1,t.cssFloat),this.fontFamily=uA(A,sU,t.fontFamily),this.fontSize=uA(A,oU,t.fontSize),this.fontStyle=uA(A,cU,t.fontStyle),this.fontVariant=uA(A,lU,t.fontVariant),this.fontWeight=uA(A,aU,t.fontWeight),this.letterSpacing=uA(A,H1,t.letterSpacing),this.lineBreak=uA(A,I1,t.lineBreak),this.lineHeight=uA(A,S1,t.lineHeight),this.listStyleImage=uA(A,x1,t.listStyleImage),this.listStylePosition=uA(A,L1,t.listStylePosition),this.listStyleType=uA(A,Fo,t.listStyleType),this.marginTop=uA(A,k1,t.marginTop),this.marginRight=uA(A,K1,t.marginRight),this.marginBottom=uA(A,M1,t.marginBottom),this.marginLeft=uA(A,D1,t.marginLeft),this.opacity=uA(A,rU,t.opacity);var i=uA(A,T1,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=uA(A,O1,t.overflowWrap),this.paddingTop=uA(A,N1,t.paddingTop),this.paddingRight=uA(A,R1,t.paddingRight),this.paddingBottom=uA(A,V1,t.paddingBottom),this.paddingLeft=uA(A,G1,t.paddingLeft),this.paintOrder=uA(A,wU,t.paintOrder),this.position=uA(A,X1,t.position),this.textAlign=uA(A,P1,t.textAlign),this.textDecorationColor=uA(A,nU,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=uA(A,iU,(n=t.textDecorationLine)!==null&&n!==void 0?n:t.textDecoration),this.textShadow=uA(A,J1,t.textShadow),this.textTransform=uA(A,W1,t.textTransform),this.transform=uA(A,Y1,t.transform),this.transformOrigin=uA(A,q1,t.transformOrigin),this.visibility=uA(A,AU,t.visibility),this.webkitTextStrokeColor=uA(A,pU,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=uA(A,mU,t.webkitTextStrokeWidth),this.wordBreak=uA(A,eU,t.wordBreak),this.zIndex=uA(A,tU,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return Rt(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return He(this.display,4)||He(this.display,33554432)||He(this.display,268435456)||He(this.display,536870912)||He(this.display,67108864)||He(this.display,134217728)},e}(),CU=function(){function e(A,t){this.content=uA(A,uU,t.content),this.quotes=uA(A,hU,t.quotes)}return e}(),Zu=function(){function e(A,t){this.counterIncrement=uA(A,fU,t.counterIncrement),this.counterReset=uA(A,gU,t.counterReset)}return e}(),uA=function(e,A,t){var r=new Uu,n=t!==null&&typeof t<"u"?t.toString():A.initialValue;r.write(n);var i=new Fu(r.read());switch(A.type){case 2:var s=i.parseComponentValue();return A.parse(e,ue(s)?s.value:A.initialValue);case 0:return A.parse(e,i.parseComponentValue());case 1:return A.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(A.format){case"angle":return Ki.parse(e,i.parseComponentValue());case"color":return Nt.parse(e,i.parseComponentValue());case"image":return Uo.parse(e,i.parseComponentValue());case"length":var o=i.parseComponentValue();return Tt(o)?o:Le;case"length-percentage":var a=i.parseComponentValue();return _e(a)?a:Le;case"time":return zu.parse(e,i.parseComponentValue())}break}},vU="data-html2canvas-debug",UU=function(e){var A=e.getAttribute(vU);switch(A){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},yo=function(e,A){var t=UU(e);return t===1||A===t},wt=function(){function e(A,t){if(this.context=A,this.textNodes=[],this.elements=[],this.flags=0,yo(t,3))debugger;this.styles=new QU(A,window.getComputedStyle(t,null)),Oo(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=hi(this.context,t),yo(t,4)&&(this.flags|=16)}return e}(),FU="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ju="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fn=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ji=0;Ji<ju.length;Ji++)fn[ju.charCodeAt(Ji)]=Ji;for(var yU=function(e){var A=e.length*.75,t=e.length,r,n=0,i,s,o,a;e[e.length-1]==="="&&(A--,e[e.length-2]==="="&&A--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),c=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<t;r+=4)i=fn[e.charCodeAt(r)],s=fn[e.charCodeAt(r+1)],o=fn[e.charCodeAt(r+2)],a=fn[e.charCodeAt(r+3)],c[n++]=i<<2|s>>4,c[n++]=(s&15)<<4|o>>2,c[n++]=(o&3)<<6|a&63;return l},_U=function(e){for(var A=e.length,t=[],r=0;r<A;r+=2)t.push(e[r+1]<<8|e[r]);return t},bU=function(e){for(var A=e.length,t=[],r=0;r<A;r+=4)t.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return t},qt=5,_o=6+5,bo=2,EU=_o-qt,qu=65536>>qt,HU=1<<qt,Eo=HU-1,IU=1024>>qt,SU=qu+IU,xU=SU,LU=32,kU=xU+LU,KU=65536>>_o,MU=1<<EU,DU=MU-1,Af=function(e,A,t){return e.slice?e.slice(A,t):new Uint16Array(Array.prototype.slice.call(e,A,t))},TU=function(e,A,t){return e.slice?e.slice(A,t):new Uint32Array(Array.prototype.slice.call(e,A,t))},OU=function(e,A){var t=yU(e),r=Array.isArray(t)?bU(t):new Uint32Array(t),n=Array.isArray(t)?_U(t):new Uint16Array(t),i=24,s=Af(n,i/2,r[4]/2),o=r[5]===2?Af(n,(i+r[4])/2):TU(r,Math.ceil((i+r[4])/4));return new NU(r[0],r[1],r[2],r[3],s,o)},NU=function(){function e(A,t,r,n,i,s){this.initialValue=A,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=s}return e.prototype.get=function(A){var t;if(A>=0){if(A<55296||A>56319&&A<=65535)return t=this.index[A>>qt],t=(t<<bo)+(A&Eo),this.data[t];if(A<=65535)return t=this.index[qu+(A-55296>>qt)],t=(t<<bo)+(A&Eo),this.data[t];if(A<this.highStart)return t=kU-KU+(A>>_o),t=this.index[t],t+=A>>qt&DU,t=this.index[t],t=(t<<bo)+(A&Eo),this.data[t];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",RU=typeof Uint8Array>"u"?[]:new Uint8Array(256),Wi=0;Wi<ef.length;Wi++)RU[ef.charCodeAt(Wi)]=Wi;var VU=1,Ho=2,Io=3,tf=4,rf=5,GU=7,nf=8,So=9,xo=10,sf=11,of=12,af=13,lf=14,Lo=15,PU=function(e){for(var A=[],t=0,r=e.length;t<r;){var n=e.charCodeAt(t++);if(n>=55296&&n<=56319&&t<r){var i=e.charCodeAt(t++);(i&64512)===56320?A.push(((n&1023)<<10)+(i&1023)+65536):(A.push(n),t--)}else A.push(n)}return A},XU=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var r=[],n=-1,i="";++n<t;){var s=e[n];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(n+1===t||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},JU=OU(FU),et="×",ko="÷",WU=function(e){return JU.get(e)},YU=function(e,A,t){var r=t-2,n=A[r],i=A[t-1],s=A[t];if(i===Ho&&s===Io)return et;if(i===Ho||i===Io||i===tf||s===Ho||s===Io||s===tf)return ko;if(i===nf&&[nf,So,sf,of].indexOf(s)!==-1||(i===sf||i===So)&&(s===So||s===xo)||(i===of||i===xo)&&s===xo||s===af||s===rf||s===GU||i===VU)return et;if(i===af&&s===lf){for(;n===rf;)n=A[--r];if(n===lf)return et}if(i===Lo&&s===Lo){for(var o=0;n===Lo;)o++,n=A[--r];if(o%2===0)return et}return ko},zU=function(e){var A=PU(e),t=A.length,r=0,n=0,i=A.map(WU);return{next:function(){if(r>=t)return{done:!0,value:null};for(var s=et;r<t&&(s=YU(A,i,++r))===et;);if(s!==et||r===t){var o=XU.apply(null,A.slice(n,r));return n=r,{value:o,done:!1}}return{done:!0,value:null}}}},$U=function(e){for(var A=zU(e),t=[],r;!(r=A.next()).done;)r.value&&t.push(r.value.slice());return t},ZU=function(e){var A=123;if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=A+"px",r.style.display="block",e.body.appendChild(r),t.selectNode(r);var n=t.getBoundingClientRect(),i=Math.round(n.height);if(e.body.removeChild(r),i===A)return!0}}return!1},jU=function(e){var A=e.createElement("boundtest");A.style.width="50px",A.style.display="block",A.style.fontSize="12px",A.style.letterSpacing="0px",A.style.wordSpacing="0px",e.body.appendChild(A);var t=e.createRange();A.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=A.firstChild,n=di(r.data).map(function(a){return ve(a)}),i=0,s={},o=n.every(function(a,l){t.setStart(r,i),t.setEnd(r,i+a.length);var c=t.getBoundingClientRect();i+=a.length;var g=c.x>s.x||c.y>s.y;return s=c,l===0?!0:g});return e.body.removeChild(A),o},qU=function(){return typeof new Image().crossOrigin<"u"},AF=function(){return typeof new XMLHttpRequest().responseType=="string"},eF=function(e){var A=new Image,t=e.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;A.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(A,0,0),t.toDataURL()}catch{return!1}return!0},cf=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},tF=function(e){var A=e.createElement("canvas"),t=100;A.width=t,A.height=t;var r=A.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var n=new Image,i=A.toDataURL();n.src=i;var s=Ko(t,t,0,0,n);return r.fillStyle="red",r.fillRect(0,0,t,t),uf(s).then(function(o){r.drawImage(o,0,0);var a=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var l=e.createElement("div");return l.style.backgroundImage="url("+i+")",l.style.height=t+"px",cf(a)?uf(Ko(t,t,0,0,l)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),cf(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},Ko=function(e,A,t,r,n){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return s.setAttributeNS(null,"width",e.toString()),s.setAttributeNS(null,"height",A.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(n),s},uf=function(e){return new Promise(function(A,t){var r=new Image;r.onload=function(){return A(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},ke={get SUPPORT_RANGE_BOUNDS(){var e=ZU(document);return Object.defineProperty(ke,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=ke.SUPPORT_RANGE_BOUNDS&&jU(document);return Object.defineProperty(ke,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=eF(document);return Object.defineProperty(ke,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?tF(document):Promise.resolve(!1);return Object.defineProperty(ke,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=qU();return Object.defineProperty(ke,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=AF();return Object.defineProperty(ke,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(ke,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(ke,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},gn=function(){function e(A,t){this.text=A,this.bounds=t}return e}(),rF=function(e,A,t,r){var n=sF(A,t),i=[],s=0;return n.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(ke.SUPPORT_RANGE_BOUNDS){var a=ff(r,s,o.length).getClientRects();if(a.length>1){var l=Mo(o),c=0;l.forEach(function(u){i.push(new gn(u,yt.fromDOMRectList(e,ff(r,c+s,u.length).getClientRects()))),c+=u.length})}else i.push(new gn(o,yt.fromDOMRectList(e,a)))}else{var g=r.splitText(o.length);i.push(new gn(o,nF(e,r))),r=g}else ke.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));s+=o.length}),i},nF=function(e,A){var t=A.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(A.cloneNode(!0));var n=A.parentNode;if(n){n.replaceChild(r,A);var i=hi(e,r);return r.firstChild&&n.replaceChild(r.firstChild,r),i}}return yt.EMPTY},ff=function(e,A,t){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var n=r.createRange();return n.setStart(e,A),n.setEnd(e,A+t),n},Mo=function(e){if(ke.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(A.segment(e)).map(function(t){return t.segment})}return $U(e)},iF=function(e,A){if(ke.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return aF(e,A)},sF=function(e,A){return A.letterSpacing!==0?Mo(e):iF(e,A)},oF=[32,160,4961,65792,65793,4153,4241],aF=function(e,A){for(var t=KC(e,{lineBreak:A.lineBreak,wordBreak:A.overflowWrap==="break-word"?"break-word":A.wordBreak}),r=[],n,i=function(){if(n.value){var s=n.value.slice(),o=di(s),a="";o.forEach(function(l){oF.indexOf(l)===-1?a+=ve(l):(a.length&&r.push(a),r.push(ve(l)),a="")}),a.length&&r.push(a)}};!(n=t.next()).done;)i();return r},lF=function(){function e(A,t,r){this.text=cF(t.data,r.textTransform),this.textBounds=rF(A,this.text,r,t)}return e}(),cF=function(e,A){switch(A){case 1:return e.toLowerCase();case 3:return e.replace(uF,fF);case 2:return e.toUpperCase();default:return e}},uF=/(^|\s|:|-|\(|\))([a-z])/g,fF=function(e,A,t){return e.length>0?A+t.toUpperCase():e},gf=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.src=r.currentSrc||r.src,n.intrinsicWidth=r.naturalWidth,n.intrinsicHeight=r.naturalHeight,n.context.cache.addImage(n.src),n}return A}(wt),Bf=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.canvas=r,n.intrinsicWidth=r.width,n.intrinsicHeight=r.height,n}return A}(wt),hf=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this,i=new XMLSerializer,s=hi(t,r);return r.setAttribute("width",s.width+"px"),r.setAttribute("height",s.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),n.intrinsicWidth=r.width.baseVal.value,n.intrinsicHeight=r.height.baseVal.value,n.context.cache.addImage(n.svg),n}return A}(wt),df=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return A}(wt),Do=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.start=r.start,n.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,n}return A}(wt),gF=[{type:15,flags:0,unit:"px",number:3}],BF=[{type:16,flags:0,number:50}],hF=function(e){return e.width>e.height?new yt(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new yt(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},dF=function(e){var A=e.type===wF?new Array(e.value.length+1).join("•"):e.value;return A.length===0?e.placeholder||"":A},Yi="checkbox",zi="radio",wF="password",wf=707406591,To=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;switch(n.type=r.type.toLowerCase(),n.checked=r.checked,n.value=dF(r),(n.type===Yi||n.type===zi)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=hF(n.bounds)),n.type){case Yi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=gF;break;case zi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=BF;break}return n}return A}(wt),pf=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this,i=r.options[r.selectedIndex||0];return n.value=i&&i.text||"",n}return A}(wt),mf=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return A}(wt),Qf=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;n.src=r.src,n.width=parseInt(r.width,10)||0,n.height=parseInt(r.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){n.tree=vf(t,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?cn(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):bt.TRANSPARENT,s=r.contentWindow.document.body?cn(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):bt.TRANSPARENT;n.backgroundColor=Rt(i)?Rt(s)?n.styles.backgroundColor:s:i}}catch{}return n}return A}(wt),pF=["OL","UL","MENU"],$i=function(e,A,t,r){for(var n=A.firstChild,i=void 0;n;n=i)if(i=n.nextSibling,Uf(n)&&n.data.trim().length>0)t.textNodes.push(new lF(e,n,t.styles));else if(Fr(n))if(Hf(n)&&n.assignedNodes)n.assignedNodes().forEach(function(o){return $i(e,o,t,r)});else{var s=Cf(e,n);s.styles.isVisible()&&(mF(n,s,r)?s.flags|=4:QF(s.styles)&&(s.flags|=2),pF.indexOf(n.tagName)!==-1&&(s.flags|=8),t.elements.push(s),n.slot,n.shadowRoot?$i(e,n.shadowRoot,s,r):!ji(n)&&!Ff(n)&&!qi(n)&&$i(e,n,s,r))}},Cf=function(e,A){return Ro(A)?new gf(e,A):yf(A)?new Bf(e,A):Ff(A)?new hf(e,A):CF(A)?new df(e,A):vF(A)?new Do(e,A):UF(A)?new To(e,A):qi(A)?new pf(e,A):ji(A)?new mf(e,A):bf(A)?new Qf(e,A):new wt(e,A)},vf=function(e,A){var t=Cf(e,A);return t.flags|=4,$i(e,A,t,t),t},mF=function(e,A,t){return A.styles.isPositionedWithZIndex()||A.styles.opacity<1||A.styles.isTransformed()||No(e)&&t.styles.isTransparent()},QF=function(e){return e.isPositioned()||e.isFloating()},Uf=function(e){return e.nodeType===Node.TEXT_NODE},Fr=function(e){return e.nodeType===Node.ELEMENT_NODE},Oo=function(e){return Fr(e)&&typeof e.style<"u"&&!Zi(e)},Zi=function(e){return typeof e.className=="object"},CF=function(e){return e.tagName==="LI"},vF=function(e){return e.tagName==="OL"},UF=function(e){return e.tagName==="INPUT"},FF=function(e){return e.tagName==="HTML"},Ff=function(e){return e.tagName==="svg"},No=function(e){return e.tagName==="BODY"},yf=function(e){return e.tagName==="CANVAS"},_f=function(e){return e.tagName==="VIDEO"},Ro=function(e){return e.tagName==="IMG"},bf=function(e){return e.tagName==="IFRAME"},Ef=function(e){return e.tagName==="STYLE"},yF=function(e){return e.tagName==="SCRIPT"},ji=function(e){return e.tagName==="TEXTAREA"},qi=function(e){return e.tagName==="SELECT"},Hf=function(e){return e.tagName==="SLOT"},If=function(e){return e.tagName.indexOf("-")>0},_F=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(A){var t=this.counters[A];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(A){var t=this.counters[A];return t||[]},e.prototype.pop=function(A){var t=this;A.forEach(function(r){return t.counters[r].pop()})},e.prototype.parse=function(A){var t=this,r=A.counterIncrement,n=A.counterReset,i=!0;r!==null&&r.forEach(function(o){var a=t.counters[o.counter];a&&o.increment!==0&&(i=!1,a.length||a.push(1),a[Math.max(0,a.length-1)]+=o.increment)});var s=[];return i&&n.forEach(function(o){var a=t.counters[o.counter];s.push(o.counter),a||(a=t.counters[o.counter]=[]),a.push(o.reset)}),s},e}(),Sf={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},xf={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},bF={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},EF={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},yr=function(e,A,t,r,n,i){return e<A||e>t?hn(e,n,i.length>0):r.integers.reduce(function(s,o,a){for(;e>=o;)e-=o,s+=r.values[a];return s},"")+i},Lf=function(e,A,t,r){var n="";do t||e--,n=r(e)+n,e/=A;while(e*A>=A);return n},Ue=function(e,A,t,r,n){var i=t-A+1;return(e<0?"-":"")+(Lf(Math.abs(e),i,r,function(s){return ve(Math.floor(s%i)+A)})+n)},Ar=function(e,A,t){t===void 0&&(t=". ");var r=A.length;return Lf(Math.abs(e),r,!1,function(n){return A[Math.floor(n%r)]})+t},_r=1,Gt=2,Pt=4,Bn=8,Et=function(e,A,t,r,n,i){if(e<-9999||e>9999)return hn(e,4,n.length>0);var s=Math.abs(e),o=n;if(s===0)return A[0]+o;for(var a=0;s>0&&a<=4;a++){var l=s%10;l===0&&He(i,_r)&&o!==""?o=A[l]+o:l>1||l===1&&a===0||l===1&&a===1&&He(i,Gt)||l===1&&a===1&&He(i,Pt)&&e>100||l===1&&a>1&&He(i,Bn)?o=A[l]+(a>0?t[a-1]:"")+o:l===1&&a>0&&(o=t[a-1]+o),s=Math.floor(s/10)}return(e<0?r:"")+o},kf="十百千萬",Kf="拾佰仟萬",Mf="マイナス",Vo="마이너스",hn=function(e,A,t){var r=t?". ":"",n=t?"、":"",i=t?", ":"",s=t?" ":"";switch(A){case 0:return"•"+s;case 1:return"◦"+s;case 2:return"◾"+s;case 5:var o=Ue(e,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Ar(e,"〇一二三四五六七八九",n);case 6:return yr(e,1,3999,Sf,3,r).toLowerCase();case 7:return yr(e,1,3999,Sf,3,r);case 8:return Ue(e,945,969,!1,r);case 9:return Ue(e,97,122,!1,r);case 10:return Ue(e,65,90,!1,r);case 11:return Ue(e,1632,1641,!0,r);case 12:case 49:return yr(e,1,9999,xf,3,r);case 35:return yr(e,1,9999,xf,3,r).toLowerCase();case 13:return Ue(e,2534,2543,!0,r);case 14:case 30:return Ue(e,6112,6121,!0,r);case 15:return Ar(e,"子丑寅卯辰巳午未申酉戌亥",n);case 16:return Ar(e,"甲乙丙丁戊己庚辛壬癸",n);case 17:case 48:return Et(e,"零一二三四五六七八九",kf,"負",n,Gt|Pt|Bn);case 47:return Et(e,"零壹貳參肆伍陸柒捌玖",Kf,"負",n,_r|Gt|Pt|Bn);case 42:return Et(e,"零一二三四五六七八九",kf,"负",n,Gt|Pt|Bn);case 41:return Et(e,"零壹贰叁肆伍陆柒捌玖",Kf,"负",n,_r|Gt|Pt|Bn);case 26:return Et(e,"〇一二三四五六七八九","十百千万",Mf,n,0);case 25:return Et(e,"零壱弐参四伍六七八九","拾百千万",Mf,n,_r|Gt|Pt);case 31:return Et(e,"영일이삼사오육칠팔구","십백천만",Vo,i,_r|Gt|Pt);case 33:return Et(e,"零一二三四五六七八九","十百千萬",Vo,i,0);case 32:return Et(e,"零壹貳參四五六七八九","拾百千",Vo,i,_r|Gt|Pt);case 18:return Ue(e,2406,2415,!0,r);case 20:return yr(e,1,19999,EF,3,r);case 21:return Ue(e,2790,2799,!0,r);case 22:return Ue(e,2662,2671,!0,r);case 22:return yr(e,1,10999,bF,3,r);case 23:return Ar(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Ar(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return Ue(e,3302,3311,!0,r);case 28:return Ar(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",n);case 29:return Ar(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",n);case 34:return Ue(e,3792,3801,!0,r);case 37:return Ue(e,6160,6169,!0,r);case 38:return Ue(e,4160,4169,!0,r);case 39:return Ue(e,2918,2927,!0,r);case 40:return Ue(e,1776,1785,!0,r);case 43:return Ue(e,3046,3055,!0,r);case 44:return Ue(e,3174,3183,!0,r);case 45:return Ue(e,3664,3673,!0,r);case 46:return Ue(e,3872,3881,!0,r);case 3:default:return Ue(e,48,57,!0,r)}},Df="data-html2canvas-ignore",Tf=function(){function e(A,t,r){if(this.context=A,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new _F,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(A,t){var r=this,n=HF(A,t);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var i=A.defaultView.pageXOffset,s=A.defaultView.pageYOffset,o=n.contentWindow,a=o.document,l=xF(n).then(function(){return Ge(r,void 0,void 0,function(){var c,g;return De(this,function(u){switch(u.label){case 0:return this.scrolledElements.forEach(MF),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),c=this.options.onclone,g=this.clonedReferenceElement,typeof g>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:u.sent(),u.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,SF(a)]:[3,4];case 3:u.sent(),u.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(a,g)}).then(function(){return n})]:[2,n]}})})});return a.open(),a.write(kF(document.doctype)+"<html></html>"),KF(this.referenceElement.ownerDocument,i,s),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),l},e.prototype.createElementClone=function(A){if(yo(A,2))debugger;if(yf(A))return this.createCanvasClone(A);if(_f(A))return this.createVideoClone(A);if(Ef(A))return this.createStyleClone(A);var t=A.cloneNode(!1);return Ro(t)&&(Ro(A)&&A.currentSrc&&A.currentSrc!==A.src&&(t.src=A.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),If(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(A){var t=document.createElement("html2canvascustomelement");return Go(A.style,t),t},e.prototype.createStyleClone=function(A){try{var t=A.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(i,s){return s&&typeof s.cssText=="string"?i+s.cssText:i},""),n=A.cloneNode(!1);return n.textContent=r,n}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return A.cloneNode(!1)},e.prototype.createCanvasClone=function(A){var t;if(this.options.inlineImages&&A.ownerDocument){var r=A.ownerDocument.createElement("img");try{return r.src=A.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",A)}}var n=A.cloneNode(!1);try{n.width=A.width,n.height=A.height;var i=A.getContext("2d"),s=n.getContext("2d");if(s)if(!this.options.allowTaint&&i)s.putImageData(i.getImageData(0,0,A.width,A.height),0,0);else{var o=(t=A.getContext("webgl2"))!==null&&t!==void 0?t:A.getContext("webgl");if(o){var a=o.getContextAttributes();(a==null?void 0:a.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",A)}s.drawImage(A,0,0)}return n}catch{this.context.logger.info("Unable to clone canvas as it is tainted",A)}return n},e.prototype.createVideoClone=function(A){var t=A.ownerDocument.createElement("canvas");t.width=A.offsetWidth,t.height=A.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(A,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",A)}var n=A.ownerDocument.createElement("canvas");return n.width=A.offsetWidth,n.height=A.offsetHeight,n},e.prototype.appendChildNode=function(A,t,r){(!Fr(t)||!yF(t)&&!t.hasAttribute(Df)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Fr(t)||!Ef(t))&&A.appendChild(this.cloneNode(t,r))},e.prototype.cloneChildNodes=function(A,t,r){for(var n=this,i=A.shadowRoot?A.shadowRoot.firstChild:A.firstChild;i;i=i.nextSibling)if(Fr(i)&&Hf(i)&&typeof i.assignedNodes=="function"){var s=i.assignedNodes();s.length&&s.forEach(function(o){return n.appendChildNode(t,o,r)})}else this.appendChildNode(t,i,r)},e.prototype.cloneNode=function(A,t){if(Uf(A))return document.createTextNode(A.data);if(!A.ownerDocument)return A.cloneNode(!1);var r=A.ownerDocument.defaultView;if(r&&Fr(A)&&(Oo(A)||Zi(A))){var n=this.createElementClone(A);n.style.transitionProperty="none";var i=r.getComputedStyle(A),s=r.getComputedStyle(A,":before"),o=r.getComputedStyle(A,":after");this.referenceElement===A&&Oo(n)&&(this.clonedReferenceElement=n),No(n)&&OF(n);var a=this.counters.parse(new Zu(this.context,i)),l=this.resolvePseudoContent(A,n,s,dn.BEFORE);If(A)&&(t=!0),_f(A)||this.cloneChildNodes(A,n,t),l&&n.insertBefore(l,n.firstChild);var c=this.resolvePseudoContent(A,n,o,dn.AFTER);return c&&n.appendChild(c),this.counters.pop(a),(i&&(this.options.copyStyles||Zi(A))&&!bf(A)||t)&&Go(i,n),(A.scrollTop!==0||A.scrollLeft!==0)&&this.scrolledElements.push([n,A.scrollLeft,A.scrollTop]),(ji(A)||qi(A))&&(ji(n)||qi(n))&&(n.value=A.value),n}return A.cloneNode(!1)},e.prototype.resolvePseudoContent=function(A,t,r,n){var i=this;if(r){var s=r.content,o=t.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||r.display==="none")){this.counters.parse(new Zu(this.context,r));var a=new CU(this.context,r),l=o.createElement("html2canvaspseudoelement");Go(r,l),a.content.forEach(function(g){if(g.type===0)l.appendChild(o.createTextNode(g.value));else if(g.type===22){var u=o.createElement("img");u.src=g.value,u.style.opacity="1",l.appendChild(u)}else if(g.type===18){if(g.name==="attr"){var f=g.values.filter(ue);f.length&&l.appendChild(o.createTextNode(A.getAttribute(f[0].value)||""))}else if(g.name==="counter"){var h=g.values.filter(vr),B=h[0],w=h[1];if(B&&ue(B)){var d=i.counters.getCounterValue(B.value),F=w&&ue(w)?Fo.parse(i.context,w.value):3;l.appendChild(o.createTextNode(hn(d,F,!1)))}}else if(g.name==="counters"){var b=g.values.filter(vr),B=b[0],Q=b[1],w=b[2];if(B&&ue(B)){var C=i.counters.getCounterValues(B.value),y=w&&ue(w)?Fo.parse(i.context,w.value):3,E=Q&&Q.type===0?Q.value:"",U=C.map(function(x){return hn(x,y,!1)}).join(E);l.appendChild(o.createTextNode(U))}}}else if(g.type===20)switch(g.value){case"open-quote":l.appendChild(o.createTextNode($u(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode($u(a.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(g.value))}}),l.className=Po+" "+Xo;var c=n===dn.BEFORE?" "+Po:" "+Xo;return Zi(t)?t.className.baseValue+=c:t.className+=c,l}}},e.destroy=function(A){return A.parentNode?(A.parentNode.removeChild(A),!0):!1},e}(),dn;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(dn||(dn={}));var HF=function(e,A){var t=e.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=A.width.toString(),t.height=A.height.toString(),t.scrolling="no",t.setAttribute(Df,"true"),e.body.appendChild(t),t},IF=function(e){return new Promise(function(A){if(e.complete){A();return}if(!e.src){A();return}e.onload=A,e.onerror=A})},SF=function(e){return Promise.all([].slice.call(e.images,0).map(IF))},xF=function(e){return new Promise(function(A,t){var r=e.contentWindow;if(!r)return t("No window assigned for iframe");var n=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var i=setInterval(function(){n.body.childNodes.length>0&&n.readyState==="complete"&&(clearInterval(i),A(e))},50)}})},LF=["all","d","content"],Go=function(e,A){for(var t=e.length-1;t>=0;t--){var r=e.item(t);LF.indexOf(r)===-1&&A.style.setProperty(r,e.getPropertyValue(r))}return A},kF=function(e){var A="";return e&&(A+="<!DOCTYPE ",e.name&&(A+=e.name),e.internalSubset&&(A+=e.internalSubset),e.publicId&&(A+='"'+e.publicId+'"'),e.systemId&&(A+='"'+e.systemId+'"'),A+=">"),A},KF=function(e,A,t){e&&e.defaultView&&(A!==e.defaultView.pageXOffset||t!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(A,t)},MF=function(e){var A=e[0],t=e[1],r=e[2];A.scrollLeft=t,A.scrollTop=r},DF=":before",TF=":after",Po="___html2canvas___pseudoelement_before",Xo="___html2canvas___pseudoelement_after",Of=`{
    content: "" !important;
    display: none !important;
}`,OF=function(e){NF(e,"."+Po+DF+Of+`
         .`+Xo+TF+Of)},NF=function(e,A){var t=e.ownerDocument;if(t){var r=t.createElement("style");r.textContent=A,e.appendChild(r)}},Nf=function(){function e(){}return e.getOrigin=function(A){var t=e._link;return t?(t.href=A,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},e.isSameOrigin=function(A){return e.getOrigin(A)===e._origin},e.setContext=function(A){e._link=A.document.createElement("a"),e._origin=e.getOrigin(A.location.href)},e._origin="about:blank",e}(),RF=function(){function e(A,t){this.context=A,this._options=t,this._cache={}}return e.prototype.addImage=function(A){var t=Promise.resolve();return this.has(A)||(Wo(A)||XF(A))&&(this._cache[A]=this.loadImage(A)).catch(function(){}),t},e.prototype.match=function(A){return this._cache[A]},e.prototype.loadImage=function(A){return Ge(this,void 0,void 0,function(){var t,r,n,i,s=this;return De(this,function(o){switch(o.label){case 0:return t=Nf.isSameOrigin(A),r=!Jo(A)&&this._options.useCORS===!0&&ke.SUPPORT_CORS_IMAGES&&!t,n=!Jo(A)&&!t&&!Wo(A)&&typeof this._options.proxy=="string"&&ke.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!Jo(A)&&!Wo(A)&&!n&&!r?[2]:(i=A,n?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+A.substring(0,256)),[4,new Promise(function(a,l){var c=new Image;c.onload=function(){return a(c)},c.onerror=l,(JF(i)||r)&&(c.crossOrigin="anonymous"),c.src=i,c.complete===!0&&setTimeout(function(){return a(c)},500),s._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(A){return typeof this._cache[A]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(A){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var n=A.substring(0,256);return new Promise(function(i,s){var o=ke.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(a.status===200)if(o==="text")i(a.response);else{var g=new FileReader;g.addEventListener("load",function(){return i(g.result)},!1),g.addEventListener("error",function(u){return s(u)},!1),g.readAsDataURL(a.response)}else s("Failed to proxy resource "+n+" with status code "+a.status)},a.onerror=s;var l=r.indexOf("?")>-1?"&":"?";if(a.open("GET",""+r+l+"url="+encodeURIComponent(A)+"&responseType="+o),o!=="text"&&a instanceof XMLHttpRequest&&(a.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;a.timeout=c,a.ontimeout=function(){return s("Timed out ("+c+"ms) proxying "+n)}}a.send()})},e}(),VF=/^data:image\/svg\+xml/i,GF=/^data:image\/.*;base64,/i,PF=/^data:image\/.*/i,XF=function(e){return ke.SUPPORT_SVG_DRAWING||!WF(e)},Jo=function(e){return PF.test(e)},JF=function(e){return GF.test(e)},Wo=function(e){return e.substr(0,4)==="blob"},WF=function(e){return e.substr(-3).toLowerCase()==="svg"||VF.test(e)},lA=function(){function e(A,t){this.type=0,this.x=A,this.y=t}return e.prototype.add=function(A,t){return new e(this.x+A,this.y+t)},e}(),br=function(e,A,t){return new lA(e.x+(A.x-e.x)*t,e.y+(A.y-e.y)*t)},As=function(){function e(A,t,r,n){this.type=1,this.start=A,this.startControl=t,this.endControl=r,this.end=n}return e.prototype.subdivide=function(A,t){var r=br(this.start,this.startControl,A),n=br(this.startControl,this.endControl,A),i=br(this.endControl,this.end,A),s=br(r,n,A),o=br(n,i,A),a=br(s,o,A);return t?new e(this.start,r,s,a):new e(a,o,i,this.end)},e.prototype.add=function(A,t){return new e(this.start.add(A,t),this.startControl.add(A,t),this.endControl.add(A,t),this.end.add(A,t))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),tt=function(e){return e.type===1},YF=function(){function e(A){var t=A.styles,r=A.bounds,n=ln(t.borderTopLeftRadius,r.width,r.height),i=n[0],s=n[1],o=ln(t.borderTopRightRadius,r.width,r.height),a=o[0],l=o[1],c=ln(t.borderBottomRightRadius,r.width,r.height),g=c[0],u=c[1],f=ln(t.borderBottomLeftRadius,r.width,r.height),h=f[0],B=f[1],w=[];w.push((i+a)/r.width),w.push((h+g)/r.width),w.push((s+B)/r.height),w.push((l+u)/r.height);var d=Math.max.apply(Math,w);d>1&&(i/=d,s/=d,a/=d,l/=d,g/=d,u/=d,h/=d,B/=d);var F=r.width-a,b=r.height-u,Q=r.width-g,C=r.height-B,y=t.borderTopWidth,E=t.borderRightWidth,U=t.borderBottomWidth,H=t.borderLeftWidth,k=de(t.paddingTop,A.bounds.width),x=de(t.paddingRight,A.bounds.width),M=de(t.paddingBottom,A.bounds.width),R=de(t.paddingLeft,A.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||s>0?pe(r.left+H/3,r.top+y/3,i-H/3,s-y/3,ae.TOP_LEFT):new lA(r.left+H/3,r.top+y/3),this.topRightBorderDoubleOuterBox=i>0||s>0?pe(r.left+F,r.top+y/3,a-E/3,l-y/3,ae.TOP_RIGHT):new lA(r.left+r.width-E/3,r.top+y/3),this.bottomRightBorderDoubleOuterBox=g>0||u>0?pe(r.left+Q,r.top+b,g-E/3,u-U/3,ae.BOTTOM_RIGHT):new lA(r.left+r.width-E/3,r.top+r.height-U/3),this.bottomLeftBorderDoubleOuterBox=h>0||B>0?pe(r.left+H/3,r.top+C,h-H/3,B-U/3,ae.BOTTOM_LEFT):new lA(r.left+H/3,r.top+r.height-U/3),this.topLeftBorderDoubleInnerBox=i>0||s>0?pe(r.left+H*2/3,r.top+y*2/3,i-H*2/3,s-y*2/3,ae.TOP_LEFT):new lA(r.left+H*2/3,r.top+y*2/3),this.topRightBorderDoubleInnerBox=i>0||s>0?pe(r.left+F,r.top+y*2/3,a-E*2/3,l-y*2/3,ae.TOP_RIGHT):new lA(r.left+r.width-E*2/3,r.top+y*2/3),this.bottomRightBorderDoubleInnerBox=g>0||u>0?pe(r.left+Q,r.top+b,g-E*2/3,u-U*2/3,ae.BOTTOM_RIGHT):new lA(r.left+r.width-E*2/3,r.top+r.height-U*2/3),this.bottomLeftBorderDoubleInnerBox=h>0||B>0?pe(r.left+H*2/3,r.top+C,h-H*2/3,B-U*2/3,ae.BOTTOM_LEFT):new lA(r.left+H*2/3,r.top+r.height-U*2/3),this.topLeftBorderStroke=i>0||s>0?pe(r.left+H/2,r.top+y/2,i-H/2,s-y/2,ae.TOP_LEFT):new lA(r.left+H/2,r.top+y/2),this.topRightBorderStroke=i>0||s>0?pe(r.left+F,r.top+y/2,a-E/2,l-y/2,ae.TOP_RIGHT):new lA(r.left+r.width-E/2,r.top+y/2),this.bottomRightBorderStroke=g>0||u>0?pe(r.left+Q,r.top+b,g-E/2,u-U/2,ae.BOTTOM_RIGHT):new lA(r.left+r.width-E/2,r.top+r.height-U/2),this.bottomLeftBorderStroke=h>0||B>0?pe(r.left+H/2,r.top+C,h-H/2,B-U/2,ae.BOTTOM_LEFT):new lA(r.left+H/2,r.top+r.height-U/2),this.topLeftBorderBox=i>0||s>0?pe(r.left,r.top,i,s,ae.TOP_LEFT):new lA(r.left,r.top),this.topRightBorderBox=a>0||l>0?pe(r.left+F,r.top,a,l,ae.TOP_RIGHT):new lA(r.left+r.width,r.top),this.bottomRightBorderBox=g>0||u>0?pe(r.left+Q,r.top+b,g,u,ae.BOTTOM_RIGHT):new lA(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=h>0||B>0?pe(r.left,r.top+C,h,B,ae.BOTTOM_LEFT):new lA(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||s>0?pe(r.left+H,r.top+y,Math.max(0,i-H),Math.max(0,s-y),ae.TOP_LEFT):new lA(r.left+H,r.top+y),this.topRightPaddingBox=a>0||l>0?pe(r.left+Math.min(F,r.width-E),r.top+y,F>r.width+E?0:Math.max(0,a-E),Math.max(0,l-y),ae.TOP_RIGHT):new lA(r.left+r.width-E,r.top+y),this.bottomRightPaddingBox=g>0||u>0?pe(r.left+Math.min(Q,r.width-H),r.top+Math.min(b,r.height-U),Math.max(0,g-E),Math.max(0,u-U),ae.BOTTOM_RIGHT):new lA(r.left+r.width-E,r.top+r.height-U),this.bottomLeftPaddingBox=h>0||B>0?pe(r.left+H,r.top+Math.min(C,r.height-U),Math.max(0,h-H),Math.max(0,B-U),ae.BOTTOM_LEFT):new lA(r.left+H,r.top+r.height-U),this.topLeftContentBox=i>0||s>0?pe(r.left+H+R,r.top+y+k,Math.max(0,i-(H+R)),Math.max(0,s-(y+k)),ae.TOP_LEFT):new lA(r.left+H+R,r.top+y+k),this.topRightContentBox=a>0||l>0?pe(r.left+Math.min(F,r.width+H+R),r.top+y+k,F>r.width+H+R?0:a-H+R,l-(y+k),ae.TOP_RIGHT):new lA(r.left+r.width-(E+x),r.top+y+k),this.bottomRightContentBox=g>0||u>0?pe(r.left+Math.min(Q,r.width-(H+R)),r.top+Math.min(b,r.height+y+k),Math.max(0,g-(E+x)),u-(U+M),ae.BOTTOM_RIGHT):new lA(r.left+r.width-(E+x),r.top+r.height-(U+M)),this.bottomLeftContentBox=h>0||B>0?pe(r.left+H+R,r.top+C,Math.max(0,h-(H+R)),B-(U+M),ae.BOTTOM_LEFT):new lA(r.left+H+R,r.top+r.height-(U+M))}return e}(),ae;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(ae||(ae={}));var pe=function(e,A,t,r,n){var i=4*((Math.sqrt(2)-1)/3),s=t*i,o=r*i,a=e+t,l=A+r;switch(n){case ae.TOP_LEFT:return new As(new lA(e,l),new lA(e,l-o),new lA(a-s,A),new lA(a,A));case ae.TOP_RIGHT:return new As(new lA(e,A),new lA(e+s,A),new lA(a,l-o),new lA(a,l));case ae.BOTTOM_RIGHT:return new As(new lA(a,A),new lA(a,A+o),new lA(e+s,l),new lA(e,l));case ae.BOTTOM_LEFT:default:return new As(new lA(a,l),new lA(a-s,l),new lA(e,A+o),new lA(e,A))}},es=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},zF=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},ts=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},$F=function(){function e(A,t,r){this.offsetX=A,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return e}(),rs=function(){function e(A,t){this.path=A,this.target=t,this.type=1}return e}(),ZF=function(){function e(A){this.opacity=A,this.type=2,this.target=6}return e}(),jF=function(e){return e.type===0},Rf=function(e){return e.type===1},qF=function(e){return e.type===2},Vf=function(e,A){return e.length===A.length?e.some(function(t,r){return t===A[r]}):!1},Ay=function(e,A,t,r,n){return e.map(function(i,s){switch(s){case 0:return i.add(A,t);case 1:return i.add(A+r,t);case 2:return i.add(A+r,t+n);case 3:return i.add(A,t+n)}return i})},Gf=function(){function e(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Pf=function(){function e(A,t){if(this.container=A,this.parent=t,this.effects=[],this.curves=new YF(this.container),this.container.styles.opacity<1&&this.effects.push(new ZF(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new $F(r,n,i))}if(this.container.styles.overflowX!==0){var s=es(this.curves),o=ts(this.curves);Vf(s,o)?this.effects.push(new rs(s,6)):(this.effects.push(new rs(s,2)),this.effects.push(new rs(o,4)))}}return e.prototype.getEffects=function(A){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,n=this.effects.slice(0);r;){var i=r.effects.filter(function(a){return!Rf(a)});if(t||r.container.styles.position!==0||!r.parent){if(n.unshift.apply(n,i),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var s=es(r.curves),o=ts(r.curves);Vf(s,o)||n.unshift(new rs(o,6))}}else n.unshift.apply(n,i);r=r.parent}return n.filter(function(a){return He(a.target,A)})},e}(),Yo=function(e,A,t,r){e.container.elements.forEach(function(n){var i=He(n.flags,4),s=He(n.flags,2),o=new Pf(n,e);He(n.styles.display,2048)&&r.push(o);var a=He(n.flags,8)?[]:r;if(i||s){var l=i||n.styles.isPositioned()?t:A,c=new Gf(o);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var g=n.styles.zIndex.order;if(g<0){var u=0;l.negativeZIndex.some(function(h,B){return g>h.element.container.styles.zIndex.order?(u=B,!1):u>0}),l.negativeZIndex.splice(u,0,c)}else if(g>0){var f=0;l.positiveZIndex.some(function(h,B){return g>=h.element.container.styles.zIndex.order?(f=B+1,!1):f>0}),l.positiveZIndex.splice(f,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else n.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);Yo(o,c,i?c:t,a)}else n.styles.isInlineLevel()?A.inlineLevel.push(o):A.nonInlineLevel.push(o),Yo(o,A,t,a);He(n.flags,8)&&Xf(n,a)})},Xf=function(e,A){for(var t=e instanceof Do?e.start:1,r=e instanceof Do?e.reversed:!1,n=0;n<A.length;n++){var i=A[n];i.container instanceof df&&typeof i.container.value=="number"&&i.container.value!==0&&(t=i.container.value),i.listValue=hn(t,i.container.styles.listStyleType,!0),t+=r?-1:1}},ey=function(e){var A=new Pf(e,null),t=new Gf(A),r=[];return Yo(A,t,t,r),Xf(A.container,r),t},Jf=function(e,A){switch(A){case 0:return rt(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return rt(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return rt(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return rt(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},ty=function(e,A){switch(A){case 0:return rt(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return rt(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return rt(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return rt(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},ry=function(e,A){switch(A){case 0:return rt(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return rt(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return rt(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return rt(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},ny=function(e,A){switch(A){case 0:return ns(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return ns(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return ns(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return ns(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},ns=function(e,A){var t=[];return tt(e)?t.push(e.subdivide(.5,!1)):t.push(e),tt(A)?t.push(A.subdivide(.5,!0)):t.push(A),t},rt=function(e,A,t,r){var n=[];return tt(e)?n.push(e.subdivide(.5,!1)):n.push(e),tt(t)?n.push(t.subdivide(.5,!0)):n.push(t),tt(r)?n.push(r.subdivide(.5,!0).reverse()):n.push(r),tt(A)?n.push(A.subdivide(.5,!1).reverse()):n.push(A),n},Wf=function(e){var A=e.bounds,t=e.styles;return A.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},is=function(e){var A=e.styles,t=e.bounds,r=de(A.paddingLeft,t.width),n=de(A.paddingRight,t.width),i=de(A.paddingTop,t.width),s=de(A.paddingBottom,t.width);return t.add(r+A.borderLeftWidth,i+A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth+r+n),-(A.borderTopWidth+A.borderBottomWidth+i+s))},iy=function(e,A){return e===0?A.bounds:e===2?is(A):Wf(A)},sy=function(e,A){return e===0?A.bounds:e===2?is(A):Wf(A)},zo=function(e,A,t){var r=iy(Hr(e.styles.backgroundOrigin,A),e),n=sy(Hr(e.styles.backgroundClip,A),e),i=oy(Hr(e.styles.backgroundSize,A),t,r),s=i[0],o=i[1],a=ln(Hr(e.styles.backgroundPosition,A),r.width-s,r.height-o),l=ay(Hr(e.styles.backgroundRepeat,A),a,i,r,n),c=Math.round(r.left+a[0]),g=Math.round(r.top+a[1]);return[l,c,g,s,o]},Er=function(e){return ue(e)&&e.value===Ur.AUTO},ss=function(e){return typeof e=="number"},oy=function(e,A,t){var r=A[0],n=A[1],i=A[2],s=e[0],o=e[1];if(!s)return[0,0];if(_e(s)&&o&&_e(o))return[de(s,t.width),de(o,t.height)];var a=ss(i);if(ue(s)&&(s.value===Ur.CONTAIN||s.value===Ur.COVER)){if(ss(i)){var l=t.width/t.height;return l<i!=(s.value===Ur.COVER)?[t.width,t.width/i]:[t.height*i,t.height]}return[t.width,t.height]}var c=ss(r),g=ss(n),u=c||g;if(Er(s)&&(!o||Er(o))){if(c&&g)return[r,n];if(!a&&!u)return[t.width,t.height];if(u&&a){var f=c?r:n*i,h=g?n:r/i;return[f,h]}var B=c?r:t.width,w=g?n:t.height;return[B,w]}if(a){var d=0,F=0;return _e(s)?d=de(s,t.width):_e(o)&&(F=de(o,t.height)),Er(s)?d=F*i:(!o||Er(o))&&(F=d/i),[d,F]}var b=null,Q=null;if(_e(s)?b=de(s,t.width):o&&_e(o)&&(Q=de(o,t.height)),b!==null&&(!o||Er(o))&&(Q=c&&g?b/r*n:t.height),Q!==null&&Er(s)&&(b=c&&g?Q/n*r:t.width),b!==null&&Q!==null)return[b,Q];throw new Error("Unable to calculate background-size for element")},Hr=function(e,A){var t=e[A];return typeof t>"u"?e[0]:t},ay=function(e,A,t,r,n){var i=A[0],s=A[1],o=t[0],a=t[1];switch(e){case 2:return[new lA(Math.round(r.left),Math.round(r.top+s)),new lA(Math.round(r.left+r.width),Math.round(r.top+s)),new lA(Math.round(r.left+r.width),Math.round(a+r.top+s)),new lA(Math.round(r.left),Math.round(a+r.top+s))];case 3:return[new lA(Math.round(r.left+i),Math.round(r.top)),new lA(Math.round(r.left+i+o),Math.round(r.top)),new lA(Math.round(r.left+i+o),Math.round(r.height+r.top)),new lA(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new lA(Math.round(r.left+i),Math.round(r.top+s)),new lA(Math.round(r.left+i+o),Math.round(r.top+s)),new lA(Math.round(r.left+i+o),Math.round(r.top+s+a)),new lA(Math.round(r.left+i),Math.round(r.top+s+a))];default:return[new lA(Math.round(n.left),Math.round(n.top)),new lA(Math.round(n.left+n.width),Math.round(n.top)),new lA(Math.round(n.left+n.width),Math.round(n.height+n.top)),new lA(Math.round(n.left),Math.round(n.height+n.top))]}},ly="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Yf="Hidden Text",cy=function(){function e(A){this._data={},this._document=A}return e.prototype.parseMetrics=function(A,t){var r=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),s=this._document.body;r.style.visibility="hidden",r.style.fontFamily=A,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",s.appendChild(r),n.src=ly,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=A,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(Yf)),r.appendChild(i),r.appendChild(n);var o=n.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(Yf)),r.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-r.offsetTop+2;return s.removeChild(r),{baseline:o,middle:a}},e.prototype.getMetrics=function(A,t){var r=A+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(A,t)),this._data[r]},e}(),zf=function(){function e(A,t){this.context=A,this.options=t}return e}(),uy=1e4,fy=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n._activeEffects=[],n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),r.canvas||(n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px"),n.fontMetrics=new cy(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),n}return A.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(n){return r.applyEffect(n)})},A.prototype.applyEffect=function(t){this.ctx.save(),qF(t)&&(this.ctx.globalAlpha=t.opacity),jF(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),Rf(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},A.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},A.prototype.renderStack=function(t){return Ge(this,void 0,void 0,function(){var r;return De(this,function(n){switch(n.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},A.prototype.renderNode=function(t){return Ge(this,void 0,void 0,function(){return De(this,function(r){switch(r.label){case 0:if(He(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},A.prototype.renderTextWithLetterSpacing=function(t,r,n){var i=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+n);else{var s=Mo(t.text);s.reduce(function(o,a){return i.ctx.fillText(a,o,t.bounds.top+n),o+i.ctx.measureText(a).width},t.bounds.left)}},A.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),n=wy(t.fontFamily).join(", "),i=an(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,i,n].join(" "),n,i]},A.prototype.renderTextNode=function(t,r){return Ge(this,void 0,void 0,function(){var n,i,s,o,a,l,c,g,u=this;return De(this,function(f){return n=this.createFontStyle(r),i=n[0],s=n[1],o=n[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(s,o),l=a.baseline,c=a.middle,g=r.paintOrder,t.textBounds.forEach(function(h){g.forEach(function(B){switch(B){case 0:u.ctx.fillStyle=Ie(r.color),u.renderTextWithLetterSpacing(h,r.letterSpacing,l);var w=r.textShadow;w.length&&h.text.trim().length&&(w.slice(0).reverse().forEach(function(d){u.ctx.shadowColor=Ie(d.color),u.ctx.shadowOffsetX=d.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=d.offsetY.number*u.options.scale,u.ctx.shadowBlur=d.blur.number,u.renderTextWithLetterSpacing(h,r.letterSpacing,l)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),r.textDecorationLine.length&&(u.ctx.fillStyle=Ie(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(d){switch(d){case 1:u.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top+l),h.bounds.width,1);break;case 2:u.ctx.fillRect(h.bounds.left,Math.round(h.bounds.top),h.bounds.width,1);break;case 3:u.ctx.fillRect(h.bounds.left,Math.ceil(h.bounds.top+c),h.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&h.text.trim().length&&(u.ctx.strokeStyle=Ie(r.webkitTextStrokeColor),u.ctx.lineWidth=r.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(h.text,h.bounds.left,h.bounds.top+l)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter";break}})}),[2]})})},A.prototype.renderReplacedElement=function(t,r,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=is(t),s=ts(r);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},A.prototype.renderNodeContent=function(t){return Ge(this,void 0,void 0,function(){var r,n,i,s,o,a,F,F,l,c,g,u,Q,f,h,C,B,w,d,F,b,Q,C;return De(this,function(y){switch(y.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,n=t.curves,i=r.styles,s=0,o=r.textNodes,y.label=1;case 1:return s<o.length?(a=o[s],[4,this.renderTextNode(a,i)]):[3,4];case 2:y.sent(),y.label=3;case 3:return s++,[3,1];case 4:if(!(r instanceof gf))return[3,8];y.label=5;case 5:return y.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return F=y.sent(),this.renderReplacedElement(r,n,F),[3,8];case 7:return y.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof Bf&&this.renderReplacedElement(r,n,r.canvas),!(r instanceof hf))return[3,12];y.label=9;case 9:return y.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return F=y.sent(),this.renderReplacedElement(r,n,F),[3,12];case 11:return y.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof Qf&&r.tree?(l=new A(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,l.render(r.tree)]):[3,14];case 13:c=y.sent(),r.width&&r.height&&this.ctx.drawImage(c,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),y.label=14;case 14:if(r instanceof To&&(g=Math.min(r.bounds.width,r.bounds.height),r.type===Yi?r.checked&&(this.ctx.save(),this.path([new lA(r.bounds.left+g*.39363,r.bounds.top+g*.79),new lA(r.bounds.left+g*.16,r.bounds.top+g*.5549),new lA(r.bounds.left+g*.27347,r.bounds.top+g*.44071),new lA(r.bounds.left+g*.39694,r.bounds.top+g*.5649),new lA(r.bounds.left+g*.72983,r.bounds.top+g*.23),new lA(r.bounds.left+g*.84,r.bounds.top+g*.34085),new lA(r.bounds.left+g*.39363,r.bounds.top+g*.79)]),this.ctx.fillStyle=Ie(wf),this.ctx.fill(),this.ctx.restore()):r.type===zi&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+g/2,r.bounds.top+g/2,g/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ie(wf),this.ctx.fill(),this.ctx.restore())),gy(r)&&r.value.length){switch(u=this.createFontStyle(i),Q=u[0],f=u[1],h=this.fontMetrics.getMetrics(Q,f).baseline,this.ctx.font=Q,this.ctx.fillStyle=Ie(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=hy(r.styles.textAlign),C=is(r),B=0,r.styles.textAlign){case 1:B+=C.width/2;break;case 2:B+=C.width;break}w=C.add(B,0,0,-C.height/2+1),this.ctx.save(),this.path([new lA(C.left,C.top),new lA(C.left+C.width,C.top),new lA(C.left+C.width,C.top+C.height),new lA(C.left,C.top+C.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new gn(r.value,w),i.letterSpacing,h),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!He(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(d=r.styles.listStyleImage,d.type!==0)return[3,18];F=void 0,b=d.url,y.label=15;case 15:return y.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return F=y.sent(),this.ctx.drawImage(F,r.bounds.left-(F.width+10),r.bounds.top),[3,18];case 17:return y.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(Q=this.createFontStyle(i)[0],this.ctx.font=Q,this.ctx.fillStyle=Ie(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",C=new yt(r.bounds.left,r.bounds.top+de(r.styles.paddingTop,r.bounds.width),r.bounds.width,Wu(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new gn(t.listValue,C),i.letterSpacing,Wu(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),y.label=20;case 20:return[2]}})})},A.prototype.renderStackContent=function(t){return Ge(this,void 0,void 0,function(){var r,n,d,i,s,d,o,a,d,l,c,d,g,u,d,f,h,d,B,w,d;return De(this,function(F){switch(F.label){case 0:if(He(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:F.sent(),r=0,n=t.negativeZIndex,F.label=2;case 2:return r<n.length?(d=n[r],[4,this.renderStack(d)]):[3,5];case 3:F.sent(),F.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:F.sent(),i=0,s=t.nonInlineLevel,F.label=7;case 7:return i<s.length?(d=s[i],[4,this.renderNode(d)]):[3,10];case 8:F.sent(),F.label=9;case 9:return i++,[3,7];case 10:o=0,a=t.nonPositionedFloats,F.label=11;case 11:return o<a.length?(d=a[o],[4,this.renderStack(d)]):[3,14];case 12:F.sent(),F.label=13;case 13:return o++,[3,11];case 14:l=0,c=t.nonPositionedInlineLevel,F.label=15;case 15:return l<c.length?(d=c[l],[4,this.renderStack(d)]):[3,18];case 16:F.sent(),F.label=17;case 17:return l++,[3,15];case 18:g=0,u=t.inlineLevel,F.label=19;case 19:return g<u.length?(d=u[g],[4,this.renderNode(d)]):[3,22];case 20:F.sent(),F.label=21;case 21:return g++,[3,19];case 22:f=0,h=t.zeroOrAutoZIndexOrTransformedOrOpacity,F.label=23;case 23:return f<h.length?(d=h[f],[4,this.renderStack(d)]):[3,26];case 24:F.sent(),F.label=25;case 25:return f++,[3,23];case 26:B=0,w=t.positiveZIndex,F.label=27;case 27:return B<w.length?(d=w[B],[4,this.renderStack(d)]):[3,30];case 28:F.sent(),F.label=29;case 29:return B++,[3,27];case 30:return[2]}})})},A.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},A.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},A.prototype.formatPath=function(t){var r=this;t.forEach(function(n,i){var s=tt(n)?n.start:n;i===0?r.ctx.moveTo(s.x,s.y):r.ctx.lineTo(s.x,s.y),tt(n)&&r.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},A.prototype.renderRepeat=function(t,r,n,i){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},A.prototype.resizeImage=function(t,r,n){var i;if(t.width===r&&t.height===n)return t;var s=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=s.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,n);var a=o.getContext("2d");return a.drawImage(t,0,0,t.width,t.height,0,0,r,n),o},A.prototype.renderBackgroundImage=function(t){return Ge(this,void 0,void 0,function(){var r,n,i,s,o,a;return De(this,function(l){switch(l.label){case 0:r=t.styles.backgroundImage.length-1,n=function(c){var g,u,f,k,K,$,R,I,U,h,k,K,$,R,I,B,w,d,F,b,Q,C,y,E,U,H,k,x,M,R,I,G,K,$,N,X,P,nA,fA,pA,xA,DA;return De(this,function(HA){switch(HA.label){case 0:if(c.type!==0)return[3,5];g=void 0,u=c.url,HA.label=1;case 1:return HA.trys.push([1,3,,4]),[4,i.context.cache.match(u)];case 2:return g=HA.sent(),[3,4];case 3:return HA.sent(),i.context.logger.error("Error loading background-image "+u),[3,4];case 4:return g&&(f=zo(t,r,[g.width,g.height,g.width/g.height]),k=f[0],K=f[1],$=f[2],R=f[3],I=f[4],U=i.ctx.createPattern(i.resizeImage(g,R,I),"repeat"),i.renderRepeat(k,U,K,$)),[3,6];case 5:jv(c)?(h=zo(t,r,[null,null,null]),k=h[0],K=h[1],$=h[2],R=h[3],I=h[4],B=Wv(c.angle,R,I),w=B[0],d=B[1],F=B[2],b=B[3],Q=B[4],C=document.createElement("canvas"),C.width=R,C.height=I,y=C.getContext("2d"),E=y.createLinearGradient(d,b,F,Q),Mu(c.stops,w).forEach(function(vA){return E.addColorStop(vA.stop,Ie(vA.color))}),y.fillStyle=E,y.fillRect(0,0,R,I),R>0&&I>0&&(U=i.ctx.createPattern(C,"repeat"),i.renderRepeat(k,U,K,$))):qv(c)&&(H=zo(t,r,[null,null,null]),k=H[0],x=H[1],M=H[2],R=H[3],I=H[4],G=c.position.length===0?[Co]:c.position,K=de(G[0],R),$=de(G[G.length-1],I),N=Yv(c,K,$,R,I),X=N[0],P=N[1],X>0&&P>0&&(nA=i.ctx.createRadialGradient(x+K,M+$,0,x+K,M+$,X),Mu(c.stops,X*2).forEach(function(vA){return nA.addColorStop(vA.stop,Ie(vA.color))}),i.path(k),i.ctx.fillStyle=nA,X!==P?(fA=t.bounds.left+.5*t.bounds.width,pA=t.bounds.top+.5*t.bounds.height,xA=P/X,DA=1/xA,i.ctx.save(),i.ctx.translate(fA,pA),i.ctx.transform(1,0,0,xA,0,0),i.ctx.translate(-fA,-pA),i.ctx.fillRect(x,DA*(M-pA)+pA,R,I*DA),i.ctx.restore()):i.ctx.fill())),HA.label=6;case 6:return r--,[2]}})},i=this,s=0,o=t.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return s<o.length?(a=o[s],[5,n(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},A.prototype.renderSolidBorder=function(t,r,n){return Ge(this,void 0,void 0,function(){return De(this,function(i){return this.path(Jf(n,r)),this.ctx.fillStyle=Ie(t),this.ctx.fill(),[2]})})},A.prototype.renderDoubleBorder=function(t,r,n,i){return Ge(this,void 0,void 0,function(){var s,o;return De(this,function(a){switch(a.label){case 0:return r<3?[4,this.renderSolidBorder(t,n,i)]:[3,2];case 1:return a.sent(),[2];case 2:return s=ty(i,n),this.path(s),this.ctx.fillStyle=Ie(t),this.ctx.fill(),o=ry(i,n),this.path(o),this.ctx.fill(),[2]}})})},A.prototype.renderNodeBackgroundAndBorders=function(t){return Ge(this,void 0,void 0,function(){var r,n,i,s,o,a,l,c,g=this;return De(this,function(u){switch(u.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,n=!Rt(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],s=By(Hr(r.backgroundClip,0),t.curves),n||r.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),Rt(r.backgroundColor)||(this.ctx.fillStyle=Ie(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:u.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(f){g.ctx.save();var h=es(t.curves),B=f.inset?0:uy,w=Ay(h,-B+(f.inset?1:-1)*f.spread.number,(f.inset?1:-1)*f.spread.number,f.spread.number*(f.inset?-2:2),f.spread.number*(f.inset?-2:2));f.inset?(g.path(h),g.ctx.clip(),g.mask(w)):(g.mask(h),g.ctx.clip(),g.path(w)),g.ctx.shadowOffsetX=f.offsetX.number+B,g.ctx.shadowOffsetY=f.offsetY.number,g.ctx.shadowColor=Ie(f.color),g.ctx.shadowBlur=f.blur.number,g.ctx.fillStyle=f.inset?Ie(f.color):"rgba(0,0,0,1)",g.ctx.fill(),g.ctx.restore()}),u.label=2;case 2:o=0,a=0,l=i,u.label=3;case 3:return a<l.length?(c=l[a],c.style!==0&&!Rt(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return u.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,3)];case 6:return u.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,t.curves)];case 8:return u.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,t.curves)];case 10:u.sent(),u.label=11;case 11:o++,u.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},A.prototype.renderDashedDottedBorder=function(t,r,n,i,s){return Ge(this,void 0,void 0,function(){var o,a,l,c,g,u,f,h,B,w,d,F,b,Q,C,y,C,y;return De(this,function(E){return this.ctx.save(),o=ny(i,n),a=Jf(i,n),s===2&&(this.path(a),this.ctx.clip()),tt(a[0])?(l=a[0].start.x,c=a[0].start.y):(l=a[0].x,c=a[0].y),tt(a[1])?(g=a[1].end.x,u=a[1].end.y):(g=a[1].x,u=a[1].y),n===0||n===2?f=Math.abs(l-g):f=Math.abs(c-u),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(a.slice(0,2)),h=r<3?r*3:r*2,B=r<3?r*2:r,s===3&&(h=r,B=r),w=!0,f<=h*2?w=!1:f<=h*2+B?(d=f/(2*h+B),h*=d,B*=d):(F=Math.floor((f+B)/(h+B)),b=(f-F*h)/(F-1),Q=(f-(F+1)*h)/F,B=Q<=0||Math.abs(B-b)<Math.abs(B-Q)?b:Q),w&&(s===3?this.ctx.setLineDash([0,h+B]):this.ctx.setLineDash([h,B])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=Ie(t),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(tt(a[0])&&(C=a[3],y=a[0],this.ctx.beginPath(),this.formatPath([new lA(C.end.x,C.end.y),new lA(y.start.x,y.start.y)]),this.ctx.stroke()),tt(a[1])&&(C=a[1],y=a[2],this.ctx.beginPath(),this.formatPath([new lA(C.end.x,C.end.y),new lA(y.start.x,y.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},A.prototype.render=function(t){return Ge(this,void 0,void 0,function(){var r;return De(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ie(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=ey(t),[4,this.renderStack(r)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},A}(zf),gy=function(e){return e instanceof mf||e instanceof pf?!0:e instanceof To&&e.type!==zi&&e.type!==Yi},By=function(e,A){switch(e){case 0:return es(A);case 2:return zF(A);case 1:default:return ts(A)}},hy=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},dy=["-apple-system","system-ui"],wy=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(A){return dy.indexOf(A)===-1}):e},py=function(e){lt(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=r,n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),n}return A.prototype.render=function(t){return Ge(this,void 0,void 0,function(){var r,n;return De(this,function(i){switch(i.label){case 0:return r=Ko(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,my(r)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ie(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},A}(zf),my=function(e){return new Promise(function(A,t){var r=new Image;r.onload=function(){A(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Qy=function(){function e(A){var t=A.id,r=A.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Bi([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Bi([this.id,this.getTime()+"ms"],A))},e.prototype.warn=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Bi([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},e.prototype.error=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Bi([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},e.instances={},e}(),Cy=function(){function e(A,t){var r;this.windowBounds=t,this.instanceName="#"+e.instanceCount++,this.logger=new Qy({id:this.instanceName,enabled:A.logging}),this.cache=(r=A.cache)!==null&&r!==void 0?r:new RF(this,A)}return e.instanceCount=1,e}(),vy=function(e,A){return A===void 0&&(A={}),Uy(e,A)};typeof window<"u"&&Nf.setContext(window);var Uy=function(e,A){return Ge(void 0,void 0,void 0,function(){var t,r,n,i,s,o,a,l,c,g,u,f,h,B,w,d,F,b,Q,C,E,y,E,U,H,k,x,M,R,I,G,K,$,N,X,P,nA,fA,pA,xA;return De(this,function(DA){switch(DA.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=e.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return n={allowTaint:(U=A.allowTaint)!==null&&U!==void 0?U:!1,imageTimeout:(H=A.imageTimeout)!==null&&H!==void 0?H:15e3,proxy:A.proxy,useCORS:(k=A.useCORS)!==null&&k!==void 0?k:!1},i=qs({logging:(x=A.logging)!==null&&x!==void 0?x:!0,cache:A.cache},n),s={windowWidth:(M=A.windowWidth)!==null&&M!==void 0?M:r.innerWidth,windowHeight:(R=A.windowHeight)!==null&&R!==void 0?R:r.innerHeight,scrollX:(I=A.scrollX)!==null&&I!==void 0?I:r.pageXOffset,scrollY:(G=A.scrollY)!==null&&G!==void 0?G:r.pageYOffset},o=new yt(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),a=new Cy(i,o),l=(K=A.foreignObjectRendering)!==null&&K!==void 0?K:!1,c={allowTaint:($=A.allowTaint)!==null&&$!==void 0?$:!1,onclone:A.onclone,ignoreElements:A.ignoreElements,inlineImages:l,copyStyles:l},a.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),g=new Tf(a,e,c),u=g.clonedReferenceElement,u?[4,g.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return f=DA.sent(),h=No(u)||FF(u)?AC(u.ownerDocument):hi(a,u),B=h.width,w=h.height,d=h.left,F=h.top,b=Fy(a,u,A.backgroundColor),Q={canvas:A.canvas,backgroundColor:b,scale:(X=(N=A.scale)!==null&&N!==void 0?N:r.devicePixelRatio)!==null&&X!==void 0?X:1,x:((P=A.x)!==null&&P!==void 0?P:0)+d,y:((nA=A.y)!==null&&nA!==void 0?nA:0)+F,width:(fA=A.width)!==null&&fA!==void 0?fA:Math.ceil(B),height:(pA=A.height)!==null&&pA!==void 0?pA:Math.ceil(w)},l?(a.logger.debug("Document cloned, using foreign object rendering"),E=new py(a,Q),[4,E.render(u)]):[3,3];case 2:return C=DA.sent(),[3,5];case 3:return a.logger.debug("Document cloned, element located at "+d+","+F+" with size "+B+"x"+w+" using computed rendering"),a.logger.debug("Starting DOM parsing"),y=vf(a,u),b===y.styles.backgroundColor&&(y.styles.backgroundColor=bt.TRANSPARENT),a.logger.debug("Starting renderer for element at "+Q.x+","+Q.y+" with size "+Q.width+"x"+Q.height),E=new fy(a,Q),[4,E.render(y)];case 4:C=DA.sent(),DA.label=5;case 5:return(!((xA=A.removeContainer)!==null&&xA!==void 0)||xA)&&(Tf.destroy(f)||a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),a.logger.debug("Finished rendering"),[2,C]}})})},Fy=function(e,A,t){var r=A.ownerDocument,n=r.documentElement?cn(e,getComputedStyle(r.documentElement).backgroundColor):bt.TRANSPARENT,i=r.body?cn(e,getComputedStyle(r.body).backgroundColor):bt.TRANSPARENT,s=typeof t=="string"?cn(e,t):t===null?bt.TRANSPARENT:4294967295;return A===r.documentElement?Rt(n)?Rt(i)?s:i:n:s};function yy(e){let A,t,r,n;return{c(){A=v("button"),t=v("span"),t.innerHTML='<i class="fas fa-download"></i>',m(t,"class","icon is-small p-0"),m(A,"class","tag is-link"),m(A,"title",rA==="en"?"Download as PNG":"Télécharger en PNG")},m(i,s){T(i,A,s),p(A,t),r||(n=QA(A,"click",e[0]),r=!0)},p:sA,i:sA,o:sA,d(i){i&&D(A),r=!1,n()}}}function _y(e){for(;e&&e!==document.body;){const A=getComputedStyle(e);if(/(auto|scroll|hidden)/.test(A.overflow+A.overflowX+A.overflowY))return e;e=e.parentElement}return null}function by(e,A,t){let{targetId:r}=A,{filename:n="export.png"}=A;async function i(){await hs(async()=>{const s=document.getElementById(r);if(!s)return;const o=_y(s),a=o?{overflow:o.style.overflow,maxHeight:o.style.maxHeight,height:o.style.height}:null;try{o&&(o.style.overflow="visible",o.style.maxHeight="none",o.style.height="auto");const l=await vy(s,{backgroundColor:null,scale:2,logging:!1,useCORS:!0,scrollX:0,scrollY:0}),c=document.createElement("a");c.download=n,c.href=l.toDataURL("image/png"),c.click()}catch(l){await Ct(`Error generating PNG: ${l}`,rA==="en"?"Error":"Erreur")}finally{o&&a&&(o.style.overflow=a.overflow,o.style.maxHeight=a.maxHeight,o.style.height=a.height)}})}return e.$$set=s=>{"targetId"in s&&t(1,r=s.targetId),"filename"in s&&t(2,n=s.filename)},[i,r,n]}class $f extends oe{constructor(A){super(),se(this,A,by,yy,Ae,{targetId:1,filename:2})}}const Lb="",{Map:Ey}=ra;function Zf(e,A,t){const r=e.slice();return r[62]=A[t],r[64]=t,r}function jf(e,A,t){const r=e.slice();return r[62]=A[t],r[66]=t,r}function qf(e,A,t){const r=e.slice();return r[67]=A[t],r}function Ag(e,A,t){const r=e.slice();return r[70]=A[t],r}function Hy(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,h,B,w,d,F=e[23]("normalize")+"",b,Q,C,y,E,U,H,k,x,M,R,I,G,K,$,N,X,P,nA,fA,pA,xA;o=new $f({props:{targetId:"matrix-viz",filename:"document-matrix.png"}});let DA=["col","row"],HA=[];for(let q=0;q<2;q+=1)HA[q]=tg(qf(e,DA,q));let vA=e[2]&&rg(e);function Z(q,AA){return q[2]?xy:Sy}let oA=Z(e),J=oA(e);return{c(){A=v("div"),t=v("div"),r=v("div"),n=v("h4"),n.textContent=`${e[23]("title")}`,i=O(),s=v("div"),SA(o.$$.fragment),a=O(),l=v("div"),c=v("div"),g=v("select"),u=v("option"),u.textContent=`${e[23]("byName")}`,f=v("option"),f.textContent=`${e[23]("byScore")}`,h=O(),B=v("label"),w=v("input"),d=O(),b=aA(F),Q=O(),C=v("div"),y=v("div"),E=v("div"),U=O();for(let q=0;q<2;q+=1)HA[q].c();H=O(),k=v("div"),x=O(),M=v("div"),R=O(),I=v("div"),G=v("div"),K=v("div"),$=v("h4"),$.textContent=`${e[23]("pageByPage")}`,N=O(),X=v("div"),vA&&vA.c(),P=O(),nA=v("div"),J.c(),m(n,"class","title is-6 mb-0"),u.__value="name",u.value=u.__value,f.__value="score",f.value=f.__value,e[3]===void 0&&nt(()=>e[37].call(g)),m(c,"class","select is-small"),m(l,"class","control"),m(w,"type","checkbox"),w.checked=e[9],m(B,"title",e[23]("normalization")),m(B,"class","checkbox is-size-7"),m(s,"class","is-flex is-align-items-center"),VA(s,"gap","0.5rem"),m(r,"class","is-flex is-justify-content-space-between is-align-items-center mb-3"),VA(r,"flex-wrap","wrap"),VA(r,"gap","0.5rem"),m(E,"class","matrix-corner svelte-2hfx3t"),m(k,"class","matrix-canvas svelte-2hfx3t"),m(y,"id","matrix-viz"),m(y,"class","matrix-grid svelte-2hfx3t"),VA(y,"--cell-size",lg+"px"),m(C,"class","scroll-area svelte-2hfx3t"),m(t,"class","box panel-box svelte-2hfx3t"),m(A,"class","split-panel svelte-2hfx3t"),VA(A,"width",e[14]+"px"),m(M,"class","split-divider svelte-2hfx3t"),m(M,"role","separator"),m(M,"tabindex","0"),m($,"class","title is-6 mb-0"),m(X,"class","is-flex is-align-items-center"),VA(X,"gap","0.5rem"),m(K,"class","is-flex is-justify-content-space-between is-align-items-center mb-3"),VA(K,"flex-wrap","wrap"),VA(K,"gap","0.5rem"),m(nA,"class","scroll-area svelte-2hfx3t"),m(G,"class","box panel-box svelte-2hfx3t"),m(I,"class","split-panel svelte-2hfx3t"),VA(I,"width",e[13]+"px")},m(q,AA){T(q,A,AA),p(A,t),p(t,r),p(r,n),p(r,i),p(r,s),bA(o,s,null),p(s,a),p(s,l),p(l,c),p(c,g),p(g,u),p(g,f),xt(g,e[3],!0),p(s,h),p(s,B),p(B,w),p(B,d),p(B,b),p(t,Q),p(t,C),p(C,y),p(y,E),p(y,U);for(let gA=0;gA<2;gA+=1)HA[gA]&&HA[gA].m(y,null);p(y,H),p(y,k),e[39](k),T(q,x,AA),T(q,M,AA),T(q,R,AA),T(q,I,AA),p(I,G),p(G,K),p(K,$),p(K,N),p(K,X),vA&&vA.m(X,null),p(G,P),p(G,nA),J.m(nA,null),fA=!0,pA||(xA=[QA(g,"change",e[37]),QA(w,"change",e[38]),QA(M,"mousedown",e[25]),QA(M,"touchstart",e[25])],pA=!0)},p(q,AA){if(AA[0]&8&&xt(g,q[3]),(!fA||AA[0]&512)&&(w.checked=q[9]),AA[0]&64){DA=["col","row"];let gA;for(gA=0;gA<2;gA+=1){const LA=qf(q,DA,gA);HA[gA]?HA[gA].p(LA,AA):(HA[gA]=tg(LA),HA[gA].c(),HA[gA].m(y,H))}for(;gA<2;gA+=1)HA[gA].d(1)}(!fA||AA[0]&16384)&&VA(A,"width",q[14]+"px"),q[2]?vA?(vA.p(q,AA),AA[0]&4&&V(vA,1)):(vA=rg(q),vA.c(),V(vA,1),vA.m(X,null)):vA&&(ne(),Y(vA,1,1,()=>{vA=null}),ie()),oA===(oA=Z(q))&&J?J.p(q,AA):(J.d(1),J=oA(q),J&&(J.c(),J.m(nA,null))),(!fA||AA[0]&8192)&&VA(I,"width",q[13]+"px")},i(q){fA||(V(o.$$.fragment,q),V(vA),fA=!0)},o(q){Y(o.$$.fragment,q),Y(vA),fA=!1},d(q){q&&D(A),EA(o),xe(HA,q),e[39](null),q&&D(x),q&&D(M),q&&D(R),q&&D(I),vA&&vA.d(),J.d(),pA=!1,Fe(xA)}}}function Iy(e){let A;return{c(){A=v("div"),A.textContent=`${e[23]("noDocuments")}`,m(A,"class","notification is-info"),VA(A,"width","100%")},m(t,r){T(t,A,r)},p:sA,i:sA,o:sA,d(t){t&&D(A)}}}function eg(e,A){let t,r,n;return{key:e,first:null,c(){t=v("div"),r=v("span"),m(r,"class","color-dot svelte-2hfx3t"),VA(r,"background-color",A[70].color),m(r,"title",n=A[70].title+" "+xn.Witness+" #"+A[70].witnessId),m(t,"class","header-cell svelte-2hfx3t"),this.first=t},m(i,s){T(i,t,s),p(t,r)},p(i,s){A=i,s[0]&64&&VA(r,"background-color",A[70].color),s[0]&64&&n!==(n=A[70].title+" "+xn.Witness+" #"+A[70].witnessId)&&m(r,"title",n)},d(i){i&&D(t)}}}function tg(e){let A,t=[],r=new Ey,n=e[6].docs;const i=s=>s[70].id;for(let s=0;s<n.length;s+=1){let o=Ag(e,n,s),a=i(o);r.set(a,t[s]=eg(a,o))}return{c(){A=v("div");for(let s=0;s<t.length;s+=1)t[s].c();m(A,"class",e[67]+"-headers svelte-2hfx3t")},m(s,o){T(s,A,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(A,null)},p(s,o){o[0]&64&&(n=s[6].docs,t=En(t,o,i,1,s,n,r,A,ca,eg,null,Ag))},d(s){s&&D(A);for(let o=0;o<t.length;o+=1)t[o].d()}}}function rg(e){let A,t,r,n,i,s,o,a,l,c;return A=new $f({props:{targetId:"scatter-viz",filename:"document-comparison.png"}}),{c(){SA(A.$$.fragment),t=O(),r=v("div"),n=v("div"),i=v("select"),s=v("option"),s.textContent=`${e[23]("byPage")}`,o=v("option"),o.textContent=`${e[23]("byImage")}`,s.__value="page",s.value=s.__value,o.__value="image",o.value=o.__value,e[4]===void 0&&nt(()=>e[40].call(i)),m(n,"class","select is-small"),m(r,"class","control")},m(g,u){bA(A,g,u),T(g,t,u),T(g,r,u),p(r,n),p(n,i),p(i,s),p(i,o),xt(i,e[4],!0),a=!0,l||(c=QA(i,"change",e[40]),l=!0)},p(g,u){u[0]&16&&xt(i,g[4])},i(g){a||(V(A.$$.fragment,g),a=!0)},o(g){Y(A.$$.fragment,g),a=!1},d(g){EA(A,g),g&&D(t),g&&D(r),l=!1,c()}}}function Sy(e){let A;return{c(){A=v("p"),A.textContent=`${e[23]("selectCell")}`,m(A,"class","has-text-grey is-size-7")},m(t,r){T(t,A,r)},p:sA,d(t){t&&D(A)}}}function xy(e){let A;return{c(){A=v("div"),m(A,"id","scatter-viz"),m(A,"class","scatter-container svelte-2hfx3t")},m(t,r){T(t,A,r),e[41](A)},p:sA,d(t){t&&D(A),e[41](null)}}}function ng(e){let A,t,r,n,i,s,o,a,l=e[12].items,c=[];for(let B=0;B<l.length;B+=1)c[B]=ig(jf(e,l,B));let g=e[12].score!==void 0&&sg(e),u=e[12].items,f=[];for(let B=0;B<u.length;B+=1)f[B]=og(Zf(e,u,B));const h=B=>Y(f[B],1,1,()=>{f[B]=null});return{c(){A=v("table"),t=v("thead"),r=v("tr");for(let B=0;B<c.length;B+=1)c[B].c();n=O(),i=v("tbody"),g&&g.c(),s=O(),o=v("tr");for(let B=0;B<f.length;B+=1)f[B].c();m(A,"class","table is-fullwidth p-3 has-text-centered")},m(B,w){T(B,A,w),p(A,t),p(t,r);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(r,null);p(A,n),p(A,i),g&&g.m(i,null),p(i,s),p(i,o);for(let d=0;d<f.length;d+=1)f[d]&&f[d].m(o,null);a=!0},p(B,w){if(w[0]&4096){l=B[12].items;let d;for(d=0;d<l.length;d+=1){const F=jf(B,l,d);c[d]?c[d].p(F,w):(c[d]=ig(F),c[d].c(),c[d].m(r,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=l.length}if(B[12].score!==void 0?g?g.p(B,w):(g=sg(B),g.c(),g.m(i,s)):g&&(g.d(1),g=null),w[0]&16781344){u=B[12].items;let d;for(d=0;d<u.length;d+=1){const F=Zf(B,u,d);f[d]?(f[d].p(F,w),V(f[d],1)):(f[d]=og(F),f[d].c(),V(f[d],1),f[d].m(o,null))}for(ne(),d=u.length;d<f.length;d+=1)h(d);ie()}},i(B){if(!a){for(let w=0;w<u.length;w+=1)V(f[w]);a=!0}},o(B){f=f.filter(Boolean);for(let w=0;w<f.length;w+=1)Y(f[w]);a=!1},d(B){B&&D(A),xe(c,B),g&&g.d(),xe(f,B)}}}function ig(e){let A,t,r,n,i,s=e[62].doc.title+"",o,a,l,c=e[62].label+"",g,u;return{c(){A=v("th"),t=v("span"),r=aA("●"),n=O(),i=v("strong"),o=aA(s),a=O(),l=v("p"),g=aA(c),u=O(),VA(t,"color",e[62].doc.color),m(l,"class","is-size-7 has-text-grey mt-2"),m(A,"class","doc-title svelte-2hfx3t")},m(f,h){T(f,A,h),p(A,t),p(t,r),p(A,n),p(A,i),p(i,o),p(A,a),p(A,l),p(l,g),p(A,u)},p(f,h){h[0]&4096&&VA(t,"color",f[62].doc.color),h[0]&4096&&s!==(s=f[62].doc.title+"")&&RA(o,s),h[0]&4096&&c!==(c=f[62].label+"")&&RA(g,c)},d(f){f&&D(A)}}}function sg(e){let A,t,r,n=e[23]("score")+"",i,s,o=e[12].score.toFixed(2)+"",a;return{c(){A=v("tr"),t=v("td"),r=v("span"),i=aA(n),s=O(),a=aA(o),m(r,"class","tag is-small is-link is-bold"),m(t,"colspan","2"),m(t,"class","has-text-centered")},m(l,c){T(l,A,c),p(A,t),p(t,r),p(r,i),p(r,s),p(r,a)},p(l,c){c[0]&4096&&o!==(o=l[12].score.toFixed(2)+"")&&RA(a,o)},d(l){l&&D(A)}}}function og(e){let A,t,r,n,i,s,o,a,l,c,g,u;return r=new gi({props:{direction:e[64]!==0?"up":"left",delta:-1,axis:e[64]!==0?"vertical":"horizontal",navigationFct:e[24]}}),c=new gi({props:{direction:e[64]!==0?"down":"right",delta:1,axis:e[64]!==0?"vertical":"horizontal",navigationFct:e[24]}}),{c(){var f;A=v("td"),t=v("div"),SA(r.$$.fragment),n=O(),i=v("figure"),s=v("img"),l=O(),SA(c.$$.fragment),g=O(),ut(s.src,o=e[62].imgUrl)||m(s,"src",o),m(s,"alt",a=(((f=e[5])==null?void 0:f.mode)==="image"?"Image":"Page")+" "+e[62].label),m(s,"class","img-preview svelte-2hfx3t"),m(i,"class","image"),m(t,"class","image-nav-container svelte-2hfx3t"),m(A,"class","modal-cell svelte-2hfx3t")},m(f,h){T(f,A,h),p(A,t),bA(r,t,null),p(t,n),p(t,i),p(i,s),p(t,l),bA(c,t,null),p(A,g),u=!0},p(f,h){var B;(!u||h[0]&4096&&!ut(s.src,o=f[62].imgUrl))&&m(s,"src",o),(!u||h[0]&4128&&a!==(a=(((B=f[5])==null?void 0:B.mode)==="image"?"Image":"Page")+" "+f[62].label))&&m(s,"alt",a)},i(f){u||(V(r.$$.fragment,f),V(c.$$.fragment,f),u=!0)},o(f){Y(r.$$.fragment,f),Y(c.$$.fragment,f),u=!1},d(f){f&&D(A),EA(r),EA(c)}}}function Ly(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,h,B,w,d,F,b,Q,C,y,E;const U=[Iy,Hy],H=[];function k(M,R){return M[7].length?1:0}g=k(e),u=H[g]=U[g](e);let x=e[12]&&ng(e);return{c(){A=v("div"),t=v("label"),t.textContent=`${e[23]("filtering")}`,r=O(),n=v("div"),i=v("div"),s=v("select"),o=v("option"),o.textContent=`${e[23]("allPairs")}`,a=v("option"),a.textContent=`${e[23]("filteredPairs")}`,l=O(),c=v("div"),u.c(),f=O(),h=v("div"),B=v("div"),w=O(),d=v("div"),F=v("div"),x&&x.c(),b=O(),Q=v("button"),m(t,"class","label is-small"),m(t,"for","matrix-mode"),o.__value="all",o.value=o.__value,a.__value="filtered",a.value=a.__value,m(s,"id","matrix-mode"),e[8]===void 0&&nt(()=>e[36].call(s)),m(i,"class","select is-small is-fullwidth"),m(n,"class","control"),m(A,"class","field mb-4"),m(c,"class","split-container svelte-2hfx3t"),m(B,"class","modal-background"),m(F,"class","box p-5"),m(d,"class","modal-content"),VA(d,"width","auto"),VA(d,"max-width","70vw"),m(Q,"class","modal-close is-large"),m(Q,"aria-label","close"),m(h,"id","matrix-page-modal"),m(h,"class","modal")},m(M,R){T(M,A,R),p(A,t),p(A,r),p(A,n),p(n,i),p(i,s),p(s,o),p(s,a),xt(s,e[8],!0),T(M,l,R),T(M,c,R),H[g].m(c,null),e[42](c),T(M,f,R),T(M,h,R),p(h,B),p(h,w),p(h,d),p(d,F),x&&x.m(F,null),p(h,b),p(h,Q),e[43](h),C=!0,y||(E=[QA(s,"change",e[36]),Ir(ds.call(null,h))],y=!0)},p(M,R){R[0]&256&&xt(s,M[8]);let I=g;g=k(M),g===I?H[g].p(M,R):(ne(),Y(H[I],1,1,()=>{H[I]=null}),ie(),u=H[g],u?u.p(M,R):(u=H[g]=U[g](M),u.c()),V(u,1),u.m(c,null)),M[12]?x?(x.p(M,R),R[0]&4096&&V(x,1)):(x=ng(M),x.c(),V(x,1),x.m(F,null)):x&&(ne(),Y(x,1,1,()=>{x=null}),ie())},i(M){C||(V(u),V(x),C=!0)},o(M){Y(u),Y(x),C=!1},d(M){M&&D(A),M&&D(l),M&&D(c),H[g].d(),e[42](null),M&&D(f),M&&D(h),x&&x.d(),e[43](null),y=!1,Fe(E)}}}const ag=300,lg=30,fe=5;function ky(e){if(e.mode==="image")return{max1:e.images1.length,max2:e.images2.length};const A=Math.max(...e.points.map(r=>r.page1)),t=Math.max(...e.points.map(r=>r.page2));return{max1:A,max2:t}}function Ky(e,A,t){const r=new Map;let n=1/0,i=-1/0;for(const o of t){const[a,l,c]=o.regions_id_1===e.id?[o.page_1,o.page_2,o.weightedScore||0]:[o.page_2,o.page_1,o.weightedScore||0],g=`${a}-${l}`;r.has(g)||r.set(g,{page1:a,page2:l,scores:[]}),r.get(g).scores.push(c),c<n&&(n=c),c>i&&(i=c)}return{mode:"page",points:Array.from(r.values()).map(({page1:o,page2:a,scores:l})=>({page1:o,page2:a,score:l.reduce((c,g)=>c+g,0)/l.length,count:l.length})),minScore:n,maxScore:i,doc1:e,doc2:A}}function My(e,A,t){const r=e.images||[],n=A.images||[];if(!r.length||!n.length)return null;const i=new Map(r.map((c,g)=>[c.id,g])),s=new Map(n.map((c,g)=>[c.id,g])),o=new Map;let a=1/0,l=-1/0;return t.forEach(c=>{const[g,u,f]=c.regions_id_1===e.id?[c.id_1,c.id_2,c.weightedScore||0]:[c.id_2,c.id_1,c.weightedScore||0],h=i.get(g),B=s.get(u);if(h!==void 0&&B!==void 0){const w=`${h}-${B}`;o.set(w,{idx1:h,idx2:B,imgId1:g,imgId2:u,score:f}),f<a&&(a=f),f>l&&(l=f)}}),{mode:"image",images1:r,images2:n,pairScores:o,minScore:a,maxScore:l,doc1:e,doc2:A}}function cg(e){const A=[];let t=null,r=0;return e.forEach((n,i)=>{n.canvas!==t&&(t!==null&&A.push({start:r,end:i,page:t,count:i-r}),t=n.canvas,r=i)}),t!==null&&A.push({start:r,end:e.length,page:t,count:e.length-r}),A}function Dy(e,A,t){let r,n,i,s,o,a,l,c,g,u,f,h,B,w,d,{documentSetStore:F}=A;const{documentNodes:b,pairIndex:Q,activeDocPairStats:C,activeDocStats:y,imageCountMap:E,visiblePairIds:U,matrixMode:H,normalizeByImages:k}=F;MA(e,b,W=>t(35,d=W)),MA(e,Q,W=>t(46,c=W)),MA(e,C,W=>t(34,w=W)),MA(e,y,W=>t(33,B=W)),MA(e,E,W=>t(32,f=W)),MA(e,U,W=>t(31,g=W)),MA(e,H,W=>t(8,u=W)),MA(e,k,W=>t(9,h=W));const x={title:{en:"Document Matrix",fr:"Matrice de documents"},order:{en:"Order",fr:"Ordre"},byName:{en:"By title",fr:"Par titre"},byScore:{en:"By score",fr:"Par score"},noDocuments:{en:"No documents available",fr:"Aucun document disponible"},pageByPage:{en:"Page-by-page similarity",fr:"Similarité page par page"},page:{en:"page",fr:"page"},score:{en:"Score",fr:"Score"},noPairs:{en:"No pairs",fr:"Aucune paire"},selectCell:{en:"Click a cell to view page-by-page similarity",fr:"Cliquez sur une cellule pour voir la similarité page par page"},byPage:{en:"By page",fr:"Par page"},byImage:{en:"By image",fr:"Par image"},image:{en:"image",fr:"image"},normalize:{en:"Normalize",fr:"Normaliser"},normalization:{en:"Normalization by document image counts",fr:"Normalisation par le nombre d'images des documents"},allPairs:{en:"All pairs in the document set",fr:"Toutes les paires du corpus"},filteredPairs:{en:"Filtered pairs",fr:"Paires après filtrage"},filtering:{en:"Source of image pairs for the visualizations",fr:"Source des paires d’images pour les visualisations"}},M=W=>{var BA,dA;return((BA=x[W])==null?void 0:BA[rA])||((dA=x[W])==null?void 0:dA.en)||W};let R,I,G,K,$=null,N="name",X=.5,P=!1,nA=0,fA,pA=null,xA="page";function DA(W,BA){const dA="600,";return cr(`wit${W.witnessId}_${W.digitizationRef}_${String(BA).padStart(W.zeros,"0")}`,"full",dA)}function HA(W){var dA;const BA="600,";return cr(W.ref,(dA=W.xywh)==null?void 0:dA.join(","),BA)}function vA(W,BA,dA){var te,UA;if(!W||!BA||!dA)return null;const{doc1:le,doc2:$A}=BA;if(BA.mode==="image"){const mA=(te=BA.images1)==null?void 0:te[W.idx1],re=(UA=BA.images2)==null?void 0:UA[W.idx2];if(!mA||!re)return null;const WA=`${W.idx1}-${W.idx2}`,j=BA.pairScores.get(WA);return{items:[{doc:le,label:`Canvas ${mA.canvas} — Image #${W.idx1+1}`,imgUrl:HA(mA)},{doc:$A,label:`Canvas ${re.canvas} — Image #${W.idx2+1}`,imgUrl:HA(re)}],score:j==null?void 0:j.score}}const _A=W.idx1+1,me=W.idx2+1,CA=BA.points.find(mA=>mA.page1===_A&&mA.page2===me);return{items:[{doc:le,label:`Page ${_A}`,imgUrl:DA(le,_A)},{doc:$A,label:`Page ${me}`,imgUrl:DA($A,me)}],score:CA==null?void 0:CA.score}}function Z(W,BA){!pA||!i||(BA==="horizontal"?t(29,pA.idx1=(pA.idx1+W+a.max1)%a.max1,pA):t(29,pA.idx2=(pA.idx2+W+a.max2)%a.max2,pA),t(29,pA))}function oA(W){if(!pA||!(K!=null&&K.classList.contains("is-active")))return;const dA={ArrowUp:[-1,"vertical"],ArrowDown:[1,"vertical"],ArrowLeft:[-1,"horizontal"],ArrowRight:[1,"horizontal"]}[W.key];dA&&(W.preventDefault(),Z(dA[0],dA[1]))}function J(W,BA,dA,le,$A,_A){var re;if(!W.length)return{docs:[],matrix:[],maxScore:0};W.forEach((WA,j)=>{var hA;WA.index=j,WA.count=((hA=dA==null?void 0:dA.get(WA.id))==null?void 0:hA.count)||0});const CA={name:On(W.length).sort((WA,j)=>W[WA].title.localeCompare(W[j].title)),score:On(W.length).sort((WA,j)=>W[j].count-W[WA].count)}[le].map(WA=>W[WA]),te=CA.length,UA=[];let mA=0;for(let WA=0;WA<te;WA++){const j=[];for(let hA=0;hA<te;hA++)if(WA!==hA){const KA=CA[WA].id<CA[hA].id?`${CA[WA].id}-${CA[hA].id}`:`${CA[hA].id}-${CA[WA].id}`;let _=((re=BA==null?void 0:BA.get(KA))==null?void 0:re.score)||0;if($A&&_>0){const L=_A.get(CA[WA].id)||1,S=_A.get(CA[hA].id)||1;_/=Math.sqrt(L*S)}_>mA&&(mA=_),j.push({x:hA,y:WA,z:_,doc1:CA[WA],doc2:CA[hA]})}else j.push({x:hA,y:WA,z:0,diagonal:!0});UA.push(j)}return{docs:CA,matrix:UA,maxScore:mA}}function q(W,BA,dA,le){const{doc1:$A,doc2:_A}=W,me=$A.id<_A.id?`${$A.id}-${_A.id}`:`${_A.id}-${$A.id}`;let CA=c.byDocPair.get(me)||[];return dA&&le.size>0&&(CA=CA.filter(te=>le.has(`${te.id_1}-${te.id_2}`))),CA.length?BA==="image"?My($A,_A,CA):Ky($A,_A,CA):null}function AA(){if(!I||!n.docs.length)return;const{docs:W,matrix:BA,maxScore:dA}=n,le=W.length*lg;Qe(I).selectAll("*").remove();const $A=Qe(I).append("svg").attr("width",le).attr("height",le),_A=uc().range([0,le]).domain(On(W.length)).padding(.02),me=Qe("body").selectAll(".matrix-tooltip").data([0]).join("div").attr("class","matrix-tooltip").style("position","fixed").style("background","var(--bulma-scheme-main)").style("border","1px solid var(--bulma-border)").style("border-radius","4px").style("padding","8px").style("pointer-events","none").style("opacity",0).style("font-size","12px").style("box-shadow","0 2px 4px rgba(0,0,0,0.15)").style("z-index","9999").style("color","var(--bulma-text)");$A.selectAll(".row").data(BA).join("g").attr("class","row").attr("transform",(te,UA)=>`translate(0,${_A(UA)})`).each(function(te){Qe(this).selectAll(".cell").data(te.filter(UA=>!UA.diagonal)).join("rect").attr("class","cell").attr("x",UA=>_A(UA.x)).attr("width",_A.bandwidth()).attr("height",_A.bandwidth()).attr("fill",UA=>{if(UA.z===0)return"var(--bulma-text)";const mA=Yn(233,.951,.52);return mA.opacity=dA>0?.2+.8*(UA.z/dA):.2,mA}).attr("stroke",UA=>gA(UA)?"var(--bulma-text)":"var(--bulma-scheme-main)").attr("stroke-width",UA=>gA(UA)?2:.5).style("cursor","pointer").on("mouseover",function(UA,mA){gA(mA)||Qe(this).attr("stroke","var(--bulma-text)").attr("stroke-width",2),me.style("opacity",1)}).on("mousemove",function(UA,mA){const re=`<span style="color:${mA.doc1.color}">●</span> ${mA.doc1.title}<br/>↔<br/><span style="color:${mA.doc2.color}">●</span> ${mA.doc2.title}`,WA=mA.z===0?`${re}<br/><br/><em>${M("noPairs")}</em>`:`${re}<br/><br/>${M("score")}: ${mA.z.toFixed(2)}`;me.html(WA).style("left",UA.clientX+15+"px").style("top",UA.clientY+15+"px")}).on("mouseleave",function(UA,mA){gA(mA)||Qe(this).attr("stroke","var(--bulma-scheme-main)").attr("stroke-width",.5),me.style("opacity",0)}).on("click",(UA,mA)=>{t(2,$={row:mA.y,col:mA.x,doc1:mA.doc1,doc2:mA.doc2}),LA()})}),$A.selectAll(".row").selectAll(".cell-diagonal").data(te=>te.filter(UA=>UA.diagonal)).join("rect").attr("class","cell-diagonal").attr("x",te=>_A(te.x)).attr("width",_A.bandwidth()).attr("height",_A.bandwidth()).attr("fill","var(--contrasted)")}function gA(W){return $&&$.doc1.id===W.doc1.id&&$.doc2.id===W.doc2.id}function LA(){I&&Qe(I).selectAll(".cell").attr("stroke",W=>gA(W)?"var(--bulma-text)":"var(--bulma-scheme-main)").attr("stroke-width",W=>gA(W)?2:.5)}function TA(){!G||!i||(Qe(G).selectAll("*").remove(),i.mode==="image"?kA():OA())}function OA(){const{points:W,minScore:BA,maxScore:dA,doc1:le,doc2:$A}=i;if(!W.length)return;const _A={top:65,right:40,bottom:20,left:80},me=10,CA=Math.max(...W.map(iA=>iA.page1)),te=Math.max(...W.map(iA=>iA.page2)),UA=CA*fe,mA=te*fe,re=new Map(W.map(iA=>[`${iA.page1}-${iA.page2}`,iA])),WA=UA+_A.left+_A.right,j=mA+_A.top+_A.bottom,KA=Qe(G).append("svg").attr("width",WA).attr("height",j).append("g").attr("transform",`translate(${_A.left},${_A.top})`),_=Wr().domain([0,CA]).range([0,UA]),L=Wr().domain([0,te]).range([0,mA]),S=Qe("body").selectAll(".scatter-tooltip").data([0]).join("div").attr("class","scatter-tooltip").style("position","fixed").style("background","var(--bulma-scheme-main)").style("border","1px solid var(--bulma-border)").style("border-radius","4px").style("padding","6px 10px").style("pointer-events","none").style("opacity",0).style("font-size","11px").style("box-shadow","0 2px 4px rgba(0,0,0,0.15)").style("z-index","9999").style("color","var(--bulma-text)"),z=new Array(CA).fill(0),eA=new Array(te).fill(0);W.forEach(iA=>{z[iA.page1-1]++,eA[iA.page2-1]++});const tA=Math.max(...z),wA=Math.max(...eA),cA=KA.append("g").attr("transform",`translate(0,${-22-me})`);z.forEach((iA,yA)=>{iA!==0&&cA.append("rect").attr("x",yA*fe).attr("width",fe).attr("height",me).attr("fill",le.color).attr("opacity",.15+.85*(iA/tA)).style("cursor","default").on("mouseover",()=>S.style("opacity",1)).on("mousemove",IA=>{S.html(`<strong>${iA}</strong> image${iA>1?"s":""}<br/>${M("page")} ${yA+1}`).style("left",IA.clientX+10+"px").style("top",IA.clientY-30+"px")}).on("mouseleave",()=>S.style("opacity",0))});const jA=KA.append("g").attr("transform","translate(-55,0)");eA.forEach((iA,yA)=>{iA!==0&&jA.append("rect").attr("x",0).attr("y",yA*fe).attr("width",me).attr("height",fe).attr("fill",$A.color).attr("opacity",.15+.85*(iA/wA)).style("cursor","default").on("mouseover",()=>S.style("opacity",1)).on("mousemove",IA=>{S.html(`<strong>${iA}</strong> image${iA>1?"s":""}<br/>${M("page")} ${yA+1}`).style("left",IA.clientX+10+"px").style("top",IA.clientY-30+"px")}).on("mouseleave",()=>S.style("opacity",0))}),KA.append("g").call(Al(_).ticks(Math.min(CA,10))),KA.append("g").call(el(L).ticks(Math.min(te,10)));const qA=(iA,yA)=>{const IA=Math.floor(yA/6);return iA.length>IA?iA.slice(0,IA-1)+"…":iA},FA=KA.append("g").attr("transform",`translate(${UA/2},-50)`);FA.append("circle").attr("r",4).attr("cx",-UA/2+4).attr("fill",le.color),FA.append("text").attr("x",-UA/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(qA(`${le.title} (${M("page")})`,UA-20));const YA=KA.append("g").attr("transform",`translate(-68,${mA/2}) rotate(-90)`);YA.append("circle").attr("r",4).attr("cx",-mA/2+4).attr("fill",$A.color),YA.append("text").attr("x",-mA/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(qA(`${$A.title} (${M("page")})`,mA-20)),KA.append("rect").attr("class","hover-overlay").attr("width",UA).attr("height",mA).attr("fill","transparent").style("cursor","pointer").on("mousemove",iA=>{const[yA,IA]=Ee(iA,KA.node()),ce=Math.floor(yA/fe)+1,Be=Math.floor(IA/fe)+1;if(ce<1||ce>CA||Be<1||Be>te){S.style("opacity",0);return}const Ht=re.get(`${ce}-${Be}`),It=`<span style="color:${le.color}">●</span> ${M("page")} ${ce}<br/><span style="color:${$A.color}">●</span> ${M("page")} ${Be}`,er=Ht?`${It}<br/>${M("score")}: ${Ht.score.toFixed(2)}`:It;S.style("opacity",1).html(er).style("left",iA.clientX+10+"px").style("top",iA.clientY-40+"px")}).on("mouseleave",()=>S.style("opacity",0)).on("click",iA=>{const[yA,IA]=Ee(iA,KA.node()),ce=Math.floor(yA/fe)+1,Be=Math.floor(IA/fe)+1;ce<1||ce>CA||Be<1||Be>te||(t(29,pA={idx1:ce-1,idx2:Be-1}),K==null||K.classList.add("is-active"))}),KA.selectAll(".cell").data(W).join("rect").attr("class","cell").attr("x",iA=>(iA.page1-1)*fe).attr("y",iA=>(iA.page2-1)*fe).attr("width",fe).attr("height",fe).attr("fill",Yn(233,.951,.52)).attr("opacity",iA=>dA>BA?.2+.8*(iA.score-BA)/(dA-BA):.5).attr("pointer-events","none"),t(1,G.style.width=WA+"px",G),t(1,G.style.height=j+"px",G)}function kA(){const{images1:W,images2:BA,pairScores:dA,minScore:le,maxScore:$A,doc1:_A,doc2:me}=i;if(!W.length||!BA.length)return;const CA={top:65,right:40,bottom:20,left:80},te=10,UA=W.length*fe,mA=BA.length*fe,re=UA+CA.left+CA.right,WA=mA+CA.top+CA.bottom,hA=Qe(G).append("svg").attr("width",re).attr("height",WA).append("g").attr("transform",`translate(${CA.left},${CA.top})`),KA=Wr().domain([0,W.length]).range([0,UA]),_=Wr().domain([0,BA.length]).range([0,mA]),L=Qe("body").selectAll(".scatter-tooltip").data([0]).join("div").attr("class","scatter-tooltip").style("position","fixed").style("background","var(--bulma-scheme-main)").style("border","1px solid var(--bulma-border)").style("border-radius","4px").style("padding","6px 10px").style("pointer-events","none").style("opacity",0).style("font-size","11px").style("box-shadow","0 2px 4px rgba(0,0,0,0.15)").style("z-index","9999").style("color","var(--bulma-text)"),S=cg(W),z=cg(BA),eA=hA.append("g").attr("transform",`translate(0,${-22-te})`);S.forEach(({start:FA,end:YA,page:iA,count:yA})=>{eA.append("rect").attr("x",FA*fe).attr("width",(YA-FA)*fe).attr("height",te).attr("fill",_A.color).attr("opacity",.5).style("cursor","default").on("mouseover",()=>L.style("opacity",1)).on("mousemove",IA=>{L.html(`${M("page")} ${iA}<br/><strong>${yA}</strong> image${yA>1?"s":""}`).style("left",IA.clientX+10+"px").style("top",IA.clientY-30+"px")}).on("mouseleave",()=>L.style("opacity",0))});const tA=hA.append("g").attr("transform","translate(-55,0)");z.forEach(({start:FA,end:YA,page:iA,count:yA})=>{tA.append("rect").attr("x",0).attr("y",FA*fe).attr("width",te).attr("height",(YA-FA)*fe).attr("fill",me.color).attr("opacity",.5).style("cursor","default").on("mouseover",()=>L.style("opacity",1)).on("mousemove",IA=>{L.html(`${M("page")} ${iA}<br/><strong>${yA}</strong> image${yA>1?"s":""}`).style("left",IA.clientX+10+"px").style("top",IA.clientY-30+"px")}).on("mouseleave",()=>L.style("opacity",0))}),hA.append("g").call(Al(KA).ticks(Math.min(W.length,10))),hA.append("g").call(el(_).ticks(Math.min(BA.length,10)));const wA=(FA,YA)=>{const iA=Math.floor(YA/6);return FA.length>iA?FA.slice(0,iA-1)+"…":FA},cA=hA.append("g").attr("transform",`translate(${UA/2},-50)`);cA.append("circle").attr("r",4).attr("cx",-UA/2+4).attr("fill",_A.color),cA.append("text").attr("x",-UA/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(wA(`${_A.title} (${M("image")})`,UA-20));const jA=hA.append("g").attr("transform",`translate(-68,${mA/2}) rotate(-90)`);jA.append("circle").attr("r",4).attr("cx",-mA/2+4).attr("fill",me.color),jA.append("text").attr("x",-mA/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(wA(`${me.title} (${M("image")})`,mA-20)),hA.append("rect").attr("class","hover-overlay").attr("width",UA).attr("height",mA).attr("fill","transparent").style("cursor","pointer").on("mousemove",FA=>{const[YA,iA]=Ee(FA,hA.node()),yA=Math.floor(YA/fe),IA=Math.floor(iA/fe);if(yA<0||yA>=W.length||IA<0||IA>=BA.length){L.style("opacity",0);return}const ce=W[yA],Be=BA[IA],Ht=dA.get(`${yA}-${IA}`),It=`<span style="color:${_A.color}">●</span> ${M("page")} ${ce.canvas}, ${M("image")} ${yA+1}<br/><span style="color:${me.color}">●</span> ${M("page")} ${Be.canvas}, ${M("image")} ${IA+1}`,er=Ht?`${It}<br/>${M("score")}: ${Ht.score.toFixed(2)}`:It;L.style("opacity",1).html(er).style("left",FA.clientX+10+"px").style("top",FA.clientY-40+"px")}).on("mouseleave",()=>L.style("opacity",0)).on("click",FA=>{const[YA,iA]=Ee(FA,hA.node()),yA=Math.floor(YA/fe),IA=Math.floor(iA/fe);yA>=0&&yA<W.length&&IA>=0&&IA<BA.length&&(t(29,pA={idx1:yA,idx2:IA}),K==null||K.classList.add("is-active"))});const qA=Array.from(dA.values());hA.selectAll(".cell").data(qA).join("rect").attr("class","cell").attr("x",FA=>FA.idx1*fe).attr("y",FA=>FA.idx2*fe).attr("width",fe).attr("height",fe).attr("fill",Yn(233,.951,.52)).attr("opacity",FA=>$A>le?.2+.8*(FA.score-le)/($A-le):.5).attr("pointer-events","none"),t(1,G.style.width=re+"px",G),t(1,G.style.height=WA+"px",G)}function NA(W){P=!0,W.preventDefault()}function ee(W){var le,$A;if(!P||!R)return;const BA=R.getBoundingClientRect(),dA=(W.clientX||(($A=(le=W.touches)==null?void 0:le[0])==null?void 0:$A.clientX))-BA.left;t(27,X=Math.max(.2,Math.min(.8,dA/BA.width)))}function we(){P=!1}ir(()=>{R&&(t(28,nA=R.offsetWidth),fA=new ResizeObserver(W=>{t(28,nA=W[0].contentRect.width)}),fA.observe(R)),window.addEventListener("mousemove",ee),window.addEventListener("mouseup",we),window.addEventListener("touchmove",ee),window.addEventListener("touchend",we),window.addEventListener("keydown",oA)}),xr(()=>{fA==null||fA.disconnect(),window.removeEventListener("mousemove",ee),window.removeEventListener("mouseup",we),window.removeEventListener("touchmove",ee),window.removeEventListener("touchend",we),window.removeEventListener("keydown",oA)});function Ce(){u=Qn(this),H.set(u)}function ge(){N=Qn(this),t(3,N)}const GA=W=>k.set(W.target.checked);function Se(W){qe[W?"unshift":"push"](()=>{I=W,t(0,I)})}function PA(){xA=Qn(this),t(4,xA)}function JA(W){qe[W?"unshift":"push"](()=>{G=W,t(1,G)})}function zA(W){qe[W?"unshift":"push"](()=>{R=W,t(10,R)})}function Pe(W){qe[W?"unshift":"push"](()=>{K=W,t(11,K)})}return e.$$set=W=>{"documentSetStore"in W&&t(26,F=W.documentSetStore)},e.$$.update=()=>{e.$$.dirty[1]&16&&t(7,r=Array.from((d==null?void 0:d.values())||[])),e.$$.dirty[0]&648|e.$$.dirty[1]&14&&t(6,n=J(r,w.scoreCount,B.scoreCount,N,h,f)),e.$$.dirty[0]&276|e.$$.dirty[1]&1&&t(5,i=$?q($,xA,u==="filtered",g):null),e.$$.dirty[0]&402653184&&t(14,s=Math.max(ag,nA*X-4)),e.$$.dirty[0]&402653184&&t(13,o=Math.max(ag,nA*(1-X)-4)),e.$$.dirty[0]&32&&t(30,a=i?ky(i):{max1:0,max2:0,pages1:[],pages2:[]}),e.$$.dirty[0]&1610612768&&t(12,l=pA&&i&&a?vA(pA,i,a):null),e.$$.dirty[0]&65&&I&&n.docs.length&&AA(),e.$$.dirty[0]&34&&G&&i&&TA()},[I,G,$,N,xA,i,n,r,u,h,R,K,l,o,s,b,Q,C,y,E,U,H,k,M,Z,NA,F,X,nA,pA,a,g,f,B,w,d,Ce,ge,GA,Se,PA,JA,zA,Pe]}class Ty extends oe{constructor(A){super(),se(this,A,Dy,Ly,Ae,{documentSetStore:26},null,[-1,-1,-1])}}const Oy=1e4;async function Ny(e,A,t={}){const{onProgress:r,onError:n,signal:i}=t,s=await fetch(e,{signal:i});if(!s.ok){const f=await s.json().catch(()=>({error:s.statusText}));throw new Error(f.error||`HTTP ${s.status}`)}const o=s.body.getReader(),a=new TextDecoder;let l="",c=[],g=0,u=!1;try{for(;;){const{done:f,value:h}=await o.read();if(f){if(l.trim()){const w=ug(l);w&&c.push(w)}return c.length>0?(g+=c.length,A.postMessage({type:"batch",pairs:c,isLast:!0})):A.postMessage({type:"done"}),r==null||r(g,!0),g}l+=a.decode(h,{stream:!0});const B=l.split(`
`);l=B.pop()||"";for(const w of B){if(!w)continue;const d=ug(w);d&&(c.push(d),c.length>=Oy&&(u||(A.postMessage({type:"init"}),u=!0),g+=c.length,A.postMessage({type:"batch",pairs:c,isLast:!1}),c=[],r==null||r(g,!1)))}}}catch(f){throw f.name==="AbortError"?(A.postMessage({type:"abort"}),f):(n==null||n(f),f)}}function ug(e){try{return JSON.parse(e)}catch{return console.warn("Parse error:",e.slice(0,50)),null}}const Ry=()=>new Worker("/static/js/pairWorker.js",{type:"module"});function Vy(e){const A=ZA(null),t=ZA(!1),r=ZA({loaded:0,done:!1}),n=ZA([]),i=ZA(new Set),s=ZA([]),o=ZA(0),a=ZA(3),l=ZA(!1),c=ZA("threshold"),g=ZA([]),u=ZA(new Map);let f,h=null;const B=ZA({byImage:new Map,byDocPair:new Map,byDoc:new Map}),w=ZA(new Map),d=ZA(new Map),F=ZA({}),b=ZA({}),Q=ZA({}),C=ZA({}),y=ZA({documents:0,pairs:null,images:0,categories:{}}),E=ye(n,(Z,oA)=>{if(Z.length===0){oA(Promise.resolve(0));return}f&&f.terminate()&&(f=null),h&&h.abort(),h=new AbortController;const J=new Promise((q,AA)=>{t.set(!0),r.set({loaded:0,done:!1}),A.set(null),(async()=>{try{f=Ry(),f.onmessage=async TA=>{const{type:OA}=TA.data;if(OA==="progress"){r.set({loaded:TA.data.count,done:!1});return}if(OA!=="complete")return;const{allPairs:kA,imageNodes:NA,pairIndex:ee,categories:we,stats:Ce}=TA.data;B.set(ee),F.set(Ce.pairStats),X(),b.set(Ce.documentStats),Q.set(Ce.imageStats),C.set(Ce.docPairStats);const ge=Array.from(Ce.documentStats.scoreCount.keys());be(i).size===0&&i.set(new Set(ge));const GA=await Promise.all(ge.map(JA=>U(JA).then(zA=>({id:JA,info:zA})))),Se=new Map;GA.forEach(({id:JA,info:zA})=>Se.set(JA,zA)),u.set(Se);const PA=new Map;ge.forEach((JA,zA)=>{const Pe=Se.get(JA)||{};PA.set(JA,{id:JA,title:Pe.title||`Region Extraction ${JA}`,color:Pe.color||HB(zA),images:[],...Pe})}),NA.forEach(JA=>{const zA=PA.get(JA.regionId);zA&&(JA.color=zA.color,JA.title=`${zA.title} | Page ${JA.canvas}`,zA.images.push(JA))}),PA.forEach(JA=>JA.images.sort((zA,Pe)=>{var W,BA;return zA.canvas!==Pe.canvas?zA.canvas-Pe.canvas:(parseInt((W=zA.xywh)==null?void 0:W[1])||0)-(parseInt((BA=Pe.xywh)==null?void 0:BA[1])||0)})),w.set(NA),d.set(PA),y.set({documents:ge.length,pairs:kA.length,images:NA.size,categories:we}),g.set(kA),t.set(!1),r.set({loaded:kA.length,done:!0}),f.terminate(),f=null,q(kA.length)},f.onerror=TA=>{console.error("Worker error",TA),A.set(`Worker error: ${TA.message}`),t.set(!1),AA(TA)};const LA=`${Sn}/document-set/${e}/pairs/stream?category=${Z.join(",")}`;await Ny(LA,f,{signal:h.signal,onProgress:(TA,OA)=>{r.set({loaded:TA,done:OA})},onError:TA=>{A.set(`Stream error: ${TA.message}`)}})}catch(LA){if(LA.name==="AbortError"){console.log("Request aborted");return}A.set(`Fetch error: ${LA.message}`),t.set(!1),AA(LA)}})()});oA(J)});async function U(Z){try{const oA=await fetch(`${Sn}/search/regions/?id=${Z}`);if(!oA.ok)throw new Error(`HTTP ${oA.status}`);const{results:J}=await oA.json();if(!(J!=null&&J.length))return{title:`Region Extraction ${Z}`};const q=J[0],[,...AA]=q.title.split(" | "),[gA,LA]=(q.ref||"_").split("_");return{title:AA.join(" | "),ref:q.ref,witnessId:UB(gA),digitizationRef:LA,zeros:q.zeros,img_nb:q.img_nb,url:q.url}}catch(oA){return A.set(`Error fetching region #${Z}: ${oA.message}`),{title:`Region Extraction ${Z}`}}}const H=ye([g,o,a,l,i],([Z,oA,J,q,AA])=>{if(!Z)return[];const gA=[],LA=be(c);for(let TA=0;TA<Z.length;TA++){const OA=Z[TA];if(LA==="threshold"&&OA.weightedScore<oA)break;if(!(!AA.has(OA.regions_id_1)||!AA.has(OA.regions_id_2))){if(LA==="topk"&&J!==null){const kA=OA.rank_1??1/0,NA=OA.rank_2??1/0;if(q){if(kA>J||NA>J)continue}else if(kA>J&&NA>J)continue}gA.push(OA)}}return gA}),k=ye([H,d],([Z,oA])=>{if(!Z.length||oA.size===0)return[];const J=new Set;for(const AA of Z)J.add(AA.regions_id_1),J.add(AA.regions_id_2);const q=[];return J.forEach(AA=>{const gA=oA.get(AA);gA&&q.push(gA)}),q.sort((AA,gA)=>gA.id-AA.id)});function x(Z,oA,J=10,q=200,AA=2,gA=25){if(!oA)return{strength:.5,distance:100,width:2};const{min:LA,_:TA,range:OA}=oA,kA=OA===0?.5:(Z-LA)/OA,NA=q-kA*(q-J),ee=AA+kA*(gA-AA);return{strength:kA,distance:NA,width:ee}}function M(Z,oA,J=10,q=60){if(!oA)return J;const{min:AA,_:gA,range:LA}=oA;return LA===0?(J+q)/2:J+(Z-AA)/LA*(q-J)}const R=ye([H],([Z])=>{var TA;const oA=be(w),J=be(Q),q=be(F),AA=new Set,gA=[];for(const OA of Z){const{strength:kA,distance:NA,width:ee}=x(OA.weightedScore,q.scoreRange);gA.push({source:OA.id_1,target:OA.id_2,strength:kA,distance:NA,width:ee}),AA.has(OA.id_1)||AA.add(OA.id_1),AA.has(OA.id_2)||AA.add(OA.id_2)}const LA=[];for(const OA of AA){const kA=oA.get(OA);if(kA){const NA=(TA=J.scoreCount)==null?void 0:TA.get(OA),{count:ee,score:we}=NA;LA.push({...kA,radius:M(we,J.scoreRange),label:`Region: ${kA.regionId}
Page: ${kA.canvas}
Connections: ${ee}
Total score: ${we.toFixed(2)}`})}}return{nodes:LA,links:gA}}),I=ye(k,Z=>{const oA=be(C),J=be(b);if(Z.size===0)return{nodes:[],links:[]};const q=Array.from(Z.values()).map(gA=>{var kA;const LA=(kA=J.scoreCount)==null?void 0:kA.get(gA.id),{count:TA,score:OA}=LA;return{...gA,radius:M(TA,J.countRange),label:`${gA.title}
Images: ${TA}
Total score: ${OA.toFixed(2)}`}}),AA=Array.from(oA.scoreCount.entries()).map(([gA,LA])=>{const[TA,OA]=gA.split("-").map(Number),{strength:kA,distance:NA,width:ee}=x(LA.score,oA.scoreRange);return{source:TA,target:OA,strength:kA,distance:NA,width:ee}});return{nodes:q,links:AA}});function G(Z){if(!Z.length)return{regions:[],rows:[]};const oA=be(d),J=be(B),q=Z[0],AA=oA.get(q);if(!(AA!=null&&AA.images))return{regions:Z,rows:[]};const gA=AA.images,LA=(NA,ee,we)=>{const{r1:Ce,r2:ge}={r1:ee,r2:we},GA=Ce<ge?`${Ce}-${ge}`:`${ge}-${Ce}`;return(J.byDocPair.get(GA)||[]).map(PA=>PA.id_1===NA&&PA.regions_id_1===ee?{id:PA.id_2,page:PA.page_2}:PA.id_2===NA&&PA.regions_id_2===ee?{id:PA.id_1,page:PA.page_1}:null).filter(Boolean)},TA=[];for(const NA of gA){let ee=[{[q]:{id:NA.id,page:NA.canvas}}];for(let we=1;we<Z.length;we++){const Ce=Z[we],ge=[];for(const GA of ee){const Se=[];for(let PA=0;PA<we;PA++){const JA=Z[PA];if(GA[JA]){const zA=LA(GA[JA].id,JA,Ce);Se.push(...zA)}}if(Se.length===0)ge.push(GA);else{const PA=new Map;Se.forEach(JA=>{PA.has(JA.id)||PA.set(JA.id,JA)});for(const JA of PA.values()){const zA={...GA,[Ce]:JA};ge.push(zA)}}}ee=ge}TA.push(...ee)}const OA=[],kA=new Set;for(const NA of TA){const ee=Z.map(we=>{var Ce;return((Ce=NA[we])==null?void 0:Ce.id)||""}).join("|");kA.has(ee)||(kA.add(ee),OA.push(NA))}return{regions:Z,rows:OA}}function K(Z){n.update(oA=>oA.indexOf(Z)>-1?oA.filter(q=>q!==Z):[...oA,Z].sort((q,AA)=>q-AA))}function $(Z){i.update(oA=>{const J=new Set(oA);return J.has(Z)?J.delete(Z):J.add(Z),J})}function N(){const Z=Array.from(be(d).keys());i.set(new Set(Z))}function X(){if(!be(n).includes(0))return;const{min:Z,max:oA}=be(F).scoreRange||{};Z==null||oA==null||be(o)===Z&&o.set((Z+oA)/2)}const P=ZA("filtered"),nA=ZA(!1),fA=ye(H,Z=>{const oA=new Set;for(const J of Z)oA.add(`${J.id_1}-${J.id_2}`);return oA}),pA=ye(H,Z=>{const oA=new Map;if(!(Z!=null&&Z.length))return{scoreCount:oA,scoreRange:{min:0,max:0,range:0}};let J=1/0,q=-1/0;for(const AA of Z){const gA=AA.regions_id_1<AA.regions_id_2?`${AA.regions_id_1}-${AA.regions_id_2}`:`${AA.regions_id_2}-${AA.regions_id_1}`,LA=oA.get(gA)||{score:0,count:0};LA.score+=AA.weightedScore||0,LA.count++,oA.set(gA,LA)}for(const{score:AA}of oA.values())AA<J&&(J=AA),AA>q&&(q=AA);return J===1/0&&(J=q=0),{scoreCount:oA,scoreRange:{min:J,max:q,range:q-J}}}),xA=ye(H,Z=>{const oA=new Map;if(!(Z!=null&&Z.length))return{scoreCount:oA,countRange:{min:0,max:0,range:0}};for(const AA of Z)for(const gA of[AA.regions_id_1,AA.regions_id_2]){const LA=oA.get(gA)||{score:0,count:0};LA.score+=AA.weightedScore||0,LA.count++,oA.set(gA,LA)}let J=1/0,q=-1/0;for(const{count:AA}of oA.values())AA<J&&(J=AA),AA>q&&(q=AA);return J===1/0&&(J=q=0),{scoreCount:oA,countRange:{min:J,max:q,range:q-J}}}),DA=ye([P,C,pA],([Z,oA,J])=>Z==="filtered"?J:oA),HA=ye([P,b,xA],([Z,oA,J])=>Z==="filtered"?J:oA),vA=ye(d,Z=>{var J;const oA=new Map;for(const[q,AA]of Z)oA.set(q,Math.max(1,((J=AA.images)==null?void 0:J.length)||AA.img_nb||1));return oA});return{error:A,loadingProgress:r,cancelLoading:()=>{h&&(h.abort(),t.set(!1))},allPairs:g,visiblePairs:H,pairIndex:B,documentNodes:d,imageNodes:w,fetchPairs:E,imageNetwork:R,documentNetwork:I,selectedCategories:n,pairStats:F,documentStats:b,imageStats:Q,docPairStats:C,docSetNumber:y,selectedNodes:s,selectedRegions:i,updateSelectedNodes:Z=>s.set(Z),toggleCategory:K,toggleRegion:$,selectAllRegions:N,buildAlignedImageMatrix:G,threshold:o,setThreshold:Z=>o.set(Z),topK:a,setTopK:Z=>a.set(Z),mutualTopK:l,setMutualTopK:Z=>l.set(Z),scoreMode:c,setScoreMode:Z=>c.set(Z),matrixMode:P,setMatrixMode:Z=>P.set(Z),normalizeByImages:nA,activeDocPairStats:DA,activeDocStats:HA,imageCountMap:vA,visiblePairIds:fA}}function Gy(e){let A,t,r;const n=e[1].default,i=Xe(n,e,e[0],null);return{c(){A=v("table"),t=v("tbody"),i&&i.c(),m(A,"class","table is-fullwidth")},m(s,o){T(s,A,o),p(A,t),i&&i.m(t,null),r=!0},p(s,[o]){i&&i.p&&(!r||o&1)&&We(i,n,s,s[0],r?Je(n,s[0],o,null):Ye(s[0]),null)},i(s){r||(V(i,s),r=!0)},o(s){Y(i,s),r=!1},d(s){s&&D(A),i&&i.d(s)}}}function Py(e,A,t){let{$$slots:r={},$$scope:n}=A;return e.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,r]}class Xy extends oe{constructor(A){super(),se(this,A,Py,Gy,Ae,{})}}const Jy=e=>({}),fg=e=>({}),Wy=e=>({}),gg=e=>({}),Yy=e=>({}),Bg=e=>({});function zy(e){let A;const t=e[4]["row-body"],r=Xe(t,e,e[3],fg);return{c(){r&&r.c()},m(n,i){r&&r.m(n,i),A=!0},p(n,i){r&&r.p&&(!A||i&8)&&We(r,t,n,n[3],A?Je(t,n[3],i,Jy):Ye(n[3]),fg)},i(n){A||(V(r,n),A=!0)},o(n){Y(r,n),A=!1},d(n){r&&r.d(n)}}}function $y(e){let A,t,r,n;const i=e[4]["row-body"],s=Xe(i,e,e[3],gg);return{c(){A=v("div"),t=v("div"),s&&s.c(),m(t,"class","grid is-gap-2"),m(A,"class",r="fixed-grid has-"+e[2]+"-cols")},m(o,a){T(o,A,a),p(A,t),s&&s.m(t,null),n=!0},p(o,a){s&&s.p&&(!n||a&8)&&We(s,i,o,o[3],n?Je(i,o[3],a,Wy):Ye(o[3]),gg),(!n||a&4&&r!==(r="fixed-grid has-"+o[2]+"-cols"))&&m(A,"class",r)},i(o){n||(V(s,o),n=!0)},o(o){Y(s,o),n=!1},d(o){o&&D(A),s&&s.d(o)}}}function Zy(e){let A,t,r,n,i,s,o,a,l,c;nt(e[5]);const g=e[4]["row-header"],u=Xe(g,e,e[3],Bg),f=[$y,zy],h=[];function B(w,d){return w[0]?0:1}return s=B(e),o=h[s]=f[s](e),{c(){A=v("tr"),t=v("th"),r=v("div"),u&&u.c(),n=O(),i=v("td"),o.c(),m(r,"class","content-wrapper py-5"),m(t,"class","is-3 center-flex is-narrow"),VA(t,"width","15vw"),m(i,"class","p-5 is-fullwidth")},m(w,d){T(w,A,d),p(A,t),p(t,r),u&&u.m(r,null),p(A,n),p(A,i),h[s].m(i,null),a=!0,l||(c=QA(window,"resize",e[5]),l=!0)},p(w,[d]){u&&u.p&&(!a||d&8)&&We(u,g,w,w[3],a?Je(g,w[3],d,Yy):Ye(w[3]),Bg);let F=s;s=B(w),s===F?h[s].p(w,d):(ne(),Y(h[F],1,1,()=>{h[F]=null}),ie(),o=h[s],o?o.p(w,d):(o=h[s]=f[s](w),o.c()),V(o,1),o.m(i,null))},i(w){a||(V(u,w),V(o),a=!0)},o(w){Y(u,w),Y(o),a=!1},d(w){w&&D(A),u&&u.d(w),h[s].d(),l=!1,c()}}}function jy(e,A,t){let r,{$$slots:n={},$$scope:i}=A,{useGrid:s=!0}=A,o=0;function a(){t(1,o=window.innerWidth)}return e.$$set=l=>{"useGrid"in l&&t(0,s=l.useGrid),"$$scope"in l&&t(3,i=l.$$scope)},e.$$.update=()=>{e.$$.dirty&2&&t(2,r=IB(o))},[s,o,r,i,n,a]}class qy extends oe{constructor(A){super(),se(this,A,jy,Zy,Ae,{useGrid:0})}}const kb="",A_=e=>({}),hg=e=>({}),e_=e=>({}),dg=e=>({});function wg(e){let A,t,r,n,i,s,o,a,l,c,g,u=e[1]&&pg(e);return a=new Qs({props:{tooltipText:e[2][e[1]][rA]}}),{c(){u&&u.c(),A=O(),t=v("div"),r=v("button"),n=pt("svg"),i=pt("path"),o=O(),SA(a.$$.fragment),m(i,"fill","none"),m(i,"stroke","currentColor"),m(i,"stroke-linecap","round"),m(i,"stroke-linejoin","round"),m(i,"stroke-width","1.5"),m(i,"d","M12 3v18m0 0l8.5-8.5M12 21l-8.5-8.5"),m(n,"style",s=`transform: rotate(${e[1]?"180":"0"}deg)`),m(n,"xmlns","http://www.w3.org/2000/svg"),m(n,"width","24"),m(n,"height","24"),m(n,"viewBox","0 0 24 24"),m(n,"class","svelte-jbs1sd"),m(r,"class","button is-link svelte-jbs1sd"),m(t,"class","ctrl-toggle svelte-jbs1sd")},m(f,h){u&&u.m(f,h),T(f,A,h),T(f,t,h),p(t,r),p(r,n),p(n,i),p(r,o),bA(a,r,null),l=!0,c||(g=QA(r,"click",St(e[3])),c=!0)},p(f,h){f[1]?u?(u.p(f,h),h&2&&V(u,1)):(u=pg(f),u.c(),V(u,1),u.m(A.parentNode,A)):u&&(ne(),Y(u,1,1,()=>{u=null}),ie()),(!l||h&2&&s!==(s=`transform: rotate(${f[1]?"180":"0"}deg)`))&&m(n,"style",s);const B={};h&2&&(B.tooltipText=f[2][f[1]][rA]),a.$set(B)},i(f){l||(V(u),V(a.$$.fragment,f),l=!0)},o(f){Y(u),Y(a.$$.fragment,f),l=!1},d(f){u&&u.d(f),f&&D(A),f&&D(t),EA(a),c=!1,g()}}}function pg(e){let A,t,r;const n=e[5]["toolbar-hidden"],i=Xe(n,e,e[4],hg);return{c(){A=v("div"),i&&i.c(),m(A,"class","ctrl-extra")},m(s,o){T(s,A,o),i&&i.m(A,null),r=!0},p(s,o){i&&i.p&&(!r||o&16)&&We(i,n,s,s[4],r?Je(n,s[4],o,A_):Ye(s[4]),hg)},i(s){r||(V(i,s),nt(()=>{r&&(t||(t=_n(A,da,{axis:"y"},!0)),t.run(1))}),r=!0)},o(s){Y(i,s),t||(t=_n(A,da,{axis:"y"},!1)),t.run(0),r=!1},d(s){s&&D(A),i&&i.d(s),s&&t&&t.end()}}}function t_(e){let A,t,r,n,i,s,o,a;const l=e[5]["toolbar-visible"],c=Xe(l,e,e[4],dg);let g=e[0]&&wg(e);return{c(){A=v("div"),t=v("form"),r=v("div"),n=v("div"),i=v("div"),c&&c.c(),s=O(),g&&g.c(),m(i,"class","ctrl-block svelte-jbs1sd"),m(n,"class","ctrl-block-wrapper svelte-jbs1sd"),m(r,"class","ctrl-base"),m(t,"class","ctrl svelte-jbs1sd"),m(A,"id","toolbar"),m(A,"class",o="ctrl-wrapper is-flex is-justify-content-center is-align-items-center "+(e[1]?"toolbar-expanded":"toolbar-collapsed")+" svelte-jbs1sd")},m(u,f){T(u,A,f),p(A,t),p(t,r),p(r,n),p(n,i),c&&c.m(i,null),p(t,s),g&&g.m(t,null),a=!0},p(u,[f]){c&&c.p&&(!a||f&16)&&We(c,l,u,u[4],a?Je(l,u[4],f,e_):Ye(u[4]),dg),u[0]?g?(g.p(u,f),f&1&&V(g,1)):(g=wg(u),g.c(),V(g,1),g.m(t,null)):g&&(ne(),Y(g,1,1,()=>{g=null}),ie()),(!a||f&2&&o!==(o="ctrl-wrapper is-flex is-justify-content-center is-align-items-center "+(u[1]?"toolbar-expanded":"toolbar-collapsed")+" svelte-jbs1sd"))&&m(A,"class",o)},i(u){a||(V(c,u),V(g),a=!0)},o(u){Y(c,u),Y(g),a=!1},d(u){u&&D(A),c&&c.d(u),g&&g.d()}}}function r_(e,A,t){let r,{$$slots:n={},$$scope:i}=A,{expandable:s=!0}=A;const o={true:{en:"Collapse the toolbar",fr:"Refermer le menu"},false:{en:"Expand the toolbar",fr:"Ouvrir le menu"}},a=()=>t(1,r=!r);return e.$$set=l=>{"expandable"in l&&t(0,s=l.expandable),"$$scope"in l&&t(4,i=l.$$scope)},t(1,r=!1),[s,r,o,a,i,n]}class n_ extends oe{constructor(A){super(),se(this,A,r_,t_,Ae,{expandable:0})}}function mg(e){let A,t,r,n,i,s,o,a,l,c=e[5]>1&&Qg(e),g=e[5]<e[3]&&Ug(e);return{c(){A=v("nav"),t=v("ul"),c&&c.c(),r=O(),n=v("li"),i=v("a"),s=aA(e[5]),o=O(),g&&g.c(),m(i,"class","pagination-link is-current"),m(i,"href",null),m(t,"class","pagination-list ml-0"),m(A,"class","pagination is-centered mb-2"),m(A,"aria-label","pagination")},m(u,f){T(u,A,f),p(A,t),c&&c.m(t,null),p(t,r),p(t,n),p(n,i),p(i,s),p(t,o),g&&g.m(t,null),a||(l=QA(i,"click",St(e[9])),a=!0)},p(u,f){u[5]>1?c?c.p(u,f):(c=Qg(u),c.c(),c.m(t,r)):c&&(c.d(1),c=null),f&32&&RA(s,u[5]),u[5]<u[3]?g?g.p(u,f):(g=Ug(u),g.c(),g.m(t,null)):g&&(g.d(1),g=null)},d(u){u&&D(A),c&&c.d(),g&&g.d(),a=!1,l()}}}function Qg(e){let A,t,r,n,i,s,o=e[5]-1>1&&Cg(e);return{c(){A=v("li"),t=v("a"),t.textContent="1",r=O(),o&&o.c(),n=Ke(),m(t,"class","pagination-link"),m(t,"href",null)},m(a,l){T(a,A,l),p(A,t),T(a,r,l),o&&o.m(a,l),T(a,n,l),i||(s=QA(t,"click",St(e[7])),i=!0)},p(a,l){a[5]-1>1?o?o.p(a,l):(o=Cg(a),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(a){a&&D(A),a&&D(r),o&&o.d(a),a&&D(n),i=!1,s()}}}function Cg(e){let A,t,r,n=e[5]-1+"",i,s,o,a=e[5]-1>2&&vg();return{c(){a&&a.c(),A=O(),t=v("li"),r=v("a"),i=aA(n),m(r,"class","pagination-link"),m(r,"href",null)},m(l,c){a&&a.m(l,c),T(l,A,c),T(l,t,c),p(t,r),p(r,i),s||(o=QA(r,"click",St(e[8])),s=!0)},p(l,c){l[5]-1>2?a||(a=vg(),a.c(),a.m(A.parentNode,A)):a&&(a.d(1),a=null),c&32&&n!==(n=l[5]-1+"")&&RA(i,n)},d(l){a&&a.d(l),l&&D(A),l&&D(t),s=!1,o()}}}function vg(e){let A;return{c(){A=v("li"),A.innerHTML='<span class="pagination-ellipsis">…</span>'},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function Ug(e){let A,t,r,n,i,s,o=e[5]+1<e[3]&&Fg(e);return{c(){o&&o.c(),A=O(),t=v("li"),r=v("a"),n=aA(e[3]),m(r,"class","pagination-link"),m(r,"href",null)},m(a,l){o&&o.m(a,l),T(a,A,l),T(a,t,l),p(t,r),p(r,n),i||(s=QA(r,"click",St(e[11])),i=!0)},p(a,l){a[5]+1<a[3]?o?o.p(a,l):(o=Fg(a),o.c(),o.m(A.parentNode,A)):o&&(o.d(1),o=null),l&8&&RA(n,a[3])},d(a){o&&o.d(a),a&&D(A),a&&D(t),i=!1,s()}}}function Fg(e){let A,t,r=e[5]+1+"",n,i,s,o,a,l=e[5]+2<e[3]&&yg();return{c(){A=v("li"),t=v("a"),n=aA(r),i=O(),l&&l.c(),s=Ke(),m(t,"class","pagination-link"),m(t,"href",null)},m(c,g){T(c,A,g),p(A,t),p(t,n),T(c,i,g),l&&l.m(c,g),T(c,s,g),o||(a=QA(t,"click",St(e[10])),o=!0)},p(c,g){g&32&&r!==(r=c[5]+1+"")&&RA(n,r),c[5]+2<c[3]?l||(l=yg(),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d(c){c&&D(A),c&&D(i),l&&l.d(c),c&&D(s),o=!1,a()}}}function yg(e){let A;return{c(){A=v("li"),A.innerHTML='<span class="pagination-ellipsis">…</span>'},m(t,r){T(t,A,r)},d(t){t&&D(A)}}}function i_(e){let A,t,r=e[5]*e[2]-e[2]+1+"",n,i,s=Math.min(e[5]*e[2],e[1])+"",o,a,l,c,g=e[4]&&mg(e);return{c(){g&&g.c(),A=O(),t=v("div"),n=aA(r),i=aA(" - "),o=aA(s),a=aA(" / "),l=aA(e[1]),m(t,"class",c="is-size-7 is-center mb-4 "+(e[4]?"":"mt-4"))},m(u,f){g&&g.m(u,f),T(u,A,f),T(u,t,f),p(t,n),p(t,i),p(t,o),p(t,a),p(t,l)},p(u,[f]){u[4]?g?g.p(u,f):(g=mg(u),g.c(),g.m(A.parentNode,A)):g&&(g.d(1),g=null),f&36&&r!==(r=u[5]*u[2]-u[2]+1+"")&&RA(n,r),f&38&&s!==(s=Math.min(u[5]*u[2],u[1])+"")&&RA(o,s),f&2&&RA(l,u[1]),f&16&&c!==(c="is-size-7 is-center mb-4 "+(u[4]?"":"mt-4"))&&m(t,"class",c)},i:sA,o:sA,d(u){g&&g.d(u),u&&D(A),u&&D(t)}}}function s_(e,A,t){let r,n,i,{store:s}=A;const{currentPage:o}=s;MA(e,o,B=>t(5,i=B));let{nbOfItems:a}=A,{pageLength:l=CB}=A;const c=()=>s.handlePageUpdate(1),g=()=>s.handlePageUpdate(i-1),u=()=>s.handlePageUpdate(i),f=()=>s.handlePageUpdate(i+1),h=()=>s.handlePageUpdate(r);return e.$$set=B=>{"store"in B&&t(0,s=B.store),"nbOfItems"in B&&t(1,a=B.nbOfItems),"pageLength"in B&&t(2,l=B.pageLength)},e.$$.update=()=>{e.$$.dirty&6&&t(3,r=l>0?Math.ceil(a/l):1),e.$$.dirty&14&&t(4,n=r>1||a>l)},[s,a,l,r,n,i,o,c,g,u,f,h]}class _g extends oe{constructor(A){super(),se(this,A,s_,i_,Ae,{store:0,nbOfItems:1,pageLength:2})}}function o_(e){let A,t,r,n,i=rA==="en"?"Save selection":"Sauvegarder la sélection",s,o,a;return{c(){A=v("button"),t=v("span"),r=v("i"),n=O(),s=aA(i),m(r,"class","fa-solid fa-floppy-disk"),m(A,"class","button is-link")},m(l,c){T(l,A,c),p(A,t),p(t,r),p(t,n),p(t,s),o||(a=QA(A,"click",e[7]),o=!0)},p:sA,d(l){l&&D(A),o=!1,a()}}}function a_(e){let A,t,r,n,i=rA==="en"?"Go to treatment":"Accéder au traitement",s,o;return{c(){var a;A=v("a"),t=v("span"),r=v("i"),n=O(),s=aA(i),m(r,"class","fa-solid fa-gear"),m(A,"class","button is-link"),m(A,"href",o="/"+ft+"/treatment/add/?document_set="+((a=e[3])==null?void 0:a.id))},m(a,l){T(a,A,l),p(A,t),p(t,r),p(t,n),p(t,s)},p(a,l){var c;l&8&&o!==(o="/"+ft+"/treatment/add/?document_set="+((c=a[3])==null?void 0:c.id))&&m(A,"href",o)},d(a){a&&D(A)}}}function bg(e){let A,t,r,n,i,s,o;return{c(){var a,l;A=v("a"),t=v("span"),t.innerHTML='<i class="fa-solid fa-file-export"></i> JSON',n=O(),i=v("a"),s=v("span"),s.innerHTML='<i class="fa-solid fa-file-zipper"></i> ZIP',m(A,"class","button is-link is-dark"),m(A,"href",r="/"+ft+"/document-set/"+((a=e[3])==null?void 0:a.id)+"/json"),m(A,"target","_blank"),m(i,"class","button is-link is-dark"),m(i,"href",o="/"+ft+"/document-set/"+((l=e[3])==null?void 0:l.id)+"/zip"),m(i,"target","_blank")},m(a,l){T(a,A,l),p(A,t),T(a,n,l),T(a,i,l),p(i,s)},p(a,l){var c,g;l&8&&r!==(r="/"+ft+"/document-set/"+((c=a[3])==null?void 0:c.id)+"/json")&&m(A,"href",r),l&8&&o!==(o="/"+ft+"/document-set/"+((g=a[3])==null?void 0:g.id)+"/zip")&&m(i,"href",o)},d(a){a&&D(A),a&&D(n),a&&D(i)}}}function l_(e){let A,t,r,n,i,s,o;function a(u,f){return u[2]&&!u[1]?a_:o_}let l=a(e),c=l(e),g=!e[1]&&bg(e);return{c(){A=v("footer"),t=v("div"),r=v("button"),r.textContent=`${rA==="en"?"Clear selection":"Vider la sélection"}`,n=O(),c.c(),i=O(),g&&g.c(),m(r,"class","button button-close is-link is-light"),m(t,"class","buttons"),m(A,"class","modal-card-foot is-center")},m(u,f){T(u,A,f),p(A,t),p(t,r),p(t,n),c.m(t,null),p(t,i),g&&g.m(t,null),s||(o=QA(r,"click",e[6]),s=!0)},p(u,[f]){l===(l=a(u))&&c?c.p(u,f):(c.d(1),c=l(u),c&&(c.c(),c.m(t,i))),u[1]?g&&(g.d(1),g=null):g?g.p(u,f):(g=bg(u),g.c(),g.m(t,null))},i:sA,o:sA,d(u){u&&D(A),c.d(),g&&g.d(),s=!1,o()}}}function c_(e,A,t){let r,n,{selectionStore:i}=A;const{isSaved:s,selection:o}=i;MA(e,s,g=>t(2,r=g)),MA(e,o,g=>t(3,n=g));let{isRegion:a=i.type!=="documentSet"}=A;const l=()=>i.empty(),c=()=>i.save();return e.$$set=g=>{"selectionStore"in g&&t(0,i=g.selectionStore),"isRegion"in g&&t(1,a=g.isRegion)},[i,a,r,n,s,o,l,c]}class u_ extends oe{constructor(A){super(),se(this,A,c_,l_,Ae,{selectionStore:0,isRegion:1})}}const Kb="";function Eg(e,A,t){const r=e.slice();return r[31]=A[t],r}function Hg(e,A,t){const r=e.slice();return r[31]=A[t],r}function f_(e){let A,t,r,n,i,s;return{c(){A=v("span"),t=aA(e[10]),r=O(),n=v("span"),n.innerHTML='<i class="fas fa-edit"></i>',m(n,"class","pl-3 smaller has-text-link")},m(o,a){T(o,A,a),p(A,t),p(A,r),p(A,n),i||(s=[QA(A,"click",e[14]),QA(A,"keyup",null)],i=!0)},p(o,a){a[0]&1024&&RA(t,o[10])},d(o){o&&D(A),i=!1,Fe(s)}}}function g_(e){let A,t,r;return{c(){A=v("input"),m(A,"class","input selection-title svelte-fumu7c")},m(n,i){T(n,A,i),e[23](A),mn(A,e[5]),t||(r=[QA(A,"input",e[24]),QA(A,"keydown",e[15]),QA(A,"blur",e[16])],t=!0)},p(n,i){i[0]&32&&A.value!==n[5]&&mn(A,n[5])},d(n){n&&D(A),e[23](null),t=!1,Fe(r)}}}function Ig(e){let A,t,r;function n(){return e[25](e[31])}return{c(){A=v("button"),m(A,"class","tag is-delete is-link ml-0")},m(i,s){T(i,A,s),t||(r=QA(A,"click",n),t=!0)},p(i,s){e=i},d(i){i&&D(A),t=!1,r()}}}function Sg(e,A){let t,r,n=A[31].username+"",i,s,o,a=A[9]&&Ig(A);return{key:e,first:null,c(){t=v("div"),r=v("span"),i=aA(n),s=O(),a&&a.c(),o=O(),m(r,"class","tag"),m(t,"class","tags has-addons svelte-fumu7c"),this.first=t},m(l,c){T(l,t,c),p(t,r),p(r,i),p(t,s),a&&a.m(t,null),p(t,o)},p(l,c){A=l,c[0]&256&&n!==(n=A[31].username+"")&&RA(i,n),A[9]?a?a.p(A,c):(a=Ig(A),a.c(),a.m(t,o)):a&&(a.d(1),a=null)},d(l){l&&D(t),a&&a.d()}}}function xg(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,h,B=rA==="en"?"Make public":"Rendre public",w,d,F,b=e[7].length>0&&Lg(e);return{c(){var Q;A=v("div"),t=v("div"),r=v("div"),n=v("p"),i=v("input"),s=O(),o=v("span"),o.innerHTML='<i class="fas fa-search"></i>',a=O(),b&&b.c(),l=O(),c=v("div"),g=v("label"),u=v("input"),h=O(),w=aA(B),m(i,"class","input svelte-fumu7c"),m(i,"placeholder","Search users…"),m(o,"class","icon is-small is-right"),m(n,"class","control is-expanded has-icons-right"),m(r,"class","field"),m(t,"class","dropdown-trigger"),m(A,"class","dropdown is-active"),m(u,"type","checkbox"),u.checked=f=(Q=e[2])==null?void 0:Q.is_public,m(g,"class","checkbox"),m(c,"class","field mt-3 is-right")},m(Q,C){T(Q,A,C),p(A,t),p(t,r),p(r,n),p(n,i),mn(i,e[6]),p(n,s),p(n,o),p(A,a),b&&b.m(A,null),T(Q,l,C),T(Q,c,C),p(c,g),p(g,u),p(g,h),p(g,w),d||(F=[QA(i,"input",e[26]),QA(i,"input",e[17]),QA(u,"change",e[28])],d=!0)},p(Q,C){var y;C[0]&64&&i.value!==Q[6]&&mn(i,Q[6]),Q[7].length>0?b?b.p(Q,C):(b=Lg(Q),b.c(),b.m(A,null)):b&&(b.d(1),b=null),C[0]&4&&f!==(f=(y=Q[2])==null?void 0:y.is_public)&&(u.checked=f)},d(Q){Q&&D(A),b&&b.d(),Q&&D(l),Q&&D(c),d=!1,Fe(F)}}}function Lg(e){let A,t,r=e[7],n=[];for(let i=0;i<r.length;i+=1)n[i]=kg(Eg(e,r,i));return{c(){A=v("div"),t=v("div");for(let i=0;i<n.length;i+=1)n[i].c();m(t,"class","dropdown-content"),m(A,"class","dropdown-menu"),m(A,"id","dropdown-menu"),m(A,"role","menu")},m(i,s){T(i,A,s),p(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s[0]&262272){r=i[7];let o;for(o=0;o<r.length;o+=1){const a=Eg(i,r,o);n[o]?n[o].p(a,s):(n[o]=kg(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&D(A),xe(n,i)}}}function kg(e){let A,t=e[31].username+"",r,n,i,s;function o(){return e[27](e[31])}return{c(){A=v("div"),r=aA(t),n=O(),m(A,"class","dropdown-item")},m(a,l){T(a,A,l),p(A,r),p(A,n),i||(s=[QA(A,"click",o),QA(A,"keydown",null)],i=!0)},p(a,l){e=a,l[0]&128&&t!==(t=e[31].username+"")&&RA(r,t)},d(a){a&&D(A),i=!1,Fe(s)}}}function B_(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,h,B,w,d,F,b,Q=[],C=new Map,y,E,U,H,k,x;function M(P,nA){return P[3]?g_:f_}let R=M(e),I=R(e);const G=e[22].default,K=Xe(G,e,e[21],null);let $=e[8];const N=P=>P[31].id;for(let P=0;P<$.length;P+=1){let nA=Hg(e,$,P),fA=N(nA);C.set(fA,Q[P]=Sg(fA,nA))}let X=e[9]&&xg(e);return U=new u_({props:{selectionStore:e[0]}}),{c(){A=v("div"),t=v("div"),r=O(),n=v("div"),i=v("div"),s=v("div"),o=v("i"),a=O(),I.c(),l=aA(`

                (`),c=aA(e[1]),g=aA(")"),u=O(),f=v("button"),h=O(),B=v("section"),K&&K.c(),w=O(),d=v("h4"),d.textContent=`${rA==="en"?"Shared with":"Partagé avec"}`,F=O(),b=v("div");for(let P=0;P<Q.length;P+=1)Q[P].c();y=O(),X&&X.c(),E=O(),SA(U.$$.fragment),m(t,"class","modal-background"),m(o,"class","fa-solid fa-book-bookmark"),m(s,"class","title is-4 mb-0 media-content"),m(f,"class","delete media-left"),m(f,"aria-label","close"),m(i,"class","modal-card-head media mb-0 is-middle"),m(b,"class","field is-grouped is-grouped-multiline"),m(B,"class","modal-card-body"),m(n,"class","modal-content"),m(A,"id","selection-modal"),m(A,"class","modal fade"),m(A,"tabindex","-1"),m(A,"aria-labelledby","selection-modal-label"),m(A,"aria-hidden","true")},m(P,nA){T(P,A,nA),p(A,t),p(A,r),p(A,n),p(n,i),p(i,s),p(s,o),p(s,a),I.m(s,null),p(s,l),p(s,c),p(s,g),p(i,u),p(i,f),p(n,h),p(n,B),K&&K.m(B,null),p(B,w),p(B,d),p(B,F),p(B,b);for(let fA=0;fA<Q.length;fA+=1)Q[fA]&&Q[fA].m(b,null);p(B,y),X&&X.m(B,null),p(n,E),bA(U,n,null),H=!0,k||(x=Ir(ds.call(null,A)),k=!0)},p(P,nA){R===(R=M(P))&&I?I.p(P,nA):(I.d(1),I=R(P),I&&(I.c(),I.m(s,l))),(!H||nA[0]&2)&&RA(c,P[1]),K&&K.p&&(!H||nA[0]&2097152)&&We(K,G,P,P[21],H?Je(G,P[21],nA,null):Ye(P[21]),null),nA[0]&525056&&($=P[8],Q=En(Q,nA,N,1,P,$,C,b,ca,Sg,null,Hg)),P[9]?X?X.p(P,nA):(X=xg(P),X.c(),X.m(B,null)):X&&(X.d(1),X=null);const fA={};nA[0]&1&&(fA.selectionStore=P[0]),U.$set(fA)},i(P){H||(V(K,P),V(U.$$.fragment,P),H=!0)},o(P){Y(K,P),Y(U.$$.fragment,P),H=!1},d(P){P&&D(A),I.d(),K&&K.d(P);for(let nA=0;nA<Q.length;nA+=1)Q[nA].d();X&&X.d(),EA(U),k=!1,x()}}}function h_(e,A,t){let r,n,i,s,o,{$$slots:a={},$$scope:l}=A;const{selected:c}=oQ;MA(e,c,N=>t(2,s=N));let{selectionStore:g}=A,{selectionLength:u=!1}=A;const{selectionTitle:f,updateTitle:h,updatePublic:B,save:w}=g;MA(e,f,N=>t(10,o=N));let d=!1,F,b;function Q(){t(3,d=!0),t(5,b=o),setTimeout(()=>F==null?void 0:F.focus(),0)}function C(N){N.key==="Enter"&&y()}function y(){t(3,d=!1),h(b),w()}let E="",U=[];async function H(){if(E.trim().length<1){t(7,U=[]);return}const X=await(await fetch(`${window.location.origin}/search/user?q=${encodeURIComponent(E)}`)).json();t(7,U=X.users||[])}function k(N){g.add({id:N.id,class:"User",title:N.username}),t(6,E=""),t(7,U=[])}function x(N){g.remove(N,"User")}function M(N){qe[N?"unshift":"push"](()=>{F=N,t(4,F)})}function R(){b=this.value,t(5,b)}const I=N=>x(N.id);function G(){E=this.value,t(6,E)}const K=N=>k(N),$=N=>B(N.target.checked);return e.$$set=N=>{"selectionStore"in N&&t(0,g=N.selectionStore),"selectionLength"in N&&t(1,u=N.selectionLength),"$$scope"in N&&t(21,l=N.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&4&&t(20,r=s==null?void 0:s.owner_id),e.$$.dirty[0]&1048576&&t(9,n=In||r===wB),e.$$.dirty[0]&4&&t(8,i=Object.entries((s==null?void 0:s.User)||{}).map(([N,X])=>({id:Number(N),username:X.title})))},[g,u,s,d,F,b,E,U,i,n,o,c,f,B,Q,C,y,H,k,x,r,l,a,M,R,I,G,K,$]}class d_ extends oe{constructor(A){super(),se(this,A,h_,B_,Ae,{selectionStore:0,selectionLength:1},null,[-1,-1])}}const Mb="";function w_(e){let A,t,r,n,i,s=rA==="en"?"Selection":"Sélection",o,a,l,c,g,u;return{c(){A=v("div"),t=v("button"),r=v("span"),n=v("i"),i=O(),o=aA(s),a=aA(`
            (`),l=aA(e[0]),c=aA(")"),m(n,"class","fa-solid fa-book-bookmark"),m(r,"id","btn-content"),m(t,"id","set-btn"),m(t,"class","button px-5 py-4 is-link svelte-gmt9z5"),m(t,"data-target","selection-modal"),m(A,"class","set-container svelte-gmt9z5")},m(f,h){T(f,A,h),p(A,t),p(t,r),p(r,n),p(r,i),p(r,o),p(r,a),p(r,l),p(r,c),g||(u=Ir(Ba.call(null,t)),g=!0)},p(f,[h]){h&1&&RA(l,f[0])},i:sA,o:sA,d(f){f&&D(A),g=!1,u()}}}function p_(e,A,t){let{selectionLength:r=0}=A,n=r;return e.$$set=i=>{"selectionLength"in i&&t(0,r=i.selectionLength)},e.$$.update=()=>{if(e.$$.dirty&3&&r!==n){const i=r>n;t(1,n=r);const s=document.getElementById("btn-content");s&&s.animate([{transform:i?"translateY(-7px)":"translateX(-5px)"},{transform:i?"translateY(7px)":"translateX(5px)"},{transform:"translate(0)"}],{duration:300,easing:"cubic-bezier(0.65, 0, 0.35, 1)"})}},[r,n]}class m_ extends oe{constructor(A){super(),se(this,A,p_,w_,Ae,{selectionLength:0})}}const Db="";function Kg(e,A,t){const r=e.slice();return r[7]=A[t][0],r[8]=A[t][1],r}function Q_(e){let A;return{c(){A=v("div"),A.textContent=`${rA==="en"?"No regions in selection":"Aucune région sélectionnée"}`},m(t,r){T(t,A,r)},p:sA,d(t){t&&D(A)}}}function C_(e){let A,t,r=Object.entries(e[2]),n=[];for(let i=0;i<r.length;i+=1)n[i]=Mg(Kg(e,r,i));return{c(){A=v("div"),t=v("div");for(let i=0;i<n.length;i+=1)n[i].c();m(t,"class","grid is-gap-2"),m(A,"class","fixed-grid has-6-cols")},m(i,s){T(i,A,s),p(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s&13){r=Object.entries(i[2]);let o;for(o=0;o<r.length;o+=1){const a=Kg(i,r,o);n[o]?n[o].p(a,s):(n[o]=Mg(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&D(A),xe(n,i)}}}function Mg(e){let A,t,r,n,i,s,o,a=e[8].title+"",l,c,g,u,f,h;function B(){return e[6](e[7])}return{c(){A=v("div"),t=v("figure"),r=v("img"),i=O(),s=v("div"),o=v("span"),l=aA(a),c=O(),g=v("button"),u=O(),ut(r.src,n=cr(e[8].img,e[8].xywh,"96,"))||m(r,"src",n),m(r,"alt","Extracted region"),m(o,"class","overlay-desc"),m(s,"class","overlay is-center svelte-g8ij5d"),m(t,"class","image is-64x64 card"),m(g,"class","delete region-btn svelte-g8ij5d"),m(g,"aria-label","remove from selection"),m(A,"class","selection cell svelte-g8ij5d")},m(w,d){T(w,A,d),p(A,t),p(t,r),p(t,i),p(t,s),p(s,o),p(o,l),p(A,c),p(A,g),p(A,u),f||(h=QA(g,"click",B),f=!0)},p(w,d){e=w,d&4&&!ut(r.src,n=cr(e[8].img,e[8].xywh,"96,"))&&m(r,"src",n),d&4&&a!==(a=e[8].title+"")&&RA(l,a)},d(w){w&&D(A),f=!1,h()}}}function v_(e){let A;function t(i,s){return i[4]?C_:Q_}let r=t(e),n=r(e);return{c(){n.c(),A=Ke()},m(i,s){n.m(i,s),T(i,A,s)},p(i,s){r===(r=t(i))&&n?n.p(i,s):(n.d(1),n=r(i),n&&(n.c(),n.m(A.parentNode,A)))},d(i){n.d(i),i&&D(A)}}}function U_(e){let A,t,r,n;return A=new m_({props:{selectionLength:e[1]}}),r=new d_({props:{selectionLength:e[1],selectionStore:e[0],$$slots:{default:[v_]},$$scope:{ctx:e}}}),{c(){SA(A.$$.fragment),t=O(),SA(r.$$.fragment)},m(i,s){bA(A,i,s),T(i,t,s),bA(r,i,s),n=!0},p(i,[s]){const o={};s&2&&(o.selectionLength=i[1]),A.$set(o);const a={};s&2&&(a.selectionLength=i[1]),s&1&&(a.selectionStore=i[0]),s&2077&&(a.$$scope={dirty:s,ctx:i}),r.$set(a)},i(i){n||(V(A.$$.fragment,i),V(r.$$.fragment,i),n=!0)},o(i){Y(A.$$.fragment,i),Y(r.$$.fragment,i),n=!1},d(i){EA(A,i),i&&D(t),EA(r,i)}}}function F_(e,A,t){let r,n,i,s,{selectionStore:o}=A;const{selected:a}=o;MA(e,a,c=>t(3,s=c));const l=c=>o.remove(c,Object.keys(s)[0]);return e.$$set=c=>{"selectionStore"in c&&t(0,o=c.selectionStore)},e.$$.update=()=>{e.$$.dirty&8&&t(2,r=Object.values(s)[0]||{}),e.$$.dirty&4&&t(1,n=Object.keys(r).length),e.$$.dirty&2&&t(4,i=n>0)},[o,n,r,s,i,a,l]}class y_ extends oe{constructor(A){super(),se(this,A,F_,U_,Ae,{selectionStore:0})}}const Tb="",{Map:__}=ra;function Dg(e,A,t){const r=e.slice();return r[18]=A[t],r}function Tg(e,A,t){const r=e.slice();return r[21]=A[t],r}function b_(e){let A,t;return A=new n_({props:{expandable:!1,$$slots:{"toolbar-visible":[E_]},$$scope:{ctx:e}}}),{c(){SA(A.$$.fragment)},m(r,n){bA(A,r,n),t=!0},p(r,n){const i={};n&16777216&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(V(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){EA(A,r)}}}function Og(e){let A,t,r,n,i,s=e[21].title+"",o,a,l,c=e[21].shortcut+"",g,u,f,h;return{c(){A=v("p"),t=v("button"),r=v("span"),n=v("i"),i=O(),o=aA(s),a=O(),l=v("span"),g=aA(c),u=O(),m(n,"class","fas "+e[21].icon+" svelte-7vjt6f"),m(r,"class","icon is-small"),m(l,"class","shortcut svelte-7vjt6f"),m(t,"class","button pl-5"),m(t,"title",e[21].desc),m(A,"class","control")},m(B,w){T(B,A,w),p(A,t),p(t,r),p(r,n),p(t,i),p(t,o),p(t,a),p(t,l),p(l,g),p(A,u),f||(h=QA(t,"click",St(e[21].fct)),f=!0)},p(B,w){e=B},d(B){B&&D(A),f=!1,h()}}}function E_(e){let A,t,r,n,i,s,o,a=Object.values(e[10]),l=[];for(let c=0;c<a.length;c+=1)l[c]=Og(Tg(e,a,c));return{c(){A=v("div"),t=v("div"),r=v("div"),n=v("span"),n.textContent=`${rA==="en"?"Process selection":"Agir sur la sélection"}`,i=O(),s=v("div"),o=v("div");for(let c=0;c<l.length;c+=1)l[c].c();m(n,"class","tag is-medium is-link mr-5"),m(r,"class","column is-narrow mr-5"),m(o,"class","field has-addons"),m(s,"class","column"),m(t,"class","columns is-vcentered is-mobile py-4"),m(A,"slot","toolbar-visible")},m(c,g){T(c,A,g),p(A,t),p(t,r),p(r,n),p(t,i),p(t,s),p(s,o);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(o,null)},p(c,g){if(g&1024){a=Object.values(c[10]);let u;for(u=0;u<a.length;u+=1){const f=Tg(c,a,u);l[u]?l[u].p(f,g):(l[u]=Og(f),l[u].c(),l[u].m(o,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=a.length}},d(c){c&&D(A),xe(l,c)}}}function H_(e){let A,t=e[9].title+"",r;return{c(){A=v("span"),r=aA(t),m(A,"class","button is-small is-success"),m(A,"title",e[9].desc)},m(n,i){T(n,A,i),p(A,r)},p:sA,d(n){n&&D(A)}}}function I_(e){let A,t=e[8].title+"",r,n,i;function s(){return e[13](e[18])}return{c(){A=v("button"),r=aA(t),m(A,"class","button is-small is-warning"),m(A,"title",e[8].desc)},m(o,a){T(o,A,a),p(A,r),n||(i=QA(A,"click",s),n=!0)},p(o,a){e=o},d(o){o&&D(A),n=!1,i()}}}function S_(e){let A,t,r=e[18].size+"",n,i,s,o,a,l;function c(f,h){return f[18].fullyConnected?H_:I_}let g=c(e),u=g(e);return{c(){A=v("div"),t=v("span"),n=aA(r),i=aA(" images"),s=O(),o=v("hr"),a=O(),u.c(),l=O(),m(t,"class","cluster-size"),m(A,"class","cluster-info is-center is-fullwidth")},m(f,h){T(f,A,h),p(A,t),p(t,n),p(t,i),p(A,s),p(A,o),p(A,a),u.m(A,null),T(f,l,h)},p(f,h){h&2&&r!==(r=f[18].size+"")&&RA(n,r),g===(g=c(f))&&u?u.p(f,h):(u.d(1),u=g(f),u&&(u.c(),u.m(A,null)))},d(f){f&&D(A),u.d(),f&&D(l)}}}function x_(e){let A,t,r;return A=new Xc({props:{items:e[2].get(e[18].id),copyable:!1,selectionStore:ui}}),{c(){SA(A.$$.fragment),t=O()},m(n,i){bA(A,n,i),T(n,t,i),r=!0},p(n,i){const s={};i&6&&(s.items=n[2].get(n[18].id)),A.$set(s)},i(n){r||(V(A.$$.fragment,n),r=!0)},o(n){Y(A.$$.fragment,n),r=!1},d(n){EA(A,n),n&&D(t)}}}function Ng(e,A){let t,r,n;return r=new qy({props:{$$slots:{"row-body":[x_],"row-header":[S_]},$$scope:{ctx:A}}}),{key:e,first:null,c(){t=Ke(),SA(r.$$.fragment),this.first=t},m(i,s){T(i,t,s),bA(r,i,s),n=!0},p(i,s){A=i;const o={};s&16777222&&(o.$$scope={dirty:s,ctx:A}),r.$set(o)},i(i){n||(V(r.$$.fragment,i),n=!0)},o(i){Y(r.$$.fragment,i),n=!1},d(i){i&&D(t),EA(r,i)}}}function L_(e){let A=[],t=new __,r,n,i=e[1];const s=o=>o[18].id;for(let o=0;o<i.length;o+=1){let a=Dg(e,i,o),l=s(a);t.set(l,A[o]=Ng(l,a))}return{c(){for(let o=0;o<A.length;o+=1)A[o].c();r=Ke()},m(o,a){for(let l=0;l<A.length;l+=1)A[l]&&A[l].m(o,a);T(o,r,a),n=!0},p(o,a){a&774&&(i=o[1],ne(),A=En(A,a,s,1,o,i,t,r.parentNode,ua,Ng,r,Dg),ie())},i(o){if(!n){for(let a=0;a<i.length;a+=1)V(A[a]);n=!0}},o(o){for(let a=0;a<A.length;a+=1)Y(A[a]);n=!1},d(o){for(let a=0;a<A.length;a+=1)A[a].d(o);o&&D(r)}}}function k_(e){let A,t,r,n,i,s,o,a,l,c=In&&b_(e);return t=new _g({props:{store:e[0],nbOfItems:e[3],pageLength:e[7]}}),n=new y_({props:{selectionStore:ui}}),s=new Xy({props:{$$slots:{default:[L_]},$$scope:{ctx:e}}}),a=new _g({props:{store:e[0],nbOfItems:e[3],pageLength:e[7]}}),{c(){c&&c.c(),A=O(),SA(t.$$.fragment),r=O(),SA(n.$$.fragment),i=O(),SA(s.$$.fragment),o=O(),SA(a.$$.fragment)},m(g,u){c&&c.m(g,u),T(g,A,u),bA(t,g,u),T(g,r,u),bA(n,g,u),T(g,i,u),bA(s,g,u),T(g,o,u),bA(a,g,u),l=!0},p(g,[u]){In&&c.p(g,u);const f={};u&1&&(f.store=g[0]),u&8&&(f.nbOfItems=g[3]),t.$set(f);const h={};u&16777222&&(h.$$scope={dirty:u,ctx:g}),s.$set(h);const B={};u&1&&(B.store=g[0]),u&8&&(B.nbOfItems=g[3]),a.$set(B)},i(g){l||(V(c),V(t.$$.fragment,g),V(n.$$.fragment,g),V(s.$$.fragment,g),V(a.$$.fragment,g),l=!0)},o(g){Y(c),Y(t.$$.fragment,g),Y(n.$$.fragment,g),Y(s.$$.fragment,g),Y(a.$$.fragment,g),l=!1},d(g){c&&c.d(g),g&&D(A),EA(t,g),g&&D(r),EA(n,g),g&&D(i),EA(s,g),g&&D(o),EA(a,g)}}}function K_(e,A,t){let r,n,i,s,{documentSetStore:o}=A;const{imageNodes:a}=o;MA(e,a,C=>t(12,n=C));let{clusterStore:l}=A;const{clusterNb:c,paginatedClusters:g,pageLength:u,validateCluster:f,newCluster:h,removeFromClusters:B}=l;MA(e,c,C=>t(3,s=C)),MA(e,g,C=>t(1,i=C));const w={create:{title:rA==="en"?"New cluster":"Nouveau cluster",desc:rA==="en"?"Create a new validated cluster from the selected regions":"Créer un nouveau cluster valide à partir des régions sélectionnées",icon:"fa-object-group",shortcut:"Shift + C",fct:h},remove:{title:rA==="en"?"Remove from cluster":"Retirer du cluster",desc:rA==="en"?"Remove the selected regions from their cluster":"Retirer les régions sélectionnées de leur cluster",icon:"fa-chain-broken",shortcut:"Shift + D",fct:B},validate:{title:rA==="en"?"Validate cluster":"Valider le cluster",desc:rA==="en"?"Set as exact match all the pairs of regions in the cluster":"Définir comme correspondance exacte toutes les paires de régions dans le cluster",icon:"fa-check",fct:f},validated:{title:rA==="en"?"Validated cluster":"Cluster valide",desc:rA==="en"?"All pairs of regions have be categorized as exact matches":"Toutes les paires de régions ont été catégorisées comme des correspondances exactes",icon:"fa-check"}},{validate:d,validated:F,...b}=w,Q=C=>d.fct(C);return e.$$set=C=>{"documentSetStore"in C&&t(11,o=C.documentSetStore),"clusterStore"in C&&t(0,l=C.clusterStore)},e.$$.update=()=>{e.$$.dirty&4098&&t(2,r=new Map(i.map(C=>[C.id,C.members.map(y=>({...n.get(y),clusterId:C.id}))])))},[l,i,r,s,a,c,g,u,d,F,b,o,n,Q]}class M_ extends oe{constructor(A){super(),se(this,A,K_,k_,Ae,{documentSetStore:11,clusterStore:0})}}function D_(e,A){const r=ZA(1),{visiblePairs:n,imageNodes:i}=e;fa(r,"p");function s(Q){ga(Q,r,"p")}function o(Q){if(Q.length===0)return[];const C=new Map,y=k=>C.has(k)?(C.get(k)!==k&&C.set(k,y(C.get(k))),C.get(k)):(C.set(k,k),k),E=(k,x)=>{const M=y(k),R=y(x);M!==R&&C.set(R,M)},U=new Set;Q.forEach(k=>{E(k.id_1,k.id_2),U.add(k.id_1),U.add(k.id_2)});const H=new Map;return U.forEach(k=>{const x=y(k);H.has(x)||H.set(x,[]),H.get(x).push(k)}),Array.from(H.values()).map(k=>{const x=k.length,M=x*(x-1)/2,R=new Set(k),I=Q.filter(G=>R.has(G.id_1)&&R.has(G.id_2)).length;return{id:crypto.randomUUID(),members:k,size:x,fullyConnected:I===M}}).filter(k=>k.size>1).sort((k,x)=>x.size-k.size)}const a=ye(n,Q=>Q.length?o(Q):[]),l=ZA([]);a.subscribe(Q=>{l.set(Q)});const c=ye([l,r],([Q,C])=>{const y=(C-1)*10,E=y+10;return Q.slice(y,E)}),g=(Q,C)=>{const y=be(i).get(Q),E=be(i).get(C);return{img_1:Q,img_2:C,regions_id_1:y==null?void 0:y.regionId,regions_id_2:E==null?void 0:E.regionId}},u=(Q,C)=>(l.update(y=>y.map(E=>{if(!C[E.id])return E;const U=E.members.filter(H=>!Q.has(H));return{...E,members:U,size:U.length}}).filter(E=>E.size>0)),!0),f=async Q=>{const C=Array.isArray(Q)?Q:Object.keys(Q),y=new Set(C),E={};be(l).forEach(H=>{const k=H.members.filter(x=>y.has(x));k.length>0&&(E[H.id]=k)});const U=Object.entries(E).flatMap(([H,k])=>{const x=be(l).find(R=>R.id===H);if(!x)return[];const M=x.members.filter(R=>!y.has(R));return k.flatMap(R=>M.map(I=>g(R,I)))});if(U.length===0)return u(y,E),!0;try{const H=await hs(()=>fetch(`${window.location.origin}/${ft}/uncategorize-pair-batch`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":gs},body:JSON.stringify({pairs:U})}));return H.ok?(u(y,E),!0):(console.log(H),await Ct(rA==="en"?"Batch un-categorization failed":"La dé-catégorisation par lot a échoué",rA==="en"?"Error":"Erreur"),!1)}catch(H){return await Ct(H,rA==="en"?"Error":"Erreur"),!1}},h=async Q=>{const C=Q.flatMap((y,E)=>Q.slice(E+1).map(U=>g(y,U)));try{const y=await hs(()=>fetch(`${window.location.origin}/${ft}/exact-match-batch`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":gs},body:JSON.stringify({pairs:C})}));return y.ok?!0:(console.log(y),await Ct(rA==="en"?"Batch validation failed":"La validation par lot a échoué",rA==="en"?"Error":"Erreur"),!1)}catch(y){return await Ct(y,rA==="en"?"Error":"Erreur"),console.error("Error:",y),!1}},B=async Q=>{if(!In)return await Ct(rA==="en"?"You do not have permission to validate clusters":"Vous n'avez pas la permission, de valider les clusters.",rA==="en"?"Permission Denied":"Permission refusée"),!1;const C=await h(Q.members);return C&&l.update(y=>y.map(E=>E.id===Q.id?{...E,fullyConnected:!0}:E)),C},w=async Q=>{if(Q.length<2)return!1;const C=await h(Q);return C&&l.update(y=>[{id:crypto.randomUUID(),members:Q,size:Q.length,fullyConnected:!0},...y].sort((U,H)=>H.size-U.size)),C},d=()=>Object.values(be(A).selected)[0]||{},F=async()=>{if(!await Ct(rA==="en"?"Do you want to create a cluster out of these images?":"Voulez-vous créer un cluster à partir de ces images ?",rA==="en"?"Confirm creation":"Confirmer la création",!0))return;const C=d(),y=Object.keys(C);return y.length<2?(await Ct(rA==="en"?"Cluster creation requires at least 2 images":"La création d'un nouveau cluster nécessite a minima 2 images",rA==="en"?"Impossible creation":"Création impossible"),!1):!await f(y)||!await w(y)?!1:(A.empty(),!0)},b=async()=>{if(!await Ct(rA==="en"?"Do you want to remove these images from their clusters?":"Voulez-vous supprimer ces images de leurs clusters ?",rA==="en"?"Confirm deletion":"Confirmer la suppression",!0))return;const C=d();return await f(Object.keys(C))?(A.empty(),!0):!1};return{imageClusters:a,interfaceClusters:l,clusterNb:ye(l,Q=>Q.length),validateCluster:B,removeFromClusters:b,newCluster:F,paginatedClusters:c,handlePageUpdate:s,pageLength:10,currentPage:r}}const T_=e=>({}),Rg=e=>({});function O_(e){let A,t,r,n,i,s,o,a,l,c,g,u,f,h,B,w,d,F,b,Q,C;const y=e[1].content,E=Xe(y,e,e[0],Rg);return{c(){A=v("button"),t=O(),r=v("div"),n=v("div"),i=O(),s=v("div"),o=v("div"),o.innerHTML=`<div class="title is-4 mb-0 media-content"><span id="modal-title" class="mb-0"></span></div>
            <button class="delete media-left" aria-label="close"></button>`,a=O(),l=v("section"),c=v("div"),g=O(),u=v("div"),E&&E.c(),f=O(),h=v("footer"),B=v("div"),w=v("button"),w.textContent=`${rA==="en"?"Abort":"Retour"}`,d=O(),F=v("button"),F.textContent="OK",m(A,"id","hidden-msg-btn"),m(A,"data-target","msg-modal"),A.hidden=!0,m(n,"id","modal-bkg"),m(n,"class","modal-background"),m(o,"class","modal-card-head media mb-0"),m(c,"id","modal-msg"),m(u,"class","py-3"),m(l,"id","modal-body"),m(l,"class","modal-card-body"),m(w,"id","cancel-btn"),m(w,"class","button is-link is-light button-close"),m(F,"id","ok-btn"),m(F,"class","button is-link button-close"),m(B,"class","buttons"),m(h,"id","modal-footer"),m(h,"class","modal-card-foot is-center pt-3"),h.hidden=!0,m(s,"class","modal-content"),m(r,"id","msg-modal"),m(r,"class","modal fade"),m(r,"tabindex","-1"),m(r,"aria-labelledby","selection-modal-label"),m(r,"aria-hidden","true")},m(U,H){T(U,A,H),T(U,t,H),T(U,r,H),p(r,n),p(r,i),p(r,s),p(s,o),p(s,a),p(s,l),p(l,c),p(l,g),p(l,u),E&&E.m(u,null),p(s,f),p(s,h),p(h,B),p(B,w),p(B,d),p(B,F),b=!0,Q||(C=[Ir(Ba.call(null,A)),Ir(ds.call(null,r))],Q=!0)},p(U,[H]){E&&E.p&&(!b||H&1)&&We(E,y,U,U[0],b?Je(y,U[0],H,T_):Ye(U[0]),Rg)},i(U){b||(V(E,U),b=!0)},o(U){Y(E,U),b=!1},d(U){U&&D(A),U&&D(t),U&&D(r),E&&E.d(U),Q=!1,Fe(C)}}}function N_(e,A,t){let{$$slots:r={},$$scope:n}=A;return e.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,r]}class R_ extends oe{constructor(A){super(),se(this,A,N_,O_,Ae,{})}}function Vg(e,A,t){const r=e.slice();return r[25]=A[t],r}function V_(e){let A,t,r;return t=new jh({props:{docSet:e[0],documentSetStore:e[5],clusterStore:e[9]}}),{c(){A=v("div"),SA(t.$$.fragment),m(A,"slot","sidebar")},m(n,i){T(n,A,i),bA(t,A,null),r=!0},p(n,i){const s={};i&1&&(s.docSet=n[0]),t.$set(s)},i(n){r||(V(t.$$.fragment,n),r=!0)},o(n){Y(t.$$.fragment,n),r=!1},d(n){n&&D(A),EA(t)}}}function Gg(e){let A,t,r,n,i,s,o,a=e[25].title+"",l,c;return{c(){A=v("div"),t=v("figure"),r=v("img"),i=O(),s=v("div"),o=v("span"),l=aA(a),c=O(),ut(r.src,n=cr(e[25].img,e[25].xywh,"96,"))||m(r,"src",n),m(r,"alt","Extracted region"),m(o,"class","overlay-desc"),m(s,"class","overlay is-center"),m(t,"class","image is-64x64 card"),m(A,"class","selection cell")},m(g,u){T(g,A,u),p(A,t),p(t,r),p(t,i),p(t,s),p(s,o),p(o,l),p(A,c)},p(g,u){u&2&&!ut(r.src,n=cr(g[25].img,g[25].xywh,"96,"))&&m(r,"src",n),u&2&&a!==(a=g[25].title+"")&&RA(l,a)},d(g){g&&D(A)}}}function G_(e){let A,t,r=Object.values(Object.values(e[1])[0]||{}),n=[];for(let i=0;i<r.length;i+=1)n[i]=Gg(Vg(e,r,i));return{c(){A=v("div"),t=v("div");for(let i=0;i<n.length;i+=1)n[i].c();m(t,"class","grid is-gap-2"),m(A,"slot","content"),m(A,"class","fixed-grid has-6-cols")},m(i,s){T(i,A,s),p(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s&2){r=Object.values(Object.values(i[1])[0]||{});let o;for(o=0;o<r.length;o+=1){const a=Vg(i,r,o);n[o]?n[o].p(a,s):(n[o]=Gg(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&D(A),xe(n,i)}}}function P_(e){let A,t,r,n={ctx:e,current:null,token:null,hasCatch:!1,pending:q_,then:W_,catch:J_,value:24,blocks:[,,,]};return bn(t=e[3],n),{c(){A=Ke(),n.block.c()},m(i,s){T(i,A,s),n.block.m(i,n.anchor=s),n.mount=()=>A.parentNode,n.anchor=A,r=!0},p(i,s){e=i,n.ctx=e,s&8&&t!==(t=e[3])&&bn(t,n)||la(n,e,s)},i(i){r||(V(n.block),r=!0)},o(i){for(let s=0;s<3;s+=1){const o=n.blocks[s];Y(o)}r=!1},d(i){i&&D(A),n.block.d(i),n.token=null,n=null}}}function X_(e){let A,t,r;return{c(){A=v("article"),t=v("div"),r=aA(e[2]),m(t,"class","message-body"),m(A,"class","message is-danger")},m(n,i){T(n,A,i),p(A,t),p(t,r)},p(n,i){i&4&&RA(r,n[2])},i:sA,o:sA,d(n){n&&D(A)}}}function J_(e){return{c:sA,m:sA,p:sA,i:sA,o:sA,d:sA}}function W_(e){let A,t,r,n;const i=[z_,Y_],s=[];function o(a,l){return a[24]===0?0:1}return A=o(e),t=s[A]=i[A](e),{c(){t.c(),r=Ke()},m(a,l){s[A].m(a,l),T(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?s[A].p(a,l):(ne(),Y(s[c],1,1,()=>{s[c]=null}),ie(),t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),V(t,1),t.m(r.parentNode,r))},i(a){n||(V(t),n=!0)},o(a){Y(t),n=!1},d(a){s[A].d(a),a&&D(r)}}}function Y_(e){let A,t,r=e[10][e[4]]+"",n,i,s,o,a;const l=[j_,Z_,$_],c=[];function g(u,f){return u[4]==="img"||u[4]==="doc"?0:u[4]==="sim"?1:u[4]==="mat"?2:-1}return~(s=g(e))&&(o=c[s]=l[s](e)),{c(){A=v("div"),t=v("h2"),n=aA(r),i=O(),o&&o.c(),m(t,"class","title is-3 has-text-link")},m(u,f){T(u,A,f),p(A,t),p(t,n),p(A,i),~s&&c[s].m(A,null),a=!0},p(u,f){(!a||f&16)&&r!==(r=u[10][u[4]]+"")&&RA(n,r);let h=s;s=g(u),s===h?~s&&c[s].p(u,f):(o&&(ne(),Y(c[h],1,1,()=>{c[h]=null}),ie()),~s?(o=c[s],o?o.p(u,f):(o=c[s]=l[s](u),o.c()),V(o,1),o.m(A,null)):o=null)},i(u){a||(V(o),a=!0)},o(u){Y(o),a=!1},d(u){u&&D(A),~s&&c[s].d()}}}function z_(e){let A;return{c(){A=v("article"),A.innerHTML=`<div class="message-body">No document pairs found for this configuration.
                            Please adjust your selection criteria in the sidebar to include more documents or
                            categories.</div>`,m(A,"class","message is-warning")},m(t,r){T(t,A,r)},p:sA,i:sA,o:sA,d(t){t&&D(A)}}}function $_(e){let A,t;return A=new Ty({props:{documentSetStore:e[5]}}),{c(){SA(A.$$.fragment)},m(r,n){bA(A,r,n),t=!0},p:sA,i(r){t||(V(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){EA(A,r)}}}function Z_(e){let A,t;return A=new M_({props:{documentSetStore:e[5],clusterStore:e[9]}}),{c(){SA(A.$$.fragment)},m(r,n){bA(A,r,n),t=!0},p:sA,i(r){t||(V(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){EA(A,r)}}}function j_(e){let A,t;return A=new qQ({props:{documentSetStore:e[5],type:e[4]}}),{c(){SA(A.$$.fragment)},m(r,n){bA(A,r,n),t=!0},p(r,n){const i={};n&16&&(i.type=r[4]),A.$set(i)},i(r){t||(V(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){EA(A,r)}}}function q_(e){let A;return{c(){A=v("progress"),A.textContent="Loading...",m(A,"class","progress is-link"),m(A,"max","100")},m(t,r){T(t,A,r)},p:sA,i:sA,o:sA,d(t){t&&D(A)}}}function Ab(e){let A,t,r,n,i,s;t=new R_({props:{$$slots:{content:[G_]},$$scope:{ctx:e}}});const o=[X_,P_],a=[];function l(c,g){return c[2]?0:1}return n=l(e),i=a[n]=o[n](e),{c(){A=v("div"),SA(t.$$.fragment),r=O(),i.c(),m(A,"slot","content")},m(c,g){T(c,A,g),bA(t,A,null),p(A,r),a[n].m(A,null),s=!0},p(c,g){const u={};g&268435458&&(u.$$scope={dirty:g,ctx:c}),t.$set(u);let f=n;n=l(c),n===f?a[n].p(c,g):(ne(),Y(a[f],1,1,()=>{a[f]=null}),ie(),i=a[n],i?i.p(c,g):(i=a[n]=o[n](c),i.c()),V(i,1),i.m(A,null))},i(c){s||(V(t.$$.fragment,c),V(i),s=!0)},o(c){Y(t.$$.fragment,c),Y(i),s=!1},d(c){c&&D(A),EA(t),a[n].d()}}}function eb(e){let A,t;return A=new GB({props:{tabList:e[10],$$slots:{content:[Ab],sidebar:[V_]},$$scope:{ctx:e}}}),{c(){SA(A.$$.fragment)},m(r,n){bA(A,r,n),t=!0},p(r,[n]){const i={};n&268435487&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(V(A.$$.fragment,r),t=!0)},o(r){Y(A.$$.fragment,r),t=!1},d(r){EA(A,r)}}}function tb(e,A,t){var x;let r,n,i,s;MA(e,Xt,M=>t(4,s=M));let{docSet:o}=A;const a=Vy(o.id),{error:l,fetchPairs:c,selectedRegions:g,selectedCategories:u,threshold:f,topK:h,mutualTopK:B,scoreMode:w}=a;MA(e,l,M=>t(2,n=M)),MA(e,c,M=>t(3,i=M));let d,F,b,Q,C,y;ir(()=>{d=ur(g,"regions","set"),F=ur(u,"categories","array",[1]),b=ur(f,"threshold","number"),Q=ur(h,"topk","number"),C=ur(B,"mutual","boolean"),y=ur(w,"mode","string");const M=g.subscribe(d),R=u.subscribe(F),I=f.subscribe(b),G=h.subscribe(Q),K=B.subscribe(C),$=w.subscribe(y);return()=>{M(),R(),I(),G(),K(),$()}});const{selected:E}=ui;MA(e,E,M=>t(1,r=M));const U=D_(a,ui),H={sim:rA==="en"?"Copy Clusters":"Groupe de copies",mat:rA==="en"?"Document Matrix":"Matrice de documents",img:rA==="en"?"Image Network":"Réseau d'images",doc:rA==="en"?"Document Network":"Réseau de documents"},k=((x=o==null?void 0:o.selection)==null?void 0:x.selected)||{Witness:{},Series:{},Work:{}};return sB("selectedDocuments",k),e.$$set=M=>{"docSet"in M&&t(0,o=M.docSet)},[o,r,n,i,s,a,l,c,E,U,H]}class rb extends oe{constructor(A){super(),se(this,A,tb,eb,Ae,{docSet:0})}}new rb({target:document.getElementById("document-set"),props:{docSet}})})();
//# sourceMappingURL=documentSet.js.map

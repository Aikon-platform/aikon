(function(){"use strict";function $(){}const jo=e=>e;function tB(e,A){for(const t in A)e[t]=A[t];return e}function rB(e){return!!e&&(typeof e=="object"||typeof e=="function")&&typeof e.then=="function"}function $o(e){return e()}function qo(){return Object.create(null)}function te(e){e.forEach($o)}function zt(e){return typeof e=="function"}function SA(e,A){return e!=e?A==A:e!==A||e&&typeof e=="object"||typeof e=="function"}let fn;function rt(e,A){return fn||(fn=document.createElement("a")),fn.href=A,e===fn.href}function nB(e){return Object.keys(e).length===0}function gn(e,...A){if(e==null)return $;const t=e.subscribe(...A);return t.unsubscribe?()=>t.unsubscribe():t}function de(e){let A;return gn(e,t=>A=t)(),A}function vA(e,A,t){e.$$.on_destroy.push(gn(A,t))}function re(e,A,t,r){if(e){const n=Aa(e,A,t,r);return e[0](n)}}function Aa(e,A,t,r){return e[1]&&r?tB(t.ctx.slice(),e[1](r(A))):t.ctx}function ne(e,A,t,r){if(e[2]&&r){const n=e[2](r(t));if(A.dirty===void 0)return n;if(typeof n=="object"){const i=[],s=Math.max(A.dirty.length,n.length);for(let o=0;o<s;o+=1)i[o]=A.dirty[o]|n[o];return i}return A.dirty|n}return A.dirty}function ie(e,A,t,r,n,i){if(n){const s=Aa(A,t,r,i);e.p(s,n)}}function se(e){if(e.ctx.length>32){const A=[],t=e.ctx.length/32;for(let r=0;r<t;r++)A[r]=-1;return A}return-1}function ea(e){const A={};for(const t in e)A[t]=!0;return A}function Zt(e){return e&&zt(e.destroy)?e.destroy:$}const ta=typeof window<"u";let iB=ta?()=>window.performance.now():()=>Date.now(),ns=ta?e=>requestAnimationFrame(e):$;const jt=new Set;function ra(e){jt.forEach(A=>{A.c(e)||(jt.delete(A),A.f())}),jt.size!==0&&ns(ra)}function sB(e){let A;return jt.size===0&&ns(ra),{promise:new Promise(t=>{jt.add(A={c:e,f:t})}),abort(){jt.delete(A)}}}const na=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function m(e,A){e.appendChild(A)}function ia(e){if(!e)return document;const A=e.getRootNode?e.getRootNode():e.ownerDocument;return A&&A.host?A:e.ownerDocument}function oB(e){const A=_("style");return aB(ia(e),A),A.sheet}function aB(e,A){return m(e.head||e,A),A.sheet}function O(e,A,t){e.insertBefore(A,t||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function ve(e,A){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(A)}function _(e){return document.createElement(e)}function ct(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function sA(e){return document.createTextNode(e)}function V(){return sA(" ")}function ye(){return sA("")}function gA(e,A,t,r){return e.addEventListener(A,t,r),()=>e.removeEventListener(A,t,r)}function Ct(e){return function(A){return A.preventDefault(),e.call(this,A)}}function sa(e){return function(A){return A.stopPropagation(),e.call(this,A)}}function Q(e,A,t){t==null?e.removeAttribute(A):e.getAttribute(A)!==t&&e.setAttribute(A,t)}function lB(e){return Array.from(e.childNodes)}function _A(e,A){A=""+A,e.data!==A&&(e.data=A)}function Bn(e,A){e.value=A??""}function FA(e,A,t,r){t==null?e.style.removeProperty(A):e.style.setProperty(A,t,r?"important":"")}function vt(e,A,t){for(let r=0;r<e.options.length;r+=1){const n=e.options[r];if(n.__value===A){n.selected=!0;return}}(!t||A!==void 0)&&(e.selectedIndex=-1)}function dn(e){const A=e.querySelector(":checked");return A&&A.__value}function zA(e,A,t){e.classList[t?"add":"remove"](A)}function oa(e,A,{bubbles:t=!1,cancelable:r=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t,r,A),n}const hn=new Map;let wn=0;function cB(e){let A=5381,t=e.length;for(;t--;)A=(A<<5)-A^e.charCodeAt(t);return A>>>0}function uB(e,A){const t={stylesheet:oB(A),rules:{}};return hn.set(e,t),t}function aa(e,A,t,r,n,i,s,o=0){const a=16.666/r;let l=`{
`;for(let w=0;w<=1;w+=a){const h=A+(t-A)*i(w);l+=w*100+`%{${s(h,1-h)}}
`}const c=l+`100% {${s(t,1-t)}}
}`,u=`__svelte_${cB(c)}_${o}`,f=ia(e),{stylesheet:g,rules:d}=hn.get(f)||uB(f,e);d[u]||(d[u]=!0,g.insertRule(`@keyframes ${u} ${c}`,g.cssRules.length));const B=e.style.animation||"";return e.style.animation=`${B?`${B}, `:""}${u} ${r}ms linear ${n}ms 1 both`,wn+=1,u}function fB(e,A){const t=(e.style.animation||"").split(", "),r=t.filter(A?i=>i.indexOf(A)<0:i=>i.indexOf("__svelte")===-1),n=t.length-r.length;n&&(e.style.animation=r.join(", "),wn-=n,wn||gB())}function gB(){ns(()=>{wn||(hn.forEach(e=>{const{ownerNode:A}=e.stylesheet;A&&T(A)}),hn.clear())})}let _r;function ut(e){_r=e}function $t(){if(!_r)throw new Error("Function called outside component initialization");return _r}function Dt(e){$t().$$.on_mount.push(e)}function qt(e){$t().$$.on_destroy.push(e)}function Tt(){const e=$t();return(A,t,{cancelable:r=!1}={})=>{const n=e.$$.callbacks[A];if(n){const i=oa(A,t,{cancelable:r});return n.slice().forEach(s=>{s.call(e,i)}),!i.defaultPrevented}return!0}}function BB(e,A){return $t().$$.context.set(e,A),A}function la(e){return $t().$$.context.get(e)}function dB(e,A){const t=e.$$.callbacks[A.type];t&&t.slice().forEach(r=>r.call(this,A))}const Ar=[],Ne=[];let er=[];const is=[],hB=Promise.resolve();let ss=!1;function wB(){ss||(ss=!0,hB.then(as))}function ze(e){er.push(e)}function pn(e){is.push(e)}const os=new Set;let tr=0;function as(){if(tr!==0)return;const e=_r;do{try{for(;tr<Ar.length;){const A=Ar[tr];tr++,ut(A),pB(A.$$)}}catch(A){throw Ar.length=0,tr=0,A}for(ut(null),Ar.length=0,tr=0;Ne.length;)Ne.pop()();for(let A=0;A<er.length;A+=1){const t=er[A];os.has(t)||(os.add(t),t())}er.length=0}while(Ar.length);for(;is.length;)is.pop()();ss=!1,os.clear(),ut(e)}function pB(e){if(e.fragment!==null){e.update(),te(e.before_update);const A=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,A),e.after_update.forEach(ze)}}function mB(e){const A=[],t=[];er.forEach(r=>e.indexOf(r)===-1?A.push(r):t.push(r)),t.forEach(r=>r()),er=A}let yr;function QB(){return yr||(yr=Promise.resolve(),yr.then(()=>{yr=null})),yr}function ls(e,A,t){e.dispatchEvent(oa(`${A?"intro":"outro"}${t}`))}const mn=new Set;let ft;function kA(){ft={r:0,c:[],p:ft}}function KA(){ft.r||te(ft.c),ft=ft.p}function N(e,A){e&&e.i&&(mn.delete(e),e.i(A))}function X(e,A,t,r){if(e&&e.o){if(mn.has(e))return;mn.add(e),ft.c.push(()=>{mn.delete(e),r&&(t&&e.d(1),r())}),e.o(A)}else r&&r()}const CB={duration:0};function Qn(e,A,t,r){const n={direction:"both"};let i=A(e,t,n),s=r?0:1,o=null,a=null,l=null;function c(){l&&fB(e,l)}function u(g,d){const B=g.b-s;return d*=Math.abs(B),{a:s,b:g.b,d:B,duration:d,start:g.start,end:g.start+d,group:g.group}}function f(g){const{delay:d=0,duration:B=300,easing:w=jo,tick:h=$,css:F}=i||CB,b={start:iB()+d,b:g};g||(b.group=ft,ft.r+=1),o||a?a=b:(F&&(c(),l=aa(e,s,g,B,d,w,F)),g&&h(0,1),o=u(b,B),ze(()=>ls(e,g,"start")),sB(C=>{if(a&&C>a.start&&(o=u(a,B),a=null,ls(e,o.b,"start"),F&&(c(),l=aa(e,s,o.b,o.duration,0,w,i.css))),o){if(C>=o.end)h(s=o.b,1-s),ls(e,o.b,"end"),a||(o.b?c():--o.group.r||te(o.group.c)),o=null;else if(C>=o.start){const p=C-o.start;s=o.a+o.d*w(p/o.duration),h(s,1-s)}}return!!(o||a)}))}return{run(g){zt(i)?QB().then(()=>{i=i(n),f(g)}):f(g)},end(){c(),o=a=null}}}function Cn(e,A){const t=A.token={};function r(n,i,s,o){if(A.token!==t)return;A.resolved=o;let a=A.ctx;s!==void 0&&(a=a.slice(),a[s]=o);const l=n&&(A.current=n)(a);let c=!1;A.block&&(A.blocks?A.blocks.forEach((u,f)=>{f!==i&&u&&(kA(),X(u,1,1,()=>{A.blocks[f]===u&&(A.blocks[f]=null)}),KA())}):A.block.d(1),l.c(),N(l,1),l.m(A.mount(),A.anchor),c=!0),A.block=l,A.blocks&&(A.blocks[i]=l),c&&as()}if(rB(e)){const n=$t();if(e.then(i=>{ut(n),r(A.then,1,A.value,i),ut(null)},i=>{if(ut(n),r(A.catch,2,A.error,i),ut(null),!A.hasCatch)throw i}),A.current!==A.pending)return r(A.pending,0),!0}else{if(A.current!==A.then)return r(A.then,1,A.value,e),!0;A.resolved=e}}function ca(e,A,t){const r=A.slice(),{resolved:n}=e;e.current===e.then&&(r[e.value]=n),e.current===e.catch&&(r[e.error]=n),e.block.p(r,t)}function ua(e,A){e.d(1),A.delete(e.key)}function fa(e,A){X(e,1,1,()=>{A.delete(e.key)})}function vn(e,A,t,r,n,i,s,o,a,l,c,u){let f=e.length,g=i.length,d=f;const B={};for(;d--;)B[e[d].key]=d;const w=[],h=new Map,F=new Map,b=[];for(d=g;d--;){const y=u(n,i,d),v=t(y);let E=s.get(v);E?r&&b.push(()=>E.p(y,A)):(E=l(v,y),E.c()),h.set(v,w[d]=E),v in B&&F.set(v,Math.abs(d-B[v]))}const C=new Set,p=new Set;function U(y){N(y,1),y.m(o,c),s.set(y.key,y),c=y.first,g--}for(;f&&g;){const y=w[g-1],v=e[f-1],E=y.key,S=v.key;y===v?(c=y.first,f--,g--):h.has(S)?!s.has(E)||C.has(E)?U(y):p.has(S)?f--:F.get(E)>F.get(S)?(p.add(E),U(y)):(C.add(S),f--):(a(v,s),f--)}for(;f--;){const y=e[f];h.has(y.key)||a(y,s)}for(;g;)U(w[g-1]);return te(b),w}function Un(e,A,t){const r=e.$$.props[A];r!==void 0&&(e.$$.bound[r]=t,t(e.$$.ctx[r]))}function pA(e){e&&e.c()}function hA(e,A,t,r){const{fragment:n,after_update:i}=e.$$;n&&n.m(A,t),r||ze(()=>{const s=e.$$.on_mount.map($o).filter(zt);e.$$.on_destroy?e.$$.on_destroy.push(...s):te(s),e.$$.on_mount=[]}),i.forEach(ze)}function wA(e,A){const t=e.$$;t.fragment!==null&&(mB(t.after_update),te(t.on_destroy),t.fragment&&t.fragment.d(A),t.on_destroy=t.fragment=null,t.ctx=[])}function vB(e,A){e.$$.dirty[0]===-1&&(Ar.push(e),wB(),e.$$.dirty.fill(0)),e.$$.dirty[A/31|0]|=1<<A%31}function MA(e,A,t,r,n,i,s,o=[-1]){const a=_r;ut(e);const l=e.$$={fragment:null,ctx:[],props:i,update:$,not_equal:n,bound:qo(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(A.context||(a?a.$$.context:[])),callbacks:qo(),dirty:o,skip_bound:!1,root:A.target||a.$$.root};s&&s(l.root);let c=!1;if(l.ctx=t?t(e,A.props||{},(u,f,...g)=>{const d=g.length?g[0]:f;return l.ctx&&n(l.ctx[u],l.ctx[u]=d)&&(!l.skip_bound&&l.bound[u]&&l.bound[u](d),c&&vB(e,u)),f}):[],l.update(),c=!0,te(l.before_update),l.fragment=r?r(l.ctx):!1,A.target){if(A.hydrate){const u=lB(A.target);l.fragment&&l.fragment.l(u),u.forEach(T)}else l.fragment&&l.fragment.c();A.intro&&N(e.$$.fragment),hA(e,A.target,A.anchor,A.customElement),as()}ut(a)}class DA{$destroy(){wA(this,1),this.$destroy=$}$on(A,t){if(!zt(t))return $;const r=this.$$.callbacks[A]||(this.$$.callbacks[A]=[]);return r.push(t),()=>{const n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(A){this.$$set&&!nB(A)&&(this.$$.skip_bound=!0,this.$$set(A),this.$$.skip_bound=!1)}}const rr=[];function UB(e,A){return{subscribe:NA(e,A).subscribe}}function NA(e,A=$){let t;const r=new Set;function n(o){if(SA(e,o)&&(e=o,t)){const a=!rr.length;for(const l of r)l[1](),rr.push(l,e);if(a){for(let l=0;l<rr.length;l+=2)rr[l][0](rr[l+1]);rr.length=0}}}function i(o){n(o(e))}function s(o,a=$){const l=[o,a];return r.add(l),r.size===1&&(t=A(n)||$),o(e),()=>{r.delete(l),r.size===0&&t&&(t(),t=null)}}return{set:n,update:i,subscribe:s}}function ce(e,A,t){const r=!Array.isArray(e),n=r?[e]:e,i=A.length<2;return UB(t,s=>{let o=!1;const a=[];let l=0,c=$;const u=()=>{if(l)return;c();const g=A(r?a[0]:a,s);i?s(g):c=zt(g)?g:$},f=n.map((g,d)=>gn(g,B=>{a[d]=B,l&=~(1<<d),o&&u()},()=>{l|=1<<d}));return o=!0,u(),function(){te(f),c(),o=!1}})}function FB(){const e=new URLSearchParams(window.location.search).get("tab")??"all",{subscribe:A,set:t}=NA(e);return{subscribe:A,change:r=>{t(r);const n=new URL(window.location);n.searchParams.set("tab",r),window.history.pushState({},"",n)},init:()=>{const r=new URLSearchParams(window.location.search).get("tab")??"all";t(r)}}}const Ot=FB(),j=APP_LANG,nt=APP_NAME;WEBAPP_NAME;const _B=USER_ID,Fn=IS_SUPERUSER,cs=CSRF_TOKEN;ADDITIONAL_MODULES;const yB="Region",_n=APP_URL,bB=SAS_APP_URL,EB=CANTALOUPE_APP_URL;MEDIA_PATH;const HB=PAGE_LEN,yn={Witness:j==="en"?"Witness":"Témoin",Work:j==="en"?"Work":"Œuvre",Series:j==="en"?"Series":"Série d'imprimés",Regions:j==="en"?"Region Extraction":"Extraction d'illustrations",User:j==="en"?"User":"Utilisateur"},us=NA(!1),IB=e=>typeof e=="string"||e instanceof String;async function fs(e){us.set(!0);try{return await e()}finally{us.set(!1)}}function SB(e){return e.match(/\d+/g).toString()}function br(){return EB??"http://localhost:8182"}function xB(){return bB??"http://localhost:8888"}function ga(e,A){if(typeof window<"u"){const t=parseInt(new URLSearchParams(window.location.search).get(A));if(!isNaN(t))return e.set(t),t}return e.set(1),1}function Ba(e,A,t){if(A.set(e),typeof window<"u"){const r=new URL(window.location.href);r.searchParams.set(t,e),window.history.pushState({},"",r)}}function LB(e=null){if(e)return e=e.split("_"),e.length<3?void 0:`${e.slice(0,3).join("_").replace(".jpg","")}.jpg`}function kB(e=null){const A=LB(e);return A===void 0?void 0:`${br()}/iiif/2/${A}`}function nr(e=null,A=null,t="full"){if(A=IB(A)?A.replace(".jpg",""):A,!e)return"https://placehold.co/96x96/png?text=No+image";if(!e.startsWith("wit")){const[i,...s]=e.split("_wit");e=`wit${s}`}const r=kB(e);if(r===void 0)return"https://placehold.co/96x96/png?text=No+image";const n=e.split("_");return A||(A=n[n.length-1].includes(",")?n.pop().replace(".jpg",""):"full"),`${r}/${A}/${t}/0/default.jpg`}function gt(e,A=null,t=!1){return new Promise(r=>{if(document.getElementById("msg-modal")){t?document.getElementById("modal-footer").hidden=!1:r(void 0),A&&(document.getElementById("modal-title").innerHTML=A),document.getElementById("modal-msg").innerHTML=e,document.getElementById("hidden-msg-btn").click();const i=document.getElementById("cancel-btn"),s=document.getElementById("ok-btn"),o=document.getElementById("modal-bkg"),a=()=>{i.removeEventListener("click",l),o.removeEventListener("click",l),s.removeEventListener("click",c),document.getElementById("modal-footer").hidden=!0},l=()=>{a(),r(!1)},c=()=>{a(),r(!0)};i.addEventListener("click",l),s.addEventListener("click",c)}else t?r(window.confirm(e)):(window.alert(e),r(void 0))})}function KB(){let e,A,t=(r,n)=>r===n;return{set:r=>{A=e,e=r},setCompareFn:r=>t=r,get:()=>e,getNewAndOld:()=>[e,A],same:()=>t(e,A)}}const MB=(e,A)=>Array.isArray(e)&&Array.isArray(A)&&e.length===A.length&&e.every((t,r)=>t===A[r]||void 0);function DB(e){const t=[85,70,60],r=[50,65,40],n=e*137.5%360,i=t[e%t.length],s=r[Math.floor(e/t.length)%r.length];return`hsl(${Math.floor(n)}, ${i}%, ${s}%)`}function TB(e=null){return e<600?1:e<800?2:e<1e3?3:e<1200?4:e<1400?5:e>=1400?6:4}function gs(e){const A=e.querySelectorAll(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button-close"),t=()=>e.classList.remove("is-active");A.forEach(n=>n.addEventListener("click",t));const r=n=>{n.key==="Escape"&&e.classList.contains("is-active")&&t()};return document.addEventListener("keydown",r),{destroy(){A.forEach(n=>n.removeEventListener("click",t)),document.removeEventListener("keydown",r)}}}function da(e){const A=()=>{const t=document.getElementById(e.dataset.target);t==null||t.classList.add("is-active")};return e.addEventListener("click",A),{destroy(){e.removeEventListener("click",A)}}}function ir(e,A,t="string",r=null){const n={string:s=>{const o=s.get(A);return o!==null?o:null},array:s=>{const o=s.get(A);return o?o.split(",").map(Number).filter(a=>!isNaN(a)):null},set:s=>{const o=s.get(A);return o?new Set(o.split(",").map(Number).filter(a=>!isNaN(a))):null},number:s=>{const o=s.get(A);return o!==null?Number(o):null},boolean:s=>{const o=s.get(A);return o!==null?o==="true":null}},i={string:(s,o)=>o?s.searchParams.set(A,o):s.searchParams.delete(A),array:(s,o)=>{o!=null&&o.length?s.searchParams.set(A,o.join(",")):s.searchParams.delete(A)},set:(s,o)=>{o!=null&&o.size?s.searchParams.set(A,Array.from(o).join(",")):s.searchParams.delete(A)},number:(s,o)=>{o!=null?s.searchParams.set(A,String(o)):s.searchParams.delete(A)},boolean:(s,o)=>o?s.searchParams.set(A,"true"):s.searchParams.delete(A)};if(typeof window<"u"){const s=new URLSearchParams(window.location.search),o=n[t](s);if(o!==null)e.set(o);else if(r!==null){const a=typeof r=="function"?r():r;e.set(a)}return a=>{const l=new URL(window.location);i[t](l,a),window.history.pushState({},"",l)}}return()=>{}}function OB(e){const A=e-1;return A*A*A+1}function ha(e,{delay:A=0,duration:t=400,easing:r=jo}={}){const n=+getComputedStyle(e).opacity;return{delay:A,duration:t,easing:r,css:i=>`opacity: ${i*n}`}}function wa(e,{delay:A=0,duration:t=400,easing:r=OB,axis:n="y"}={}){const i=getComputedStyle(e),s=+i.opacity,o=n==="y"?"height":"width",a=parseFloat(i[o]),l=n==="y"?["top","bottom"]:["left","right"],c=l.map(h=>`${h[0].toUpperCase()}${h.slice(1)}`),u=parseFloat(i[`padding${c[0]}`]),f=parseFloat(i[`padding${c[1]}`]),g=parseFloat(i[`margin${c[0]}`]),d=parseFloat(i[`margin${c[1]}`]),B=parseFloat(i[`border${c[0]}Width`]),w=parseFloat(i[`border${c[1]}Width`]);return{delay:A,duration:t,easing:r,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*s};${o}: ${h*a}px;padding-${l[0]}: ${h*u}px;padding-${l[1]}: ${h*f}px;margin-${l[0]}: ${h*g}px;margin-${l[1]}: ${h*d}px;border-${l[0]}-width: ${h*B}px;border-${l[1]}-width: ${h*w}px;`}}const Ob="";function pa(e){let A,t,r;return{c(){A=_("div"),A.innerHTML='<div class="loader svelte-vizlcg"></div>',Q(A,"class","bkg-shade svelte-vizlcg")},m(n,i){O(n,A,i),r=!0},i(n){r||(ze(()=>{r&&(t||(t=Qn(A,ha,{duration:150},!0)),t.run(1))}),r=!0)},o(n){t||(t=Qn(A,ha,{duration:150},!1)),t.run(0),r=!1},d(n){n&&T(A),n&&t&&t.end()}}}function NB(e){let A,t,r=e[0]&&pa();return{c(){r&&r.c(),A=ye()},m(n,i){r&&r.m(n,i),O(n,A,i),t=!0},p(n,[i]){n[0]?r?i&1&&N(r,1):(r=pa(),r.c(),N(r,1),r.m(A.parentNode,A)):r&&(kA(),X(r,1,1,()=>{r=null}),KA())},i(n){t||(N(r),t=!0)},o(n){X(r),t=!1},d(n){r&&r.d(n),n&&T(A)}}}function RB(e,A,t){let r;return vA(e,us,n=>t(0,r=n)),[r]}class VB extends DA{constructor(A){super(),MA(this,A,RB,NB,SA,{})}}const Nb="",GB=e=>({}),ma=e=>({});function Qa(e,A,t){const r=e.slice();return r[9]=A[t][0],r[10]=A[t][1],r}const PB=e=>({}),Ca=e=>({}),XB=e=>({}),va=e=>({});function JB(e){let A,t,r=Object.entries(e[2]),n=[];for(let i=0;i<r.length;i+=1)n[i]=Ua(Qa(e,r,i));return{c(){A=_("div"),t=_("ul");for(let i=0;i<n.length;i+=1)n[i].c();Q(A,"class","tabs")},m(i,s){O(i,A,s),m(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s&12){r=Object.entries(i[2]);let o;for(o=0;o<r.length;o+=1){const a=Qa(i,r,o);n[o]?n[o].p(a,s):(n[o]=Ua(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},i:$,o:$,d(i){i&&T(A),ve(n,i)}}}function YB(e){let A;const t=e[7].tabs,r=re(t,e,e[6],Ca);return{c(){r&&r.c()},m(n,i){r&&r.m(n,i),A=!0},p(n,i){r&&r.p&&(!A||i&64)&&ie(r,t,n,n[6],A?ne(t,n[6],i,PB):se(n[6]),Ca)},i(n){A||(N(r,n),A=!0)},o(n){X(r,n),A=!1},d(n){r&&r.d(n)}}}function Ua(e){let A,t,r=e[10]+"",n,i,s,o;function a(){return e[8](e[9])}return{c(){A=_("li"),t=_("a"),n=sA(r),i=V(),Q(t,"href",null),zA(A,"is-active",e[3]===e[9])},m(l,c){O(l,A,c),m(A,t),m(t,n),m(A,i),s||(o=gA(t,"click",a),s=!0)},p(l,c){e=l,c&4&&r!==(r=e[10]+"")&&_A(n,r),c&12&&zA(A,"is-active",e[3]===e[9])},d(l){l&&T(A),s=!1,o()}}}function WB(e){let A,t,r,n,i,s,o,a,l,c,u,f,g;A=new VB({});const d=e[7].sidebar,B=re(d,e,e[6],va),w=[YB,JB],h=[];function F(p,U){return U&4&&(a=null),p[4].tabs?0:(a==null&&(a=!!Object.keys(p[2]).length),a?1:-1)}~(l=F(e,-1))&&(c=h[l]=w[l](e));const b=e[7].content,C=re(b,e,e[6],ma);return{c(){pA(A.$$.fragment),t=V(),r=_("div"),n=_("aside"),B&&B.c(),i=V(),s=_("main"),o=_("nav"),c&&c.c(),u=V(),f=_("div"),C&&C.c(),Q(n,"class","sidebar svelte-jr84gp"),FA(n,"width",e[0]+"%"),FA(n,"min-height",e[1]),Q(o,"id","tabs"),Q(o,"class","tabs-bar"),Q(f,"class","content-area pl-5 svelte-jr84gp"),Q(s,"class","main-content svelte-jr84gp"),FA(s,"width",100-e[0]+"%"),FA(s,"min-height",e[1]),Q(r,"class","layout svelte-jr84gp"),FA(r,"min-height",e[1])},m(p,U){hA(A,p,U),O(p,t,U),O(p,r,U),m(r,n),B&&B.m(n,null),m(r,i),m(r,s),m(s,o),~l&&h[l].m(o,null),m(s,u),m(s,f),C&&C.m(f,null),g=!0},p(p,[U]){B&&B.p&&(!g||U&64)&&ie(B,d,p,p[6],g?ne(d,p[6],U,XB):se(p[6]),va),(!g||U&1)&&FA(n,"width",p[0]+"%");let y=l;l=F(p,U),l===y?~l&&h[l].p(p,U):(c&&(kA(),X(h[y],1,1,()=>{h[y]=null}),KA()),~l?(c=h[l],c?c.p(p,U):(c=h[l]=w[l](p),c.c()),N(c,1),c.m(o,null)):c=null),C&&C.p&&(!g||U&64)&&ie(C,b,p,p[6],g?ne(b,p[6],U,GB):se(p[6]),ma),(!g||U&1)&&FA(s,"width",100-p[0]+"%")},i(p){g||(N(A.$$.fragment,p),N(B,p),N(c),N(C,p),g=!0)},o(p){X(A.$$.fragment,p),X(B,p),X(c),X(C,p),g=!1},d(p){wA(A,p),p&&T(t),p&&T(r),B&&B.d(p),~l&&h[l].d(),C&&C.d(p)}}}function zB(e=null){e||(e=document.getElementById("navbar")),document.documentElement.style.setProperty("--top-offset",`${e.offsetHeight}px`)}function ZB(e,A,t){let r;vA(e,Ot,f=>t(3,r=f));let{$$slots:n={},$$scope:i}=A;const s=ea(n);let{sidebarWidth:o="25"}=A;const a="90vh";let{tabList:l={}}=A,{topOffsetElement:c=null}=A;zB(c),Dt(()=>(Ot.init(),window.addEventListener("popstate",()=>Ot.init()),()=>window.removeEventListener("popstate",()=>Ot.init())));const u=f=>Ot.change(f);return e.$$set=f=>{"sidebarWidth"in f&&t(0,o=f.sidebarWidth),"tabList"in f&&t(2,l=f.tabList),"topOffsetElement"in f&&t(5,c=f.topOffsetElement),"$$scope"in f&&t(6,i=f.$$scope)},[o,a,l,r,s,c,i,n,u]}class jB extends DA{constructor(A){super(),MA(this,A,ZB,WB,SA,{sidebarWidth:0,layoutHeight:1,tabList:2,topOffsetElement:5})}get layoutHeight(){return this.$$.ctx[1]}}const bn={0:{title:j==="en"?"no categorization":"aucune catégorisation",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59">
        <rect x="1" y="0.62" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
    </svg>`},1:{title:j==="en"?"overall visual matches":"correspondances visuelles globales",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 69">
        <rect x="10" y="10.62" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <rect x="1" y="1" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <rect x="10" y="10.62" width="46" height="45.71" rx="4.11" ry="4.11" fill="currentColor" stroke="none"/>
    </svg>`},2:{title:j==="en"?"visual matches on part of the image":"correspondances visuelles sur une partie de l'image",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 70 71">
        <rect x="12" y="12.43" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <rect x="1" y="0.81" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <path d="M 12 21.43 L 21 12.43" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 12 30 L 30 12.43" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 40 56 L 57 38" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 48.3 56.29 L 57 47" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 12 39 L 39 12" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 12 48 L 48 12" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 13 56 L 57 12" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 31 56 L 57 29" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 21 57 L 57 21" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
    </svg>`},3:{title:j==="en"?"semantic and non-visual matches":"correspondances sémantiques et non-visuelle",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 72 73">
        <rect x="14" y="14.43" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3" stroke-dasharray="9 9"/>
        <rect x="1" y="0.81" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
    </svg>`},4:{title:j==="en"?"regions without match":"régions sans correspondance",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59">
        <rect x="1" y="0.62" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <path d="M 2.67 54.55 L 55 2" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
        <path d="M 54.37 54.05 L 2.72 2.24" fill="none" stroke="currentColor" stroke-width="3" stroke-miterlimit="10"/>
    </svg>`},5:{title:j==="en"?"user specific category":"correspondances spécifiques à l'utilisateur",svg:`<svg class="svg-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 59 59">
        <rect x="1" y="0.81" width="55.71" height="55.71" rx="5.01" ry="5.01" fill="none" stroke="currentColor" stroke-width="3"/>
        <path d="M 8.69 55.28 C 9.25 44.15 18.08 35.28 28.86 35.28 C 32.5 35.28 36.07 36.3 39.18 38.25 C 44.96 41.85 48.66 48.3 49.02 55.28 Z M 17.85 21.48 C 17.85 15.37 22.79 10.39 28.86 10.39 C 34.92 10.39 39.86 15.37 39.86 21.48 C 39.86 27.59 34.92 32.56 28.86 32.56 C 22.79 32.56 17.85 27.59 17.85 21.48 Z M 40.37 36.34 C 38.43 35.13 36.32 34.25 34.13 33.7 C 38.82 31.64 42.1 26.94 42.1 21.48 C 42.1 14.13 36.16 8.15 28.86 8.15 C 21.55 8.15 15.61 14.13 15.61 21.48 C 15.61 26.95 18.9 31.66 23.6 33.71 C 13.76 36.18 6.41 45.4 6.41 56.4 C 6.41 57.02 6.92 57.52 7.54 57.52 L 50.17 57.52 C 50.79 57.52 51.3 57.02 51.3 56.4 C 51.3 48.23 47.11 40.54 40.37 36.34 Z" fill="currentColor" stroke="none"/>
    </svg>`}};function $B(e){let A,t=bn[e[2]].svg+"",r,n,i,s;return{c(){A=_("span"),Q(A,"class",r="tag py-4 "+e[4]+" "+(e[0]?"is-hoverable":"")),Q(A,"title",n=bn[e[2]].title),zA(A,"is-selected",e[1])},m(o,a){O(o,A,a),A.innerHTML=t,i||(s=[gA(A,"click",e[5]),gA(A,"keyup",null)],i=!0)},p(o,[a]){a&4&&t!==(t=bn[o[2]].svg+"")&&(A.innerHTML=t),a&17&&r!==(r="tag py-4 "+o[4]+" "+(o[0]?"is-hoverable":""))&&Q(A,"class",r),a&4&&n!==(n=bn[o[2]].title)&&Q(A,"title",n),a&19&&zA(A,"is-selected",o[1])},i:$,o:$,d(o){o&&T(A),i=!1,te(s)}}}function qB(e,A,t){let{selectable:r=!0}=A,{isSelected:n=!1}=A,{category:i}=A,{toggle:s=()=>{}}=A,{padding:o="px-2"}=A;const a=()=>s(i);return e.$$set=l=>{"selectable"in l&&t(0,r=l.selectable),"isSelected"in l&&t(1,n=l.isSelected),"category"in l&&t(2,i=l.category),"toggle"in l&&t(3,s=l.toggle),"padding"in l&&t(4,o=l.padding)},[r,n,i,s,o,a]}class Ad extends DA{constructor(A){super(),MA(this,A,qB,$B,SA,{selectable:0,isSelected:1,category:2,toggle:3,padding:4})}}const qb="";function Fa(e){let A,t,r=e[3].title+"",n,i;return{c(){A=_("span"),t=_("a"),n=sA(r),Q(t,"href",i=`${_n}/${nt}/witness/${e[3].witnessId}/regions/${e[1]}`),Q(t,"target","_blank"),Q(A,"class","legend-label svelte-w1sf17")},m(s,o){O(s,A,o),m(A,t),m(t,n)},p(s,o){o&8&&r!==(r=s[3].title+"")&&_A(n,r),o&10&&i!==(i=`${_n}/${nt}/witness/${s[3].witnessId}/regions/${s[1]}`)&&Q(t,"href",i)},d(s){s&&T(A)}}}function ed(e){let A,t,r,n,i,s,o,a,l,c=!e[5]&&Fa(e);return{c(){A=_("div"),t=_("span"),r=V(),n=_("span"),o=V(),c&&c.c(),Q(t,"class","legend-nb svelte-w1sf17"),Q(n,"class","legend-color svelte-w1sf17"),Q(n,"aria-label",i=e[3].title),Q(n,"title",s=e[3].title),FA(n,"background-color",e[0]?e[3].color:"#999"),Q(n,"role","button"),Q(n,"tabindex","0"),zA(n,"inactive",!e[0]),zA(n,"clickable",e[4]),Q(A,"class","legend-item svelte-w1sf17"),zA(A,"inactive",!e[0])},m(u,f){O(u,A,f),m(A,t),m(A,r),m(A,n),m(A,o),c&&c.m(A,null),a||(l=[gA(n,"click",function(){zt(e[2])&&e[2].apply(this,arguments)}),gA(n,"keydown",null)],a=!0)},p(u,[f]){e=u,f&8&&i!==(i=e[3].title)&&Q(n,"aria-label",i),f&8&&s!==(s=e[3].title)&&Q(n,"title",s),f&9&&FA(n,"background-color",e[0]?e[3].color:"#999"),f&1&&zA(n,"inactive",!e[0]),f&16&&zA(n,"clickable",e[4]),e[5]?c&&(c.d(1),c=null):c?c.p(e,f):(c=Fa(e),c.c(),c.m(A,null)),f&1&&zA(A,"inactive",!e[0])},i:$,o:$,d(u){u&&T(A),c&&c.d(),a=!1,te(l)}}}function td(e,A,t){let{isActive:r=!0}=A,{id:n}=A,{toggle:i=()=>{}}=A,{meta:s={title:"Region",color:"#999",witnessId:1}}=A,{clickable:o=!0}=A,{onlyColor:a=!1}=A;return e.$$set=l=>{"isActive"in l&&t(0,r=l.isActive),"id"in l&&t(1,n=l.id),"toggle"in l&&t(2,i=l.toggle),"meta"in l&&t(3,s=l.meta),"clickable"in l&&t(4,o=l.clickable),"onlyColor"in l&&t(5,a=l.onlyColor)},[r,n,i,s,o,a]}class _a extends DA{constructor(A){super(),MA(this,A,td,ed,SA,{isActive:0,id:1,toggle:2,meta:3,clickable:4,onlyColor:5})}}const AE="";function ya(e,A,t){const r=e.slice();return r[12]=A[t][0],r[13]=A[t][1],r}function rd(e){let A;return{c(){A=_("span"),A.innerHTML='<i class="fas fa-chevron-down"></i>',Q(A,"class","icon is-small")},m(t,r){O(t,A,r)},d(t){t&&T(A)}}}function nd(e){let A;return{c(){A=_("span"),A.innerHTML='<i class="fas fa-chevron-up"></i>',Q(A,"class","icon is-small")},m(t,r){O(t,A,r)},d(t){t&&T(A)}}}function ba(e){let A,t;function r(){return e[10](e[12])}return A=new _a({props:{id:e[12],meta:e[13],isActive:e[0].has(parseInt(e[12])),toggle:r,onlyColor:!e[4]}}),{c(){pA(A.$$.fragment)},m(n,i){hA(A,n,i),t=!0},p(n,i){e=n;const s={};i&32&&(s.id=e[12]),i&32&&(s.meta=e[13]),i&33&&(s.isActive=e[0].has(parseInt(e[12]))),i&34&&(s.toggle=r),i&16&&(s.onlyColor=!e[4]),A.$set(s)},i(n){t||(N(A.$$.fragment,n),t=!0)},o(n){X(A.$$.fragment,n),t=!1},d(n){wA(A,n)}}}function id(e){let A,t,r,n,i,s,o,a,l,c,u,f,g,d,B,w,h,F,b,C,p,U,y,v,E,S,x;function G(M,J){return M[4]?nd:rd}let R=G(e),I=R(e),D=e[5],k=[];for(let M=0;M<D.length;M+=1)k[M]=ba(ya(e,D,M));const W=M=>X(k[M],1,1,()=>{k[M]=null});return{c(){A=_("div"),t=_("div"),r=_("div"),n=_("div"),i=_("h3"),i.textContent=`${j==="en"?"Visible documents":"Documents visibles"}`,s=V(),o=_("div"),a=_("div"),l=_("p"),c=_("span"),u=_("select"),f=_("option"),f.textContent="ID",g=_("option"),g.textContent=`${yn.Witness}`,d=_("option"),d.textContent=`${j==="en"?"Title":"Titre"}`,B=V(),w=_("p"),h=_("button"),h.innerHTML='<span class="icon is-small has-text-link pl-2"><i class="fas fa-check"></i></span>',F=V(),b=_("div"),C=_("button"),I.c(),y=V(),v=_("div");for(let M=0;M<k.length;M+=1)k[M].c();Q(i,"class","title mb-0"),Q(n,"class","level-item"),Q(r,"class","level-left"),f.__value="id",f.value=f.__value,g.__value="witnessId",g.value=g.__value,d.__value="title",d.value=d.__value,e[3]===void 0&&ze(()=>e[7].call(u)),Q(c,"class","select is-small"),Q(l,"class","control mb-0"),Q(l,"title",j==="en"?"Sort documents by":"Trier les documents par"),Q(h,"class","button is-small is-shadowless"),Q(w,"class","control"),Q(w,"title",j==="en"?"Select all documents":"Sélectionner tous les documents"),Q(a,"class","level-item mb-0 field has-addons is-small"),Q(C,"class","button is-small is-ghost"),Q(C,"aria-label",p=e[4]?"Minify legend":"Expand legend"),Q(b,"class","level-item"),Q(b,"title",U=e[4]?"Minify legend":"Expand legend"),Q(o,"class","level-right"),Q(t,"class","level is-mobile mb-3"),Q(v,"class","svelte-13ym7ov"),zA(v,"is-condensed",!e[4]),zA(v,"is-expanded",e[4])},m(M,J){O(M,A,J),m(A,t),m(t,r),m(r,n),m(n,i),m(t,s),m(t,o),m(o,a),m(a,l),m(l,c),m(c,u),m(u,f),m(u,g),m(u,d),vt(u,e[3],!0),m(a,B),m(a,w),m(w,h),m(o,F),m(o,b),m(b,C),I.m(C,null),m(A,y),m(A,v);for(let P=0;P<k.length;P+=1)k[P]&&k[P].m(v,null);E=!0,S||(x=[gA(u,"change",e[7]),gA(h,"click",e[8]),gA(C,"click",e[9])],S=!0)},p(M,[J]){if(J&8&&vt(u,M[3]),R!==(R=G(M))&&(I.d(1),I=R(M),I&&(I.c(),I.m(C,null))),(!E||J&16&&p!==(p=M[4]?"Minify legend":"Expand legend"))&&Q(C,"aria-label",p),(!E||J&16&&U!==(U=M[4]?"Minify legend":"Expand legend"))&&Q(b,"title",U),J&51){D=M[5];let P;for(P=0;P<D.length;P+=1){const rA=ya(M,D,P);k[P]?(k[P].p(rA,J),N(k[P],1)):(k[P]=ba(rA),k[P].c(),N(k[P],1),k[P].m(v,null))}for(kA(),P=D.length;P<k.length;P+=1)W(P);KA()}(!E||J&16)&&zA(v,"is-condensed",!M[4]),(!E||J&16)&&zA(v,"is-expanded",M[4])},i(M){if(!E){for(let J=0;J<D.length;J+=1)N(k[J]);E=!0}},o(M){k=k.filter(Boolean);for(let J=0;J<k.length;J+=1)X(k[J]);E=!1},d(M){M&&T(A),I.d(),ve(k,M),S=!1,te(x)}}}function sd(e,A,t){let r,{documentNodes:n}=A,{selectedRegions:i}=A,{toggleRegion:s}=A,{selectAllRegions:o}=A,a=!0,l="id";const c={id:(B,w)=>B[0]-w[0],witnessId:(B,w)=>(B[1].witnessId||0)-(w[1].witnessId||0),title:(B,w)=>(B[1].title||"").localeCompare(w[1].title||"")};function u(){l=dn(this),t(3,l)}const f=()=>o(),g=()=>t(4,a=!a),d=B=>s(parseInt(B));return e.$$set=B=>{"documentNodes"in B&&t(6,n=B.documentNodes),"selectedRegions"in B&&t(0,i=B.selectedRegions),"toggleRegion"in B&&t(1,s=B.toggleRegion),"selectAllRegions"in B&&t(2,o=B.selectAllRegions)},e.$$.update=()=>{e.$$.dirty&72&&t(5,r=Array.from(n||new Map).sort(c[l]))},[i,s,o,l,a,r,n,u,f,g,d]}class od extends DA{constructor(A){super(),MA(this,A,sd,id,SA,{documentNodes:6,selectedRegions:0,toggleRegion:1,selectAllRegions:2})}}var Ut;(function(e){e.Range="range",e.Steps="steps",e.Positions="positions",e.Count="count",e.Values="values"})(Ut||(Ut={}));var Le;(function(e){e[e.None=-1]="None",e[e.NoValue=0]="NoValue",e[e.LargeValue=1]="LargeValue",e[e.SmallValue=2]="SmallValue"})(Le||(Le={}));function ad(e){return En(e)&&typeof e.from=="function"}function En(e){return typeof e=="object"&&typeof e.to=="function"}function Ea(e){e.parentElement.removeChild(e)}function Bs(e){return e!=null}function Ha(e){e.preventDefault()}function ld(e){return e.filter(function(A){return this[A]?!1:this[A]=!0},{})}function cd(e,A){return Math.round(e/A)*A}function ud(e,A){var t=e.getBoundingClientRect(),r=e.ownerDocument,n=r.documentElement,i=xa(r);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(i.x=0),A?t.top+i.y-n.clientTop:t.left+i.x-n.clientLeft}function Ze(e){return typeof e=="number"&&!isNaN(e)&&isFinite(e)}function Ia(e,A,t){t>0&&(be(e,A),setTimeout(function(){In(e,A)},t))}function Sa(e){return Math.max(Math.min(e,100),0)}function Hn(e){return Array.isArray(e)?e:[e]}function fd(e){e=String(e);var A=e.split(".");return A.length>1?A[1].length:0}function be(e,A){e.classList&&!/\s/.test(A)?e.classList.add(A):e.className+=" "+A}function In(e,A){e.classList&&!/\s/.test(A)?e.classList.remove(A):e.className=e.className.replace(new RegExp("(^|\\b)"+A.split(" ").join("|")+"(\\b|$)","gi")," ")}function gd(e,A){return e.classList?e.classList.contains(A):new RegExp("\\b"+A+"\\b").test(e.className)}function xa(e){var A=window.pageXOffset!==void 0,t=(e.compatMode||"")==="CSS1Compat",r=A?window.pageXOffset:t?e.documentElement.scrollLeft:e.body.scrollLeft,n=A?window.pageYOffset:t?e.documentElement.scrollTop:e.body.scrollTop;return{x:r,y:n}}function Bd(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function dd(){var e=!1;try{var A=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,A)}catch{}return e}function hd(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function ds(e,A){return 100/(A-e)}function hs(e,A,t){return A*100/(e[t+1]-e[t])}function wd(e,A){return hs(e,e[0]<0?A+Math.abs(e[0]):A-e[0],0)}function pd(e,A){return A*(e[1]-e[0])/100+e[0]}function Er(e,A){for(var t=1;e>=A[t];)t+=1;return t}function md(e,A,t){if(t>=e.slice(-1)[0])return 100;var r=Er(t,e),n=e[r-1],i=e[r],s=A[r-1],o=A[r];return s+wd([n,i],t)/ds(s,o)}function Qd(e,A,t){if(t>=100)return e.slice(-1)[0];var r=Er(t,A),n=e[r-1],i=e[r],s=A[r-1],o=A[r];return pd([n,i],(t-s)*ds(s,o))}function Cd(e,A,t,r){if(r===100)return r;var n=Er(r,e),i=e[n-1],s=e[n];return t?r-i>(s-i)/2?s:i:A[n-1]?e[n-1]+cd(r-e[n-1],A[n-1]):r}var La=function(){function e(A,t,r){this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[r||!1],this.xNumSteps=[!1],this.snap=t;var n,i=[];for(Object.keys(A).forEach(function(s){i.push([Hn(A[s]),s])}),i.sort(function(s,o){return s[0][0]-o[0][0]}),n=0;n<i.length;n++)this.handleEntryPoint(i[n][1],i[n][0]);for(this.xNumSteps=this.xSteps.slice(0),n=0;n<this.xNumSteps.length;n++)this.handleStepPoint(n,this.xNumSteps[n])}return e.prototype.getDistance=function(A){for(var t=[],r=0;r<this.xNumSteps.length-1;r++)t[r]=hs(this.xVal,A,r);return t},e.prototype.getAbsoluteDistance=function(A,t,r){var n=0;if(A<this.xPct[this.xPct.length-1])for(;A>this.xPct[n+1];)n++;else A===this.xPct[this.xPct.length-1]&&(n=this.xPct.length-2);!r&&A===this.xPct[n+1]&&n++,t===null&&(t=[]);var i,s=1,o=t[n],a=0,l=0,c=0,u=0;for(r?i=(A-this.xPct[n])/(this.xPct[n+1]-this.xPct[n]):i=(this.xPct[n+1]-A)/(this.xPct[n+1]-this.xPct[n]);o>0;)a=this.xPct[n+1+u]-this.xPct[n+u],t[n+u]*s+100-i*100>100?(l=a*i,s=(o-100*i)/t[n+u],i=1):(l=t[n+u]*a/100*s,s=0),r?(c=c-l,this.xPct.length+u>=1&&u--):(c=c+l,this.xPct.length-u>=1&&u++),o=t[n+u]*s;return A+c},e.prototype.toStepping=function(A){return A=md(this.xVal,this.xPct,A),A},e.prototype.fromStepping=function(A){return Qd(this.xVal,this.xPct,A)},e.prototype.getStep=function(A){return A=Cd(this.xPct,this.xSteps,this.snap,A),A},e.prototype.getDefaultStep=function(A,t,r){var n=Er(A,this.xPct);return(A===100||t&&A===this.xPct[n-1])&&(n=Math.max(n-1,1)),(this.xVal[n]-this.xVal[n-1])/r},e.prototype.getNearbySteps=function(A){var t=Er(A,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var A=this.xNumSteps.map(fd);return Math.max.apply(null,A)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(A){return this.getStep(this.toStepping(A))},e.prototype.handleEntryPoint=function(A,t){var r;if(A==="min"?r=0:A==="max"?r=100:r=parseFloat(A),!Ze(r)||!Ze(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(r),this.xVal.push(t[0]);var n=Number(t[1]);r?this.xSteps.push(isNaN(n)?!1:n):isNaN(n)||(this.xSteps[0]=n),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(A,t){if(t){if(this.xVal[A]===this.xVal[A+1]){this.xSteps[A]=this.xHighestCompleteStep[A]=this.xVal[A];return}this.xSteps[A]=hs([this.xVal[A],this.xVal[A+1]],t,0)/ds(this.xPct[A],this.xPct[A+1]);var r=(this.xVal[A+1]-this.xVal[A])/this.xNumSteps[A],n=Math.ceil(Number(r.toFixed(3))-1),i=this.xVal[A]+this.xNumSteps[A]*n;this.xHighestCompleteStep[A]=i}},e}(),ka={to:function(e){return e===void 0?"":e.toFixed(2)},from:Number},Ka={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},Ft={tooltips:".__tooltips",aria:".__aria"};function vd(e,A){if(!Ze(A))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=A}function Ud(e,A){if(!Ze(A))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=A}function Fd(e,A){if(!Ze(A))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=A}function _d(e,A){if(!Ze(A))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=A}function yd(e,A){if(typeof A!="object"||Array.isArray(A))throw new Error("noUiSlider: 'range' is not an object.");if(A.min===void 0||A.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new La(A,e.snap||!1,e.singleStep)}function bd(e,A){if(A=Hn(A),!Array.isArray(A)||!A.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=A.length,e.start=A}function Ed(e,A){if(typeof A!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=A}function Hd(e,A){if(typeof A!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=A}function Id(e,A){if(typeof A!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=A}function Ma(e,A){var t=[!1],r;if(A==="lower"?A=[!0,!1]:A==="upper"&&(A=[!1,!0]),A===!0||A===!1){for(r=1;r<e.handles;r++)t.push(A);t.push(!1)}else{if(!Array.isArray(A)||!A.length||A.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");t=A}e.connect=t}function Sd(e,A){switch(A){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function Da(e,A){if(!Ze(A))throw new Error("noUiSlider: 'margin' option must be numeric.");A!==0&&(e.margin=e.spectrum.getDistance(A))}function xd(e,A){if(!Ze(A))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(A),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function Ld(e,A){var t;if(!Ze(A)&&!Array.isArray(A))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(A)&&!(A.length===2||Ze(A[0])||Ze(A[1])))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(A!==0){for(Array.isArray(A)||(A=[A,A]),e.padding=[e.spectrum.getDistance(A[0]),e.spectrum.getDistance(A[1])],t=0;t<e.spectrum.xNumSteps.length-1;t++)if(e.padding[0][t]<0||e.padding[1][t]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var r=A[0]+A[1],n=e.spectrum.xVal[0],i=e.spectrum.xVal[e.spectrum.xVal.length-1];if(r/(i-n)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function kd(e,A){switch(A){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function Kd(e,A){if(typeof A!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var t=A.indexOf("tap")>=0,r=A.indexOf("drag")>=0,n=A.indexOf("fixed")>=0,i=A.indexOf("snap")>=0,s=A.indexOf("hover")>=0,o=A.indexOf("unconstrained")>=0,a=A.indexOf("invert-connects")>=0,l=A.indexOf("drag-all")>=0,c=A.indexOf("smooth-steps")>=0;if(n){if(e.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");Da(e,e.start[1]-e.start[0])}if(a&&e.handles!==2)throw new Error("noUiSlider: 'invert-connects' behaviour must be used with 2 handles");if(o&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:t||i,drag:r,dragAll:l,smoothSteps:c,fixed:n,snap:i,hover:s,unconstrained:o,invertConnects:a}}function Md(e,A){if(A!==!1)if(A===!0||En(A)){e.tooltips=[];for(var t=0;t<e.handles;t++)e.tooltips.push(A)}else{if(A=Hn(A),A.length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");A.forEach(function(r){if(typeof r!="boolean"&&!En(r))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),e.tooltips=A}}function Dd(e,A){if(A.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=A}function Td(e,A){if(!En(A))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=A}function Od(e,A){if(!ad(A))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=A}function Nd(e,A){if(typeof A!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=A}function Rd(e,A){e.documentElement=A}function Vd(e,A){if(typeof A!="string"&&A!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=A}function Gd(e,A){if(typeof A!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof e.cssPrefix=="string"?(e.cssClasses={},Object.keys(A).forEach(function(t){e.cssClasses[t]=e.cssPrefix+A[t]})):e.cssClasses=A}function Ta(e){var A={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:ka,format:ka},t={step:{r:!1,t:vd},keyboardPageMultiplier:{r:!1,t:Ud},keyboardMultiplier:{r:!1,t:Fd},keyboardDefaultStep:{r:!1,t:_d},start:{r:!0,t:bd},connect:{r:!0,t:Ma},direction:{r:!0,t:kd},snap:{r:!1,t:Ed},animate:{r:!1,t:Hd},animationDuration:{r:!1,t:Id},range:{r:!0,t:yd},orientation:{r:!1,t:Sd},margin:{r:!1,t:Da},limit:{r:!1,t:xd},padding:{r:!1,t:Ld},behaviour:{r:!0,t:Kd},ariaFormat:{r:!1,t:Td},format:{r:!1,t:Od},tooltips:{r:!1,t:Md},keyboardSupport:{r:!0,t:Nd},documentElement:{r:!1,t:Rd},cssPrefix:{r:!0,t:Vd},cssClasses:{r:!0,t:Gd},handleAttributes:{r:!1,t:Dd}},r={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:Ka,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(t).forEach(function(a){if(!Bs(e[a])&&r[a]===void 0){if(t[a].r)throw new Error("noUiSlider: '"+a+"' is required.");return}t[a].t(A,Bs(e[a])?e[a]:r[a])}),A.pips=e.pips;var n=document.createElement("div"),i=n.style.msTransform!==void 0,s=n.style.transform!==void 0;A.transformRule=s?"transform":i?"msTransform":"webkitTransform";var o=[["left","top"],["right","bottom"]];return A.style=o[A.dir][A.ort],A}function Pd(e,A,t){var r=Bd(),n=hd(),i=n&&dd(),s=e,o,a,l,c,u,f,g=A.spectrum,d=[],B=[],w=[],h=0,F={},b=!1,C=e.ownerDocument,p=A.documentElement||C.documentElement,U=C.body,y=C.dir==="rtl"||A.ort===1?0:100;function v(H,K){var L=C.createElement("div");return K&&be(L,K),H.appendChild(L),L}function E(H,K){var L=v(H,A.cssClasses.origin),Z=v(L,A.cssClasses.handle);if(v(Z,A.cssClasses.touchArea),Z.setAttribute("data-handle",String(K)),A.keyboardSupport&&(Z.setAttribute("tabindex","0"),Z.addEventListener("keydown",function(tA){return HA(tA,K)})),A.handleAttributes!==void 0){var eA=A.handleAttributes[K];Object.keys(eA).forEach(function(tA){Z.setAttribute(tA,eA[tA])})}return Z.setAttribute("role","slider"),Z.setAttribute("aria-orientation",A.ort?"vertical":"horizontal"),K===0?be(Z,A.cssClasses.handleLower):K===A.handles-1&&be(Z,A.cssClasses.handleUpper),L.handle=Z,L}function S(H,K){return K?v(H,A.cssClasses.connect):!1}function x(H,K){a=v(K,A.cssClasses.connects),l=[],c=[],c.push(S(a,H[0]));for(var L=0;L<A.handles;L++)l.push(E(K,L)),w[L]=L,c.push(S(a,H[L+1]))}function G(H){be(H,A.cssClasses.target),A.dir===0?be(H,A.cssClasses.ltr):be(H,A.cssClasses.rtl),A.ort===0?be(H,A.cssClasses.horizontal):be(H,A.cssClasses.vertical);var K=getComputedStyle(H).direction;return K==="rtl"?be(H,A.cssClasses.textDirectionRtl):be(H,A.cssClasses.textDirectionLtr),v(H,A.cssClasses.base)}function R(H,K){return!A.tooltips||!A.tooltips[K]?!1:v(H.firstChild,A.cssClasses.tooltip)}function I(){return s.hasAttribute("disabled")}function D(H){var K=l[H];return K.hasAttribute("disabled")}function k(H){H!=null?(l[H].setAttribute("disabled",""),l[H].handle.removeAttribute("tabindex")):(s.setAttribute("disabled",""),l.forEach(function(K){K.handle.removeAttribute("tabindex")}))}function W(H){H!=null?(l[H].removeAttribute("disabled"),l[H].handle.setAttribute("tabindex","0")):(s.removeAttribute("disabled"),l.forEach(function(K){K.removeAttribute("disabled"),K.handle.setAttribute("tabindex","0")}))}function M(){f&&($A("update"+Ft.tooltips),f.forEach(function(H){H&&Ea(H)}),f=null)}function J(){M(),f=l.map(R),fe("update"+Ft.tooltips,function(H,K,L){if(!(!f||!A.tooltips)&&f[K]!==!1){var Z=H[K];A.tooltips[K]!==!0&&(Z=A.tooltips[K].to(L[K])),f[K].innerHTML=Z}})}function P(){$A("update"+Ft.aria),fe("update"+Ft.aria,function(H,K,L,Z,eA){w.forEach(function(tA){var dA=l[tA],cA=Ie(B,tA,0,!0,!0,!0),YA=Ie(B,tA,100,!0,!0,!0),WA=eA[tA],Ae=String(A.ariaFormat.to(L[tA]));cA=g.fromStepping(cA).toFixed(1),YA=g.fromStepping(YA).toFixed(1),WA=g.fromStepping(WA).toFixed(1),dA.children[0].setAttribute("aria-valuemin",cA),dA.children[0].setAttribute("aria-valuemax",YA),dA.children[0].setAttribute("aria-valuenow",WA),dA.children[0].setAttribute("aria-valuetext",Ae)})})}function rA(H){if(H.mode===Ut.Range||H.mode===Ut.Steps)return g.xVal;if(H.mode===Ut.Count){if(H.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var K=H.values-1,L=100/K,Z=[];K--;)Z[K]=K*L;return Z.push(100),uA(Z,H.stepped)}return H.mode===Ut.Positions?uA(H.values,H.stepped):H.mode===Ut.Values?H.stepped?H.values.map(function(eA){return g.fromStepping(g.getStep(g.toStepping(eA)))}):H.values:[]}function uA(H,K){return H.map(function(L){return g.fromStepping(K?g.getStep(L):L)})}function BA(H){function K(WA,Ae){return Number((WA+Ae).toFixed(7))}var L=rA(H),Z={},eA=g.xVal[0],tA=g.xVal[g.xVal.length-1],dA=!1,cA=!1,YA=0;return L=ld(L.slice().sort(function(WA,Ae){return WA-Ae})),L[0]!==eA&&(L.unshift(eA),dA=!0),L[L.length-1]!==tA&&(L.push(tA),cA=!0),L.forEach(function(WA,Ae){var ee,GA,Be,xe=WA,Ce=L[Ae+1],_e,Yo,Wo,zo,qg,Zo,AB,eB=H.mode===Ut.Steps;for(eB&&(ee=g.xNumSteps[Ae]),ee||(ee=Ce-xe),Ce===void 0&&(Ce=xe),ee=Math.max(ee,1e-7),GA=xe;GA<=Ce;GA=K(GA,ee)){for(_e=g.toStepping(GA),Yo=_e-YA,qg=Yo/(H.density||1),Zo=Math.round(qg),AB=Yo/Zo,Be=1;Be<=Zo;Be+=1)Wo=YA+Be*AB,Z[Wo.toFixed(5)]=[g.fromStepping(Wo),0];zo=L.indexOf(GA)>-1?Le.LargeValue:eB?Le.SmallValue:Le.NoValue,!Ae&&dA&&GA!==Ce&&(zo=0),GA===Ce&&cA||(Z[_e.toFixed(5)]=[GA,zo]),YA=_e}}),Z}function q(H,K,L){var Z,eA,tA=C.createElement("div"),dA=(Z={},Z[Le.None]="",Z[Le.NoValue]=A.cssClasses.valueNormal,Z[Le.LargeValue]=A.cssClasses.valueLarge,Z[Le.SmallValue]=A.cssClasses.valueSub,Z),cA=(eA={},eA[Le.None]="",eA[Le.NoValue]=A.cssClasses.markerNormal,eA[Le.LargeValue]=A.cssClasses.markerLarge,eA[Le.SmallValue]=A.cssClasses.markerSub,eA),YA=[A.cssClasses.valueHorizontal,A.cssClasses.valueVertical],WA=[A.cssClasses.markerHorizontal,A.cssClasses.markerVertical];be(tA,A.cssClasses.pips),be(tA,A.ort===0?A.cssClasses.pipsHorizontal:A.cssClasses.pipsVertical);function Ae(GA,Be){var xe=Be===A.cssClasses.value,Ce=xe?YA:WA,_e=xe?dA:cA;return Be+" "+Ce[A.ort]+" "+_e[GA]}function ee(GA,Be,xe){if(xe=K?K(Be,xe):xe,xe!==Le.None){var Ce=v(tA,!1);Ce.className=Ae(xe,A.cssClasses.marker),Ce.style[A.style]=GA+"%",xe>Le.NoValue&&(Ce=v(tA,!1),Ce.className=Ae(xe,A.cssClasses.value),Ce.setAttribute("data-value",String(Be)),Ce.style[A.style]=GA+"%",Ce.innerHTML=String(L.to(Be)))}}return Object.keys(H).forEach(function(GA){ee(GA,H[GA][0],H[GA][1])}),tA}function QA(){u&&(Ea(u),u=null)}function lA(H){QA();var K=BA(H),L=H.filter,Z=H.format||{to:function(eA){return String(Math.round(eA))}};return u=s.appendChild(q(K,L,Z)),u}function mA(){var H=o.getBoundingClientRect(),K="offset"+["Width","Height"][A.ort];return A.ort===0?H.width||o[K]:H.height||o[K]}function z(H,K,L,Z){var eA=function(dA){var cA=AA(dA,Z.pageOffset,Z.target||K);if(!cA||I()&&!Z.doNotReject||gd(s,A.cssClasses.tap)&&!Z.doNotReject||H===r.start&&cA.buttons!==void 0&&cA.buttons>1||Z.hover&&cA.buttons)return!1;i||cA.preventDefault(),cA.calcPoint=cA.points[A.ort],L(cA,Z)},tA=[];return H.split(" ").forEach(function(dA){K.addEventListener(dA,eA,i?{passive:!0}:!1),tA.push([dA,eA])}),tA}function AA(H,K,L){var Z=H.type.indexOf("touch")===0,eA=H.type.indexOf("mouse")===0,tA=H.type.indexOf("pointer")===0,dA=0,cA=0;if(H.type.indexOf("MSPointer")===0&&(tA=!0),H.type==="mousedown"&&!H.buttons&&!H.touches)return!1;if(Z){var YA=function(ee){var GA=ee.target;return GA===L||L.contains(GA)||H.composed&&H.composedPath().shift()===L};if(H.type==="touchstart"){var WA=Array.prototype.filter.call(H.touches,YA);if(WA.length>1)return!1;dA=WA[0].pageX,cA=WA[0].pageY}else{var Ae=Array.prototype.find.call(H.changedTouches,YA);if(!Ae)return!1;dA=Ae.pageX,cA=Ae.pageY}}return K=K||xa(C),(eA||tA)&&(dA=H.clientX+K.x,cA=H.clientY+K.y),H.pageOffset=K,H.points=[dA,cA],H.cursor=eA||tA,H}function Y(H){var K=H-ud(o,A.ort),L=K*100/mA();return L=Sa(L),A.dir?100-L:L}function fA(H){var K=100,L=!1;return l.forEach(function(Z,eA){if(!D(eA)){var tA=B[eA],dA=Math.abs(tA-H),cA=dA===100&&K===100,YA=dA<K,WA=dA<=K&&H>tA;(YA||WA||cA)&&(L=eA,K=dA)}}),L}function iA(H,K){H.type==="mouseout"&&H.target.nodeName==="HTML"&&H.relatedTarget===null&&UA(H,K)}function yA(H,K){if(navigator.appVersion.indexOf("MSIE 9")===-1&&H.buttons===0&&K.buttonsProperty!==0)return UA(H,K);var L=(A.dir?-1:1)*(H.calcPoint-K.startCalcPoint),Z=L*100/K.baseSize;TA(L>0,Z,K.locations,K.handleNumbers,K.connect)}function UA(H,K){K.handle&&(In(K.handle,A.cssClasses.active),h-=1),K.listeners.forEach(function(L){p.removeEventListener(L[0],L[1])}),h===0&&(In(s,A.cssClasses.drag),me(),H.cursor&&(U.style.cursor="",U.removeEventListener("selectstart",Ha))),A.events.smoothSteps&&(K.handleNumbers.forEach(function(L){Qe(L,B[L],!0,!0,!1,!1)}),K.handleNumbers.forEach(function(L){xA("update",L)})),K.handleNumbers.forEach(function(L){xA("change",L),xA("set",L),xA("end",L)})}function bA(H,K){if(!K.handleNumbers.some(D)){var L;if(K.handleNumbers.length===1){var Z=l[K.handleNumbers[0]];L=Z.children[0],h+=1,be(L,A.cssClasses.active)}H.stopPropagation();var eA=[],tA=z(r.move,p,yA,{target:H.target,handle:L,connect:K.connect,listeners:eA,startCalcPoint:H.calcPoint,baseSize:mA(),pageOffset:H.pageOffset,handleNumbers:K.handleNumbers,buttonsProperty:H.buttons,locations:B.slice()}),dA=z(r.end,p,UA,{target:H.target,handle:L,listeners:eA,doNotReject:!0,handleNumbers:K.handleNumbers}),cA=z("mouseout",p,iA,{target:H.target,handle:L,listeners:eA,doNotReject:!0,handleNumbers:K.handleNumbers});eA.push.apply(eA,tA.concat(dA,cA)),H.cursor&&(U.style.cursor=getComputedStyle(H.target).cursor,l.length>1&&be(s,A.cssClasses.drag),U.addEventListener("selectstart",Ha,!1)),K.handleNumbers.forEach(function(YA){xA("start",YA)})}}function EA(H){H.stopPropagation();var K=Y(H.calcPoint),L=fA(K);L!==!1&&(A.events.snap||Ia(s,A.cssClasses.tap,A.animationDuration),Qe(L,K,!0,!0),me(),xA("slide",L,!0),xA("update",L,!0),A.events.snap?bA(H,{handleNumbers:[L]}):(xA("change",L,!0),xA("set",L,!0)))}function CA(H){var K=Y(H.calcPoint),L=g.getStep(K),Z=g.fromStepping(L);Object.keys(F).forEach(function(eA){eA.split(".")[0]==="hover"&&F[eA].forEach(function(tA){tA.call(JA,Z)})})}function HA(H,K){if(I()||D(K))return!1;var L=["Left","Right"],Z=["Down","Up"],eA=["PageDown","PageUp"],tA=["Home","End"];A.dir&&!A.ort?L.reverse():A.ort&&!A.dir&&(Z.reverse(),eA.reverse());var dA=H.key.replace("Arrow",""),cA=dA===eA[0],YA=dA===eA[1],WA=dA===Z[0]||dA===L[0]||cA,Ae=dA===Z[1]||dA===L[1]||YA,ee=dA===tA[0],GA=dA===tA[1];if(!WA&&!Ae&&!ee&&!GA)return!0;H.preventDefault();var Be;if(Ae||WA){var xe=WA?0:1,Ce=cn(K),_e=Ce[xe];if(_e===null)return!1;_e===!1&&(_e=g.getDefaultStep(B[K],WA,A.keyboardDefaultStep)),YA||cA?_e*=A.keyboardPageMultiplier:_e*=A.keyboardMultiplier,_e=Math.max(_e,1e-7),_e=(WA?-1:1)*_e,Be=d[K]+_e}else GA?Be=A.spectrum.xVal[A.spectrum.xVal.length-1]:Be=A.spectrum.xVal[0];return Qe(K,g.toStepping(Be),!0,!0),xA("slide",K),xA("update",K),xA("change",K),xA("set",K),!1}function jA(H){H.fixed||l.forEach(function(K,L){z(r.start,K.children[0],bA,{handleNumbers:[L]})}),H.tap&&z(r.start,o,EA,{}),H.hover&&z(r.move,o,CA,{hover:!0}),H.drag&&c.forEach(function(K,L){if(!(K===!1||L===0||L===c.length-1)){var Z=l[L-1],eA=l[L],tA=[K],dA=[Z,eA],cA=[L-1,L];be(K,A.cssClasses.draggable),H.fixed&&(tA.push(Z.children[0]),tA.push(eA.children[0])),H.dragAll&&(dA=l,cA=w),tA.forEach(function(YA){z(r.start,YA,bA,{handles:dA,handleNumbers:cA,connect:K})})}})}function fe(H,K){F[H]=F[H]||[],F[H].push(K),H.split(".")[0]==="update"&&l.forEach(function(L,Z){xA("update",Z)})}function ge(H){return H===Ft.aria||H===Ft.tooltips}function $A(H){var K=H&&H.split(".")[0],L=K?H.substring(K.length):H;Object.keys(F).forEach(function(Z){var eA=Z.split(".")[0],tA=Z.substring(eA.length);(!K||K===eA)&&(!L||L===tA)&&(!ge(tA)||L===tA)&&delete F[Z]})}function xA(H,K,L){Object.keys(F).forEach(function(Z){var eA=Z.split(".")[0];H===eA&&F[Z].forEach(function(tA){tA.call(JA,d.map(A.format.to),K,d.slice(),L||!1,B.slice(),JA)})})}function Ie(H,K,L,Z,eA,tA,dA){var cA;return l.length>1&&!A.events.unconstrained&&(Z&&K>0&&(cA=g.getAbsoluteDistance(H[K-1],A.margin,!1),L=Math.max(L,cA)),eA&&K<l.length-1&&(cA=g.getAbsoluteDistance(H[K+1],A.margin,!0),L=Math.min(L,cA))),l.length>1&&A.limit&&(Z&&K>0&&(cA=g.getAbsoluteDistance(H[K-1],A.limit,!1),L=Math.min(L,cA)),eA&&K<l.length-1&&(cA=g.getAbsoluteDistance(H[K+1],A.limit,!0),L=Math.max(L,cA))),A.padding&&(K===0&&(cA=g.getAbsoluteDistance(0,A.padding[0],!1),L=Math.max(L,cA)),K===l.length-1&&(cA=g.getAbsoluteDistance(100,A.padding[1],!0),L=Math.min(L,cA))),dA||(L=g.getStep(L)),L=Sa(L),L===H[K]&&!tA?!1:L}function LA(H,K){var L=A.ort;return(L?K:H)+", "+(L?H:K)}function TA(H,K,L,Z,eA){var tA=L.slice(),dA=Z[0],cA=A.events.smoothSteps,YA=[!H,H],WA=[H,!H];Z=Z.slice(),H&&Z.reverse(),Z.length>1?Z.forEach(function(ee,GA){var Be=Ie(tA,ee,tA[ee]+K,YA[GA],WA[GA],!1,cA);Be===!1?K=0:(K=Be-tA[ee],tA[ee]=Be)}):YA=WA=[!0];var Ae=!1;Z.forEach(function(ee,GA){Ae=Qe(ee,L[ee]+K,YA[GA],WA[GA],!1,cA)||Ae}),Ae&&(Z.forEach(function(ee){xA("update",ee),xA("slide",ee)}),eA!=null&&xA("drag",dA))}function RA(H,K){return A.dir?100-H-K:H}function Ge(H,K){B[H]=K,d[H]=g.fromStepping(K);var L=RA(K,0)-y,Z="translate("+LA(L+"%","0")+")";if(l[H].style[A.transformRule]=Z,A.events.invertConnects&&B.length>1){var eA=B.every(function(tA,dA,cA){return dA===0||tA>=cA[dA-1]});if(b!==!eA){nA();return}}XA(H),XA(H+1),b&&(XA(H-1),XA(H+2))}function me(){w.forEach(function(H){var K=B[H]>50?-1:1,L=3+(l.length+K*H);l[H].style.zIndex=String(L)})}function Qe(H,K,L,Z,eA,tA){return eA||(K=Ie(B,H,K,L,Z,!1,tA)),K===!1?!1:(Ge(H,K),!0)}function XA(H){if(c[H]){var K=B.slice();b&&K.sort(function(cA,YA){return cA-YA});var L=0,Z=100;H!==0&&(L=K[H-1]),H!==c.length-1&&(Z=K[H]);var eA=Z-L,tA="translate("+LA(RA(L,eA)+"%","0")+")",dA="scale("+LA(eA/100,"1")+")";c[H].style[A.transformRule]=tA+" "+dA}}function es(H,K){return H===null||H===!1||H===void 0||(typeof H=="number"&&(H=String(H)),H=A.format.from(H),H!==!1&&(H=g.toStepping(H)),H===!1||isNaN(H))?B[K]:H}function Kt(H,K,L){var Z=Hn(H),eA=B[0]===void 0;K=K===void 0?!0:K,A.animate&&!eA&&Ia(s,A.cssClasses.tap,A.animationDuration),w.forEach(function(cA){Qe(cA,es(Z[cA],cA),!0,!1,L)});var tA=w.length===1?0:1;if(eA&&g.hasNoSize()&&(L=!0,B[0]=0,w.length>1)){var dA=100/(w.length-1);w.forEach(function(cA){B[cA]=cA*dA})}for(;tA<w.length;++tA)w.forEach(function(cA){Qe(cA,B[cA],!0,!0,L)});me(),w.forEach(function(cA){xA("update",cA),Z[cA]!==null&&K&&xA("set",cA)})}function Pe(H){Kt(A.start,H)}function ts(H,K,L,Z){if(H=Number(H),!(H>=0&&H<w.length))throw new Error("noUiSlider: invalid handle number, got: "+H);Qe(H,es(K,H),!0,!0,Z),xA("update",H),L&&xA("set",H)}function tt(H){if(H===void 0&&(H=!1),H)return d.length===1?d[0]:d.slice(0);var K=d.map(A.format.to);return K.length===1?K[0]:K}function rs(){for($A(Ft.aria),$A(Ft.tooltips),Object.keys(A.cssClasses).forEach(function(H){In(s,A.cssClasses[H])});s.firstChild;)s.removeChild(s.firstChild);delete s.noUiSlider}function cn(H){var K=B[H],L=g.getNearbySteps(K),Z=d[H],eA=L.thisStep.step,tA=null;if(A.snap)return[Z-L.stepBefore.startValue||null,L.stepAfter.startValue-Z||null];eA!==!1&&Z+eA>L.stepAfter.startValue&&(eA=L.stepAfter.startValue-Z),Z>L.thisStep.startValue?tA=L.thisStep.step:L.stepBefore.step===!1?tA=!1:tA=Z-L.stepBefore.highestStep,K===100?eA=null:K===0&&(tA=null);var dA=g.countStepDecimals();return eA!==null&&eA!==!1&&(eA=Number(eA.toFixed(dA))),tA!==null&&tA!==!1&&(tA=Number(tA.toFixed(dA))),[tA,eA]}function Mt(){return w.map(cn)}function Se(H,K){var L=tt(),Z=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips","connect"];Z.forEach(function(tA){H[tA]!==void 0&&(t[tA]=H[tA])});var eA=Ta(t);Z.forEach(function(tA){H[tA]!==void 0&&(A[tA]=eA[tA])}),g=eA.spectrum,A.margin=eA.margin,A.limit=eA.limit,A.padding=eA.padding,A.pips?lA(A.pips):QA(),A.tooltips?J():M(),B=[],Kt(Bs(H.start)?H.start:L,K),H.connect&&un()}function un(){for(;a.firstChild;)a.removeChild(a.firstChild);for(var H=0;H<=A.handles;H++)c[H]=S(a,A.connect[H]),XA(H);jA({drag:A.events.drag,fixed:!0})}function nA(){b=!b,Ma(A,A.connect.map(function(H){return!H})),un()}function OA(){o=G(s),x(A.connect,o),jA(A.events),Kt(A.start),A.pips&&lA(A.pips),A.tooltips&&J(),P()}OA();var JA={destroy:rs,steps:Mt,on:fe,off:$A,get:tt,set:Kt,setHandle:ts,reset:Pe,disable:k,enable:W,__moveHandles:function(H,K,L){TA(H,K,B,L)},options:t,updateOptions:Se,target:s,removePips:QA,removeTooltips:M,getPositions:function(){return B.slice()},getTooltips:function(){return f},getOrigins:function(){return l},pips:lA};return JA}function Xd(e,A){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var t=Ta(A),r=Pd(e,t,A);return e.noUiSlider=r,r}const Jd={__spectrum:La,cssClasses:Ka,create:Xd},eE="",tE="";function Yd(e){let A,t,r;return{c(){A=_("span"),t=sA(e[0]),Q(A,"id",e[3]),Q(A,"class",r="tooltip "+e[2]+" "+(e[1]?"display":"")+" svelte-1vbe6c4")},m(n,i){O(n,A,i),m(A,t)},p(n,[i]){i&1&&_A(t,n[0]),i&6&&r!==(r="tooltip "+n[2]+" "+(n[1]?"display":"")+" svelte-1vbe6c4")&&Q(A,"class",r)},i:$,o:$,d(n){n&&T(A)}}}function Wd(e,A,t){let r,n,i,s,{tooltipText:o}=A,{targetHtmlId:a}=A;const l=`tooltip-generic-${window.crypto.randomUUID()}`,c=()=>t(1,s=!0),u=()=>t(1,s=!1),f=()=>t(1,s=!s);return Dt(()=>{i=a?document.getElementById(a):document.getElementById(l).parentElement,a&&!i&&(console.error(`TooltipGeneric: element with ID ${a} not found, defaulting to the parent element`),i=document.getElementById(l).targetElement),i.addEventListener("mouseover",c),i.addEventListener("mouseout",u),i.addEventListener("click",f)}),qt(()=>{i.removeEventListener("mouseover",c),i.removeEventListener("mouseout",u),i.removeEventListener("click",f)}),e.$$set=g=>{"tooltipText"in g&&t(0,o=g.tooltipText),"targetHtmlId"in g&&t(4,a=g.targetHtmlId)},e.$$.update=()=>{e.$$.dirty&33&&t(2,r=n(o))},t(5,n=g=>t(2,r=g.length>100?"tooltip-wide":g.length>20?"tooltip-mid":"tooltip-thin")),i=void 0,t(1,s=!1),[o,s,r,l,a,n]}class ws extends DA{constructor(A){super(),MA(this,A,Wd,Yd,SA,{tooltipText:0,targetHtmlId:4})}}const rE="";function zd(e){let A,t,r,n,i,s,o,a,l,c,u,f,g,d,B,w;return{c(){A=_("div"),t=_("span"),r=sA(e[2]),n=sA(" ("),i=sA(e[3]),s=sA(")"),o=V(),a=_("div"),l=_("span"),c=sA(e[0]),u=V(),f=_("div"),g=_("div"),d=V(),B=_("span"),w=sA(e[1]),Q(l,"class","range-marker svelte-216mtn"),Q(g,"class","slider"),Q(g,"id",e[4]),Q(f,"class","slider-wrapper svelte-216mtn"),Q(B,"class","range-marker svelte-216mtn"),Q(a,"class","slider-outer-wrapper is-flex flex-direction-row svelte-216mtn")},m(h,F){O(h,A,F),m(A,t),m(t,r),m(t,n),m(t,i),m(t,s),m(A,o),m(A,a),m(a,l),m(l,c),m(a,u),m(a,f),m(f,g),m(a,d),m(a,B),m(B,w)},p(h,[F]){F&4&&_A(r,h[2]),F&8&&_A(i,h[3]),F&1&&_A(c,h[0]),F&2&&_A(w,h[1])},i:$,o:$,d(h){h&&T(A)}}}function Zd(e,A,t){let r,{minVal:n}=A,{maxVal:i}=A,{start:s}=A,{step:o=void 0}=A,{roundTo:a=2}=A,{title:l=""}=A,{emitOnUpdate:c=!1}=A;const u=Tt(),f=`slider-${window.crypto.randomUUID()}`,g=Array.isArray(s)&&s.length===2&&s.every(v=>!isNaN(parseFloat(v))),d=[],B=g?[`noUi-handle-${window.crypto.randomUUID()}`,`noUi-handle-${window.crypto.randomUUID()}`]:[`noUi-handle-${window.crypto.randomUUID()}`],w=KB();w.setCompareFn(g?MB:(v,E)=>F(v)===F(E)),w.set(s);const h=la("resetTrigger")||void 0;h==null||h.subscribe(p);const F=v=>Number(v.toFixed(a)),b=(v,E)=>{v=Array.isArray(v)?v.map(F):F(v),t(3,r=v),(E==="set"||E==="update"&&c)&&(w.set(v),w.same()||u("updateSlider",w.get()))};function C(v){d.length&&d.map((E,S)=>E.$set({tooltipText:g?v[S]:v}))}function p(){const v=document.getElementById(f);v!=null&&v.noUiSlider&&v.noUiSlider.reset()}function U(){const v=document.getElementById(f);let E;Jd.create(v,{start:s,step:o,connect:g?!0:"lower",range:{min:n,max:i},handleAttributes:B.map(S=>({id:S}))}),v.noUiSlider.on("update",()=>{E=v.noUiSlider.get(!0),b(E,"update")}),v.noUiSlider.on("set",()=>{E=v.noUiSlider.get(!0),b(E,"set")})}function y(){B.map((v,E)=>{d.push(new ws({target:document.getElementById(v),props:g?{tooltipText:r[E]}:{tooltipText:r}}))})}return Dt(()=>{U(),y()}),qt(()=>{document.getElementById(f)&&(document.getElementById(f).innerHTML="")}),e.$$set=v=>{"minVal"in v&&t(0,n=v.minVal),"maxVal"in v&&t(1,i=v.maxVal),"start"in v&&t(5,s=v.start),"step"in v&&t(6,o=v.step),"roundTo"in v&&t(7,a=v.roundTo),"title"in v&&t(2,l=v.title),"emitOnUpdate"in v&&t(8,c=v.emitOnUpdate)},e.$$.update=()=>{e.$$.dirty&32&&t(3,r=s),e.$$.dirty&8&&C(r)},[n,i,l,r,f,s,o,a,c]}class Oa extends DA{constructor(A){super(),MA(this,A,Zd,zd,SA,{minVal:0,maxVal:1,start:5,step:6,roundTo:7,title:2,emitOnUpdate:8})}}function Na(e,A,t){const r=e.slice();return r[43]=A[t],r}function Ra(e,A,t){const r=e.slice();return r[46]=A[t],r}function Va(e,A,t){const r=e.slice();return r[43]=A[t],r}function Ga(e,A,t){const r=e.slice();r[51]=A[t];const n=Object.keys(r[29][r[51]]||{});return r[52]=n,r}function Pa(e){var un;let A,t,r,n=((un=e[0])==null?void 0:un.title)+"",i,s,o,a,l,c,u,f,g,d=(e[3].pairs||0)+"",B,w,h,F,b,C,p,U=(e[3].images||0)+"",y,v,E,S,x,G,R,I=(e[4]||0)+"",D,k,W,M,J,P,rA,uA,BA,q,QA,lA,mA,z,AA,Y,fA,iA,yA,UA,bA,EA,CA,HA,jA,fe,ge,$A,xA,Ie,LA,TA=["Series","Witness","Work"],RA=[];for(let nA=0;nA<3;nA+=1)RA[nA]=Xa(Ga(e,TA,nA));J=new od({props:{documentNodes:e[5],selectedRegions:e[6],toggleRegion:e[19],selectAllRegions:e[18]}});let Ge=["all","filtered"],me=[];for(let nA=0;nA<2;nA+=1)me[nA]=Ja(Va(e,Ge,nA));let Qe=e[30],XA=[];for(let nA=0;nA<Qe.length;nA+=1)XA[nA]=Ya(Ra(e,Qe,nA));const es=nA=>X(XA[nA],1,1,()=>{XA[nA]=null});let Kt=["threshold","topk"],Pe=[];for(let nA=0;nA<2;nA+=1)Pe[nA]=Wa(Na(e,Kt,nA));const ts=[qd,$d],tt=[];function rs(nA,OA){return nA[7]==="threshold"?0:1}CA=rs(e),HA=tt[CA]=ts[CA](e);function cn(nA,OA){if(nA[12]==="img")return rh;if(nA[12]==="doc")return th;if(nA[12]==="mat")return eh;if(nA[12]==="sim")return Ah}let Mt=cn(e),Se=Mt&&Mt(e);return{c(){A=_("div"),t=_("div"),r=_("h1"),i=sA(n),s=V(),o=_("div");for(let nA=0;nA<3;nA+=1)RA[nA].c();a=V(),l=_("div"),c=_("div"),u=_("p"),u.textContent=`${j==="en"?"Pairs":"Paires"}`,f=V(),g=_("p"),B=sA(d),w=V(),h=_("div"),F=_("div"),b=_("p"),b.textContent="Images",C=V(),p=_("p"),y=sA(U),v=V(),E=_("div"),S=_("div"),x=_("p"),x.textContent="Clusters",G=V(),R=_("p"),D=sA(I),k=V(),W=_("hr"),M=V(),pA(J.$$.fragment),P=V(),rA=_("hr"),uA=V(),BA=_("div"),q=_("h3"),q.textContent=`${j==="en"?"Similarity categories":"Catégories de similarité"}`,QA=V(),lA=_("div");for(let nA=0;nA<2;nA+=1)me[nA].c();mA=V(),z=_("div");for(let nA=0;nA<XA.length;nA+=1)XA[nA].c();AA=V(),Y=_("hr"),fA=V(),iA=_("div"),yA=_("h3"),yA.textContent=`${j==="en"?"Similarity score":"Score de similarité"}`,UA=V(),bA=_("div");for(let nA=0;nA<2;nA+=1)Pe[nA].c();EA=V(),HA.c(),jA=V(),fe=_("hr"),ge=V(),$A=_("div"),xA=_("h3"),xA.textContent=`${j==="en"?"Visualisation information":"Informations sur la visualisation"}`,Ie=V(),Se&&Se.c(),Q(r,"class","title"),Q(u,"class","heading"),Q(g,"class","title is-5"),Q(l,"class","level-item has-text-centered"),Q(b,"class","heading"),Q(p,"class","title is-5"),Q(h,"class","level-item has-text-centered"),Q(x,"class","heading"),Q(R,"class","title is-5"),Q(E,"class","level-item has-text-centered"),Q(o,"class","level"),Q(t,"class","pb-2"),Q(q,"class","title"),Q(lA,"class","buttons mb-3"),Q(z,"class","level"),zA(z,"is-disabled",e[1]==="all"),Q(BA,"class","pt-2"),Q(yA,"class","title"),Q(bA,"class","buttons mb-3"),Q(iA,"class","pt-2"),Q(xA,"class","title"),Q($A,"class","py-2"),Q(A,"class","content is-small mt-4")},m(nA,OA){O(nA,A,OA),m(A,t),m(t,r),m(r,i),m(t,s),m(t,o);for(let JA=0;JA<3;JA+=1)RA[JA]&&RA[JA].m(o,null);m(o,a),m(o,l),m(l,c),m(c,u),m(c,f),m(c,g),m(g,B),m(o,w),m(o,h),m(h,F),m(F,b),m(F,C),m(F,p),m(p,y),m(o,v),m(o,E),m(E,S),m(S,x),m(S,G),m(S,R),m(R,D),m(A,k),m(A,W),m(A,M),hA(J,A,null),m(A,P),m(A,rA),m(A,uA),m(A,BA),m(BA,q),m(BA,QA),m(BA,lA);for(let JA=0;JA<2;JA+=1)me[JA]&&me[JA].m(lA,null);m(BA,mA),m(BA,z);for(let JA=0;JA<XA.length;JA+=1)XA[JA]&&XA[JA].m(z,null);m(A,AA),m(A,Y),m(A,fA),m(A,iA),m(iA,yA),m(iA,UA),m(iA,bA);for(let JA=0;JA<2;JA+=1)Pe[JA]&&Pe[JA].m(bA,null);m(iA,EA),tt[CA].m(iA,null),m(A,jA),m(A,fe),m(A,ge),m(A,$A),m($A,xA),m($A,Ie),Se&&Se.m($A,null),LA=!0},p(nA,OA){var K;if((!LA||OA[0]&1)&&n!==(n=((K=nA[0])==null?void 0:K.title)+"")&&_A(i,n),OA[0]&536870912){TA=["Series","Witness","Work"];let L;for(L=0;L<3;L+=1){const Z=Ga(nA,TA,L);RA[L]?RA[L].p(Z,OA):(RA[L]=Xa(Z),RA[L].c(),RA[L].m(o,a))}for(;L<3;L+=1)RA[L].d(1)}(!LA||OA[0]&8)&&d!==(d=(nA[3].pairs||0)+"")&&_A(B,d),(!LA||OA[0]&8)&&U!==(U=(nA[3].images||0)+"")&&_A(y,U),(!LA||OA[0]&16)&&I!==(I=(nA[4]||0)+"")&&_A(D,I);const JA={};if(OA[0]&32&&(JA.documentNodes=nA[5]),OA[0]&64&&(JA.selectedRegions=nA[6]),J.$set(JA),OA[0]&2|OA[1]&1){Ge=["all","filtered"];let L;for(L=0;L<2;L+=1){const Z=Va(nA,Ge,L);me[L]?me[L].p(Z,OA):(me[L]=Ja(Z),me[L].c(),me[L].m(lA,null))}for(;L<2;L+=1)me[L].d(1)}if(OA[0]&1073807374){Qe=nA[30];let L;for(L=0;L<Qe.length;L+=1){const Z=Ra(nA,Qe,L);XA[L]?(XA[L].p(Z,OA),N(XA[L],1)):(XA[L]=Ya(Z),XA[L].c(),N(XA[L],1),XA[L].m(z,null))}for(kA(),L=Qe.length;L<XA.length;L+=1)es(L);KA()}if((!LA||OA[0]&2)&&zA(z,"is-disabled",nA[1]==="all"),OA[0]&128|OA[1]&2){Kt=["threshold","topk"];let L;for(L=0;L<2;L+=1){const Z=Na(nA,Kt,L);Pe[L]?Pe[L].p(Z,OA):(Pe[L]=Wa(Z),Pe[L].c(),Pe[L].m(bA,null))}for(;L<2;L+=1)Pe[L].d(1)}let H=CA;CA=rs(nA),CA===H?tt[CA].p(nA,OA):(kA(),X(tt[H],1,1,()=>{tt[H]=null}),KA(),HA=tt[CA],HA?HA.p(nA,OA):(HA=tt[CA]=ts[CA](nA),HA.c()),N(HA,1),HA.m(iA,null)),Mt===(Mt=cn(nA))&&Se?Se.p(nA,OA):(Se&&Se.d(1),Se=Mt&&Mt(nA),Se&&(Se.c(),Se.m($A,null)))},i(nA){if(!LA){N(J.$$.fragment,nA);for(let OA=0;OA<Qe.length;OA+=1)N(XA[OA]);N(HA),LA=!0}},o(nA){X(J.$$.fragment,nA),XA=XA.filter(Boolean);for(let OA=0;OA<XA.length;OA+=1)X(XA[OA]);X(HA),LA=!1},d(nA){nA&&T(A),ve(RA,nA),wA(J),ve(me,nA),ve(XA,nA),ve(Pe,nA),tt[CA].d(),Se&&Se.d()}}}function jd(e){let A,t,r,n=yn[e[51]]+"",i,s,o,a=(e[52].length||0)+"",l;return{c(){A=_("div"),t=_("div"),r=_("p"),i=sA(n),s=V(),o=_("p"),l=sA(a),Q(r,"class","heading"),Q(o,"class","title is-5"),Q(A,"class","level-item has-text-centered")},m(c,u){O(c,A,u),m(A,t),m(t,r),m(r,i),m(t,s),m(t,o),m(o,l)},p:$,d(c){c&&T(A)}}}function Xa(e){let A,t=e[52].length>0&&jd(e);return{c(){t&&t.c(),A=ye()},m(r,n){t&&t.m(r,n),O(r,A,n)},p(r,n){r[52].length>0&&t.p(r,n)},d(r){t&&t.d(r),r&&T(A)}}}function Ja(e){let A,t=e[43]==="all"?j==="en"?"All pairs":"Toutes les paires":j==="en"?"Filter by category":"Filtrer par catégorie",r,n,i,s;function o(){return e[35](e[43])}return{c(){A=_("button"),r=sA(t),n=V(),Q(A,"class","button is-small is-flex-grow-1"),zA(A,"is-link",e[1]===e[43]),zA(A,"is-contrasted",e[1]!==e[43])},m(a,l){O(a,A,l),m(A,r),m(A,n),i||(s=gA(A,"click",o),i=!0)},p(a,l){e=a,l[0]&2&&zA(A,"is-link",e[1]===e[43]),l[0]&2&&zA(A,"is-contrasted",e[1]!==e[43])},d(a){a&&T(A),i=!1,s()}}}function Ya(e){let A,t,r,n,i,s=(e[3].categories[e[46]]||0)+"",o,a,l;return r=new Ad({props:{category:e[46],isSelected:e[2].includes(e[46]),toggle:e[36],selectable:e[1]==="filtered"}}),{c(){A=_("div"),t=_("div"),pA(r.$$.fragment),n=V(),i=_("p"),o=sA(s),a=V(),Q(i,"class","is-size-7 mt-1"),Q(A,"class","level-item has-text-centered")},m(c,u){O(c,A,u),m(A,t),hA(r,t,null),m(t,n),m(t,i),m(i,o),m(A,a),l=!0},p(c,u){const f={};u[0]&4&&(f.isSelected=c[2].includes(c[46])),u[0]&2&&(f.toggle=c[36]),u[0]&2&&(f.selectable=c[1]==="filtered"),r.$set(f),(!l||u[0]&8)&&s!==(s=(c[3].categories[c[46]]||0)+"")&&_A(o,s)},i(c){l||(N(r.$$.fragment,c),l=!0)},o(c){X(r.$$.fragment,c),l=!1},d(c){c&&T(A),wA(r)}}}function Wa(e){let A,t=e[43]==="threshold"?j==="en"?"Score threshold":"Seuil de score":j==="en"?"Top K pairs":"Top K paires",r,n,i,s;function o(){return e[37](e[43])}return{c(){A=_("button"),r=sA(t),n=V(),Q(A,"class","button is-small is-flex-grow-1"),zA(A,"is-link",e[7]===e[43]),zA(A,"is-contrasted",e[7]!==e[43])},m(a,l){O(a,A,l),m(A,r),m(A,n),i||(s=gA(A,"click",o),i=!0)},p(a,l){e=a,l[0]&128&&zA(A,"is-link",e[7]===e[43]),l[0]&128&&zA(A,"is-contrasted",e[7]!==e[43])},d(a){a&&T(A),i=!1,s()}}}function $d(e){let A,t,r,n,i,s,o,a,l,c,u,f;return r=new Oa({props:{minVal:1,maxVal:5,start:e[10]||3,step:1,roundTo:0,title:"K"}}),r.$on("updateSlider",e[39]),{c(){A=_("div"),t=_("div"),pA(r.$$.fragment),n=V(),i=_("div"),s=_("label"),o=_("input"),a=V(),l=_("span"),l.textContent=`${j==="en"?"Mutual top K":"Top K mutuel"}`,Q(t,"class","column is-two-thirds pl-4"),o.checked=e[11],Q(o,"type","checkbox"),Q(o,"class","mr-2"),Q(l,"class","is-size-7"),Q(s,"class","checkbox mt-3 is-flex is-align-items-center"),Q(i,"class","column mt-2"),Q(A,"class","columns mt-2")},m(g,d){O(g,A,d),m(A,t),hA(r,t,null),m(A,n),m(A,i),m(i,s),m(s,o),m(s,a),m(s,l),c=!0,u||(f=gA(o,"change",e[40]),u=!0)},p(g,d){const B={};d[0]&1024&&(B.start=g[10]||3),r.$set(B),(!c||d[0]&2048)&&(o.checked=g[11])},i(g){c||(N(r.$$.fragment,g),c=!0)},o(g){X(r.$$.fragment,g),c=!1},d(g){g&&T(A),wA(r),u=!1,f()}}}function qd(e){var r,n;let A,t;return A=new Oa({props:{minVal:((r=e[8].scoreRange)==null?void 0:r.min)||0,maxVal:((n=e[8].scoreRange)==null?void 0:n.max)||1,start:e[9],step:.01,roundTo:2,title:j==="en"?"Minimum score":"Score minimum"}}),A.$on("updateSlider",e[38]),{c(){pA(A.$$.fragment)},m(i,s){hA(A,i,s),t=!0},p(i,s){var a,l;const o={};s[0]&256&&(o.minVal=((a=i[8].scoreRange)==null?void 0:a.min)||0),s[0]&256&&(o.maxVal=((l=i[8].scoreRange)==null?void 0:l.max)||1),s[0]&512&&(o.start=i[9]),A.$set(o)},i(i){t||(N(A.$$.fragment,i),t=!0)},o(i){X(A.$$.fragment,i),t=!1},d(i){wA(A,i)}}}function Ah(e){let A;return{c(){A=_("p"),A.textContent=`${j==="en"?"Groups of images that share a similarity connection above the score threshold.":"Groupes d'images partageant une connexion de similarité au-dessus du seuil de score."}`},m(t,r){O(t,A,r)},p:$,d(t){t&&T(A)}}}function eh(e){let A;return{c(){A=_("p"),A.textContent=`${j==="en"?"Matrix showing aggregated similarity scores between documents. Click a cell to explore page-level similarities in a scatter plot interface.":"Matrice affichant les scores de similarité agrégés entre documents. Cliquez sur une cellule pour explorer les similarités entre paires de documents."}`},m(t,r){O(t,A,r)},p:$,d(t){t&&T(A)}}}function th(e){let A;return{c(){A=_("p"),A.textContent=`${j==="en"?"Network where each node is a document. Edge thickness reflects the cumulative similarity score between document pairs. Node size indicates the number of connections.":"Réseau où chaque nœud est un document. L'épaisseur des liens reflète le score de similarité cumulé entre paires de documents. La taille des nœuds indique le nombre de connexions."}`},m(t,r){O(t,A,r)},p:$,d(t){t&&T(A)}}}function rh(e){let A;return{c(){A=_("p"),A.textContent=`${j==="en"?"Network where each node is an image region. Edges connect regions with similarity scores above the threshold. Node color indicates the source document.":"Réseau où chaque nœud est une région d'image. Les liens connectent les régions dont le score de similarité dépasse le seuil. La couleur indique le document source."}`},m(t,r){O(t,A,r)},p:$,d(t){t&&T(A)}}}function nh(e){let A,t,r=e[3]&&Pa(e);return{c(){A=_("div"),r&&r.c(),Q(A,"class","m-4 py-5 px-4")},m(n,i){O(n,A,i),r&&r.m(A,null),t=!0},p(n,i){n[3]?r?(r.p(n,i),i[0]&8&&N(r,1)):(r=Pa(n),r.c(),N(r,1),r.m(A,null)):r&&(kA(),X(r,1,1,()=>{r=null}),KA())},i(n){t||(N(r),t=!0)},o(n){X(r),t=!1},d(n){n&&T(A),r&&r.d()}}}function ih(e,A,t){let r,n,i,s,o,a,l,c,u,f,g;vA(e,Ot,Y=>t(12,g=Y));let{docSet:d=null}=A,{documentSetStore:B}=A,{clusterStore:w}=A;const{docSetNumber:h,documentNodes:F,selectedCategories:b,toggleCategory:C,selectedRegions:p,selectAllRegions:U,toggleRegion:y,threshold:v,setThreshold:E,topK:S,setTopK:x,mutualTopK:G,setMutualTopK:R,scoreMode:I,setScoreMode:D,pairStats:k}=B;vA(e,h,Y=>t(3,n=Y)),vA(e,F,Y=>t(5,s=Y)),vA(e,b,Y=>t(2,r=Y)),vA(e,p,Y=>t(6,o=Y)),vA(e,v,Y=>t(9,c=Y)),vA(e,S,Y=>t(10,u=Y)),vA(e,G,Y=>t(11,f=Y)),vA(e,I,Y=>t(7,a=Y)),vA(e,k,Y=>t(8,l=Y));const{clusterNb:W,handlePageUpdate:M}=w;vA(e,W,Y=>t(4,i=Y));const J=la("selectedDocuments"),P=[0,1,2,3,5];let rA="filtered";function uA(Y){t(1,rA=Y),Y==="all"&&r.length!==P.length&&b.set(P)}function BA(Y){M(1),D(Y)}const q=Y=>uA(Y),QA=Y=>rA==="filtered"?C(Y):null,lA=Y=>BA(Y),mA=Y=>E(Y.detail),z=Y=>x(Y.detail),AA=()=>R(!f);return e.$$set=Y=>{"docSet"in Y&&t(0,d=Y.docSet),"documentSetStore"in Y&&t(33,B=Y.documentSetStore),"clusterStore"in Y&&t(34,w=Y.clusterStore)},[d,rA,r,n,i,s,o,a,l,c,u,f,g,h,F,b,C,p,U,y,v,E,S,x,G,R,I,k,W,J,P,uA,BA,B,w,q,QA,lA,mA,z,AA]}class sh extends DA{constructor(A){super(),MA(this,A,ih,nh,SA,{docSet:0,documentSetStore:33,clusterStore:34},null,[-1,-1])}}function Sn(e,A){return e==null||A==null?NaN:e<A?-1:e>A?1:e>=A?0:NaN}function oh(e,A){return e==null||A==null?NaN:A<e?-1:A>e?1:A>=e?0:NaN}function za(e){let A,t,r;e.length!==2?(A=Sn,t=(o,a)=>Sn(e(o),a),r=(o,a)=>e(o)-a):(A=e===Sn||e===oh?e:ah,t=e,r=e);function n(o,a,l=0,c=o.length){if(l<c){if(A(a,a)!==0)return c;do{const u=l+c>>>1;t(o[u],a)<0?l=u+1:c=u}while(l<c)}return l}function i(o,a,l=0,c=o.length){if(l<c){if(A(a,a)!==0)return c;do{const u=l+c>>>1;t(o[u],a)<=0?l=u+1:c=u}while(l<c)}return l}function s(o,a,l=0,c=o.length){const u=n(o,a,l,c-1);return u>l&&r(o[u-1],a)>-r(o[u],a)?u-1:u}return{left:n,center:s,right:i}}function ah(){return 0}function lh(e){return e===null?NaN:+e}const ch=za(Sn).right;za(lh).center;const uh=ch;class Za extends Map{constructor(A,t=Bh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),A!=null)for(const[r,n]of A)this.set(r,n)}get(A){return super.get(ja(this,A))}has(A){return super.has(ja(this,A))}set(A,t){return super.set(fh(this,A),t)}delete(A){return super.delete(gh(this,A))}}function ja({_intern:e,_key:A},t){const r=A(t);return e.has(r)?e.get(r):t}function fh({_intern:e,_key:A},t){const r=A(t);return e.has(r)?e.get(r):(e.set(r,t),t)}function gh({_intern:e,_key:A},t){const r=A(t);return e.has(r)&&(t=e.get(r),e.delete(r)),t}function Bh(e){return e!==null&&typeof e=="object"?e.valueOf():e}const dh=Math.sqrt(50),hh=Math.sqrt(10),wh=Math.sqrt(2);function xn(e,A,t){const r=(A-e)/Math.max(0,t),n=Math.floor(Math.log10(r)),i=r/Math.pow(10,n),s=i>=dh?10:i>=hh?5:i>=wh?2:1;let o,a,l;return n<0?(l=Math.pow(10,-n)/s,o=Math.round(e*l),a=Math.round(A*l),o/l<e&&++o,a/l>A&&--a,l=-l):(l=Math.pow(10,n)*s,o=Math.round(e/l),a=Math.round(A/l),o*l<e&&++o,a*l>A&&--a),a<o&&.5<=t&&t<2?xn(e,A,t*2):[o,a,l]}function ph(e,A,t){if(A=+A,e=+e,t=+t,!(t>0))return[];if(e===A)return[e];const r=A<e,[n,i,s]=r?xn(A,e,t):xn(e,A,t);if(!(i>=n))return[];const o=i-n+1,a=new Array(o);if(r)if(s<0)for(let l=0;l<o;++l)a[l]=(i-l)/-s;else for(let l=0;l<o;++l)a[l]=(i-l)*s;else if(s<0)for(let l=0;l<o;++l)a[l]=(n+l)/-s;else for(let l=0;l<o;++l)a[l]=(n+l)*s;return a}function ps(e,A,t){return A=+A,e=+e,t=+t,xn(e,A,t)[2]}function mh(e,A,t){A=+A,e=+e,t=+t;const r=A<e,n=r?ps(A,e,t):ps(e,A,t);return(r?-1:1)*(n<0?1/-n:n)}function Ln(e,A,t){e=+e,A=+A,t=(n=arguments.length)<2?(A=e,e=0,1):n<3?1:+t;for(var r=-1,n=Math.max(0,Math.ceil((A-e)/t))|0,i=new Array(n);++r<n;)i[r]=e+r*t;return i}function Qh(e){return e}var kn=1,ms=2,$a=3,Hr=4,qa=1e-6;function Ch(e){return"translate("+e+",0)"}function vh(e){return"translate(0,"+e+")"}function Uh(e){return A=>+e(A)}function Fh(e,A){return A=Math.max(0,e.bandwidth()-A*2)/2,e.round()&&(A=Math.round(A)),t=>+e(t)+A}function _h(){return!this.__axis}function Al(e,A){var t=[],r=null,n=null,i=6,s=6,o=3,a=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=e===kn||e===Hr?-1:1,c=e===Hr||e===ms?"x":"y",u=e===kn||e===$a?Ch:vh;function f(g){var d=r??(A.ticks?A.ticks.apply(A,t):A.domain()),B=n??(A.tickFormat?A.tickFormat.apply(A,t):Qh),w=Math.max(i,0)+o,h=A.range(),F=+h[0]+a,b=+h[h.length-1]+a,C=(A.bandwidth?Fh:Uh)(A.copy(),a),p=g.selection?g.selection():g,U=p.selectAll(".domain").data([null]),y=p.selectAll(".tick").data(d,A).order(),v=y.exit(),E=y.enter().append("g").attr("class","tick"),S=y.select("line"),x=y.select("text");U=U.merge(U.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),y=y.merge(E),S=S.merge(E.append("line").attr("stroke","currentColor").attr(c+"2",l*i)),x=x.merge(E.append("text").attr("fill","currentColor").attr(c,l*w).attr("dy",e===kn?"0em":e===$a?"0.71em":"0.32em")),g!==p&&(U=U.transition(g),y=y.transition(g),S=S.transition(g),x=x.transition(g),v=v.transition(g).attr("opacity",qa).attr("transform",function(G){return isFinite(G=C(G))?u(G+a):this.getAttribute("transform")}),E.attr("opacity",qa).attr("transform",function(G){var R=this.parentNode.__axis;return u((R&&isFinite(R=R(G))?R:C(G))+a)})),v.remove(),U.attr("d",e===Hr||e===ms?s?"M"+l*s+","+F+"H"+a+"V"+b+"H"+l*s:"M"+a+","+F+"V"+b:s?"M"+F+","+l*s+"V"+a+"H"+b+"V"+l*s:"M"+F+","+a+"H"+b),y.attr("opacity",1).attr("transform",function(G){return u(C(G)+a)}),S.attr(c+"2",l*i),x.attr(c,l*w).text(B),p.filter(_h).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===ms?"start":e===Hr?"end":"middle"),p.each(function(){this.__axis=C})}return f.scale=function(g){return arguments.length?(A=g,f):A},f.ticks=function(){return t=Array.from(arguments),f},f.tickArguments=function(g){return arguments.length?(t=g==null?[]:Array.from(g),f):t.slice()},f.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),f):r&&r.slice()},f.tickFormat=function(g){return arguments.length?(n=g,f):n},f.tickSize=function(g){return arguments.length?(i=s=+g,f):i},f.tickSizeInner=function(g){return arguments.length?(i=+g,f):i},f.tickSizeOuter=function(g){return arguments.length?(s=+g,f):s},f.tickPadding=function(g){return arguments.length?(o=+g,f):o},f.offset=function(g){return arguments.length?(a=+g,f):a},f}function el(e){return Al(kn,e)}function tl(e){return Al(Hr,e)}var yh={value:()=>{}};function Ir(){for(var e=0,A=arguments.length,t={},r;e<A;++e){if(!(r=arguments[e]+"")||r in t||/[\s.]/.test(r))throw new Error("illegal type: "+r);t[r]=[]}return new Kn(t)}function Kn(e){this._=e}function bh(e,A){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t&&!A.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:r}})}Kn.prototype=Ir.prototype={constructor:Kn,on:function(e,A){var t=this._,r=bh(e+"",t),n,i=-1,s=r.length;if(arguments.length<2){for(;++i<s;)if((n=(e=r[i]).type)&&(n=Eh(t[n],e.name)))return n;return}if(A!=null&&typeof A!="function")throw new Error("invalid callback: "+A);for(;++i<s;)if(n=(e=r[i]).type)t[n]=rl(t[n],e.name,A);else if(A==null)for(n in t)t[n]=rl(t[n],e.name,null);return this},copy:function(){var e={},A=this._;for(var t in A)e[t]=A[t].slice();return new Kn(e)},call:function(e,A){if((n=arguments.length-2)>0)for(var t=new Array(n),r=0,n,i;r<n;++r)t[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,n=i.length;r<n;++r)i[r].value.apply(A,t)},apply:function(e,A,t){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],n=0,i=r.length;n<i;++n)r[n].value.apply(A,t)}};function Eh(e,A){for(var t=0,r=e.length,n;t<r;++t)if((n=e[t]).name===A)return n.value}function rl(e,A,t){for(var r=0,n=e.length;r<n;++r)if(e[r].name===A){e[r]=yh,e=e.slice(0,r).concat(e.slice(r+1));break}return t!=null&&e.push({name:A,value:t}),e}var Qs="http://www.w3.org/1999/xhtml";const nl={svg:"http://www.w3.org/2000/svg",xhtml:Qs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mn(e){var A=e+="",t=A.indexOf(":");return t>=0&&(A=e.slice(0,t))!=="xmlns"&&(e=e.slice(t+1)),nl.hasOwnProperty(A)?{space:nl[A],local:e}:e}function Hh(e){return function(){var A=this.ownerDocument,t=this.namespaceURI;return t===Qs&&A.documentElement.namespaceURI===Qs?A.createElement(e):A.createElementNS(t,e)}}function Ih(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function il(e){var A=Mn(e);return(A.local?Ih:Hh)(A)}function Sh(){}function Cs(e){return e==null?Sh:function(){return this.querySelector(e)}}function xh(e){typeof e!="function"&&(e=Cs(e));for(var A=this._groups,t=A.length,r=new Array(t),n=0;n<t;++n)for(var i=A[n],s=i.length,o=r[n]=new Array(s),a,l,c=0;c<s;++c)(a=i[c])&&(l=e.call(a,a.__data__,c,i))&&("__data__"in a&&(l.__data__=a.__data__),o[c]=l);return new Re(r,this._parents)}function Lh(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function kh(){return[]}function sl(e){return e==null?kh:function(){return this.querySelectorAll(e)}}function Kh(e){return function(){return Lh(e.apply(this,arguments))}}function Mh(e){typeof e=="function"?e=Kh(e):e=sl(e);for(var A=this._groups,t=A.length,r=[],n=[],i=0;i<t;++i)for(var s=A[i],o=s.length,a,l=0;l<o;++l)(a=s[l])&&(r.push(e.call(a,a.__data__,l,s)),n.push(a));return new Re(r,n)}function ol(e){return function(){return this.matches(e)}}function al(e){return function(A){return A.matches(e)}}var Dh=Array.prototype.find;function Th(e){return function(){return Dh.call(this.children,e)}}function Oh(){return this.firstElementChild}function Nh(e){return this.select(e==null?Oh:Th(typeof e=="function"?e:al(e)))}var Rh=Array.prototype.filter;function Vh(){return Array.from(this.children)}function Gh(e){return function(){return Rh.call(this.children,e)}}function Ph(e){return this.selectAll(e==null?Vh:Gh(typeof e=="function"?e:al(e)))}function Xh(e){typeof e!="function"&&(e=ol(e));for(var A=this._groups,t=A.length,r=new Array(t),n=0;n<t;++n)for(var i=A[n],s=i.length,o=r[n]=[],a,l=0;l<s;++l)(a=i[l])&&e.call(a,a.__data__,l,i)&&o.push(a);return new Re(r,this._parents)}function ll(e){return new Array(e.length)}function Jh(){return new Re(this._enter||this._groups.map(ll),this._parents)}function Dn(e,A){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=A}Dn.prototype={constructor:Dn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,A){return this._parent.insertBefore(e,A)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Yh(e){return function(){return e}}function Wh(e,A,t,r,n,i){for(var s=0,o,a=A.length,l=i.length;s<l;++s)(o=A[s])?(o.__data__=i[s],r[s]=o):t[s]=new Dn(e,i[s]);for(;s<a;++s)(o=A[s])&&(n[s]=o)}function zh(e,A,t,r,n,i,s){var o,a,l=new Map,c=A.length,u=i.length,f=new Array(c),g;for(o=0;o<c;++o)(a=A[o])&&(f[o]=g=s.call(a,a.__data__,o,A)+"",l.has(g)?n[o]=a:l.set(g,a));for(o=0;o<u;++o)g=s.call(e,i[o],o,i)+"",(a=l.get(g))?(r[o]=a,a.__data__=i[o],l.delete(g)):t[o]=new Dn(e,i[o]);for(o=0;o<c;++o)(a=A[o])&&l.get(f[o])===a&&(n[o]=a)}function Zh(e){return e.__data__}function jh(e,A){if(!arguments.length)return Array.from(this,Zh);var t=A?zh:Wh,r=this._parents,n=this._groups;typeof e!="function"&&(e=Yh(e));for(var i=n.length,s=new Array(i),o=new Array(i),a=new Array(i),l=0;l<i;++l){var c=r[l],u=n[l],f=u.length,g=$h(e.call(c,c&&c.__data__,l,r)),d=g.length,B=o[l]=new Array(d),w=s[l]=new Array(d),h=a[l]=new Array(f);t(c,u,B,w,h,g,A);for(var F=0,b=0,C,p;F<d;++F)if(C=B[F]){for(F>=b&&(b=F+1);!(p=w[b])&&++b<d;);C._next=p||null}}return s=new Re(s,r),s._enter=o,s._exit=a,s}function $h(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qh(){return new Re(this._exit||this._groups.map(ll),this._parents)}function Aw(e,A,t){var r=this.enter(),n=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),A!=null&&(n=A(n),n&&(n=n.selection())),t==null?i.remove():t(i),r&&n?r.merge(n).order():n}function ew(e){for(var A=e.selection?e.selection():e,t=this._groups,r=A._groups,n=t.length,i=r.length,s=Math.min(n,i),o=new Array(n),a=0;a<s;++a)for(var l=t[a],c=r[a],u=l.length,f=o[a]=new Array(u),g,d=0;d<u;++d)(g=l[d]||c[d])&&(f[d]=g);for(;a<n;++a)o[a]=t[a];return new Re(o,this._parents)}function tw(){for(var e=this._groups,A=-1,t=e.length;++A<t;)for(var r=e[A],n=r.length-1,i=r[n],s;--n>=0;)(s=r[n])&&(i&&s.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(s,i),i=s);return this}function rw(e){e||(e=nw);function A(u,f){return u&&f?e(u.__data__,f.__data__):!u-!f}for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i){for(var s=t[i],o=s.length,a=n[i]=new Array(o),l,c=0;c<o;++c)(l=s[c])&&(a[c]=l);a.sort(A)}return new Re(n,this._parents).order()}function nw(e,A){return e<A?-1:e>A?1:e>=A?0:NaN}function iw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function sw(){return Array.from(this)}function ow(){for(var e=this._groups,A=0,t=e.length;A<t;++A)for(var r=e[A],n=0,i=r.length;n<i;++n){var s=r[n];if(s)return s}return null}function aw(){let e=0;for(const A of this)++e;return e}function lw(){return!this.node()}function cw(e){for(var A=this._groups,t=0,r=A.length;t<r;++t)for(var n=A[t],i=0,s=n.length,o;i<s;++i)(o=n[i])&&e.call(o,o.__data__,i,n);return this}function uw(e){return function(){this.removeAttribute(e)}}function fw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gw(e,A){return function(){this.setAttribute(e,A)}}function Bw(e,A){return function(){this.setAttributeNS(e.space,e.local,A)}}function dw(e,A){return function(){var t=A.apply(this,arguments);t==null?this.removeAttribute(e):this.setAttribute(e,t)}}function hw(e,A){return function(){var t=A.apply(this,arguments);t==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}function ww(e,A){var t=Mn(e);if(arguments.length<2){var r=this.node();return t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}return this.each((A==null?t.local?fw:uw:typeof A=="function"?t.local?hw:dw:t.local?Bw:gw)(t,A))}function cl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function pw(e){return function(){this.style.removeProperty(e)}}function mw(e,A,t){return function(){this.style.setProperty(e,A,t)}}function Qw(e,A,t){return function(){var r=A.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,t)}}function Cw(e,A,t){return arguments.length>1?this.each((A==null?pw:typeof A=="function"?Qw:mw)(e,A,t??"")):sr(this.node(),e)}function sr(e,A){return e.style.getPropertyValue(A)||cl(e).getComputedStyle(e,null).getPropertyValue(A)}function vw(e){return function(){delete this[e]}}function Uw(e,A){return function(){this[e]=A}}function Fw(e,A){return function(){var t=A.apply(this,arguments);t==null?delete this[e]:this[e]=t}}function _w(e,A){return arguments.length>1?this.each((A==null?vw:typeof A=="function"?Fw:Uw)(e,A)):this.node()[e]}function ul(e){return e.trim().split(/^|\s+/)}function vs(e){return e.classList||new fl(e)}function fl(e){this._node=e,this._names=ul(e.getAttribute("class")||"")}fl.prototype={add:function(e){var A=this._names.indexOf(e);A<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var A=this._names.indexOf(e);A>=0&&(this._names.splice(A,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function gl(e,A){for(var t=vs(e),r=-1,n=A.length;++r<n;)t.add(A[r])}function Bl(e,A){for(var t=vs(e),r=-1,n=A.length;++r<n;)t.remove(A[r])}function yw(e){return function(){gl(this,e)}}function bw(e){return function(){Bl(this,e)}}function Ew(e,A){return function(){(A.apply(this,arguments)?gl:Bl)(this,e)}}function Hw(e,A){var t=ul(e+"");if(arguments.length<2){for(var r=vs(this.node()),n=-1,i=t.length;++n<i;)if(!r.contains(t[n]))return!1;return!0}return this.each((typeof A=="function"?Ew:A?yw:bw)(t,A))}function Iw(){this.textContent=""}function Sw(e){return function(){this.textContent=e}}function xw(e){return function(){var A=e.apply(this,arguments);this.textContent=A??""}}function Lw(e){return arguments.length?this.each(e==null?Iw:(typeof e=="function"?xw:Sw)(e)):this.node().textContent}function kw(){this.innerHTML=""}function Kw(e){return function(){this.innerHTML=e}}function Mw(e){return function(){var A=e.apply(this,arguments);this.innerHTML=A??""}}function Dw(e){return arguments.length?this.each(e==null?kw:(typeof e=="function"?Mw:Kw)(e)):this.node().innerHTML}function Tw(){this.nextSibling&&this.parentNode.appendChild(this)}function Ow(){return this.each(Tw)}function Nw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Rw(){return this.each(Nw)}function Vw(e){var A=typeof e=="function"?e:il(e);return this.select(function(){return this.appendChild(A.apply(this,arguments))})}function Gw(){return null}function Pw(e,A){var t=typeof e=="function"?e:il(e),r=A==null?Gw:typeof A=="function"?A:Cs(A);return this.select(function(){return this.insertBefore(t.apply(this,arguments),r.apply(this,arguments)||null)})}function Xw(){var e=this.parentNode;e&&e.removeChild(this)}function Jw(){return this.each(Xw)}function Yw(){var e=this.cloneNode(!1),A=this.parentNode;return A?A.insertBefore(e,this.nextSibling):e}function Ww(){var e=this.cloneNode(!0),A=this.parentNode;return A?A.insertBefore(e,this.nextSibling):e}function zw(e){return this.select(e?Ww:Yw)}function Zw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function jw(e){return function(A){e.call(this,A,this.__data__)}}function $w(e){return e.trim().split(/^|\s+/).map(function(A){var t="",r=A.indexOf(".");return r>=0&&(t=A.slice(r+1),A=A.slice(0,r)),{type:A,name:t}})}function qw(e){return function(){var A=this.__on;if(A){for(var t=0,r=-1,n=A.length,i;t<n;++t)i=A[t],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):A[++r]=i;++r?A.length=r:delete this.__on}}}function A0(e,A,t){return function(){var r=this.__on,n,i=jw(A);if(r){for(var s=0,o=r.length;s<o;++s)if((n=r[s]).type===e.type&&n.name===e.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=i,n.options=t),n.value=A;return}}this.addEventListener(e.type,i,t),n={type:e.type,name:e.name,value:A,listener:i,options:t},r?r.push(n):this.__on=[n]}}function e0(e,A,t){var r=$w(e+""),n,i=r.length,s;if(arguments.length<2){var o=this.node().__on;if(o){for(var a=0,l=o.length,c;a<l;++a)for(n=0,c=o[a];n<i;++n)if((s=r[n]).type===c.type&&s.name===c.name)return c.value}return}for(o=A?A0:qw,n=0;n<i;++n)this.each(o(r[n],A,t));return this}function dl(e,A,t){var r=cl(e),n=r.CustomEvent;typeof n=="function"?n=new n(A,t):(n=r.document.createEvent("Event"),t?(n.initEvent(A,t.bubbles,t.cancelable),n.detail=t.detail):n.initEvent(A,!1,!1)),e.dispatchEvent(n)}function t0(e,A){return function(){return dl(this,e,A)}}function r0(e,A){return function(){return dl(this,e,A.apply(this,arguments))}}function n0(e,A){return this.each((typeof A=="function"?r0:t0)(e,A))}function*i0(){for(var e=this._groups,A=0,t=e.length;A<t;++A)for(var r=e[A],n=0,i=r.length,s;n<i;++n)(s=r[n])&&(yield s)}var hl=[null];function Re(e,A){this._groups=e,this._parents=A}function Sr(){return new Re([[document.documentElement]],hl)}function s0(){return this}Re.prototype=Sr.prototype={constructor:Re,select:xh,selectAll:Mh,selectChild:Nh,selectChildren:Ph,filter:Xh,data:jh,enter:Jh,exit:qh,join:Aw,merge:ew,selection:s0,order:tw,sort:rw,call:iw,nodes:sw,node:ow,size:aw,empty:lw,each:cw,attr:ww,style:Cw,property:_w,classed:Hw,text:Lw,html:Dw,raise:Ow,lower:Rw,append:Vw,insert:Pw,remove:Jw,clone:zw,datum:Zw,on:e0,dispatch:n0,[Symbol.iterator]:i0};function oe(e){return typeof e=="string"?new Re([[document.querySelector(e)]],[document.documentElement]):new Re([[e]],hl)}function o0(e){let A;for(;A=e.sourceEvent;)e=A;return e}function he(e,A){if(e=o0(e),A===void 0&&(A=e.currentTarget),A){var t=A.ownerSVGElement||A;if(t.createSVGPoint){var r=t.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(A.getScreenCTM().inverse()),[r.x,r.y]}if(A.getBoundingClientRect){var n=A.getBoundingClientRect();return[e.clientX-n.left-A.clientLeft,e.clientY-n.top-A.clientTop]}}return[e.pageX,e.pageY]}const a0={passive:!1},xr={capture:!0,passive:!1};function Us(e){e.stopImmediatePropagation()}function or(e){e.preventDefault(),e.stopImmediatePropagation()}function wl(e){var A=e.document.documentElement,t=oe(e).on("dragstart.drag",or,xr);"onselectstart"in A?t.on("selectstart.drag",or,xr):(A.__noselect=A.style.MozUserSelect,A.style.MozUserSelect="none")}function pl(e,A){var t=e.document.documentElement,r=oe(e).on("dragstart.drag",null);A&&(r.on("click.drag",or,xr),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in t?r.on("selectstart.drag",null):(t.style.MozUserSelect=t.__noselect,delete t.__noselect)}const Tn=e=>()=>e;function Fs(e,{sourceEvent:A,subject:t,target:r,identifier:n,active:i,x:s,y:o,dx:a,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:A,enumerable:!0,configurable:!0},subject:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:n,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:o,enumerable:!0,configurable:!0},dx:{value:a,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}Fs.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function l0(e){return!e.ctrlKey&&!e.button}function c0(){return this.parentNode}function u0(e,A){return A??{x:e.x,y:e.y}}function f0(){return navigator.maxTouchPoints||"ontouchstart"in this}function g0(){var e=l0,A=c0,t=u0,r=f0,n={},i=Ir("start","drag","end"),s=0,o,a,l,c,u=0;function f(C){C.on("mousedown.drag",g).filter(r).on("touchstart.drag",w).on("touchmove.drag",h,a0).on("touchend.drag touchcancel.drag",F).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(C,p){if(!(c||!e.call(this,C,p))){var U=b(this,A.call(this,C,p),C,p,"mouse");U&&(oe(C.view).on("mousemove.drag",d,xr).on("mouseup.drag",B,xr),wl(C.view),Us(C),l=!1,o=C.clientX,a=C.clientY,U("start",C))}}function d(C){if(or(C),!l){var p=C.clientX-o,U=C.clientY-a;l=p*p+U*U>u}n.mouse("drag",C)}function B(C){oe(C.view).on("mousemove.drag mouseup.drag",null),pl(C.view,l),or(C),n.mouse("end",C)}function w(C,p){if(e.call(this,C,p)){var U=C.changedTouches,y=A.call(this,C,p),v=U.length,E,S;for(E=0;E<v;++E)(S=b(this,y,C,p,U[E].identifier,U[E]))&&(Us(C),S("start",C,U[E]))}}function h(C){var p=C.changedTouches,U=p.length,y,v;for(y=0;y<U;++y)(v=n[p[y].identifier])&&(or(C),v("drag",C,p[y]))}function F(C){var p=C.changedTouches,U=p.length,y,v;for(c&&clearTimeout(c),c=setTimeout(function(){c=null},500),y=0;y<U;++y)(v=n[p[y].identifier])&&(Us(C),v("end",C,p[y]))}function b(C,p,U,y,v,E){var S=i.copy(),x=he(E||U,p),G,R,I;if((I=t.call(C,new Fs("beforestart",{sourceEvent:U,target:f,identifier:v,active:s,x:x[0],y:x[1],dx:0,dy:0,dispatch:S}),y))!=null)return G=I.x-x[0]||0,R=I.y-x[1]||0,function D(k,W,M){var J=x,P;switch(k){case"start":n[v]=D,P=s++;break;case"end":delete n[v],--s;case"drag":x=he(M||W,p),P=s;break}S.call(k,C,new Fs(k,{sourceEvent:W,subject:I,target:f,identifier:v,active:P,x:x[0]+G,y:x[1]+R,dx:x[0]-J[0],dy:x[1]-J[1],dispatch:S}),y)}}return f.filter=function(C){return arguments.length?(e=typeof C=="function"?C:Tn(!!C),f):e},f.container=function(C){return arguments.length?(A=typeof C=="function"?C:Tn(C),f):A},f.subject=function(C){return arguments.length?(t=typeof C=="function"?C:Tn(C),f):t},f.touchable=function(C){return arguments.length?(r=typeof C=="function"?C:Tn(!!C),f):r},f.on=function(){var C=i.on.apply(i,arguments);return C===i?f:C},f.clickDistance=function(C){return arguments.length?(u=(C=+C)*C,f):Math.sqrt(u)},f}function _s(e,A,t){e.prototype=A.prototype=t,t.constructor=e}function ml(e,A){var t=Object.create(e.prototype);for(var r in A)t[r]=A[r];return t}function Lr(){}var kr=.7,On=1/kr,ar="\\s*([+-]?\\d+)\\s*",Kr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",it="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",B0=/^#([0-9a-f]{3,8})$/,d0=new RegExp(`^rgb\\(${ar},${ar},${ar}\\)$`),h0=new RegExp(`^rgb\\(${it},${it},${it}\\)$`),w0=new RegExp(`^rgba\\(${ar},${ar},${ar},${Kr}\\)$`),p0=new RegExp(`^rgba\\(${it},${it},${it},${Kr}\\)$`),m0=new RegExp(`^hsl\\(${Kr},${it},${it}\\)$`),Q0=new RegExp(`^hsla\\(${Kr},${it},${it},${Kr}\\)$`),Ql={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_s(Lr,Nt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Cl,formatHex:Cl,formatHex8:C0,formatHsl:v0,formatRgb:vl,toString:vl});function Cl(){return this.rgb().formatHex()}function C0(){return this.rgb().formatHex8()}function v0(){return bl(this).formatHsl()}function vl(){return this.rgb().formatRgb()}function Nt(e){var A,t;return e=(e+"").trim().toLowerCase(),(A=B0.exec(e))?(t=A[1].length,A=parseInt(A[1],16),t===6?Ul(A):t===3?new Te(A>>8&15|A>>4&240,A>>4&15|A&240,(A&15)<<4|A&15,1):t===8?Nn(A>>24&255,A>>16&255,A>>8&255,(A&255)/255):t===4?Nn(A>>12&15|A>>8&240,A>>8&15|A>>4&240,A>>4&15|A&240,((A&15)<<4|A&15)/255):null):(A=d0.exec(e))?new Te(A[1],A[2],A[3],1):(A=h0.exec(e))?new Te(A[1]*255/100,A[2]*255/100,A[3]*255/100,1):(A=w0.exec(e))?Nn(A[1],A[2],A[3],A[4]):(A=p0.exec(e))?Nn(A[1]*255/100,A[2]*255/100,A[3]*255/100,A[4]):(A=m0.exec(e))?yl(A[1],A[2]/100,A[3]/100,1):(A=Q0.exec(e))?yl(A[1],A[2]/100,A[3]/100,A[4]):Ql.hasOwnProperty(e)?Ul(Ql[e]):e==="transparent"?new Te(NaN,NaN,NaN,0):null}function Ul(e){return new Te(e>>16&255,e>>8&255,e&255,1)}function Nn(e,A,t,r){return r<=0&&(e=A=t=NaN),new Te(e,A,t,r)}function U0(e){return e instanceof Lr||(e=Nt(e)),e?(e=e.rgb(),new Te(e.r,e.g,e.b,e.opacity)):new Te}function ys(e,A,t,r){return arguments.length===1?U0(e):new Te(e,A,t,r??1)}function Te(e,A,t,r){this.r=+e,this.g=+A,this.b=+t,this.opacity=+r}_s(Te,ys,ml(Lr,{brighter(e){return e=e==null?On:Math.pow(On,e),new Te(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kr:Math.pow(kr,e),new Te(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Te(Rt(this.r),Rt(this.g),Rt(this.b),Rn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fl,formatHex:Fl,formatHex8:F0,formatRgb:_l,toString:_l}));function Fl(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}`}function F0(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}${Vt((isNaN(this.opacity)?1:this.opacity)*255)}`}function _l(){const e=Rn(this.opacity);return`${e===1?"rgb(":"rgba("}${Rt(this.r)}, ${Rt(this.g)}, ${Rt(this.b)}${e===1?")":`, ${e})`}`}function Rn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vt(e){return e=Rt(e),(e<16?"0":"")+e.toString(16)}function yl(e,A,t,r){return r<=0?e=A=t=NaN:t<=0||t>=1?e=A=NaN:A<=0&&(e=NaN),new je(e,A,t,r)}function bl(e){if(e instanceof je)return new je(e.h,e.s,e.l,e.opacity);if(e instanceof Lr||(e=Nt(e)),!e)return new je;if(e instanceof je)return e;e=e.rgb();var A=e.r/255,t=e.g/255,r=e.b/255,n=Math.min(A,t,r),i=Math.max(A,t,r),s=NaN,o=i-n,a=(i+n)/2;return o?(A===i?s=(t-r)/o+(t<r)*6:t===i?s=(r-A)/o+2:s=(A-t)/o+4,o/=a<.5?i+n:2-i-n,s*=60):o=a>0&&a<1?0:s,new je(s,o,a,e.opacity)}function Vn(e,A,t,r){return arguments.length===1?bl(e):new je(e,A,t,r??1)}function je(e,A,t,r){this.h=+e,this.s=+A,this.l=+t,this.opacity=+r}_s(je,Vn,ml(Lr,{brighter(e){return e=e==null?On:Math.pow(On,e),new je(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kr:Math.pow(kr,e),new je(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,A=isNaN(e)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*A,n=2*t-r;return new Te(bs(e>=240?e-240:e+120,n,r),bs(e,n,r),bs(e<120?e+240:e-120,n,r),this.opacity)},clamp(){return new je(El(this.h),Gn(this.s),Gn(this.l),Rn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Rn(this.opacity);return`${e===1?"hsl(":"hsla("}${El(this.h)}, ${Gn(this.s)*100}%, ${Gn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function El(e){return e=(e||0)%360,e<0?e+360:e}function Gn(e){return Math.max(0,Math.min(1,e||0))}function bs(e,A,t){return(e<60?A+(t-A)*e/60:e<180?t:e<240?A+(t-A)*(240-e)/60:A)*255}const Es=e=>()=>e;function _0(e,A){return function(t){return e+t*A}}function y0(e,A,t){return e=Math.pow(e,t),A=Math.pow(A,t)-e,t=1/t,function(r){return Math.pow(e+r*A,t)}}function b0(e){return(e=+e)==1?Hl:function(A,t){return t-A?y0(A,t,e):Es(isNaN(A)?t:A)}}function Hl(e,A){var t=A-e;return t?_0(e,t):Es(isNaN(e)?A:e)}const Pn=function e(A){var t=b0(A);function r(n,i){var s=t((n=ys(n)).r,(i=ys(i)).r),o=t(n.g,i.g),a=t(n.b,i.b),l=Hl(n.opacity,i.opacity);return function(c){return n.r=s(c),n.g=o(c),n.b=a(c),n.opacity=l(c),n+""}}return r.gamma=e,r}(1);function E0(e,A){A||(A=[]);var t=e?Math.min(A.length,e.length):0,r=A.slice(),n;return function(i){for(n=0;n<t;++n)r[n]=e[n]*(1-i)+A[n]*i;return r}}function H0(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function I0(e,A){var t=A?A.length:0,r=e?Math.min(t,e.length):0,n=new Array(r),i=new Array(t),s;for(s=0;s<r;++s)n[s]=Ss(e[s],A[s]);for(;s<t;++s)i[s]=A[s];return function(o){for(s=0;s<r;++s)i[s]=n[s](o);return i}}function S0(e,A){var t=new Date;return e=+e,A=+A,function(r){return t.setTime(e*(1-r)+A*r),t}}function $e(e,A){return e=+e,A=+A,function(t){return e*(1-t)+A*t}}function x0(e,A){var t={},r={},n;(e===null||typeof e!="object")&&(e={}),(A===null||typeof A!="object")&&(A={});for(n in A)n in e?t[n]=Ss(e[n],A[n]):r[n]=A[n];return function(i){for(n in t)r[n]=t[n](i);return r}}var Hs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Is=new RegExp(Hs.source,"g");function L0(e){return function(){return e}}function k0(e){return function(A){return e(A)+""}}function Il(e,A){var t=Hs.lastIndex=Is.lastIndex=0,r,n,i,s=-1,o=[],a=[];for(e=e+"",A=A+"";(r=Hs.exec(e))&&(n=Is.exec(A));)(i=n.index)>t&&(i=A.slice(t,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,a.push({i:s,x:$e(r,n)})),t=Is.lastIndex;return t<A.length&&(i=A.slice(t),o[s]?o[s]+=i:o[++s]=i),o.length<2?a[0]?k0(a[0].x):L0(A):(A=a.length,function(l){for(var c=0,u;c<A;++c)o[(u=a[c]).i]=u.x(l);return o.join("")})}function Ss(e,A){var t=typeof A,r;return A==null||t==="boolean"?Es(A):(t==="number"?$e:t==="string"?(r=Nt(A))?(A=r,Pn):Il:A instanceof Nt?Pn:A instanceof Date?S0:H0(A)?E0:Array.isArray(A)?I0:typeof A.valueOf!="function"&&typeof A.toString!="function"||isNaN(A)?x0:$e)(e,A)}function K0(e,A){return e=+e,A=+A,function(t){return Math.round(e*(1-t)+A*t)}}var Sl=180/Math.PI,xs={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function xl(e,A,t,r,n,i){var s,o,a;return(s=Math.sqrt(e*e+A*A))&&(e/=s,A/=s),(a=e*t+A*r)&&(t-=e*a,r-=A*a),(o=Math.sqrt(t*t+r*r))&&(t/=o,r/=o,a/=o),e*r<A*t&&(e=-e,A=-A,a=-a,s=-s),{translateX:n,translateY:i,rotate:Math.atan2(A,e)*Sl,skewX:Math.atan(a)*Sl,scaleX:s,scaleY:o}}var Xn;function M0(e){const A=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return A.isIdentity?xs:xl(A.a,A.b,A.c,A.d,A.e,A.f)}function D0(e){return e==null||(Xn||(Xn=document.createElementNS("http://www.w3.org/2000/svg","g")),Xn.setAttribute("transform",e),!(e=Xn.transform.baseVal.consolidate()))?xs:(e=e.matrix,xl(e.a,e.b,e.c,e.d,e.e,e.f))}function Ll(e,A,t,r){function n(l){return l.length?l.pop()+" ":""}function i(l,c,u,f,g,d){if(l!==u||c!==f){var B=g.push("translate(",null,A,null,t);d.push({i:B-4,x:$e(l,u)},{i:B-2,x:$e(c,f)})}else(u||f)&&g.push("translate("+u+A+f+t)}function s(l,c,u,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:u.push(n(u)+"rotate(",null,r)-2,x:$e(l,c)})):c&&u.push(n(u)+"rotate("+c+r)}function o(l,c,u,f){l!==c?f.push({i:u.push(n(u)+"skewX(",null,r)-2,x:$e(l,c)}):c&&u.push(n(u)+"skewX("+c+r)}function a(l,c,u,f,g,d){if(l!==u||c!==f){var B=g.push(n(g)+"scale(",null,",",null,")");d.push({i:B-4,x:$e(l,u)},{i:B-2,x:$e(c,f)})}else(u!==1||f!==1)&&g.push(n(g)+"scale("+u+","+f+")")}return function(l,c){var u=[],f=[];return l=e(l),c=e(c),i(l.translateX,l.translateY,c.translateX,c.translateY,u,f),s(l.rotate,c.rotate,u,f),o(l.skewX,c.skewX,u,f),a(l.scaleX,l.scaleY,c.scaleX,c.scaleY,u,f),l=c=null,function(g){for(var d=-1,B=f.length,w;++d<B;)u[(w=f[d]).i]=w.x(g);return u.join("")}}}var T0=Ll(M0,"px, ","px)","deg)"),O0=Ll(D0,", ",")",")"),N0=1e-12;function kl(e){return((e=Math.exp(e))+1/e)/2}function R0(e){return((e=Math.exp(e))-1/e)/2}function V0(e){return((e=Math.exp(2*e))-1)/(e+1)}const G0=function e(A,t,r){function n(i,s){var o=i[0],a=i[1],l=i[2],c=s[0],u=s[1],f=s[2],g=c-o,d=u-a,B=g*g+d*d,w,h;if(B<N0)h=Math.log(f/l)/A,w=function(y){return[o+y*g,a+y*d,l*Math.exp(A*y*h)]};else{var F=Math.sqrt(B),b=(f*f-l*l+r*B)/(2*l*t*F),C=(f*f-l*l-r*B)/(2*f*t*F),p=Math.log(Math.sqrt(b*b+1)-b),U=Math.log(Math.sqrt(C*C+1)-C);h=(U-p)/A,w=function(y){var v=y*h,E=kl(p),S=l/(t*F)*(E*V0(A*v+p)-R0(p));return[o+S*g,a+S*d,l*E/kl(A*v+p)]}}return w.duration=h*1e3*A/Math.SQRT2,w}return n.rho=function(i){var s=Math.max(.001,+i),o=s*s,a=o*o;return e(s,o,a)},n}(Math.SQRT2,2,4);var lr=0,Mr=0,Dr=0,Kl=1e3,Jn,Tr,Yn=0,Gt=0,Wn=0,Or=typeof performance=="object"&&performance.now?performance:Date,Ml=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ls(){return Gt||(Ml(P0),Gt=Or.now()+Wn)}function P0(){Gt=0}function zn(){this._call=this._time=this._next=null}zn.prototype=ks.prototype={constructor:zn,restart:function(e,A,t){if(typeof e!="function")throw new TypeError("callback is not a function");t=(t==null?Ls():+t)+(A==null?0:+A),!this._next&&Tr!==this&&(Tr?Tr._next=this:Jn=this,Tr=this),this._call=e,this._time=t,Ks()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ks())}};function ks(e,A,t){var r=new zn;return r.restart(e,A,t),r}function X0(){Ls(),++lr;for(var e=Jn,A;e;)(A=Gt-e._time)>=0&&e._call.call(void 0,A),e=e._next;--lr}function Dl(){Gt=(Yn=Or.now())+Wn,lr=Mr=0;try{X0()}finally{lr=0,Y0(),Gt=0}}function J0(){var e=Or.now(),A=e-Yn;A>Kl&&(Wn-=A,Yn=e)}function Y0(){for(var e,A=Jn,t,r=1/0;A;)A._call?(r>A._time&&(r=A._time),e=A,A=A._next):(t=A._next,A._next=null,A=e?e._next=t:Jn=t);Tr=e,Ks(r)}function Ks(e){if(!lr){Mr&&(Mr=clearTimeout(Mr));var A=e-Gt;A>24?(e<1/0&&(Mr=setTimeout(Dl,e-Or.now()-Wn)),Dr&&(Dr=clearInterval(Dr))):(Dr||(Yn=Or.now(),Dr=setInterval(J0,Kl)),lr=1,Ml(Dl))}}function Tl(e,A,t){var r=new zn;return A=A==null?0:+A,r.restart(n=>{r.stop(),e(n+A)},A,t),r}var W0=Ir("start","end","cancel","interrupt"),z0=[],Ol=0,Nl=1,Ms=2,Zn=3,Rl=4,Ds=5,jn=6;function $n(e,A,t,r,n,i){var s=e.__transition;if(!s)e.__transition={};else if(t in s)return;Z0(e,t,{name:A,index:r,group:n,on:W0,tween:z0,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:Ol})}function Ts(e,A){var t=qe(e,A);if(t.state>Ol)throw new Error("too late; already scheduled");return t}function st(e,A){var t=qe(e,A);if(t.state>Zn)throw new Error("too late; already running");return t}function qe(e,A){var t=e.__transition;if(!t||!(t=t[A]))throw new Error("transition not found");return t}function Z0(e,A,t){var r=e.__transition,n;r[A]=t,t.timer=ks(i,0,t.time);function i(l){t.state=Nl,t.timer.restart(s,t.delay,t.time),t.delay<=l&&s(l-t.delay)}function s(l){var c,u,f,g;if(t.state!==Nl)return a();for(c in r)if(g=r[c],g.name===t.name){if(g.state===Zn)return Tl(s);g.state===Rl?(g.state=jn,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[c]):+c<A&&(g.state=jn,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[c])}if(Tl(function(){t.state===Zn&&(t.state=Rl,t.timer.restart(o,t.delay,t.time),o(l))}),t.state=Ms,t.on.call("start",e,e.__data__,t.index,t.group),t.state===Ms){for(t.state=Zn,n=new Array(f=t.tween.length),c=0,u=-1;c<f;++c)(g=t.tween[c].value.call(e,e.__data__,t.index,t.group))&&(n[++u]=g);n.length=u+1}}function o(l){for(var c=l<t.duration?t.ease.call(null,l/t.duration):(t.timer.restart(a),t.state=Ds,1),u=-1,f=n.length;++u<f;)n[u].call(e,c);t.state===Ds&&(t.on.call("end",e,e.__data__,t.index,t.group),a())}function a(){t.state=jn,t.timer.stop(),delete r[A];for(var l in r)return;delete e.__transition}}function qn(e,A){var t=e.__transition,r,n,i=!0,s;if(t){A=A==null?null:A+"";for(s in t){if((r=t[s]).name!==A){i=!1;continue}n=r.state>Ms&&r.state<Ds,r.state=jn,r.timer.stop(),r.on.call(n?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete t[s]}i&&delete e.__transition}}function j0(e){return this.each(function(){qn(this,e)})}function $0(e,A){var t,r;return function(){var n=st(this,e),i=n.tween;if(i!==t){r=t=i;for(var s=0,o=r.length;s<o;++s)if(r[s].name===A){r=r.slice(),r.splice(s,1);break}}n.tween=r}}function q0(e,A,t){var r,n;if(typeof t!="function")throw new Error;return function(){var i=st(this,e),s=i.tween;if(s!==r){n=(r=s).slice();for(var o={name:A,value:t},a=0,l=n.length;a<l;++a)if(n[a].name===A){n[a]=o;break}a===l&&n.push(o)}i.tween=n}}function Ap(e,A){var t=this._id;if(e+="",arguments.length<2){for(var r=qe(this.node(),t).tween,n=0,i=r.length,s;n<i;++n)if((s=r[n]).name===e)return s.value;return null}return this.each((A==null?$0:q0)(t,e,A))}function Os(e,A,t){var r=e._id;return e.each(function(){var n=st(this,r);(n.value||(n.value={}))[A]=t.apply(this,arguments)}),function(n){return qe(n,r).value[A]}}function Vl(e,A){var t;return(typeof A=="number"?$e:A instanceof Nt?Pn:(t=Nt(A))?(A=t,Pn):Il)(e,A)}function ep(e){return function(){this.removeAttribute(e)}}function tp(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rp(e,A,t){var r,n=t+"",i;return function(){var s=this.getAttribute(e);return s===n?null:s===r?i:i=A(r=s,t)}}function np(e,A,t){var r,n=t+"",i;return function(){var s=this.getAttributeNS(e.space,e.local);return s===n?null:s===r?i:i=A(r=s,t)}}function ip(e,A,t){var r,n,i;return function(){var s,o=t(this),a;return o==null?void this.removeAttribute(e):(s=this.getAttribute(e),a=o+"",s===a?null:s===r&&a===n?i:(n=a,i=A(r=s,o)))}}function sp(e,A,t){var r,n,i;return function(){var s,o=t(this),a;return o==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),a=o+"",s===a?null:s===r&&a===n?i:(n=a,i=A(r=s,o)))}}function op(e,A){var t=Mn(e),r=t==="transform"?O0:Vl;return this.attrTween(e,typeof A=="function"?(t.local?sp:ip)(t,r,Os(this,"attr."+e,A)):A==null?(t.local?tp:ep)(t):(t.local?np:rp)(t,r,A))}function ap(e,A){return function(t){this.setAttribute(e,A.call(this,t))}}function lp(e,A){return function(t){this.setAttributeNS(e.space,e.local,A.call(this,t))}}function cp(e,A){var t,r;function n(){var i=A.apply(this,arguments);return i!==r&&(t=(r=i)&&lp(e,i)),t}return n._value=A,n}function up(e,A){var t,r;function n(){var i=A.apply(this,arguments);return i!==r&&(t=(r=i)&&ap(e,i)),t}return n._value=A,n}function fp(e,A){var t="attr."+e;if(arguments.length<2)return(t=this.tween(t))&&t._value;if(A==null)return this.tween(t,null);if(typeof A!="function")throw new Error;var r=Mn(e);return this.tween(t,(r.local?cp:up)(r,A))}function gp(e,A){return function(){Ts(this,e).delay=+A.apply(this,arguments)}}function Bp(e,A){return A=+A,function(){Ts(this,e).delay=A}}function dp(e){var A=this._id;return arguments.length?this.each((typeof e=="function"?gp:Bp)(A,e)):qe(this.node(),A).delay}function hp(e,A){return function(){st(this,e).duration=+A.apply(this,arguments)}}function wp(e,A){return A=+A,function(){st(this,e).duration=A}}function pp(e){var A=this._id;return arguments.length?this.each((typeof e=="function"?hp:wp)(A,e)):qe(this.node(),A).duration}function mp(e,A){if(typeof A!="function")throw new Error;return function(){st(this,e).ease=A}}function Qp(e){var A=this._id;return arguments.length?this.each(mp(A,e)):qe(this.node(),A).ease}function Cp(e,A){return function(){var t=A.apply(this,arguments);if(typeof t!="function")throw new Error;st(this,e).ease=t}}function vp(e){if(typeof e!="function")throw new Error;return this.each(Cp(this._id,e))}function Up(e){typeof e!="function"&&(e=ol(e));for(var A=this._groups,t=A.length,r=new Array(t),n=0;n<t;++n)for(var i=A[n],s=i.length,o=r[n]=[],a,l=0;l<s;++l)(a=i[l])&&e.call(a,a.__data__,l,i)&&o.push(a);return new Bt(r,this._parents,this._name,this._id)}function Fp(e){if(e._id!==this._id)throw new Error;for(var A=this._groups,t=e._groups,r=A.length,n=t.length,i=Math.min(r,n),s=new Array(r),o=0;o<i;++o)for(var a=A[o],l=t[o],c=a.length,u=s[o]=new Array(c),f,g=0;g<c;++g)(f=a[g]||l[g])&&(u[g]=f);for(;o<r;++o)s[o]=A[o];return new Bt(s,this._parents,this._name,this._id)}function _p(e){return(e+"").trim().split(/^|\s+/).every(function(A){var t=A.indexOf(".");return t>=0&&(A=A.slice(0,t)),!A||A==="start"})}function yp(e,A,t){var r,n,i=_p(A)?Ts:st;return function(){var s=i(this,e),o=s.on;o!==r&&(n=(r=o).copy()).on(A,t),s.on=n}}function bp(e,A){var t=this._id;return arguments.length<2?qe(this.node(),t).on.on(e):this.each(yp(t,e,A))}function Ep(e){return function(){var A=this.parentNode;for(var t in this.__transition)if(+t!==e)return;A&&A.removeChild(this)}}function Hp(){return this.on("end.remove",Ep(this._id))}function Ip(e){var A=this._name,t=this._id;typeof e!="function"&&(e=Cs(e));for(var r=this._groups,n=r.length,i=new Array(n),s=0;s<n;++s)for(var o=r[s],a=o.length,l=i[s]=new Array(a),c,u,f=0;f<a;++f)(c=o[f])&&(u=e.call(c,c.__data__,f,o))&&("__data__"in c&&(u.__data__=c.__data__),l[f]=u,$n(l[f],A,t,f,l,qe(c,t)));return new Bt(i,this._parents,A,t)}function Sp(e){var A=this._name,t=this._id;typeof e!="function"&&(e=sl(e));for(var r=this._groups,n=r.length,i=[],s=[],o=0;o<n;++o)for(var a=r[o],l=a.length,c,u=0;u<l;++u)if(c=a[u]){for(var f=e.call(c,c.__data__,u,a),g,d=qe(c,t),B=0,w=f.length;B<w;++B)(g=f[B])&&$n(g,A,t,B,f,d);i.push(f),s.push(c)}return new Bt(i,s,A,t)}var xp=Sr.prototype.constructor;function Lp(){return new xp(this._groups,this._parents)}function kp(e,A){var t,r,n;return function(){var i=sr(this,e),s=(this.style.removeProperty(e),sr(this,e));return i===s?null:i===t&&s===r?n:n=A(t=i,r=s)}}function Gl(e){return function(){this.style.removeProperty(e)}}function Kp(e,A,t){var r,n=t+"",i;return function(){var s=sr(this,e);return s===n?null:s===r?i:i=A(r=s,t)}}function Mp(e,A,t){var r,n,i;return function(){var s=sr(this,e),o=t(this),a=o+"";return o==null&&(a=o=(this.style.removeProperty(e),sr(this,e))),s===a?null:s===r&&a===n?i:(n=a,i=A(r=s,o))}}function Dp(e,A){var t,r,n,i="style."+A,s="end."+i,o;return function(){var a=st(this,e),l=a.on,c=a.value[i]==null?o||(o=Gl(A)):void 0;(l!==t||n!==c)&&(r=(t=l).copy()).on(s,n=c),a.on=r}}function Tp(e,A,t){var r=(e+="")=="transform"?T0:Vl;return A==null?this.styleTween(e,kp(e,r)).on("end.style."+e,Gl(e)):typeof A=="function"?this.styleTween(e,Mp(e,r,Os(this,"style."+e,A))).each(Dp(this._id,e)):this.styleTween(e,Kp(e,r,A),t).on("end.style."+e,null)}function Op(e,A,t){return function(r){this.style.setProperty(e,A.call(this,r),t)}}function Np(e,A,t){var r,n;function i(){var s=A.apply(this,arguments);return s!==n&&(r=(n=s)&&Op(e,s,t)),r}return i._value=A,i}function Rp(e,A,t){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(A==null)return this.tween(r,null);if(typeof A!="function")throw new Error;return this.tween(r,Np(e,A,t??""))}function Vp(e){return function(){this.textContent=e}}function Gp(e){return function(){var A=e(this);this.textContent=A??""}}function Pp(e){return this.tween("text",typeof e=="function"?Gp(Os(this,"text",e)):Vp(e==null?"":e+""))}function Xp(e){return function(A){this.textContent=e.call(this,A)}}function Jp(e){var A,t;function r(){var n=e.apply(this,arguments);return n!==t&&(A=(t=n)&&Xp(n)),A}return r._value=e,r}function Yp(e){var A="text";if(arguments.length<1)return(A=this.tween(A))&&A._value;if(e==null)return this.tween(A,null);if(typeof e!="function")throw new Error;return this.tween(A,Jp(e))}function Wp(){for(var e=this._name,A=this._id,t=Pl(),r=this._groups,n=r.length,i=0;i<n;++i)for(var s=r[i],o=s.length,a,l=0;l<o;++l)if(a=s[l]){var c=qe(a,A);$n(a,e,t,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Bt(r,this._parents,e,t)}function zp(){var e,A,t=this,r=t._id,n=t.size();return new Promise(function(i,s){var o={value:s},a={value:function(){--n===0&&i()}};t.each(function(){var l=st(this,r),c=l.on;c!==e&&(A=(e=c).copy(),A._.cancel.push(o),A._.interrupt.push(o),A._.end.push(a)),l.on=A}),n===0&&i()})}var Zp=0;function Bt(e,A,t,r){this._groups=e,this._parents=A,this._name=t,this._id=r}function Pl(){return++Zp}var dt=Sr.prototype;Bt.prototype={constructor:Bt,select:Ip,selectAll:Sp,selectChild:dt.selectChild,selectChildren:dt.selectChildren,filter:Up,merge:Fp,selection:Lp,transition:Wp,call:dt.call,nodes:dt.nodes,node:dt.node,size:dt.size,empty:dt.empty,each:dt.each,on:bp,attr:op,attrTween:fp,style:Tp,styleTween:Rp,text:Pp,textTween:Yp,remove:Hp,tween:Ap,delay:dp,duration:pp,ease:Qp,easeVarying:vp,end:zp,[Symbol.iterator]:dt[Symbol.iterator]};function jp(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var $p={time:null,delay:0,duration:250,ease:jp};function qp(e,A){for(var t;!(t=e.__transition)||!(t=t[A]);)if(!(e=e.parentNode))throw new Error(`transition ${A} not found`);return t}function Am(e){var A,t;e instanceof Bt?(A=e._id,e=e._name):(A=Pl(),(t=$p).time=Ls(),e=e==null?null:e+"");for(var r=this._groups,n=r.length,i=0;i<n;++i)for(var s=r[i],o=s.length,a,l=0;l<o;++l)(a=s[l])&&$n(a,e,A,l,s,t||qp(a,A));return new Bt(r,this._parents,e,A)}Sr.prototype.interrupt=j0,Sr.prototype.transition=Am;function Xl(e,A){var t,r=1;e==null&&(e=0),A==null&&(A=0);function n(){var i,s=t.length,o,a=0,l=0;for(i=0;i<s;++i)o=t[i],a+=o.x,l+=o.y;for(a=(a/s-e)*r,l=(l/s-A)*r,i=0;i<s;++i)o=t[i],o.x-=a,o.y-=l}return n.initialize=function(i){t=i},n.x=function(i){return arguments.length?(e=+i,n):e},n.y=function(i){return arguments.length?(A=+i,n):A},n.strength=function(i){return arguments.length?(r=+i,n):r},n}function em(e){const A=+this._x.call(null,e),t=+this._y.call(null,e);return Jl(this.cover(A,t),A,t,e)}function Jl(e,A,t,r){if(isNaN(A)||isNaN(t))return e;var n,i=e._root,s={data:r},o=e._x0,a=e._y0,l=e._x1,c=e._y1,u,f,g,d,B,w,h,F;if(!i)return e._root=s,e;for(;i.length;)if((B=A>=(u=(o+l)/2))?o=u:l=u,(w=t>=(f=(a+c)/2))?a=f:c=f,n=i,!(i=i[h=w<<1|B]))return n[h]=s,e;if(g=+e._x.call(null,i.data),d=+e._y.call(null,i.data),A===g&&t===d)return s.next=i,n?n[h]=s:e._root=s,e;do n=n?n[h]=new Array(4):e._root=new Array(4),(B=A>=(u=(o+l)/2))?o=u:l=u,(w=t>=(f=(a+c)/2))?a=f:c=f;while((h=w<<1|B)===(F=(d>=f)<<1|g>=u));return n[F]=i,n[h]=s,e}function tm(e){var A,t,r=e.length,n,i,s=new Array(r),o=new Array(r),a=1/0,l=1/0,c=-1/0,u=-1/0;for(t=0;t<r;++t)isNaN(n=+this._x.call(null,A=e[t]))||isNaN(i=+this._y.call(null,A))||(s[t]=n,o[t]=i,n<a&&(a=n),n>c&&(c=n),i<l&&(l=i),i>u&&(u=i));if(a>c||l>u)return this;for(this.cover(a,l).cover(c,u),t=0;t<r;++t)Jl(this,s[t],o[t],e[t]);return this}function rm(e,A){if(isNaN(e=+e)||isNaN(A=+A))return this;var t=this._x0,r=this._y0,n=this._x1,i=this._y1;if(isNaN(t))n=(t=Math.floor(e))+1,i=(r=Math.floor(A))+1;else{for(var s=n-t||1,o=this._root,a,l;t>e||e>=n||r>A||A>=i;)switch(l=(A<r)<<1|e<t,a=new Array(4),a[l]=o,o=a,s*=2,l){case 0:n=t+s,i=r+s;break;case 1:t=n-s,i=r+s;break;case 2:n=t+s,r=i-s;break;case 3:t=n-s,r=i-s;break}this._root&&this._root.length&&(this._root=o)}return this._x0=t,this._y0=r,this._x1=n,this._y1=i,this}function nm(){var e=[];return this.visit(function(A){if(!A.length)do e.push(A.data);while(A=A.next)}),e}function im(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ke(e,A,t,r,n){this.node=e,this.x0=A,this.y0=t,this.x1=r,this.y1=n}function sm(e,A,t){var r,n=this._x0,i=this._y0,s,o,a,l,c=this._x1,u=this._y1,f=[],g=this._root,d,B;for(g&&f.push(new ke(g,n,i,c,u)),t==null?t=1/0:(n=e-t,i=A-t,c=e+t,u=A+t,t*=t);d=f.pop();)if(!(!(g=d.node)||(s=d.x0)>c||(o=d.y0)>u||(a=d.x1)<n||(l=d.y1)<i))if(g.length){var w=(s+a)/2,h=(o+l)/2;f.push(new ke(g[3],w,h,a,l),new ke(g[2],s,h,w,l),new ke(g[1],w,o,a,h),new ke(g[0],s,o,w,h)),(B=(A>=h)<<1|e>=w)&&(d=f[f.length-1],f[f.length-1]=f[f.length-1-B],f[f.length-1-B]=d)}else{var F=e-+this._x.call(null,g.data),b=A-+this._y.call(null,g.data),C=F*F+b*b;if(C<t){var p=Math.sqrt(t=C);n=e-p,i=A-p,c=e+p,u=A+p,r=g.data}}return r}function om(e){if(isNaN(c=+this._x.call(null,e))||isNaN(u=+this._y.call(null,e)))return this;var A,t=this._root,r,n,i,s=this._x0,o=this._y0,a=this._x1,l=this._y1,c,u,f,g,d,B,w,h;if(!t)return this;if(t.length)for(;;){if((d=c>=(f=(s+a)/2))?s=f:a=f,(B=u>=(g=(o+l)/2))?o=g:l=g,A=t,!(t=t[w=B<<1|d]))return this;if(!t.length)break;(A[w+1&3]||A[w+2&3]||A[w+3&3])&&(r=A,h=w)}for(;t.data!==e;)if(n=t,!(t=t.next))return this;return(i=t.next)&&delete t.next,n?(i?n.next=i:delete n.next,this):A?(i?A[w]=i:delete A[w],(t=A[0]||A[1]||A[2]||A[3])&&t===(A[3]||A[2]||A[1]||A[0])&&!t.length&&(r?r[h]=t:this._root=t),this):(this._root=i,this)}function am(e){for(var A=0,t=e.length;A<t;++A)this.remove(e[A]);return this}function lm(){return this._root}function cm(){var e=0;return this.visit(function(A){if(!A.length)do++e;while(A=A.next)}),e}function um(e){var A=[],t,r=this._root,n,i,s,o,a;for(r&&A.push(new ke(r,this._x0,this._y0,this._x1,this._y1));t=A.pop();)if(!e(r=t.node,i=t.x0,s=t.y0,o=t.x1,a=t.y1)&&r.length){var l=(i+o)/2,c=(s+a)/2;(n=r[3])&&A.push(new ke(n,l,c,o,a)),(n=r[2])&&A.push(new ke(n,i,c,l,a)),(n=r[1])&&A.push(new ke(n,l,s,o,c)),(n=r[0])&&A.push(new ke(n,i,s,l,c))}return this}function fm(e){var A=[],t=[],r;for(this._root&&A.push(new ke(this._root,this._x0,this._y0,this._x1,this._y1));r=A.pop();){var n=r.node;if(n.length){var i,s=r.x0,o=r.y0,a=r.x1,l=r.y1,c=(s+a)/2,u=(o+l)/2;(i=n[0])&&A.push(new ke(i,s,o,c,u)),(i=n[1])&&A.push(new ke(i,c,o,a,u)),(i=n[2])&&A.push(new ke(i,s,u,c,l)),(i=n[3])&&A.push(new ke(i,c,u,a,l))}t.push(r)}for(;r=t.pop();)e(r.node,r.x0,r.y0,r.x1,r.y1);return this}function gm(e){return e[0]}function Bm(e){return arguments.length?(this._x=e,this):this._x}function dm(e){return e[1]}function hm(e){return arguments.length?(this._y=e,this):this._y}function Ns(e,A,t){var r=new Rs(A??gm,t??dm,NaN,NaN,NaN,NaN);return e==null?r:r.addAll(e)}function Rs(e,A,t,r,n,i){this._x=e,this._y=A,this._x0=t,this._y0=r,this._x1=n,this._y1=i,this._root=void 0}function Yl(e){for(var A={data:e.data},t=A;e=e.next;)t=t.next={data:e.data};return A}var Ke=Ns.prototype=Rs.prototype;Ke.copy=function(){var e=new Rs(this._x,this._y,this._x0,this._y0,this._x1,this._y1),A=this._root,t,r;if(!A)return e;if(!A.length)return e._root=Yl(A),e;for(t=[{source:A,target:e._root=new Array(4)}];A=t.pop();)for(var n=0;n<4;++n)(r=A.source[n])&&(r.length?t.push({source:r,target:A.target[n]=new Array(4)}):A.target[n]=Yl(r));return e},Ke.add=em,Ke.addAll=tm,Ke.cover=rm,Ke.data=nm,Ke.extent=im,Ke.find=sm,Ke.remove=om,Ke.removeAll=am,Ke.root=lm,Ke.size=cm,Ke.visit=um,Ke.visitAfter=fm,Ke.x=Bm,Ke.y=hm;function Me(e){return function(){return e}}function _t(e){return(e()-.5)*1e-6}function wm(e){return e.x+e.vx}function pm(e){return e.y+e.vy}function Wl(e){var A,t,r,n=1,i=1;typeof e!="function"&&(e=Me(e==null?1:+e));function s(){for(var l,c=A.length,u,f,g,d,B,w,h=0;h<i;++h)for(u=Ns(A,wm,pm).visitAfter(o),l=0;l<c;++l)f=A[l],B=t[f.index],w=B*B,g=f.x+f.vx,d=f.y+f.vy,u.visit(F);function F(b,C,p,U,y){var v=b.data,E=b.r,S=B+E;if(v){if(v.index>f.index){var x=g-v.x-v.vx,G=d-v.y-v.vy,R=x*x+G*G;R<S*S&&(x===0&&(x=_t(r),R+=x*x),G===0&&(G=_t(r),R+=G*G),R=(S-(R=Math.sqrt(R)))/R*n,f.vx+=(x*=R)*(S=(E*=E)/(w+E)),f.vy+=(G*=R)*S,v.vx-=x*(S=1-S),v.vy-=G*S)}return}return C>g+S||U<g-S||p>d+S||y<d-S}}function o(l){if(l.data)return l.r=t[l.data.index];for(var c=l.r=0;c<4;++c)l[c]&&l[c].r>l.r&&(l.r=l[c].r)}function a(){if(A){var l,c=A.length,u;for(t=new Array(c),l=0;l<c;++l)u=A[l],t[u.index]=+e(u,l,A)}}return s.initialize=function(l,c){A=l,r=c,a()},s.iterations=function(l){return arguments.length?(i=+l,s):i},s.strength=function(l){return arguments.length?(n=+l,s):n},s.radius=function(l){return arguments.length?(e=typeof l=="function"?l:Me(+l),a(),s):e},s}function mm(e){return e.index}function zl(e,A){var t=e.get(A);if(!t)throw new Error("node not found: "+A);return t}function Zl(e){var A=mm,t=u,r,n=Me(30),i,s,o,a,l,c=1;e==null&&(e=[]);function u(w){return 1/Math.min(o[w.source.index],o[w.target.index])}function f(w){for(var h=0,F=e.length;h<c;++h)for(var b=0,C,p,U,y,v,E,S;b<F;++b)C=e[b],p=C.source,U=C.target,y=U.x+U.vx-p.x-p.vx||_t(l),v=U.y+U.vy-p.y-p.vy||_t(l),E=Math.sqrt(y*y+v*v),E=(E-i[b])/E*w*r[b],y*=E,v*=E,U.vx-=y*(S=a[b]),U.vy-=v*S,p.vx+=y*(S=1-S),p.vy+=v*S}function g(){if(s){var w,h=s.length,F=e.length,b=new Map(s.map((p,U)=>[A(p,U,s),p])),C;for(w=0,o=new Array(h);w<F;++w)C=e[w],C.index=w,typeof C.source!="object"&&(C.source=zl(b,C.source)),typeof C.target!="object"&&(C.target=zl(b,C.target)),o[C.source.index]=(o[C.source.index]||0)+1,o[C.target.index]=(o[C.target.index]||0)+1;for(w=0,a=new Array(F);w<F;++w)C=e[w],a[w]=o[C.source.index]/(o[C.source.index]+o[C.target.index]);r=new Array(F),d(),i=new Array(F),B()}}function d(){if(s)for(var w=0,h=e.length;w<h;++w)r[w]=+t(e[w],w,e)}function B(){if(s)for(var w=0,h=e.length;w<h;++w)i[w]=+n(e[w],w,e)}return f.initialize=function(w,h){s=w,l=h,g()},f.links=function(w){return arguments.length?(e=w,g(),f):e},f.id=function(w){return arguments.length?(A=w,f):A},f.iterations=function(w){return arguments.length?(c=+w,f):c},f.strength=function(w){return arguments.length?(t=typeof w=="function"?w:Me(+w),d(),f):t},f.distance=function(w){return arguments.length?(n=typeof w=="function"?w:Me(+w),B(),f):n},f}const Qm=1664525,Cm=1013904223,jl=4294967296;function vm(){let e=1;return()=>(e=(Qm*e+Cm)%jl)/jl}function Um(e){return e.x}function Fm(e){return e.y}var _m=10,ym=Math.PI*(3-Math.sqrt(5));function $l(e){var A,t=1,r=.001,n=1-Math.pow(r,1/300),i=0,s=.6,o=new Map,a=ks(u),l=Ir("tick","end"),c=vm();e==null&&(e=[]);function u(){f(),l.call("tick",A),t<r&&(a.stop(),l.call("end",A))}function f(B){var w,h=e.length,F;B===void 0&&(B=1);for(var b=0;b<B;++b)for(t+=(i-t)*n,o.forEach(function(C){C(t)}),w=0;w<h;++w)F=e[w],F.fx==null?F.x+=F.vx*=s:(F.x=F.fx,F.vx=0),F.fy==null?F.y+=F.vy*=s:(F.y=F.fy,F.vy=0);return A}function g(){for(var B=0,w=e.length,h;B<w;++B){if(h=e[B],h.index=B,h.fx!=null&&(h.x=h.fx),h.fy!=null&&(h.y=h.fy),isNaN(h.x)||isNaN(h.y)){var F=_m*Math.sqrt(.5+B),b=B*ym;h.x=F*Math.cos(b),h.y=F*Math.sin(b)}(isNaN(h.vx)||isNaN(h.vy))&&(h.vx=h.vy=0)}}function d(B){return B.initialize&&B.initialize(e,c),B}return g(),A={tick:f,restart:function(){return a.restart(u),A},stop:function(){return a.stop(),A},nodes:function(B){return arguments.length?(e=B,g(),o.forEach(d),A):e},alpha:function(B){return arguments.length?(t=+B,A):t},alphaMin:function(B){return arguments.length?(r=+B,A):r},alphaDecay:function(B){return arguments.length?(n=+B,A):+n},alphaTarget:function(B){return arguments.length?(i=+B,A):i},velocityDecay:function(B){return arguments.length?(s=1-B,A):1-s},randomSource:function(B){return arguments.length?(c=B,o.forEach(d),A):c},force:function(B,w){return arguments.length>1?(w==null?o.delete(B):o.set(B,d(w)),A):o.get(B)},find:function(B,w,h){var F=0,b=e.length,C,p,U,y,v;for(h==null?h=1/0:h*=h,F=0;F<b;++F)y=e[F],C=B-y.x,p=w-y.y,U=C*C+p*p,U<h&&(v=y,h=U);return v},on:function(B,w){return arguments.length>1?(l.on(B,w),A):l.on(B)}}}function ql(){var e,A,t,r,n=Me(-30),i,s=1,o=1/0,a=.81;function l(g){var d,B=e.length,w=Ns(e,Um,Fm).visitAfter(u);for(r=g,d=0;d<B;++d)A=e[d],w.visit(f)}function c(){if(e){var g,d=e.length,B;for(i=new Array(d),g=0;g<d;++g)B=e[g],i[B.index]=+n(B,g,e)}}function u(g){var d=0,B,w,h=0,F,b,C;if(g.length){for(F=b=C=0;C<4;++C)(B=g[C])&&(w=Math.abs(B.value))&&(d+=B.value,h+=w,F+=w*B.x,b+=w*B.y);g.x=F/h,g.y=b/h}else{B=g,B.x=B.data.x,B.y=B.data.y;do d+=i[B.data.index];while(B=B.next)}g.value=d}function f(g,d,B,w){if(!g.value)return!0;var h=g.x-A.x,F=g.y-A.y,b=w-d,C=h*h+F*F;if(b*b/a<C)return C<o&&(h===0&&(h=_t(t),C+=h*h),F===0&&(F=_t(t),C+=F*F),C<s&&(C=Math.sqrt(s*C)),A.vx+=h*g.value*r/C,A.vy+=F*g.value*r/C),!0;if(g.length||C>=o)return;(g.data!==A||g.next)&&(h===0&&(h=_t(t),C+=h*h),F===0&&(F=_t(t),C+=F*F),C<s&&(C=Math.sqrt(s*C)));do g.data!==A&&(b=i[g.data.index]*r/C,A.vx+=h*b,A.vy+=F*b);while(g=g.next)}return l.initialize=function(g,d){e=g,t=d,c()},l.strength=function(g){return arguments.length?(n=typeof g=="function"?g:Me(+g),c(),l):n},l.distanceMin=function(g){return arguments.length?(s=g*g,l):Math.sqrt(s)},l.distanceMax=function(g){return arguments.length?(o=g*g,l):Math.sqrt(o)},l.theta=function(g){return arguments.length?(a=g*g,l):Math.sqrt(a)},l}function Ac(e){var A=Me(.1),t,r,n;typeof e!="function"&&(e=Me(e==null?0:+e));function i(o){for(var a=0,l=t.length,c;a<l;++a)c=t[a],c.vx+=(n[a]-c.x)*r[a]*o}function s(){if(t){var o,a=t.length;for(r=new Array(a),n=new Array(a),o=0;o<a;++o)r[o]=isNaN(n[o]=+e(t[o],o,t))?0:+A(t[o],o,t)}}return i.initialize=function(o){t=o,s()},i.strength=function(o){return arguments.length?(A=typeof o=="function"?o:Me(+o),s(),i):A},i.x=function(o){return arguments.length?(e=typeof o=="function"?o:Me(+o),s(),i):e},i}function ec(e){var A=Me(.1),t,r,n;typeof e!="function"&&(e=Me(e==null?0:+e));function i(o){for(var a=0,l=t.length,c;a<l;++a)c=t[a],c.vy+=(n[a]-c.y)*r[a]*o}function s(){if(t){var o,a=t.length;for(r=new Array(a),n=new Array(a),o=0;o<a;++o)r[o]=isNaN(n[o]=+e(t[o],o,t))?0:+A(t[o],o,t)}}return i.initialize=function(o){t=o,s()},i.strength=function(o){return arguments.length?(A=typeof o=="function"?o:Me(+o),s(),i):A},i.y=function(o){return arguments.length?(e=typeof o=="function"?o:Me(+o),s(),i):e},i}function bm(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ai(e,A){if((t=(e=A?e.toExponential(A-1):e.toExponential()).indexOf("e"))<0)return null;var t,r=e.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+e.slice(t+1)]}function cr(e){return e=Ai(Math.abs(e)),e?e[1]:NaN}function Em(e,A){return function(t,r){for(var n=t.length,i=[],s=0,o=e[0],a=0;n>0&&o>0&&(a+o+1>r&&(o=Math.max(1,r-a)),i.push(t.substring(n-=o,n+o)),!((a+=o+1)>r));)o=e[s=(s+1)%e.length];return i.reverse().join(A)}}function Hm(e){return function(A){return A.replace(/[0-9]/g,function(t){return e[+t]})}}var Im=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ei(e){if(!(A=Im.exec(e)))throw new Error("invalid format: "+e);var A;return new Vs({fill:A[1],align:A[2],sign:A[3],symbol:A[4],zero:A[5],width:A[6],comma:A[7],precision:A[8]&&A[8].slice(1),trim:A[9],type:A[10]})}ei.prototype=Vs.prototype;function Vs(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Vs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sm(e){A:for(var A=e.length,t=1,r=-1,n;t<A;++t)switch(e[t]){case".":r=n=t;break;case"0":r===0&&(r=t),n=t;break;default:if(!+e[t])break A;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(n+1):e}var tc;function xm(e,A){var t=Ai(e,A);if(!t)return e+"";var r=t[0],n=t[1],i=n-(tc=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ai(e,Math.max(0,A+i-1))[0]}function rc(e,A){var t=Ai(e,A);if(!t)return e+"";var r=t[0],n=t[1];return n<0?"0."+new Array(-n).join("0")+r:r.length>n+1?r.slice(0,n+1)+"."+r.slice(n+1):r+new Array(n-r.length+2).join("0")}const nc={"%":(e,A)=>(e*100).toFixed(A),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bm,e:(e,A)=>e.toExponential(A),f:(e,A)=>e.toFixed(A),g:(e,A)=>e.toPrecision(A),o:e=>Math.round(e).toString(8),p:(e,A)=>rc(e*100,A),r:rc,s:xm,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ic(e){return e}var sc=Array.prototype.map,oc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Lm(e){var A=e.grouping===void 0||e.thousands===void 0?ic:Em(sc.call(e.grouping,Number),e.thousands+""),t=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",n=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?ic:Hm(sc.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",a=e.nan===void 0?"NaN":e.nan+"";function l(u){u=ei(u);var f=u.fill,g=u.align,d=u.sign,B=u.symbol,w=u.zero,h=u.width,F=u.comma,b=u.precision,C=u.trim,p=u.type;p==="n"?(F=!0,p="g"):nc[p]||(b===void 0&&(b=12),C=!0,p="g"),(w||f==="0"&&g==="=")&&(w=!0,f="0",g="=");var U=B==="$"?t:B==="#"&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",y=B==="$"?r:/[%p]/.test(p)?s:"",v=nc[p],E=/[defgprs%]/.test(p);b=b===void 0?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function S(x){var G=U,R=y,I,D,k;if(p==="c")R=v(x)+R,x="";else{x=+x;var W=x<0||1/x<0;if(x=isNaN(x)?a:v(Math.abs(x),b),C&&(x=Sm(x)),W&&+x==0&&d!=="+"&&(W=!1),G=(W?d==="("?d:o:d==="-"||d==="("?"":d)+G,R=(p==="s"?oc[8+tc/3]:"")+R+(W&&d==="("?")":""),E){for(I=-1,D=x.length;++I<D;)if(k=x.charCodeAt(I),48>k||k>57){R=(k===46?n+x.slice(I+1):x.slice(I))+R,x=x.slice(0,I);break}}}F&&!w&&(x=A(x,1/0));var M=G.length+x.length+R.length,J=M<h?new Array(h-M+1).join(f):"";switch(F&&w&&(x=A(J+x,J.length?h-R.length:1/0),J=""),g){case"<":x=G+x+R+J;break;case"=":x=G+J+x+R;break;case"^":x=J.slice(0,M=J.length>>1)+G+x+R+J.slice(M);break;default:x=J+G+x+R;break}return i(x)}return S.toString=function(){return u+""},S}function c(u,f){var g=l((u=ei(u),u.type="f",u)),d=Math.max(-8,Math.min(8,Math.floor(cr(f)/3)))*3,B=Math.pow(10,-d),w=oc[8+d/3];return function(h){return g(B*h)+w}}return{format:l,formatPrefix:c}}var ti,ac,lc;km({thousands:",",grouping:[3],currency:["$",""]});function km(e){return ti=Lm(e),ac=ti.format,lc=ti.formatPrefix,ti}function Km(e){return Math.max(0,-cr(Math.abs(e)))}function Mm(e,A){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cr(A)/3)))*3-cr(Math.abs(e)))}function Dm(e,A){return e=Math.abs(e),A=Math.abs(A)-e,Math.max(0,cr(A)-cr(e))+1}function Gs(e,A){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(A).domain(e);break}return this}const cc=Symbol("implicit");function uc(){var e=new Za,A=[],t=[],r=cc;function n(i){let s=e.get(i);if(s===void 0){if(r!==cc)return r;e.set(i,s=A.push(i)-1)}return t[s%t.length]}return n.domain=function(i){if(!arguments.length)return A.slice();A=[],e=new Za;for(const s of i)e.has(s)||e.set(s,A.push(s)-1);return n},n.range=function(i){return arguments.length?(t=Array.from(i),n):t.slice()},n.unknown=function(i){return arguments.length?(r=i,n):r},n.copy=function(){return uc(A,t).unknown(r)},Gs.apply(n,arguments),n}function fc(){var e=uc().unknown(void 0),A=e.domain,t=e.range,r=0,n=1,i,s,o=!1,a=0,l=0,c=.5;delete e.unknown;function u(){var f=A().length,g=n<r,d=g?n:r,B=g?r:n;i=(B-d)/Math.max(1,f-a+l*2),o&&(i=Math.floor(i)),d+=(B-d-i*(f-a))*c,s=i*(1-a),o&&(d=Math.round(d),s=Math.round(s));var w=Ln(f).map(function(h){return d+i*h});return t(g?w.reverse():w)}return e.domain=function(f){return arguments.length?(A(f),u()):A()},e.range=function(f){return arguments.length?([r,n]=f,r=+r,n=+n,u()):[r,n]},e.rangeRound=function(f){return[r,n]=f,r=+r,n=+n,o=!0,u()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(f){return arguments.length?(o=!!f,u()):o},e.padding=function(f){return arguments.length?(a=Math.min(1,l=+f),u()):a},e.paddingInner=function(f){return arguments.length?(a=Math.min(1,f),u()):a},e.paddingOuter=function(f){return arguments.length?(l=+f,u()):l},e.align=function(f){return arguments.length?(c=Math.max(0,Math.min(1,f)),u()):c},e.copy=function(){return fc(A(),[r,n]).round(o).paddingInner(a).paddingOuter(l).align(c)},Gs.apply(u(),arguments)}function Tm(e){return function(){return e}}function Om(e){return+e}var gc=[0,1];function ur(e){return e}function Ps(e,A){return(A-=e=+e)?function(t){return(t-e)/A}:Tm(isNaN(A)?NaN:.5)}function Nm(e,A){var t;return e>A&&(t=e,e=A,A=t),function(r){return Math.max(e,Math.min(A,r))}}function Rm(e,A,t){var r=e[0],n=e[1],i=A[0],s=A[1];return n<r?(r=Ps(n,r),i=t(s,i)):(r=Ps(r,n),i=t(i,s)),function(o){return i(r(o))}}function Vm(e,A,t){var r=Math.min(e.length,A.length)-1,n=new Array(r),i=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),A=A.slice().reverse());++s<r;)n[s]=Ps(e[s],e[s+1]),i[s]=t(A[s],A[s+1]);return function(o){var a=uh(e,o,1,r)-1;return i[a](n[a](o))}}function Gm(e,A){return A.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Pm(){var e=gc,A=gc,t=Ss,r,n,i,s=ur,o,a,l;function c(){var f=Math.min(e.length,A.length);return s!==ur&&(s=Nm(e[0],e[f-1])),o=f>2?Vm:Rm,a=l=null,u}function u(f){return f==null||isNaN(f=+f)?i:(a||(a=o(e.map(r),A,t)))(r(s(f)))}return u.invert=function(f){return s(n((l||(l=o(A,e.map(r),$e)))(f)))},u.domain=function(f){return arguments.length?(e=Array.from(f,Om),c()):e.slice()},u.range=function(f){return arguments.length?(A=Array.from(f),c()):A.slice()},u.rangeRound=function(f){return A=Array.from(f),t=K0,c()},u.clamp=function(f){return arguments.length?(s=f?!0:ur,c()):s!==ur},u.interpolate=function(f){return arguments.length?(t=f,c()):t},u.unknown=function(f){return arguments.length?(i=f,u):i},function(f,g){return r=f,n=g,c()}}function Xm(){return Pm()(ur,ur)}function Jm(e,A,t,r){var n=mh(e,A,t),i;switch(r=ei(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(A));return r.precision==null&&!isNaN(i=Mm(n,s))&&(r.precision=i),lc(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Dm(n,Math.max(Math.abs(e),Math.abs(A))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Km(n))&&(r.precision=i-(r.type==="%")*2);break}}return ac(r)}function Ym(e){var A=e.domain;return e.ticks=function(t){var r=A();return ph(r[0],r[r.length-1],t??10)},e.tickFormat=function(t,r){var n=A();return Jm(n[0],n[n.length-1],t??10,r)},e.nice=function(t){t==null&&(t=10);var r=A(),n=0,i=r.length-1,s=r[n],o=r[i],a,l,c=10;for(o<s&&(l=s,s=o,o=l,l=n,n=i,i=l);c-- >0;){if(l=ps(s,o,t),l===a)return r[n]=s,r[i]=o,A(r);if(l>0)s=Math.floor(s/l)*l,o=Math.ceil(o/l)*l;else if(l<0)s=Math.ceil(s*l)/l,o=Math.floor(o*l)/l;else break;a=l}return e},e}function Nr(){var e=Xm();return e.copy=function(){return Gm(e,Nr())},Gs.apply(e,arguments),Ym(e)}const ri=e=>()=>e;function Wm(e,{sourceEvent:A,target:t,transform:r,dispatch:n}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:A,enumerable:!0,configurable:!0},target:{value:t,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:n}})}function ht(e,A,t){this.k=e,this.x=A,this.y=t}ht.prototype={constructor:ht,scale:function(e){return e===1?this:new ht(this.k*e,this.x,this.y)},translate:function(e,A){return e===0&A===0?this:new ht(this.k,this.x+this.k*e,this.y+this.k*A)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xs=new ht(1,0,0);ht.prototype;function Js(e){e.stopImmediatePropagation()}function Rr(e){e.preventDefault(),e.stopImmediatePropagation()}function zm(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Zm(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Bc(){return this.__zoom||Xs}function jm(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function $m(){return navigator.maxTouchPoints||"ontouchstart"in this}function qm(e,A,t){var r=e.invertX(A[0][0])-t[0][0],n=e.invertX(A[1][0])-t[1][0],i=e.invertY(A[0][1])-t[0][1],s=e.invertY(A[1][1])-t[1][1];return e.translate(n>r?(r+n)/2:Math.min(0,r)||Math.max(0,n),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function dc(){var e=zm,A=Zm,t=qm,r=jm,n=$m,i=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,a=G0,l=Ir("start","zoom","end"),c,u,f,g=500,d=150,B=0,w=10;function h(I){I.property("__zoom",Bc).on("wheel.zoom",v,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",S).filter(n).on("touchstart.zoom",x).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",R).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}h.transform=function(I,D,k,W){var M=I.selection?I.selection():I;M.property("__zoom",Bc),I!==M?p(I,D,k,W):M.interrupt().each(function(){U(this,arguments).event(W).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},h.scaleBy=function(I,D,k,W){h.scaleTo(I,function(){var M=this.__zoom.k,J=typeof D=="function"?D.apply(this,arguments):D;return M*J},k,W)},h.scaleTo=function(I,D,k,W){h.transform(I,function(){var M=A.apply(this,arguments),J=this.__zoom,P=k==null?C(M):typeof k=="function"?k.apply(this,arguments):k,rA=J.invert(P),uA=typeof D=="function"?D.apply(this,arguments):D;return t(b(F(J,uA),P,rA),M,s)},k,W)},h.translateBy=function(I,D,k,W){h.transform(I,function(){return t(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof k=="function"?k.apply(this,arguments):k),A.apply(this,arguments),s)},null,W)},h.translateTo=function(I,D,k,W,M){h.transform(I,function(){var J=A.apply(this,arguments),P=this.__zoom,rA=W==null?C(J):typeof W=="function"?W.apply(this,arguments):W;return t(Xs.translate(rA[0],rA[1]).scale(P.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof k=="function"?-k.apply(this,arguments):-k),J,s)},W,M)};function F(I,D){return D=Math.max(i[0],Math.min(i[1],D)),D===I.k?I:new ht(D,I.x,I.y)}function b(I,D,k){var W=D[0]-k[0]*I.k,M=D[1]-k[1]*I.k;return W===I.x&&M===I.y?I:new ht(I.k,W,M)}function C(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}function p(I,D,k,W){I.on("start.zoom",function(){U(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){U(this,arguments).event(W).end()}).tween("zoom",function(){var M=this,J=arguments,P=U(M,J).event(W),rA=A.apply(M,J),uA=k==null?C(rA):typeof k=="function"?k.apply(M,J):k,BA=Math.max(rA[1][0]-rA[0][0],rA[1][1]-rA[0][1]),q=M.__zoom,QA=typeof D=="function"?D.apply(M,J):D,lA=a(q.invert(uA).concat(BA/q.k),QA.invert(uA).concat(BA/QA.k));return function(mA){if(mA===1)mA=QA;else{var z=lA(mA),AA=BA/z[2];mA=new ht(AA,uA[0]-z[0]*AA,uA[1]-z[1]*AA)}P.zoom(null,mA)}})}function U(I,D,k){return!k&&I.__zooming||new y(I,D)}function y(I,D){this.that=I,this.args=D,this.active=0,this.sourceEvent=null,this.extent=A.apply(I,D),this.taps=0}y.prototype={event:function(I){return I&&(this.sourceEvent=I),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,D){return this.mouse&&I!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){var D=oe(this.that).datum();l.call(I,this.that,new Wm(I,{sourceEvent:this.sourceEvent,target:h,type:I,transform:this.that.__zoom,dispatch:l}),D)}};function v(I,...D){if(!e.apply(this,arguments))return;var k=U(this,D).event(I),W=this.__zoom,M=Math.max(i[0],Math.min(i[1],W.k*Math.pow(2,r.apply(this,arguments)))),J=he(I);if(k.wheel)(k.mouse[0][0]!==J[0]||k.mouse[0][1]!==J[1])&&(k.mouse[1]=W.invert(k.mouse[0]=J)),clearTimeout(k.wheel);else{if(W.k===M)return;k.mouse=[J,W.invert(J)],qn(this),k.start()}Rr(I),k.wheel=setTimeout(P,d),k.zoom("mouse",t(b(F(W,M),k.mouse[0],k.mouse[1]),k.extent,s));function P(){k.wheel=null,k.end()}}function E(I,...D){if(f||!e.apply(this,arguments))return;var k=I.currentTarget,W=U(this,D,!0).event(I),M=oe(I.view).on("mousemove.zoom",uA,!0).on("mouseup.zoom",BA,!0),J=he(I,k),P=I.clientX,rA=I.clientY;wl(I.view),Js(I),W.mouse=[J,this.__zoom.invert(J)],qn(this),W.start();function uA(q){if(Rr(q),!W.moved){var QA=q.clientX-P,lA=q.clientY-rA;W.moved=QA*QA+lA*lA>B}W.event(q).zoom("mouse",t(b(W.that.__zoom,W.mouse[0]=he(q,k),W.mouse[1]),W.extent,s))}function BA(q){M.on("mousemove.zoom mouseup.zoom",null),pl(q.view,W.moved),Rr(q),W.event(q).end()}}function S(I,...D){if(e.apply(this,arguments)){var k=this.__zoom,W=he(I.changedTouches?I.changedTouches[0]:I,this),M=k.invert(W),J=k.k*(I.shiftKey?.5:2),P=t(b(F(k,J),W,M),A.apply(this,D),s);Rr(I),o>0?oe(this).transition().duration(o).call(p,P,W,I):oe(this).call(h.transform,P,W,I)}}function x(I,...D){if(e.apply(this,arguments)){var k=I.touches,W=k.length,M=U(this,D,I.changedTouches.length===W).event(I),J,P,rA,uA;for(Js(I),P=0;P<W;++P)rA=k[P],uA=he(rA,this),uA=[uA,this.__zoom.invert(uA),rA.identifier],M.touch0?!M.touch1&&M.touch0[2]!==uA[2]&&(M.touch1=uA,M.taps=0):(M.touch0=uA,J=!0,M.taps=1+!!c);c&&(c=clearTimeout(c)),J&&(M.taps<2&&(u=uA[0],c=setTimeout(function(){c=null},g)),qn(this),M.start())}}function G(I,...D){if(this.__zooming){var k=U(this,D).event(I),W=I.changedTouches,M=W.length,J,P,rA,uA;for(Rr(I),J=0;J<M;++J)P=W[J],rA=he(P,this),k.touch0&&k.touch0[2]===P.identifier?k.touch0[0]=rA:k.touch1&&k.touch1[2]===P.identifier&&(k.touch1[0]=rA);if(P=k.that.__zoom,k.touch1){var BA=k.touch0[0],q=k.touch0[1],QA=k.touch1[0],lA=k.touch1[1],mA=(mA=QA[0]-BA[0])*mA+(mA=QA[1]-BA[1])*mA,z=(z=lA[0]-q[0])*z+(z=lA[1]-q[1])*z;P=F(P,Math.sqrt(mA/z)),rA=[(BA[0]+QA[0])/2,(BA[1]+QA[1])/2],uA=[(q[0]+lA[0])/2,(q[1]+lA[1])/2]}else if(k.touch0)rA=k.touch0[0],uA=k.touch0[1];else return;k.zoom("touch",t(b(P,rA,uA),k.extent,s))}}function R(I,...D){if(this.__zooming){var k=U(this,D).event(I),W=I.changedTouches,M=W.length,J,P;for(Js(I),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),J=0;J<M;++J)P=W[J],k.touch0&&k.touch0[2]===P.identifier?delete k.touch0:k.touch1&&k.touch1[2]===P.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(P=he(P,this),Math.hypot(u[0]-P[0],u[1]-P[1])<w)){var rA=oe(this).on("dblclick.zoom");rA&&rA.apply(this,arguments)}}}return h.wheelDelta=function(I){return arguments.length?(r=typeof I=="function"?I:ri(+I),h):r},h.filter=function(I){return arguments.length?(e=typeof I=="function"?I:ri(!!I),h):e},h.touchable=function(I){return arguments.length?(n=typeof I=="function"?I:ri(!!I),h):n},h.extent=function(I){return arguments.length?(A=typeof I=="function"?I:ri([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),h):A},h.scaleExtent=function(I){return arguments.length?(i[0]=+I[0],i[1]=+I[1],h):[i[0],i[1]]},h.translateExtent=function(I){return arguments.length?(s[0][0]=+I[0][0],s[1][0]=+I[1][0],s[0][1]=+I[0][1],s[1][1]=+I[1][1],h):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},h.constrain=function(I){return arguments.length?(t=I,h):t},h.duration=function(I){return arguments.length?(o=+I,h):o},h.interpolate=function(I){return arguments.length?(a=I,h):a},h.on=function(){var I=l.on.apply(l,arguments);return I===l?h:I},h.clickDistance=function(I){return arguments.length?(B=(I=+I)*I,h):Math.sqrt(B)},h.tapDistance=function(I){return arguments.length?(w=+I,h):w},h}function AQ(e,A,t=null,r,n=null){const i=oe(e);i.selectAll("*").remove();const s=i.node(),o=s.getBoundingClientRect();let a=o.width||800,l=o.height||600;const c=a/2,u=l/2,f=i.append("canvas").attr("class","network-canvas").attr("width",a).attr("height",l).style("width",a+"px").style("height",l+"px").style("cursor","default"),g=f.node().getContext("2d",{alpha:!1});let d=Xs;const B=new Set,w={current:null};function h(){const x=s.getBoundingClientRect(),G=x.width||800,R=x.height||600;(G!==a||R!==l)&&(a=G,l=R,f.attr("width",a).attr("height",l).style("width",a+"px").style("height",l+"px"),S())}const F=new ResizeObserver(h);F.observe(s);const b=$l(A).force("link",Zl(t).id(x=>x.id).distance(x=>x.distance)).force("charge",ql().strength(-250)).force("center",Xl(c,u).strength(.7)).force("collide",Wl(x=>x.radius+10).strength(.5)).force("x",Ac(c).strength(.025)).force("y",ec(u).strength(.025)).alphaDecay(.05).velocityDecay(.6);let C=null;b.on("tick",()=>{C||(C=requestAnimationFrame(()=>{S(),C=null}))}),b.tick(100);for(let x=0;x<100;x++)b.tick();b.alphaTarget(0);const p=eQ({canvas:f,nodes:A,transform:()=>d,hoveredNode:w,onSelectionChange:(x,G)=>{B.clear(),x.forEach(I=>B.add(I));const R=rQ(A,x,G);r(R),S()},render:()=>S()}),U=dc().scaleExtent([.1,10]).filter(x=>!p.isSelectionMode()||x.type==="wheel").on("zoom",({transform:x})=>{d=x,S()});f.call(U);const{dragstarted:y,dragged:v,dragended:E}=tQ(f,A,b,()=>d,w,()=>!p.isSelectionMode(),S);p.setupInteractions(f,{start:y,drag:v,end:E});function S(){g.save(),g.fillRect(0,0,a,l),g.translate(d.x,d.y),g.scale(d.k,d.k),g.strokeStyle="#8a8a8a",g.lineWidth=1/d.k,t.forEach(G=>{const R=G.source.x,I=G.source.y,D=G.target.x,k=G.target.y;g.globalAlpha=Math.max(.2,G.strength),g.lineWidth=G.width/d.k,g.beginPath(),g.moveTo(R,I),g.lineTo(D,k),g.stroke()}),g.globalAlpha=1,A.forEach(G=>{const R=B.has(G.id);g.fillStyle=G.color,g.beginPath(),g.arc(G.x,G.y,G.radius,0,2*Math.PI),g.fill(),R&&(g.strokeStyle="#0f2bff",g.lineWidth=3/d.k,g.stroke())});const x=p.getSelectionRect();if(x){g.strokeStyle="#0f2bff",g.fillStyle="rgba(15, 43, 255, 0.2)",g.lineWidth=2/d.k;const G=Math.min(x.x1,x.x2),R=Math.min(x.y1,x.y2),I=Math.abs(x.x2-x.x1),D=Math.abs(x.y2-x.y1);g.fillRect(G,R,I,D),g.strokeRect(G,R,I,D)}g.restore()}return S(),{destroy:()=>{C&&cancelAnimationFrame(C),b.stop(),F.disconnect(),f.remove()},toggleSelectionMode:()=>{const x=p.toggleSelectionMode();return n&&n(x),S(),x}}}function eQ(e){const{canvas:A,nodes:t,transform:r,hoveredNode:n,onSelectionChange:i,render:s}=e,o=new Set,a=[];let l=!1,c=null;function u(){return l=!l,A.style("cursor",l?"crosshair":"default"),l}function f(B){if(o.has(B)){o.delete(B);const w=a.indexOf(B);w>-1&&a.splice(w,1)}else o.add(B),a.push(B);i(o,a)}function g(B,w){const h=r(),F=(B-h.x)/h.k,b=(w-h.y)/h.k;for(let C=t.length-1;C>=0;C--){const p=t[C],U=F-p.x,y=b-p.y;if(Math.sqrt(U*U+y*y)<p.radius)return p}return null}function d(B,w){let h=null;B.on("mousedown",function(F){const[b,C]=he(F),p=g(b,C);if(l){const U=r(),y=(b-U.x)/U.k,v=(C-U.y)/U.k;c={x1:y,y1:v,x2:y,y2:v},s()}else p&&(h=p,w.start(F,p))}),B.on("mousemove",function(F){const[b,C]=he(F);if(l){if(c){const p=r(),U=(b-p.x)/p.k,y=(C-p.y)/p.k;c.x2=U,c.y2=y,s()}}else if(h)w.drag(F,h,b,C);else{const p=g(b,C);n.current!==p&&(n.current=p,B.style("cursor",p?"pointer":"default"),s())}}),B.on("mouseup",function(F){if(l){if(c){const b=Math.min(c.x1,c.x2),C=Math.min(c.y1,c.y2),p=Math.max(c.x1,c.x2),U=Math.max(c.y1,c.y2);o.clear(),a.length=0;const y=[];t.forEach(v=>{v.x>=b&&v.x<=p&&v.y>=C&&v.y<=U&&y.push({id:v.id,y:v.y})}),y.sort((v,E)=>v.y-E.y),y.forEach(({id:v})=>{o.add(v),a.push(v)}),i(o,a),c=null,s()}}else if(h)w.end(F,h),h=null;else{const[b,C]=he(F),p=g(b,C);p&&f(p.id)}})}return{toggleSelectionMode:u,isSelectionMode:()=>l,setupInteractions:d,getSelectionRect:()=>c}}function tQ(e,A,t,r,n,i,s){let o=null;function a(u,f){i()&&(u.active||t.alphaTarget(.3).restart(),o=f,f.fx=f.x,f.fy=f.y)}function l(u,f,g,d){if(!o||!i())return;const B=r();f.fx=(g-B.x)/B.k,f.fy=(d-B.y)/B.k,s()}function c(u,f){!o||!i()||(u.active||t.alphaTarget(0),f.fx=null,f.fy=null,o=null)}return{dragstarted:a,dragged:l,dragended:c}}function rQ(e,A,t){const r=new Map(e.map(n=>[n.id,n]));return t.map(n=>r.get(n)).filter(Boolean)}const hc=8,nQ=1.5,iQ=50,wc=.5,sQ=800,oQ=600;function aQ(e,A,t=null,r=null,n=null){const i=sQ/2,s=oQ/2,a=oe(e).append("svg").attr("class","network-svg"),l=a.append("g"),c=l.append("g").selectAll("line").data(t).join("line").attr("class","link").attr("stroke-width",d=>d.width||nQ).attr("stroke-opacity",d=>Math.max(.2,d.strength||wc)),u=l.append("g").selectAll("circle").data(A).join("circle").attr("class","node").attr("r",d=>d.radius||hc).attr("fill",d=>d.color);u.append("title").text(d=>d.label);const f=$l(A).force("link",Zl(t).id(d=>d.id).distance(d=>d.distance||iQ)).force("charge",ql().strength(-250)).force("center",Xl(i,s).strength(.7)).force("collide",Wl(d=>(d.radius||hc)+10).strength(wc)).force("x",Ac(i).strength(.025)).force("y",ec(s).strength(.025));let g=null;if(r){g=lQ({svg:a,g:l,nodes:A,onSelectionChange:(h,F)=>{u.classed("selected",C=>h.has(C.id));const b=uQ(A,h,F);r(b)}}),a.call(dc().scaleExtent([.1,10]).filter(h=>!g.isSelectionMode()||h.type==="wheel").on("zoom",({transform:h})=>l.attr("transform",h)));const{dragstarted:d,dragged:B,dragended:w}=cQ(f,c,u);g.setupNodeClick(u),g.setupDrag(u,{start:d,drag:B,end:w})}return{destroy:()=>{f.stop(),a.remove()},toggleSelectionMode:()=>{if(g){const d=g.toggleSelectionMode();return n&&n(d),d}}}}function lQ(e){const{svg:A,g:t,nodes:r,onSelectionChange:n,getNodePosition:i=B=>({x:B.x,y:B.y}),getNodeId:s=B=>B.id}=e,o=new Set,a=[];let l=!1;function c(){return l=!l,A.style("cursor",l?"crosshair":"default"),l}function u(B){if(o.has(B)){o.delete(B);const w=a.indexOf(B);w>-1&&a.splice(w,1)}else o.add(B),a.push(B);n(o,a)}function f(){o.clear(),a.length=0,n(o,a)}let g=null,d=null;return A.on("mousedown",function(B){if(!l)return;B.preventDefault();const[w,h]=he(B,t.node());g={x:w,y:h},d=t.append("rect").attr("class","selection-rect").attr("x",w).attr("y",h).attr("width",0).attr("height",0)}).on("mousemove",function(B){if(!l||!d)return;const[w,h]=he(B,t.node()),F=w-g.x,b=h-g.y;d.attr("x",F<0?w:g.x).attr("y",b<0?h:g.y).attr("width",Math.abs(F)).attr("height",Math.abs(b))}).on("mouseup",function(B){if(!l||!d)return;const[w,h]=he(B,t.node()),F=Math.min(g.x,w),b=Math.min(g.y,h),C=Math.max(g.x,w),p=Math.max(g.y,h);o.clear(),a.length=0;const U=[];r.forEach(y=>{const v=i(y);v.x>=F&&v.x<=C&&v.y>=b&&v.y<=p&&U.push({id:s(y),y:v.y})}),U.sort((y,v)=>y.y-v.y),U.forEach(({id:y})=>{o.add(y),a.push(y)}),n(o,a),d.remove(),d=null,g=null}),{toggleSelectionMode:c,toggleNode:u,clearSelection:f,isSelectionMode:()=>l,getSelectedNodes:()=>o,getSelectionOrder:()=>a,setupNodeClick:B=>{B.on("click",function(w,h){w.stopPropagation(),u(s(h))})},setupDrag:(B,w)=>{B.call(g0().filter(()=>!l).on("start",w.start).on("drag",w.drag).on("end",w.end))}}}function cQ(e,A,t){e.on("tick",()=>{A.attr("x1",s=>s.source.x).attr("y1",s=>s.source.y).attr("x2",s=>s.target.x).attr("y2",s=>s.target.y),t.attr("cx",s=>s.x).attr("cy",s=>s.y)});function r(s){s.active||e.alphaTarget(.3).restart(),s.subject.fx=s.subject.x,s.subject.fy=s.subject.y}function n(s){s.subject.fx=s.x,s.subject.fy=s.y}function i(s){s.active||e.alphaTarget(0),s.subject.fx=null,s.subject.fy=null}return{dragstarted:r,dragged:n,dragended:i}}function uQ(e,A,t){const r=new Map(e.map(n=>[n.id,n]));return t.map(n=>r.get(n)).filter(Boolean)}const fQ=/^(?:(\d+)_)?wit(\d+)_([a-z]{3})(\d+)(?:_anno(\d+))?_(\d+)(?:_([\d,]+))?(?:\.jpg)?$/;function gQ(e){if(!e)return null;const A=e.match(fQ);if(!A)return null;const[,t,r,n,i,s,o,a]=A;return{witnessId:parseInt(r,10),digitizationType:n,digitizationId:parseInt(i,10),regionId:t?parseInt(t,10):s?parseInt(s,10):null,canvasNb:parseInt(o,10),canvasDigits:o.length,coord:a?a.split(",").map(Number):null,imgRoot:`wit${r}_${n}${i}_${o}.jpg`}}class ni{constructor(A){this.id=A.id,this.img=A.img??A.ref,this.title=A.title,this.xywh=Array.isArray(A.xywh)?A.xywh.map(Number):A.xywh,this.canvas=A.canvas,this.ref=A.ref,this.type=A.type??yB,this._parsed=null}get parsed(){return this._parsed||(this._parsed=gQ(this.img)||{}),this._parsed}get witnessId(){return this.parsed.witnessId}get digitType(){return this.parsed.digitizationType}get digitId(){return this.parsed.digitizationId}get regionId(){return this.parsed.regionId}get canvasNb(){return this.parsed.canvasNb}get canvasDigits(){return this.parsed.canvasDigits}get imgRoot(){return this.parsed.imgRoot}get coord(){return this.parsed.coord??this.xywh}canvasStr(A=this.canvasNb,t=this.canvasDigits){return String(A).padStart(t,"0")}get iiifRoot(){return this.imgRoot?`${br()}/iiif/2/${this.imgRoot}`:null}url(A=null,t="full"){if(!this.iiifRoot)return"https://placehold.co/96x96/png?text=No+image";let r=A??this.coord??"full";return Array.isArray(r)&&(r=r.join(",")),`${this.iiifRoot}/${r}/${t}/0/default.jpg`}info(){return this.iiifRoot?`${this.iiifRoot}/info.json`:null}manifest(){let A=`wit${this.witnessId}_${this.digitType}${this.digitId}`;return this.regionId&&(A+=`_anno${this.regionId}`),`${br()}/iiif/v2/${A}/manifest.json`}urlForCanvas(A=this.canvasNb,t=this.coord,r="full"){let n=this.imgRoot;A!==this.canvasNb&&(n=n.replace(`_${this.canvasStr()}.jpg`,`_${this.canvasStr(A)}.jpg`));const i=Array.isArray(t)?t.join(","):t;return`${br()}/iiif/2/${n}/${i}/${r}/0/default.jpg`}infoUrlForCanvas(A=this.canvasNb){const t=this.imgRoot.replace(`_${this.canvasStr()}.jpg`,`_${this.canvasStr(A)}.jpg`);return`${br()}/iiif/2/${t}/info.json`}urlForMirador(A=this.canvasNb){return`${xB()}/index.html?iiif-content=${this.manifest()}&canvas=${A}`}}function BQ(){const e=`${window.location.origin}${window.location.pathname}`,A=NA(1),t=NA({}),r=NA({}),n=NA("");ga(A,"p");function i(c){n.update(u=>{const f=u===c?"":c;return navigator.clipboard.writeText(f).then(g=>""),f})}const s=(async()=>{try{const c=await fetch(`${e}canvas`);if(!c.ok)return{};const u=await c.json();let f={};return Object.values(u).forEach(g=>{Object.entries(g).forEach(([d,B])=>{f[d]=B})}),t.set(f),u}catch{return{}}})(),o=ce(A,c=>(async()=>{const f=await(await fetch(`${e}canvas?p=${c}`)).json();return r.set(f),f})());function a(c){Ba(c,A,"p")}function l(c){t.update(u=>(delete u[c],{...u})),r.update(u=>{for(const f in u)if(u[f][c]){const{[c]:g,...d}=u[f];return u[f]=d,u}return u})}return{currentPage:A,pageRegions:r,allRegions:t,fetchPages:o,fetchAll:s,handlePageUpdate:a,remove:l,clipBoard:n,copyRef:i}}const pc=BQ();function Ys(e){const{type:A,modelName:t,title:r,extractMeta:n=g=>g}=e,i={id:null,type:A,title:r,is_public:!1,selected:{}},s=JSON.parse(localStorage.getItem(A))||i,o=NA(s),a=NA(!1);function l(g,d=!1){a.set(d),localStorage.setItem(A,JSON.stringify(g))}function c(){o.update(g=>{if(A!=="documentSet")return console.error("Document set management is the only type currently supported for saving."),g;const d=Object.fromEntries(Object.entries(g.selected).map(([w,h])=>[w,Object.keys(h)])),B=g.id?`${g.id}/edit`:"new";return fetch(`${window.location.origin}/${t}/${B}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":cs},body:JSON.stringify({title:g.title,is_public:g.is_public,selection:g,...d})}).then(w=>w.json()).then(w=>{if(!(w!=null&&w.document_set_id))throw new Error("Failed to save");o.update(h=>(h.id=w.document_set_id,h.title=w.document_set_title,h.is_public=w.is_public,l(h,!0),h))}).catch(w=>console.error("Error:",w)),g})}const u=g=>o.update(()=>{const d=g.selection.id?g.selection:{...g.selection,id:g.id};return l(d),d}),f=()=>o.update(()=>{const g={...i,selected:{}};return l(g),g});return{type:A,subscribe:o.subscribe,add:g=>o.update(d=>(d.selected[g.class]={...d.selected[g.class]||{},[g.id]:n(g)},l(d),d)),addAll:g=>o.update(d=>(g.forEach(B=>{d.selected[B.class]={...d.selected[B.class]||{},[B.id]:n(B)}}),l(d),d)),remove:(g,d)=>o.update(B=>{const{[g]:w,...h}=B.selected[d];return B.selected[d]=h,l(B),B}),removeAll:(g,d)=>o.update(B=>(g.forEach(w=>{var h;return(h=B.selected[d])==null?!0:delete h[w]}),l(B),B)),toggle:g=>o.update(d=>{var B;if((B=d.selected[g.class])!=null&&B[g.id]){const{[g.id]:w,...h}=d.selected[g.class];d.selected[g.class]=h}else d.selected[g.class]={...d.selected[g.class]||{},[g.id]:n(g)};return l(d),d}),toggleSet:g=>{de(o).id===g.id?f():u(g)},empty:()=>o.update(g=>(g.id=null,g.title=r,g.selected={},l(g,!0),g)),updateTitle:g=>o.update(d=>(d.title=g,l(d,!0),d)),updatePublic:g=>o.update(d=>(d.is_public=g,l(d,!0),d)),save:c,isSaved:a,selection:o,selectionTitle:ce(o,g=>g.title),isSelected:ce(o,g=>d=>{var B;return((B=g.selected[d.class])==null?void 0:B[d.id])||!1}),selected:ce(o,g=>g.selected),nbSelected:ce(o,g=>Object.entries(g.selected).reduce((d,[B,w])=>B==="User"?d:d+Object.keys(w).length,0)),isSetSelected:ce(o,g=>d=>g.id===d.id)}}const dQ=Ys({type:"documentSet",modelName:"document-set",title:j==="en"?"Document set":"Set de documents",extractMeta:e=>({title:e.title,url:e.url})}),mc=Ys({type:"regionsSet",modelName:"regions-set",title:j==="en"?"Regions set":"Set de régions",extractMeta:e=>e});function hQ(e){if(!e.startsWith("wit"))return e;const[A,...t]=e.split("_wit");return`wit${t}`}const ii=Ys({type:"clusterSet",modelName:"cluster-set",title:j==="en"?"Selected regions":"Régions sélectionnées",extractMeta:e=>({imgRef:e.id,clusterId:e.clusterId,title:e.title,xywh:e.xywh,img:hQ(e.id)})}),iE="";function wQ(e){let A,t,r,n,i,s,o,a,l,c,u;return a=new ws({props:{targetHtmlId:e[1],tooltipText:e[2]}}),{c(){A=_("div"),t=_("button"),r=ct("svg"),n=ct("path"),i=ct("path"),s=ct("path"),o=V(),pA(a.$$.fragment),Q(n,"d","M53.6443 14.25C47.7042 5.33 37.7293 0 26.9801 0C16.2206 0 6.24576 5.33 0.305653 14.25L0 14.71L0.305653 15.17C6.24576 24.09 16.2206 29.42 26.9801 29.42C37.7293 29.42 47.7042 24.09 53.6443 15.16L53.95 14.71L53.6443 14.25ZM3.25025 14.71C7.63146 8.69001 14.0606 4.65 21.2641 3.22C20.0619 3.83 18.9411 4.62 17.963 5.59C15.5176 8.02 14.1625 11.25 14.1625 14.67C14.1625 18.11 15.5176 21.34 17.963 23.76C19.0124 24.79 20.1943 25.61 21.4781 26.23C14.1829 24.85 7.6824 20.78 3.25025 14.71ZM27.1125 22.64C22.7008 22.64 19.1041 19.08 19.1041 14.7C19.1041 12.59 19.9396 10.6 21.4475 9.10001C22.9555 7.60001 24.9729 6.77 27.1125 6.77C29.2522 6.77 31.2594 7.60001 32.7775 9.10001C34.2855 10.6 35.121 12.59 35.121 14.7C35.121 16.82 34.2855 18.82 32.7775 20.32C31.2594 21.81 29.242 22.64 27.1125 22.64ZM32.9915 26.14C34.204 25.53 35.3146 24.74 36.3029 23.77C38.7482 21.34 40.0932 18.11 40.0932 14.68C40.0932 9.75 37.281 5.47001 33.1647 3.32001C40.1747 4.81001 46.4102 8.83001 50.6896 14.71C46.3797 20.64 40.0728 24.67 32.9915 26.14Z"),Q(n,"class","svelte-109pj58"),Q(i,"d","M26.9804 25.98C33.3222 25.98 38.4633 20.9343 38.4633 14.71C38.4633 8.48576 33.3222 3.44 26.9804 3.44C20.6386 3.44 15.4976 8.48576 15.4976 14.71C15.4976 20.9343 20.6386 25.98 26.9804 25.98Z"),Q(i,"class","svelte-109pj58"),Q(s,"d","M17.9529 23.85L36.2928 5.85001"),Q(s,"stroke-width","3"),Q(s,"stroke-miterlimit","10"),Q(s,"class","svelte-109pj58"),Q(r,"width","54"),Q(r,"height","30"),Q(r,"viewBox","0 0 54 30"),Q(r,"fill","none"),Q(r,"xmlns","http://www.w3.org/2000/svg"),Q(r,"class","svelte-109pj58"),Q(t,"class","button tag svelte-109pj58"),Q(t,"title",e[2]),Q(A,"id",e[1])},m(f,g){O(f,A,g),m(A,t),m(t,r),m(r,n),m(r,i),m(r,s),m(t,o),hA(a,t,null),l=!0,c||(u=gA(t,"click",sa(e[3])),c=!0)},p:$,i(f){l||(N(a.$$.fragment,f),l=!0)},o(f){X(a.$$.fragment,f),l=!1},d(f){f&&T(A),wA(a),c=!1,u()}}}function pQ(e){const A=Tt(),t=`modal-opener-${window.crypto.randomUUID()}`;return[A,t,j==="fr"?"Vue détaillée":"Detailed view",()=>A("open")]}class mQ extends DA{constructor(A){super(),MA(this,A,pQ,wQ,SA,{})}}const sE="",QQ=e=>({}),Qc=e=>({});function Cc(e){let A,t,r,n,i,s;function o(g,d){return g[10]?vQ:CQ}let a=o(e),l=a(e);function c(g,d){return g[10]?FQ:UQ}let u=c(e),f=u(e);return{c(){A=_("button"),t=ct("svg"),l.c(),r=V(),n=_("span"),f.c(),Q(t,"xmlns","http://www.w3.org/2000/svg"),Q(t,"viewBox","0 0 384 512"),Q(t,"class","svelte-g5axbe"),Q(n,"class","tooltip"),Q(A,"class","button tag")},m(g,d){O(g,A,d),m(A,t),l.m(t,null),m(A,r),m(A,n),f.m(n,null),i||(s=gA(A,"click",sa(e[21])),i=!0)},p(g,d){a!==(a=o(g))&&(l.d(1),l=a(g),l&&(l.c(),l.m(t,null))),u===(u=c(g))&&f?f.p(g,d):(f.d(1),f=u(g),f&&(f.c(),f.m(n,null)))},d(g){g&&T(A),l.d(),f.d(),i=!1,s()}}}function CQ(e){let A;return{c(){A=ct("path"),Q(A,"d","M384 336H192c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16l140.1 0L400 115.9V320c0 8.8-7.2 16-16 16zM192 384H384c35.3 0 64-28.7 64-64V115.9c0-12.7-5.1-24.9-14.1-33.9L366.1 14.1c-9-9-21.2-14.1-33.9-14.1H192c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64zM64 128c-35.3 0-64 28.7-64 64V448c0 35.3 28.7 64 64 64H256c35.3 0 64-28.7 64-64V416H272v32c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V192c0-8.8 7.2-16 16-16H96V128H64z"),Q(A,"class","svelte-g5axbe")},m(t,r){O(t,A,r)},d(t){t&&T(A)}}}function vQ(e){let A;return{c(){A=ct("path"),Q(A,"d","M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"),Q(A,"class","svelte-g5axbe")},m(t,r){O(t,A,r)},d(t){t&&T(A)}}}function UQ(e){let A=j==="en"?"Copy ID":"Copier l'ID",t;return{c(){t=sA(A)},m(r,n){O(r,t,n)},p:$,d(r){r&&T(t)}}}function FQ(e){let A=j==="en"?"Copied!":"Copié !",t;return{c(){t=sA(A)},m(r,n){O(r,t,n)},p:$,d(r){r&&T(t)}}}function vc(e){let A,t;return A=new mQ({}),A.$on("open",e[14]),{c(){pA(A.$$.fragment)},m(r,n){hA(A,r,n),t=!0},p:$,i(r){t||(N(A.$$.fragment,r),t=!0)},o(r){X(A.$$.fragment,r),t=!1},d(r){wA(A,r)}}}function _Q(e){let A,t,r,n,i,s,o,a=e[8].title+"",l,c,u,f,g,d,B,w,h,F,b,C=e[4]&&Cc(e),p=!e[5]&&vc(e);const U=e[19].actions,y=re(U,e,e[18],Qc);return{c(){A=_("div"),t=_("figure"),r=_("img"),i=V(),s=_("div"),o=_("span"),u=V(),f=_("div"),C&&C.c(),g=V(),p&&p.c(),d=V(),y&&y.c(),Q(r,"class","region-img svelte-g5axbe"),rt(r.src,n=e[9])||Q(r,"src",n),Q(r,"alt","Extracted region"),Q(o,"class","overlay-desc"),Q(s,"class","overlay is-center svelte-g5axbe"),Q(t,"class",l="image card region-image "+(e[0]?"is-96x96":"")+" svelte-g5axbe"),Q(t,"tabindex","-1"),Q(t,"style",c=(e[7]==="full"?"height: 100%":`height: ${e[7]}px; min-width: ${e[7]}px`)+"; "+(e[3]?`border: 5px solid ${e[3]};`:"")),Q(f,"class","region-btn ml-1"),Q(A,"class",B="region is-center "+(e[6]&&e[11](e[2])?"checked":"")+" svelte-g5axbe"),Q(A,"style",w=e[7]==="full"?"height: 100%":"")},m(v,E){O(v,A,E),m(A,t),m(t,r),m(t,i),m(t,s),m(s,o),o.innerHTML=a,m(A,u),m(A,f),C&&C.m(f,null),m(f,g),p&&p.m(f,null),m(f,d),y&&y.m(f,null),h=!0,F||(b=[gA(t,"click",e[20]),gA(t,"keyup",null)],F=!0)},p(v,[E]){(!h||E&512&&!rt(r.src,n=v[9]))&&Q(r,"src",n),(!h||E&256)&&a!==(a=v[8].title+"")&&(o.innerHTML=a),(!h||E&1&&l!==(l="image card region-image "+(v[0]?"is-96x96":"")+" svelte-g5axbe"))&&Q(t,"class",l),(!h||E&136&&c!==(c=(v[7]==="full"?"height: 100%":`height: ${v[7]}px; min-width: ${v[7]}px`)+"; "+(v[3]?`border: 5px solid ${v[3]};`:"")))&&Q(t,"style",c),v[4]?C?C.p(v,E):(C=Cc(v),C.c(),C.m(f,g)):C&&(C.d(1),C=null),v[5]?p&&(kA(),X(p,1,1,()=>{p=null}),KA()):p?(p.p(v,E),E&32&&N(p,1)):(p=vc(v),p.c(),N(p,1),p.m(f,d)),y&&y.p&&(!h||E&262144)&&ie(y,U,v,v[18],h?ne(U,v[18],E,QQ):se(v[18]),Qc),(!h||E&2116&&B!==(B="region is-center "+(v[6]&&v[11](v[2])?"checked":"")+" svelte-g5axbe"))&&Q(A,"class",B),(!h||E&128&&w!==(w=v[7]==="full"?"height: 100%":""))&&Q(A,"style",w)},i(v){h||(N(p),N(y,v),h=!0)},o(v){X(p),X(y,v),h=!1},d(v){v&&T(A),C&&C.d(),p&&p.d(),y&&y.d(v),F=!1,te(b)}}}function yQ(e,A,t){let r,n,i,s,o,{$$slots:a={},$$scope:l}=A;const{clipBoard:c}=pc;vA(e,c,S=>t(17,s=S));let{selectionStore:u}=A;u||(u=mc);let{toggleSelection:f=u.toggle}=A;const{isSelected:g}=u;vA(e,g,S=>t(11,o=S));let{item:d}=A,{index:B=null}=A,{borderColor:w=null}=A,{copyable:h=!1}=A,{isInModal:F=!1}=A,{selectable:b=!F}=A,{isSquare:C=!1}=A,{height:p=C?96:140}=A;p==="full"&&(C=!1);const U=Tt(),y=()=>F?null:U("openModal",{index:B}),v=()=>b?f(r):y(),E=()=>pc.copyRef(d.ref);return e.$$set=S=>{"selectionStore"in S&&t(15,u=S.selectionStore),"toggleSelection"in S&&t(1,f=S.toggleSelection),"item"in S&&t(2,d=S.item),"index"in S&&t(16,B=S.index),"borderColor"in S&&t(3,w=S.borderColor),"copyable"in S&&t(4,h=S.copyable),"isInModal"in S&&t(5,F=S.isInModal),"selectable"in S&&t(6,b=S.selectable),"isSquare"in S&&t(0,C=S.isSquare),"height"in S&&t(7,p=S.height),"$$scope"in S&&t(18,l=S.$$scope)},e.$$.update=()=>{e.$$.dirty&4&&t(8,r=new ni(d)),e.$$.dirty&131328&&t(10,n=r.ref===s),e.$$.dirty&385&&t(9,i=r.url(null,p==="full"?"full":C?`${p},`:`,${p}`))},[C,f,d,w,h,F,b,p,r,i,n,o,c,g,y,u,B,s,l,a,v,E]}class si extends DA{constructor(A){super(),MA(this,A,yQ,_Q,SA,{selectionStore:15,toggleSelection:1,item:2,index:16,borderColor:3,copyable:4,isInModal:5,selectable:6,isSquare:0,height:7})}}const oE="";function bQ(e){let A,t,r,n,i,s,o,a;return{c(){A=_("button"),t=_("span"),r=_("i"),Q(r,"class",n="fas fa-chevron-"+e[0]+" svelte-v4yed0"),Q(t,"class","icon is-small p-0"),Q(A,"class",i="nav-btn nav-"+e[0]+" svelte-v4yed0"),Q(A,"aria-label",s="Navigate "+e[0]),Q(A,"style",e[4])},m(l,c){O(l,A,c),m(A,t),m(t,r),o||(a=gA(A,"click",e[5]),o=!0)},p(l,[c]){c&1&&n!==(n="fas fa-chevron-"+l[0]+" svelte-v4yed0")&&Q(r,"class",n),c&1&&i!==(i="nav-btn nav-"+l[0]+" svelte-v4yed0")&&Q(A,"class",i),c&1&&s!==(s="Navigate "+l[0])&&Q(A,"aria-label",s),c&16&&Q(A,"style",l[4])},i:$,o:$,d(l){l&&T(A),o=!1,a()}}}function EQ(e,A,t){let{direction:r=""}=A,{delta:n=0}=A,{axis:i=null}=A,{navigationFct:s=()=>{}}=A,{css:o=""}=A;const a=()=>s(n,i);return e.$$set=l=>{"direction"in l&&t(0,r=l.direction),"delta"in l&&t(1,n=l.delta),"axis"in l&&t(2,i=l.axis),"navigationFct"in l&&t(3,s=l.navigationFct),"css"in l&&t(4,o=l.css)},[r,n,i,s,o,a]}class fr extends DA{constructor(A){super(),MA(this,A,EQ,bQ,SA,{direction:0,delta:1,axis:2,navigationFct:3,css:4})}}const aE="",HQ=e=>({item:e&4,index:e&1}),Uc=e=>({item:e[2],index:e[0],close:e[4]});function Fc(e){let A,t,r,n,i,s,o,a,l,c,u,f,g=e[3]&&_c(e);const d=e[8].default,B=re(d,e,e[7],Uc);let w=e[3]&&yc(e);return{c(){A=_("div"),t=_("div"),r=V(),n=_("div"),g&&g.c(),i=V(),s=_("div"),B&&B.c(),o=V(),w&&w.c(),a=V(),l=_("button"),Q(t,"class","modal-background"),Q(s,"class","modal-inner svelte-157hwlf"),Q(n,"class","modal-content svelte-157hwlf"),Q(l,"class","modal-close is-large"),Q(l,"aria-label","close"),Q(A,"class","modal is-active")},m(h,F){O(h,A,F),m(A,t),m(A,r),m(A,n),g&&g.m(n,null),m(n,i),m(n,s),B&&B.m(s,null),m(n,o),w&&w.m(n,null),m(A,a),m(A,l),c=!0,u||(f=[gA(t,"click",e[4]),gA(t,"keyup",e[9]),gA(l,"click",e[4])],u=!0)},p(h,F){h[3]?g?(g.p(h,F),F&8&&N(g,1)):(g=_c(h),g.c(),N(g,1),g.m(n,i)):g&&(kA(),X(g,1,1,()=>{g=null}),KA()),B&&B.p&&(!c||F&133)&&ie(B,d,h,h[7],c?ne(d,h[7],F,HQ):se(h[7]),Uc),h[3]?w?(w.p(h,F),F&8&&N(w,1)):(w=yc(h),w.c(),N(w,1),w.m(n,null)):w&&(kA(),X(w,1,1,()=>{w=null}),KA())},i(h){c||(N(g),N(B,h),N(w),c=!0)},o(h){X(g),X(B,h),X(w),c=!1},d(h){h&&T(A),g&&g.d(),B&&B.d(h),w&&w.d(),u=!1,te(f)}}}function _c(e){let A,t;return A=new fr({props:{direction:"left",delta:-1,navigationFct:e[5],css:"position: initial;"}}),{c(){pA(A.$$.fragment)},m(r,n){hA(A,r,n),t=!0},p:$,i(r){t||(N(A.$$.fragment,r),t=!0)},o(r){X(A.$$.fragment,r),t=!1},d(r){wA(A,r)}}}function yc(e){let A,t;return A=new fr({props:{direction:"right",delta:1,navigationFct:e[5],css:"position: initial;"}}),{c(){pA(A.$$.fragment)},m(r,n){hA(A,r,n),t=!0},p:$,i(r){t||(N(A.$$.fragment,r),t=!0)},o(r){X(A.$$.fragment,r),t=!1},d(r){wA(A,r)}}}function IQ(e){let A,t,r=e[1]&&Fc(e);return{c(){r&&r.c(),A=ye()},m(n,i){r&&r.m(n,i),O(n,A,i),t=!0},p(n,[i]){n[1]?r?(r.p(n,i),i&2&&N(r,1)):(r=Fc(n),r.c(),N(r,1),r.m(A.parentNode,A)):r&&(kA(),X(r,1,1,()=>{r=null}),KA())},i(n){t||(N(r),t=!0)},o(n){X(r),t=!1},d(n){r&&r.d(n),n&&T(A)}}}function SQ(e,A,t){let r,n,{$$slots:i={},$$scope:s}=A,{open:o=!1}=A,{items:a=[]}=A,{currentIndex:l=0}=A;const c=Tt(),u=()=>{t(1,o=!1),c("close")},f=B=>{r&&(t(0,l=(l+B+a.length)%a.length),c("navigate",{index:l,item:n}))},g=B=>{o&&(B.key==="Escape"?u():B.key==="ArrowLeft"?f(-1):B.key==="ArrowRight"&&f(1))};Dt(()=>document.addEventListener("keydown",g)),qt(()=>document.removeEventListener("keydown",g));function d(B){dB.call(this,e,B)}return e.$$set=B=>{"open"in B&&t(1,o=B.open),"items"in B&&t(6,a=B.items),"currentIndex"in B&&t(0,l=B.currentIndex),"$$scope"in B&&t(7,s=B.$$scope)},e.$$.update=()=>{e.$$.dirty&64&&t(3,r=a.length>1),e.$$.dirty&65&&t(2,n=a[l]??null)},[l,o,n,r,u,f,a,s,i,d]}class bc extends DA{constructor(A){super(),MA(this,A,SQ,IQ,SA,{open:1,items:6,currentIndex:0})}}const lE="";function Ec(e){e[9]=e[13][0],e[10]=e[13][1],e[11]=e[13][2],e[12]=e[13][3]}function Hc(e){let A,t,r={ctx:e,current:null,token:null,hasCatch:!1,pending:kQ,then:LQ,catch:xQ,value:13};return Cn(t=e[3],r),{c(){A=ye(),r.block.c()},m(n,i){O(n,A,i),r.block.m(n,r.anchor=i),r.mount=()=>A.parentNode,r.anchor=A},p(n,i){e=n,r.ctx=e,i&8&&t!==(t=e[3])&&Cn(t,r)||ca(r,e,i)},d(n){n&&T(A),r.block.d(n),r.token=null,r=null}}}function xQ(e){return{c:$,m:$,p:$,d:$}}function LQ(e){Ec(e);let A,t=`${e[9]}%`,r=`${e[10]}%`,n=`${e[11]}%`,i=`${e[12]}%`;return{c(){A=_("div"),Q(A,"class","modal-context-bbox svelte-zgr10j"),FA(A,"left",t),FA(A,"top",r),FA(A,"width",n),FA(A,"height",i)},m(s,o){O(s,A,o)},p(s,o){Ec(s),o&8&&t!==(t=`${s[9]}%`)&&FA(A,"left",t),o&8&&r!==(r=`${s[10]}%`)&&FA(A,"top",r),o&8&&n!==(n=`${s[11]}%`)&&FA(A,"width",n),o&8&&i!==(i=`${s[12]}%`)&&FA(A,"height",i)},d(s){s&&T(A)}}}function kQ(e){return{c:$,m:$,p:$,d:$}}function KQ(e){let A,t,r,n,i,s,o,a,l,c,u,f,g,d,B,w;l=new fr({props:{direction:"left",delta:-1,navigationFct:e[5],css:"margin-left: -2em;"}});let h=e[0]===0&&Hc(e);return B=new fr({props:{direction:"right",delta:1,navigationFct:e[5],css:"margin-right: -2em;"}}),{c(){A=_("div"),t=_("div"),r=_("a"),n=sA("Page "),i=sA(e[2]),o=V(),a=_("div"),pA(l.$$.fragment),c=V(),u=_("img"),g=V(),h&&h.c(),d=V(),pA(B.$$.fragment),Q(r,"class","tag button is-small has-text-grey"),Q(r,"href",s=e[1].urlForMirador(e[2])),Q(r,"target","_blank"),Q(t,"class","has-text-centered m-2"),Q(u,"class","card modal-context-full-page svelte-zgr10j"),rt(u.src,f=e[4])||Q(u,"src",f),Q(u,"alt",j==="fr"?"Vue de la page d'où la région est extraite":"View of the page the region is extracted from"),Q(a,"class","modal-context-wrapper svelte-zgr10j"),Q(A,"class","modal-context-outer is-flex-direction-column pb-4 svelte-zgr10j")},m(F,b){O(F,A,b),m(A,t),m(t,r),m(r,n),m(r,i),m(A,o),m(A,a),hA(l,a,null),m(a,c),m(a,u),m(a,g),h&&h.m(a,null),m(a,d),hA(B,a,null),w=!0},p(F,[b]){(!w||b&4)&&_A(i,F[2]),(!w||b&6&&s!==(s=F[1].urlForMirador(F[2])))&&Q(r,"href",s),(!w||b&16&&!rt(u.src,f=F[4]))&&Q(u,"src",f),F[0]===0?h?h.p(F,b):(h=Hc(F),h.c(),h.m(a,d)):h&&(h.d(1),h=null)},i(F){w||(N(l.$$.fragment,F),N(B.$$.fragment,F),w=!0)},o(F){X(l.$$.fragment,F),X(B.$$.fragment,F),w=!1},d(F){F&&T(A),wA(l),h&&h.d(),wA(B)}}}function MQ(e,A,t){let r,n,i,s,o,a,{item:l}=A,c=0;const u=f=>t(0,c+=f);return e.$$set=f=>{"item"in f&&t(6,l=f.item)},e.$$.update=()=>{e.$$.dirty&64&&t(1,r=new ni(l)),e.$$.dirty&3&&t(2,n=r.canvasNb+c),e.$$.dirty&6&&t(4,i=r.urlForCanvas(n,"full")),e.$$.dirty&6&&t(8,s=r.infoUrlForCanvas(n)),e.$$.dirty&2&&t(7,o=r.coord),e.$$.dirty&384&&t(3,a=fetch(s).then(f=>f.json()).then(({width:f,height:g})=>[o[0]/f*100,o[1]/g*100,o[2]/f*100,o[3]/g*100]))},[c,r,n,a,i,u,l,o,s]}class Ic extends DA{constructor(A){super(),MA(this,A,MQ,KQ,SA,{item:6})}}const cE="",DQ=e=>({activeTab:e&1}),Sc=e=>({activeTab:e[0]});function xc(e,A,t){const r=e.slice();return r[5]=A[t].id,r[6]=A[t].label,r}function Lc(e){let A,t,r,n=e[1],i=[];for(let s=0;s<n.length;s+=1)i[s]=kc(xc(e,n,s));return{c(){A=_("nav"),t=_("div"),r=_("ul");for(let s=0;s<i.length;s+=1)i[s].c();Q(r,"class","svelte-d8a4vd"),Q(t,"class","tabs svelte-d8a4vd"),Q(A,"class","tabs-bar")},m(s,o){O(s,A,o),m(A,t),m(t,r);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(r,null)},p(s,o){if(o&3){n=s[1];let a;for(a=0;a<n.length;a+=1){const l=xc(s,n,a);i[a]?i[a].p(l,o):(i[a]=kc(l),i[a].c(),i[a].m(r,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=n.length}},d(s){s&&T(A),ve(i,s)}}}function kc(e){let A,t,r=e[6]+"",n,i,s,o;function a(){return e[4](e[5])}return{c(){A=_("li"),t=_("a"),n=sA(r),i=V(),Q(t,"href",null),zA(A,"is-active",e[0]===e[5])},m(l,c){O(l,A,c),m(A,t),m(t,n),m(A,i),s||(o=gA(t,"click",Ct(a)),s=!0)},p(l,c){e=l,c&2&&r!==(r=e[6]+"")&&_A(n,r),c&3&&zA(A,"is-active",e[0]===e[5])},d(l){l&&T(A),s=!1,o()}}}function TQ(e){let A,t,r,n=e[1].length>1&&Lc(e);const i=e[3].default,s=re(i,e,e[2],Sc);return{c(){n&&n.c(),A=V(),t=_("div"),s&&s.c(),Q(t,"class","tab-content svelte-d8a4vd")},m(o,a){n&&n.m(o,a),O(o,A,a),O(o,t,a),s&&s.m(t,null),r=!0},p(o,[a]){o[1].length>1?n?n.p(o,a):(n=Lc(o),n.c(),n.m(A.parentNode,A)):n&&(n.d(1),n=null),s&&s.p&&(!r||a&5)&&ie(s,i,o,o[2],r?ne(i,o[2],a,DQ):se(o[2]),Sc)},i(o){r||(N(s,o),r=!0)},o(o){X(s,o),r=!1},d(o){n&&n.d(o),o&&T(A),o&&T(t),s&&s.d(o)}}}function OQ(e,A,t){var a;let{$$slots:r={},$$scope:n}=A,{tabs:i=[]}=A,{activeTab:s=((a=i[0])==null?void 0:a.id)??""}=A;const o=l=>t(0,s=l);return e.$$set=l=>{"tabs"in l&&t(1,i=l.tabs),"activeTab"in l&&t(0,s=l.activeTab),"$$scope"in l&&t(2,n=l.$$scope)},[s,i,n,r,o]}class Kc extends DA{constructor(A){super(),MA(this,A,OQ,TQ,SA,{tabs:1,activeTab:0})}}const uE="";function Mc(e,A,t){const r=e.slice();return r[20]=A[t],r}function Dc(e,A,t){const r=e.slice();return r[23]=A[t],r}function Ws(e){const A=e.slice(),t=A[1].get(A[20][A[23]].id);return A[26]=t,A}function Tc(e,A,t){const r=e.slice();return r[23]=A[t],r}function Oc(e){let A,t,r,n,i,s,o,a,l,c,u,f,g,d,B=e[0].regions,w=[];for(let v=0;v<B.length;v+=1)w[v]=Nc(Tc(e,B,v));const h=v=>X(w[v],1,1,()=>{w[v]=null});let F=e[0].rows,b=[];for(let v=0;v<F.length;v+=1)b[v]=Gc(Mc(e,F,v));const C=v=>X(b[v],1,1,()=>{b[v]=null});function p(v){e[14](v)}function U(v){e[15](v)}let y={items:e[6],$$slots:{default:[GQ,({item:v})=>({18:v}),({item:v})=>v?262144:0]},$$scope:{ctx:e}};return e[4]!==void 0&&(y.currentIndex=e[4]),e[3]!==void 0&&(y.open=e[3]),u=new bc({props:y}),Ne.push(()=>Un(u,"currentIndex",p)),Ne.push(()=>Un(u,"open",U)),{c(){A=_("div"),t=_("h3"),t.textContent="Aligned Documents",r=V(),n=_("div"),i=_("table"),s=_("thead"),o=_("tr");for(let v=0;v<w.length;v+=1)w[v].c();a=V(),l=_("tbody");for(let v=0;v<b.length;v+=1)b[v].c();c=V(),pA(u.$$.fragment),Q(t,"class","title is-5"),Q(s,"class","region-header svelte-1hxxzoa"),Q(i,"class","table is-fullwidth svelte-1hxxzoa"),Q(n,"class","table-container svelte-1hxxzoa"),Q(A,"class","box mt-4")},m(v,E){O(v,A,E),m(A,t),m(A,r),m(A,n),m(n,i),m(i,s),m(s,o);for(let S=0;S<w.length;S+=1)w[S]&&w[S].m(o,null);m(i,a),m(i,l);for(let S=0;S<b.length;S+=1)b[S]&&b[S].m(l,null);O(v,c,E),hA(u,v,E),d=!0},p(v,E){if(E&5){B=v[0].regions;let x;for(x=0;x<B.length;x+=1){const G=Tc(v,B,x);w[x]?(w[x].p(G,E),N(w[x],1)):(w[x]=Nc(G),w[x].c(),N(w[x],1),w[x].m(o,null))}for(kA(),x=B.length;x<w.length;x+=1)h(x);KA()}if(E&3203){F=v[0].rows;let x;for(x=0;x<F.length;x+=1){const G=Mc(v,F,x);b[x]?(b[x].p(G,E),N(b[x],1)):(b[x]=Gc(G),b[x].c(),N(b[x],1),b[x].m(l,null))}for(kA(),x=F.length;x<b.length;x+=1)C(x);KA()}const S={};E&64&&(S.items=v[6]),E&537133088&&(S.$$scope={dirty:E,ctx:v}),!f&&E&16&&(f=!0,S.currentIndex=v[4],pn(()=>f=!1)),!g&&E&8&&(g=!0,S.open=v[3],pn(()=>g=!1)),u.$set(S)},i(v){if(!d){for(let E=0;E<B.length;E+=1)N(w[E]);for(let E=0;E<F.length;E+=1)N(b[E]);N(u.$$.fragment,v),d=!0}},o(v){w=w.filter(Boolean);for(let E=0;E<w.length;E+=1)X(w[E]);b=b.filter(Boolean);for(let E=0;E<b.length;E+=1)X(b[E]);X(u.$$.fragment,v),d=!1},d(v){v&&T(A),ve(w,v),ve(b,v),v&&T(c),wA(u,v)}}}function Nc(e){let A,t,r,n;return t=new _a({props:{id:e[23],meta:e[2].get(e[23])||{},clickable:!1}}),{c(){A=_("th"),pA(t.$$.fragment),r=V(),Q(A,"class","is-vcentered")},m(i,s){O(i,A,s),hA(t,A,null),m(A,r),n=!0},p(i,s){const o={};s&1&&(o.id=i[23]),s&5&&(o.meta=i[2].get(i[23])||{}),t.$set(o)},i(i){n||(N(t.$$.fragment,i),n=!0)},o(i){X(t.$$.fragment,i),n=!1},d(i){i&&T(A),wA(t)}}}function Rc(e){let A,t,r,n,i=e[20][e[23]].page+"",s,o;return A=new si({props:{item:e[26],height:96,borderColor:e[10](e[20][e[23]],e[7]),selectable:!1,copyable:!1}}),A.$on("openModal",e[11]),{c(){pA(A.$$.fragment),t=V(),r=_("div"),n=sA("Page "),s=sA(i),Q(r,"class","has-text-grey-dark mt-2")},m(a,l){hA(A,a,l),O(a,t,l),O(a,r,l),m(r,n),m(r,s),o=!0},p(a,l){const c={};l&3&&(c.item=a[26]),l&129&&(c.borderColor=a[10](a[20][a[23]],a[7])),A.$set(c),(!o||l&1)&&i!==(i=a[20][a[23]].page+"")&&_A(s,i)},i(a){o||(N(A.$$.fragment,a),o=!0)},o(a){X(A.$$.fragment,a),o=!1},d(a){wA(A,a),a&&T(t),a&&T(r)}}}function Vc(e){let A,t,r=e[20][e[23]]&&Rc(Ws(e));return{c(){A=_("td"),r&&r.c(),Q(A,"class","has-text-centered"),FA(A,"vertical-align","top")},m(n,i){O(n,A,i),r&&r.m(A,null),t=!0},p(n,i){n[20][n[23]]?r?(r.p(Ws(n),i),i&1&&N(r,1)):(r=Rc(Ws(n)),r.c(),N(r,1),r.m(A,null)):r&&(kA(),X(r,1,1,()=>{r=null}),KA())},i(n){t||(N(r),t=!0)},o(n){X(r),t=!1},d(n){n&&T(A),r&&r.d()}}}function Gc(e){let A,t,r,n=e[0].regions,i=[];for(let o=0;o<n.length;o+=1)i[o]=Vc(Dc(e,n,o));const s=o=>X(i[o],1,1,()=>{i[o]=null});return{c(){A=_("tr");for(let o=0;o<i.length;o+=1)i[o].c();t=V()},m(o,a){O(o,A,a);for(let l=0;l<i.length;l+=1)i[l]&&i[l].m(A,null);m(A,t),r=!0},p(o,a){if(a&3203){n=o[0].regions;let l;for(l=0;l<n.length;l+=1){const c=Dc(o,n,l);i[l]?(i[l].p(c,a),N(i[l],1)):(i[l]=Vc(c),i[l].c(),N(i[l],1),i[l].m(A,t))}for(kA(),l=n.length;l<i.length;l+=1)s(l);KA()}},i(o){if(!r){for(let a=0;a<n.length;a+=1)N(i[a]);r=!0}},o(o){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)X(i[a]);r=!1},d(o){o&&T(A),ve(i,o)}}}function NQ(e){let A,t;return A=new Ic({props:{item:e[18]}}),{c(){pA(A.$$.fragment)},m(r,n){hA(A,r,n),t=!0},p(r,n){const i={};n&262144&&(i.item=r[18]),A.$set(i)},i(r){t||(N(A.$$.fragment,r),t=!0)},o(r){X(A.$$.fragment,r),t=!1},d(r){wA(A,r)}}}function RQ(e){let A,t,r;return t=new si({props:{item:e[18],height:"full",isInModal:!0}}),{c(){A=_("div"),pA(t.$$.fragment),Q(A,"class","modal-region")},m(n,i){O(n,A,i),hA(t,A,null),r=!0},p(n,i){const s={};i&262144&&(s.item=n[18]),t.$set(s)},i(n){r||(N(t.$$.fragment,n),r=!0)},o(n){X(t.$$.fragment,n),r=!1},d(n){n&&T(A),wA(t)}}}function VQ(e){let A,t,r,n;const i=[RQ,NQ],s=[];function o(a,l){return a[19]==="region"?0:a[19]==="page"?1:-1}return~(A=o(e))&&(t=s[A]=i[A](e)),{c(){t&&t.c(),r=ye()},m(a,l){~A&&s[A].m(a,l),O(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?~A&&s[A].p(a,l):(t&&(kA(),X(s[c],1,1,()=>{s[c]=null}),KA()),~A?(t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),N(t,1),t.m(r.parentNode,r)):t=null)},i(a){n||(N(t),n=!0)},o(a){X(t),n=!1},d(a){~A&&s[A].d(a),a&&T(r)}}}function GQ(e){let A,t;return A=new Kc({props:{tabs:e[5],$$slots:{default:[VQ,({activeTab:r})=>({19:r}),({activeTab:r})=>r?524288:0]},$$scope:{ctx:e}}}),{c(){pA(A.$$.fragment)},m(r,n){hA(A,r,n),t=!0},p(r,n){const i={};n&32&&(i.tabs=r[5]),n&537657344&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(N(A.$$.fragment,r),t=!0)},o(r){X(A.$$.fragment,r),t=!1},d(r){wA(A,r)}}}function PQ(e){let A,t,r=e[0]&&Oc(e);return{c(){r&&r.c(),A=ye()},m(n,i){r&&r.m(n,i),O(n,A,i),t=!0},p(n,[i]){n[0]?r?(r.p(n,i),i&1&&N(r,1)):(r=Oc(n),r.c(),N(r,1),r.m(A.parentNode,A)):r&&(kA(),X(r,1,1,()=>{r=null}),KA())},i(n){t||(N(r),t=!0)},o(n){X(r),t=!1},d(n){r&&r.d(n),n&&T(A)}}}function XQ(e){let A=0;for(let s=0;s<e.length;s++)A=e.charCodeAt(s)+((A<<5)-A),A=A&A;const r=A*.618033988749895%1*360,n=65+A%20,i=80+A%10;return`hsl(${Math.floor(r)}, ${n}%, ${i}%)`}function JQ(e,A,t){let r,n,i,s,o,{selectedDocuments:a=[]}=A,{documentSetStore:l}=A;const{buildAlignedImageMatrix:c,documentNodes:u,imageNodes:f}=l;vA(e,u,p=>t(2,o=p)),vA(e,f,p=>t(1,s=p));let g=null;function d(p,U){if(!p)return;const y=p.id;if(U.get(y)!==1)return B.has(y)||B.set(y,XQ(y)),B.get(y)}const B=new Map;let w=!1,h=0;const F=p=>{t(4,h=p.detail.index??0),t(3,w=!0)};function b(p){h=p,t(4,h)}function C(p){w=p,t(3,w)}return e.$$set=p=>{"selectedDocuments"in p&&t(12,a=p.selectedDocuments),"documentSetStore"in p&&t(13,l=p.documentSetStore)},e.$$.update=()=>{if(e.$$.dirty&4102)if(a.length>0&&s&&o){const p=a.map(U=>U.id);t(0,g=c(p))}else t(0,g=null);e.$$.dirty&1&&t(7,r=g?(()=>{const p=new Map;return g.rows.forEach(U=>{Object.values(U).forEach(y=>{p.set(y.id,(p.get(y.id)||0)+1)})}),p})():new Map),e.$$.dirty&3&&t(6,n=g?g.rows.flatMap(p=>g.regions.map(U=>p[U]).filter(U=>U).map(U=>s.get(U.id))):[])},t(5,i=[{id:"region",label:j==="en"?"Main view":"Vue principale"},{id:"page",label:j==="en"?"Page View":"Vue de la page"}]),[g,s,o,w,h,i,n,r,u,f,d,F,a,l,b,C]}class YQ extends DA{constructor(A){super(),MA(this,A,JQ,PQ,SA,{selectedDocuments:12,documentSetStore:13})}}const fE="";function Pc(e,A,t){const r=e.slice();return r[15]=A[t],r[17]=t,r}function Xc(e,A){let t,r,n;return r=new si({props:{item:new ni(A[15]),index:A[17],height:A[2],copyable:A[4],selectable:A[3],selectionStore:A[0]}}),r.$on("openModal",A[8]),{key:e,first:null,c(){t=ye(),pA(r.$$.fragment),this.first=t},m(i,s){O(i,t,s),hA(r,i,s),n=!0},p(i,s){A=i;const o={};s&2&&(o.item=new ni(A[15])),s&2&&(o.index=A[17]),s&4&&(o.height=A[2]),s&16&&(o.copyable=A[4]),s&8&&(o.selectable=A[3]),s&1&&(o.selectionStore=A[0]),r.$set(o)},i(i){n||(N(r.$$.fragment,i),n=!0)},o(i){X(r.$$.fragment,i),n=!1},d(i){i&&T(t),wA(r,i)}}}function WQ(e){let A,t;return A=new Ic({props:{item:e[13]}}),{c(){pA(A.$$.fragment)},m(r,n){hA(A,r,n),t=!0},p(r,n){const i={};n&8192&&(i.item=r[13]),A.$set(i)},i(r){t||(N(A.$$.fragment,r),t=!0)},o(r){X(A.$$.fragment,r),t=!1},d(r){wA(A,r)}}}function zQ(e){let A,t,r;return t=new si({props:{item:e[13],height:"full",isInModal:!0,selectable:!1}}),{c(){A=_("div"),pA(t.$$.fragment),Q(A,"class","modal-region svelte-jba7xn")},m(n,i){O(n,A,i),hA(t,A,null),r=!0},p(n,i){const s={};i&8192&&(s.item=n[13]),t.$set(s)},i(n){r||(N(t.$$.fragment,n),r=!0)},o(n){X(t.$$.fragment,n),r=!1},d(n){n&&T(A),wA(t)}}}function ZQ(e){let A,t,r,n;const i=[zQ,WQ],s=[];function o(a,l){return a[14]==="region"?0:a[14]==="page"?1:-1}return~(A=o(e))&&(t=s[A]=i[A](e)),{c(){t&&t.c(),r=ye()},m(a,l){~A&&s[A].m(a,l),O(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?~A&&s[A].p(a,l):(t&&(kA(),X(s[c],1,1,()=>{s[c]=null}),KA()),~A?(t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),N(t,1),t.m(r.parentNode,r)):t=null)},i(a){n||(N(t),n=!0)},o(a){X(t),n=!1},d(a){~A&&s[A].d(a),a&&T(r)}}}function jQ(e){let A,t;return A=new Kc({props:{tabs:e[7],$$slots:{default:[ZQ,({activeTab:r})=>({14:r}),({activeTab:r})=>r?16384:0]},$$scope:{ctx:e}}}),{c(){pA(A.$$.fragment)},m(r,n){hA(A,r,n),t=!0},p(r,n){const i={};n&128&&(i.tabs=r[7]),n&286720&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(N(A.$$.fragment,r),t=!0)},o(r){X(A.$$.fragment,r),t=!1},d(r){wA(A,r)}}}function $Q(e){let A=[],t=new Map,r,n,i,s,o,a=Object.values(e[1]);const l=g=>g[15].id;for(let g=0;g<a.length;g+=1){let d=Pc(e,a,g),B=l(d);t.set(B,A[g]=Xc(B,d))}function c(g){e[10](g)}function u(g){e[11](g)}let f={items:e[1],$$slots:{default:[jQ,({item:g})=>({13:g}),({item:g})=>g?8192:0]},$$scope:{ctx:e}};return e[6]!==void 0&&(f.currentIndex=e[6]),e[5]!==void 0&&(f.open=e[5]),n=new bc({props:f}),Ne.push(()=>Un(n,"currentIndex",c)),Ne.push(()=>Un(n,"open",u)),n.$on("navigate",e[9]),{c(){for(let g=0;g<A.length;g+=1)A[g].c();r=V(),pA(n.$$.fragment)},m(g,d){for(let B=0;B<A.length;B+=1)A[B]&&A[B].m(g,d);O(g,r,d),hA(n,g,d),o=!0},p(g,[d]){d&287&&(a=Object.values(g[1]),kA(),A=vn(A,d,l,1,g,a,t,r.parentNode,fa,Xc,r,Pc),KA());const B={};d&2&&(B.items=g[1]),d&270464&&(B.$$scope={dirty:d,ctx:g}),!i&&d&64&&(i=!0,B.currentIndex=g[6],pn(()=>i=!1)),!s&&d&32&&(s=!0,B.open=g[5],pn(()=>s=!1)),n.$set(B)},i(g){if(!o){for(let d=0;d<a.length;d+=1)N(A[d]);N(n.$$.fragment,g),o=!0}},o(g){for(let d=0;d<A.length;d+=1)X(A[d]);X(n.$$.fragment,g),o=!1},d(g){for(let d=0;d<A.length;d+=1)A[d].d(g);g&&T(r),wA(n,g)}}}function qQ(e,A,t){let r,{selectionStore:n=mc}=A,{items:i=[]}=A,{height:s=96}=A,{selectable:o=!0}=A,{copyable:a=!0}=A,l=!1,c=0;const u=B=>{t(6,c=B.detail.index??0),t(5,l=!0)},f=B=>{t(6,c=B.detail.index)};function g(B){c=B,t(6,c)}function d(B){l=B,t(5,l)}return e.$$set=B=>{"selectionStore"in B&&t(0,n=B.selectionStore),"items"in B&&t(1,i=B.items),"height"in B&&t(2,s=B.height),"selectable"in B&&t(3,o=B.selectable),"copyable"in B&&t(4,a=B.copyable)},t(7,r=[{id:"region",label:j==="en"?"Main view":"Vue principale"},{id:"page",label:j==="en"?"Page View":"Vue de la page"}]),[n,i,s,o,a,l,c,r,u,f,g,d]}class Jc extends DA{constructor(A){super(),MA(this,A,qQ,$Q,SA,{selectionStore:0,items:1,height:2,selectable:3,copyable:4})}}const gE="";function AC(e){let A;return{c(){A=_("span"),A.innerHTML='<i class="fas fa-crop-alt"></i>',Q(A,"class","icon px-4")},m(t,r){O(t,A,r)},d(t){t&&T(A)}}}function eC(e){let A;return{c(){A=_("span"),A.innerHTML='<i class="fas fa-hand-pointer"></i>',Q(A,"class","icon px-4")},m(t,r){O(t,A,r)},d(t){t&&T(A)}}}function Yc(e){let A,t,r,n;const i=[rC,tC],s=[];function o(a,l){return a[0]==="img"?0:a[0]==="doc"?1:-1}return~(A=o(e))&&(t=s[A]=i[A](e)),{c(){t&&t.c(),r=ye()},m(a,l){~A&&s[A].m(a,l),O(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?~A&&s[A].p(a,l):(t&&(kA(),X(s[c],1,1,()=>{s[c]=null}),KA()),~A?(t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),N(t,1),t.m(r.parentNode,r)):t=null)},i(a){n||(N(t),n=!0)},o(a){X(t),n=!1},d(a){~A&&s[A].d(a),a&&T(r)}}}function tC(e){let A,t;return A=new YQ({props:{selectedDocuments:e[5],documentSetStore:e[1]}}),{c(){pA(A.$$.fragment)},m(r,n){hA(A,r,n),t=!0},p(r,n){const i={};n&32&&(i.selectedDocuments=r[5]),n&2&&(i.documentSetStore=r[1]),A.$set(i)},i(r){t||(N(A.$$.fragment,r),t=!0)},o(r){X(A.$$.fragment,r),t=!1},d(r){wA(A,r)}}}function rC(e){let A,t,r=j==="en"?"Selected regions":"Régions sélectionnées",n,i,s=e[5].length+"",o,a,l,c,u,f;return u=new Jc({props:{items:e[5],selectable:!1,copyable:!1}}),{c(){A=_("div"),t=_("h3"),n=sA(r),i=sA(" ("),o=sA(s),a=sA(")"),l=V(),c=_("div"),pA(u.$$.fragment),Q(t,"class","title is-5"),Q(c,"class","selected-nodes grid is-gap-2 mt-5 svelte-1a3kdxu"),Q(A,"class","selected-panel box mt-4 svelte-1a3kdxu")},m(g,d){O(g,A,d),m(A,t),m(t,n),m(t,i),m(t,o),m(t,a),m(A,l),m(A,c),hA(u,c,null),f=!0},p(g,d){(!f||d&32)&&s!==(s=g[5].length+"")&&_A(o,s);const B={};d&32&&(B.items=g[5]),u.$set(B)},i(g){f||(N(u.$$.fragment,g),f=!0)},o(g){X(u.$$.fragment,g),f=!1},d(g){g&&T(A),wA(u)}}}function nC(e){let A,t,r,n=e[3]?"click":"selection",i,s,o,a,l,c,u,f;function g(h,F){return h[3]?eC:AC}let d=g(e),B=d(e),w=e[5].length>0&&Yc(e);return{c(){A=_("div"),t=_("button"),B.c(),r=sA(`
        Switch to `),i=sA(n),s=sA(" mode"),o=V(),a=_("div"),l=V(),w&&w.c(),Q(t,"class","toggle-button button is-small is-link mb-3"),Q(a,"class","visualization-container")},m(h,F){O(h,A,F),m(A,t),B.m(t,null),m(t,r),m(t,i),m(t,s),m(A,o),m(A,a),e[9](a),m(A,l),w&&w.m(A,null),c=!0,u||(f=gA(t,"click",e[7]),u=!0)},p(h,[F]){d!==(d=g(h))&&(B.d(1),B=d(h),B&&(B.c(),B.m(t,r))),(!c||F&8)&&n!==(n=h[3]?"click":"selection")&&_A(i,n),h[5].length>0?w?(w.p(h,F),F&32&&N(w,1)):(w=Yc(h),w.c(),N(w,1),w.m(A,null)):w&&(kA(),X(w,1,1,()=>{w=null}),KA())},i(h){c||(N(w),c=!0)},o(h){X(w),c=!1},d(h){h&&T(A),B.d(),e[9](null),w&&w.d(),u=!1,f()}}}const iC=1e3;function sC(e,A,t){let r,n,i=$,s=()=>(i(),i=gn(r,C=>t(8,n=C)),r),o;e.$$.on_destroy.push(()=>i());let{type:a="img"}=A,{documentSetStore:l}=A;const{imageNetwork:c,documentNetwork:u,selectedNodes:f,updateSelectedNodes:g}=l;vA(e,f,C=>t(5,o=C));let d,B,w=!1;function h(){d&&(d.destroy(),g([]));function C(U){g(U)}d=(n.nodes.length<iC?aQ:AQ)(B,n.nodes,n.links,C,U=>{t(3,w=U)}),t(3,w=a==="img"),w&&d.toggleSelectionMode()}function F(){d&&t(3,w=d.toggleSelectionMode())}qt(()=>{d==null||d.destroy()});function b(C){Ne[C?"unshift":"push"](()=>{B=C,t(2,B)})}return e.$$set=C=>{"type"in C&&t(0,a=C.type),"documentSetStore"in C&&t(1,l=C.documentSetStore)},e.$$.update=()=>{e.$$.dirty&1&&s(t(4,r=a==="img"?c:u)),e.$$.dirty&260&&n&&B&&h()},[a,l,B,w,r,o,f,F,n,b]}class oC extends DA{constructor(A){super(),MA(this,A,sC,nC,SA,{type:0,documentSetStore:1})}}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var zs=function(e,A){return zs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])},zs(e,A)};function At(e,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");zs(e,A);function t(){this.constructor=e}e.prototype=A===null?Object.create(A):(t.prototype=A.prototype,new t)}var Zs=function(){return Zs=Object.assign||function(A){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(A[i]=t[i])}return A},Zs.apply(this,arguments)};function De(e,A,t,r){function n(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function o(c){try{l(r.next(c))}catch(u){s(u)}}function a(c){try{l(r.throw(c))}catch(u){s(u)}}function l(c){c.done?i(c.value):n(c.value).then(o,a)}l((r=r.apply(e,A||[])).next())})}function Ee(e,A){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,n,i,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(l){return function(c){return a([l,c])}}function a(l){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,n&&(i=l[0]&2?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[l[0]&2,i.value]),l[0]){case 0:case 1:i=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,n=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){t.label=l[1];break}if(l[0]===6&&t.label<i[1]){t.label=i[1],i=l;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(l);break}i[2]&&t.ops.pop(),t.trys.pop();continue}l=A.call(e,t)}catch(c){l=[6,c],n=0}finally{r=i=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function oi(e,A,t){if(t||arguments.length===2)for(var r=0,n=A.length,i;r<n;r++)(i||!(r in A))&&(i||(i=Array.prototype.slice.call(A,0,r)),i[r]=A[r]);return e.concat(i||A)}for(var wt=function(){function e(A,t,r,n){this.left=A,this.top=t,this.width=r,this.height=n}return e.prototype.add=function(A,t,r,n){return new e(this.left+A,this.top+t,this.width+r,this.height+n)},e.fromClientRect=function(A,t){return new e(t.left+A.windowBounds.left,t.top+A.windowBounds.top,t.width,t.height)},e.fromDOMRectList=function(A,t){var r=Array.from(t).find(function(n){return n.width!==0});return r?new e(r.left+A.windowBounds.left,r.top+A.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),ai=function(e,A){return wt.fromClientRect(e,A.getBoundingClientRect())},aC=function(e){var A=e.body,t=e.documentElement;if(!A||!t)throw new Error("Unable to get document size");var r=Math.max(Math.max(A.scrollWidth,t.scrollWidth),Math.max(A.offsetWidth,t.offsetWidth),Math.max(A.clientWidth,t.clientWidth)),n=Math.max(Math.max(A.scrollHeight,t.scrollHeight),Math.max(A.offsetHeight,t.offsetHeight),Math.max(A.clientHeight,t.clientHeight));return new wt(0,0,r,n)},li=function(e){for(var A=[],t=0,r=e.length;t<r;){var n=e.charCodeAt(t++);if(n>=55296&&n<=56319&&t<r){var i=e.charCodeAt(t++);(i&64512)===56320?A.push(((n&1023)<<10)+(i&1023)+65536):(A.push(n),t--)}else A.push(n)}return A},ae=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var r=[],n=-1,i="";++n<t;){var s=e[n];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(n+1===t||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},Wc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lC=typeof Uint8Array>"u"?[]:new Uint8Array(256),ci=0;ci<Wc.length;ci++)lC[Wc.charCodeAt(ci)]=ci;for(var zc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vr=typeof Uint8Array>"u"?[]:new Uint8Array(256),ui=0;ui<zc.length;ui++)Vr[zc.charCodeAt(ui)]=ui;for(var cC=function(e){var A=e.length*.75,t=e.length,r,n=0,i,s,o,a;e[e.length-1]==="="&&(A--,e[e.length-2]==="="&&A--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),c=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<t;r+=4)i=Vr[e.charCodeAt(r)],s=Vr[e.charCodeAt(r+1)],o=Vr[e.charCodeAt(r+2)],a=Vr[e.charCodeAt(r+3)],c[n++]=i<<2|s>>4,c[n++]=(s&15)<<4|o>>2,c[n++]=(o&3)<<6|a&63;return l},uC=function(e){for(var A=e.length,t=[],r=0;r<A;r+=2)t.push(e[r+1]<<8|e[r]);return t},fC=function(e){for(var A=e.length,t=[],r=0;r<A;r+=4)t.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return t},Pt=5,js=6+5,$s=2,gC=js-Pt,Zc=65536>>Pt,BC=1<<Pt,qs=BC-1,dC=1024>>Pt,hC=Zc+dC,wC=hC,pC=32,mC=wC+pC,QC=65536>>js,CC=1<<gC,vC=CC-1,jc=function(e,A,t){return e.slice?e.slice(A,t):new Uint16Array(Array.prototype.slice.call(e,A,t))},UC=function(e,A,t){return e.slice?e.slice(A,t):new Uint32Array(Array.prototype.slice.call(e,A,t))},FC=function(e,A){var t=cC(e),r=Array.isArray(t)?fC(t):new Uint32Array(t),n=Array.isArray(t)?uC(t):new Uint16Array(t),i=24,s=jc(n,i/2,r[4]/2),o=r[5]===2?jc(n,(i+r[4])/2):UC(r,Math.ceil((i+r[4])/4));return new _C(r[0],r[1],r[2],r[3],s,o)},_C=function(){function e(A,t,r,n,i,s){this.initialValue=A,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=s}return e.prototype.get=function(A){var t;if(A>=0){if(A<55296||A>56319&&A<=65535)return t=this.index[A>>Pt],t=(t<<$s)+(A&qs),this.data[t];if(A<=65535)return t=this.index[Zc+(A-55296>>Pt)],t=(t<<$s)+(A&qs),this.data[t];if(A<this.highStart)return t=mC-QC+(A>>js),t=this.index[t],t+=A>>Pt&vC,t=this.index[t],t=(t<<$s)+(A&qs),this.data[t];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),$c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",yC=typeof Uint8Array>"u"?[]:new Uint8Array(256),fi=0;fi<$c.length;fi++)yC[$c.charCodeAt(fi)]=fi;var bC="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",qc=50,EC=1,Au=2,eu=3,HC=4,IC=5,tu=7,ru=8,nu=9,yt=10,Ao=11,iu=12,eo=13,SC=14,Gr=15,to=16,gi=17,Pr=18,xC=19,su=20,ro=21,Xr=22,no=23,gr=24,Ve=25,Jr=26,Yr=27,Br=28,LC=29,Xt=30,kC=31,Bi=32,di=33,io=34,so=35,oo=36,Wr=37,ao=38,hi=39,wi=40,lo=41,ou=42,KC=43,MC=[9001,65288],au="!",IA="×",pi="÷",co=FC(bC),pt=[Xt,oo],uo=[EC,Au,eu,IC],lu=[yt,ru],cu=[Yr,Jr],DC=uo.concat(lu),uu=[ao,hi,wi,io,so],TC=[Gr,eo],OC=function(e,A){A===void 0&&(A="strict");var t=[],r=[],n=[];return e.forEach(function(i,s){var o=co.get(i);if(o>qc?(n.push(!0),o-=qc):n.push(!1),["normal","auto","loose"].indexOf(A)!==-1&&[8208,8211,12316,12448].indexOf(i)!==-1)return r.push(s),t.push(to);if(o===HC||o===Ao){if(s===0)return r.push(s),t.push(Xt);var a=t[s-1];return DC.indexOf(a)===-1?(r.push(r[s-1]),t.push(a)):(r.push(s),t.push(Xt))}if(r.push(s),o===kC)return t.push(A==="strict"?ro:Wr);if(o===ou||o===LC)return t.push(Xt);if(o===KC)return i>=131072&&i<=196605||i>=196608&&i<=262141?t.push(Wr):t.push(Xt);t.push(o)}),[r,t,n]},fo=function(e,A,t,r){var n=r[t];if(Array.isArray(e)?e.indexOf(n)!==-1:e===n)for(var i=t;i<=r.length;){i++;var s=r[i];if(s===A)return!0;if(s!==yt)break}if(n===yt)for(var i=t;i>0;){i--;var o=r[i];if(Array.isArray(e)?e.indexOf(o)!==-1:e===o)for(var a=t;a<=r.length;){a++;var s=r[a];if(s===A)return!0;if(s!==yt)break}if(o!==yt)break}return!1},fu=function(e,A){for(var t=e;t>=0;){var r=A[t];if(r===yt)t--;else return r}return 0},NC=function(e,A,t,r,n){if(t[r]===0)return IA;var i=r-1;if(Array.isArray(n)&&n[i]===!0)return IA;var s=i-1,o=i+1,a=A[i],l=s>=0?A[s]:0,c=A[o];if(a===Au&&c===eu)return IA;if(uo.indexOf(a)!==-1)return au;if(uo.indexOf(c)!==-1||lu.indexOf(c)!==-1)return IA;if(fu(i,A)===ru)return pi;if(co.get(e[i])===Ao||(a===Bi||a===di)&&co.get(e[o])===Ao||a===tu||c===tu||a===nu||[yt,eo,Gr].indexOf(a)===-1&&c===nu||[gi,Pr,xC,gr,Br].indexOf(c)!==-1||fu(i,A)===Xr||fo(no,Xr,i,A)||fo([gi,Pr],ro,i,A)||fo(iu,iu,i,A))return IA;if(a===yt)return pi;if(a===no||c===no)return IA;if(c===to||a===to)return pi;if([eo,Gr,ro].indexOf(c)!==-1||a===SC||l===oo&&TC.indexOf(a)!==-1||a===Br&&c===oo||c===su||pt.indexOf(c)!==-1&&a===Ve||pt.indexOf(a)!==-1&&c===Ve||a===Yr&&[Wr,Bi,di].indexOf(c)!==-1||[Wr,Bi,di].indexOf(a)!==-1&&c===Jr||pt.indexOf(a)!==-1&&cu.indexOf(c)!==-1||cu.indexOf(a)!==-1&&pt.indexOf(c)!==-1||[Yr,Jr].indexOf(a)!==-1&&(c===Ve||[Xr,Gr].indexOf(c)!==-1&&A[o+1]===Ve)||[Xr,Gr].indexOf(a)!==-1&&c===Ve||a===Ve&&[Ve,Br,gr].indexOf(c)!==-1)return IA;if([Ve,Br,gr,gi,Pr].indexOf(c)!==-1)for(var u=i;u>=0;){var f=A[u];if(f===Ve)return IA;if([Br,gr].indexOf(f)!==-1)u--;else break}if([Yr,Jr].indexOf(c)!==-1)for(var u=[gi,Pr].indexOf(a)!==-1?s:i;u>=0;){var f=A[u];if(f===Ve)return IA;if([Br,gr].indexOf(f)!==-1)u--;else break}if(ao===a&&[ao,hi,io,so].indexOf(c)!==-1||[hi,io].indexOf(a)!==-1&&[hi,wi].indexOf(c)!==-1||[wi,so].indexOf(a)!==-1&&c===wi||uu.indexOf(a)!==-1&&[su,Jr].indexOf(c)!==-1||uu.indexOf(c)!==-1&&a===Yr||pt.indexOf(a)!==-1&&pt.indexOf(c)!==-1||a===gr&&pt.indexOf(c)!==-1||pt.concat(Ve).indexOf(a)!==-1&&c===Xr&&MC.indexOf(e[o])===-1||pt.concat(Ve).indexOf(c)!==-1&&a===Pr)return IA;if(a===lo&&c===lo){for(var g=t[i],d=1;g>0&&(g--,A[g]===lo);)d++;if(d%2!==0)return IA}return a===Bi&&c===di?IA:pi},RC=function(e,A){A||(A={lineBreak:"normal",wordBreak:"normal"});var t=OC(e,A.lineBreak),r=t[0],n=t[1],i=t[2];(A.wordBreak==="break-all"||A.wordBreak==="break-word")&&(n=n.map(function(o){return[Ve,Xt,ou].indexOf(o)!==-1?Wr:o}));var s=A.wordBreak==="keep-all"?i.map(function(o,a){return o&&e[a]>=19968&&e[a]<=40959}):void 0;return[r,n,s]},VC=function(){function e(A,t,r,n){this.codePoints=A,this.required=t===au,this.start=r,this.end=n}return e.prototype.slice=function(){return ae.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),GC=function(e,A){var t=li(e),r=RC(t,A),n=r[0],i=r[1],s=r[2],o=t.length,a=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var c=IA;l<o&&(c=NC(t,i,n,++l,s))===IA;);if(c!==IA||l===o){var u=new VC(t,c,a,l);return a=l,{value:u,done:!1}}return{done:!0,value:null}}}},PC=1,XC=2,zr=4,gu=8,mi=10,Bu=47,Zr=92,JC=9,YC=32,Qi=34,jr=61,WC=35,zC=36,ZC=37,Ci=39,vi=40,$r=41,jC=95,Oe=45,$C=33,qC=60,A1=62,e1=64,t1=91,r1=93,n1=61,i1=123,Ui=63,s1=125,du=124,o1=126,a1=128,hu=65533,go=42,Jt=43,l1=44,c1=58,u1=59,qr=46,f1=0,g1=8,B1=11,d1=14,h1=31,w1=127,ot=-1,wu=48,pu=97,mu=101,p1=102,m1=117,Q1=122,Qu=65,Cu=69,vu=70,C1=85,v1=90,He=function(e){return e>=wu&&e<=57},U1=function(e){return e>=55296&&e<=57343},dr=function(e){return He(e)||e>=Qu&&e<=vu||e>=pu&&e<=p1},F1=function(e){return e>=pu&&e<=Q1},_1=function(e){return e>=Qu&&e<=v1},y1=function(e){return F1(e)||_1(e)},b1=function(e){return e>=a1},Fi=function(e){return e===mi||e===JC||e===YC},_i=function(e){return y1(e)||b1(e)||e===jC},Uu=function(e){return _i(e)||He(e)||e===Oe},E1=function(e){return e>=f1&&e<=g1||e===B1||e>=d1&&e<=h1||e===w1},bt=function(e,A){return e!==Zr?!1:A!==mi},yi=function(e,A,t){return e===Oe?_i(A)||bt(A,t):_i(e)?!0:!!(e===Zr&&bt(e,A))},Bo=function(e,A,t){return e===Jt||e===Oe?He(A)?!0:A===qr&&He(t):He(e===qr?A:e)},H1=function(e){var A=0,t=1;(e[A]===Jt||e[A]===Oe)&&(e[A]===Oe&&(t=-1),A++);for(var r=[];He(e[A]);)r.push(e[A++]);var n=r.length?parseInt(ae.apply(void 0,r),10):0;e[A]===qr&&A++;for(var i=[];He(e[A]);)i.push(e[A++]);var s=i.length,o=s?parseInt(ae.apply(void 0,i),10):0;(e[A]===Cu||e[A]===mu)&&A++;var a=1;(e[A]===Jt||e[A]===Oe)&&(e[A]===Oe&&(a=-1),A++);for(var l=[];He(e[A]);)l.push(e[A++]);var c=l.length?parseInt(ae.apply(void 0,l),10):0;return t*(n+o*Math.pow(10,-s))*Math.pow(10,a*c)},I1={type:2},S1={type:3},x1={type:4},L1={type:13},k1={type:8},K1={type:21},M1={type:9},D1={type:10},T1={type:11},O1={type:12},N1={type:14},bi={type:23},R1={type:1},V1={type:25},G1={type:24},P1={type:26},X1={type:27},J1={type:28},Y1={type:29},W1={type:31},ho={type:32},Fu=function(){function e(){this._value=[]}return e.prototype.write=function(A){this._value=this._value.concat(li(A))},e.prototype.read=function(){for(var A=[],t=this.consumeToken();t!==ho;)A.push(t),t=this.consumeToken();return A},e.prototype.consumeToken=function(){var A=this.consumeCodePoint();switch(A){case Qi:return this.consumeStringToken(Qi);case WC:var t=this.peekCodePoint(0),r=this.peekCodePoint(1),n=this.peekCodePoint(2);if(Uu(t)||bt(r,n)){var i=yi(t,r,n)?XC:PC,s=this.consumeName();return{type:5,value:s,flags:i}}break;case zC:if(this.peekCodePoint(0)===jr)return this.consumeCodePoint(),L1;break;case Ci:return this.consumeStringToken(Ci);case vi:return I1;case $r:return S1;case go:if(this.peekCodePoint(0)===jr)return this.consumeCodePoint(),N1;break;case Jt:if(Bo(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case l1:return x1;case Oe:var o=A,a=this.peekCodePoint(0),l=this.peekCodePoint(1);if(Bo(o,a,l))return this.reconsumeCodePoint(A),this.consumeNumericToken();if(yi(o,a,l))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();if(a===Oe&&l===A1)return this.consumeCodePoint(),this.consumeCodePoint(),G1;break;case qr:if(Bo(A,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(A),this.consumeNumericToken();break;case Bu:if(this.peekCodePoint(0)===go)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===go&&(c=this.consumeCodePoint(),c===Bu))return this.consumeToken();if(c===ot)return this.consumeToken()}break;case c1:return P1;case u1:return X1;case qC:if(this.peekCodePoint(0)===$C&&this.peekCodePoint(1)===Oe&&this.peekCodePoint(2)===Oe)return this.consumeCodePoint(),this.consumeCodePoint(),V1;break;case e1:var u=this.peekCodePoint(0),f=this.peekCodePoint(1),g=this.peekCodePoint(2);if(yi(u,f,g)){var s=this.consumeName();return{type:7,value:s}}break;case t1:return J1;case Zr:if(bt(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),this.consumeIdentLikeToken();break;case r1:return Y1;case n1:if(this.peekCodePoint(0)===jr)return this.consumeCodePoint(),k1;break;case i1:return T1;case s1:return O1;case m1:case C1:var d=this.peekCodePoint(0),B=this.peekCodePoint(1);return d===Jt&&(dr(B)||B===Ui)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(A),this.consumeIdentLikeToken();case du:if(this.peekCodePoint(0)===jr)return this.consumeCodePoint(),M1;if(this.peekCodePoint(0)===du)return this.consumeCodePoint(),K1;break;case o1:if(this.peekCodePoint(0)===jr)return this.consumeCodePoint(),D1;break;case ot:return ho}return Fi(A)?(this.consumeWhiteSpace(),W1):He(A)?(this.reconsumeCodePoint(A),this.consumeNumericToken()):_i(A)?(this.reconsumeCodePoint(A),this.consumeIdentLikeToken()):{type:6,value:ae(A)}},e.prototype.consumeCodePoint=function(){var A=this._value.shift();return typeof A>"u"?-1:A},e.prototype.reconsumeCodePoint=function(A){this._value.unshift(A)},e.prototype.peekCodePoint=function(A){return A>=this._value.length?-1:this._value[A]},e.prototype.consumeUnicodeRangeToken=function(){for(var A=[],t=this.consumeCodePoint();dr(t)&&A.length<6;)A.push(t),t=this.consumeCodePoint();for(var r=!1;t===Ui&&A.length<6;)A.push(t),t=this.consumeCodePoint(),r=!0;if(r){var n=parseInt(ae.apply(void 0,A.map(function(a){return a===Ui?wu:a})),16),i=parseInt(ae.apply(void 0,A.map(function(a){return a===Ui?vu:a})),16);return{type:30,start:n,end:i}}var s=parseInt(ae.apply(void 0,A),16);if(this.peekCodePoint(0)===Oe&&dr(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var o=[];dr(t)&&o.length<6;)o.push(t),t=this.consumeCodePoint();var i=parseInt(ae.apply(void 0,o),16);return{type:30,start:s,end:i}}else return{type:30,start:s,end:s}},e.prototype.consumeIdentLikeToken=function(){var A=this.consumeName();return A.toLowerCase()==="url"&&this.peekCodePoint(0)===vi?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===vi?(this.consumeCodePoint(),{type:19,value:A}):{type:20,value:A}},e.prototype.consumeUrlToken=function(){var A=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ot)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Ci||t===Qi){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ot||this.peekCodePoint(0)===$r)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),bi)}for(;;){var n=this.consumeCodePoint();if(n===ot||n===$r)return{type:22,value:ae.apply(void 0,A)};if(Fi(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ot||this.peekCodePoint(0)===$r?(this.consumeCodePoint(),{type:22,value:ae.apply(void 0,A)}):(this.consumeBadUrlRemnants(),bi);if(n===Qi||n===Ci||n===vi||E1(n))return this.consumeBadUrlRemnants(),bi;if(n===Zr)if(bt(n,this.peekCodePoint(0)))A.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),bi;else A.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;Fi(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var A=this.consumeCodePoint();if(A===$r||A===ot)return;bt(A,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(A){for(var t=5e4,r="";A>0;){var n=Math.min(t,A);r+=ae.apply(void 0,this._value.splice(0,n)),A-=n}return this._value.shift(),r},e.prototype.consumeStringToken=function(A){var t="",r=0;do{var n=this._value[r];if(n===ot||n===void 0||n===A)return t+=this.consumeStringSlice(r),{type:0,value:t};if(n===mi)return this._value.splice(0,r),R1;if(n===Zr){var i=this._value[r+1];i!==ot&&i!==void 0&&(i===mi?(t+=this.consumeStringSlice(r),r=-1,this._value.shift()):bt(n,i)&&(t+=this.consumeStringSlice(r),t+=ae(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},e.prototype.consumeNumber=function(){var A=[],t=zr,r=this.peekCodePoint(0);for((r===Jt||r===Oe)&&A.push(this.consumeCodePoint());He(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(r===qr&&He(n))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),t=gu;He(this.peekCodePoint(0));)A.push(this.consumeCodePoint());r=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((r===Cu||r===mu)&&((n===Jt||n===Oe)&&He(i)||He(n)))for(A.push(this.consumeCodePoint(),this.consumeCodePoint()),t=gu;He(this.peekCodePoint(0));)A.push(this.consumeCodePoint());return[H1(A),t]},e.prototype.consumeNumericToken=function(){var A=this.consumeNumber(),t=A[0],r=A[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),s=this.peekCodePoint(2);if(yi(n,i,s)){var o=this.consumeName();return{type:15,number:t,flags:r,unit:o}}return n===ZC?(this.consumeCodePoint(),{type:16,number:t,flags:r}):{type:17,number:t,flags:r}},e.prototype.consumeEscapedCodePoint=function(){var A=this.consumeCodePoint();if(dr(A)){for(var t=ae(A);dr(this.peekCodePoint(0))&&t.length<6;)t+=ae(this.consumeCodePoint());Fi(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(t,16);return r===0||U1(r)||r>1114111?hu:r}return A===ot?hu:A},e.prototype.consumeName=function(){for(var A="";;){var t=this.consumeCodePoint();if(Uu(t))A+=ae(t);else if(bt(t,this.peekCodePoint(0)))A+=ae(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),A}},e}(),_u=function(){function e(A){this._tokens=A}return e.create=function(A){var t=new Fu;return t.write(A),new e(t.read())},e.parseValue=function(A){return e.create(A).parseComponentValue()},e.parseValues=function(A){return e.create(A).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var A=this.consumeToken();A.type===31;)A=this.consumeToken();if(A.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(A);var t=this.consumeComponentValue();do A=this.consumeToken();while(A.type===31);if(A.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var A=[];;){var t=this.consumeComponentValue();if(t.type===32)return A;A.push(t),A.push()}},e.prototype.consumeComponentValue=function(){var A=this.consumeToken();switch(A.type){case 11:case 28:case 2:return this.consumeSimpleBlock(A.type);case 19:return this.consumeFunction(A)}return A},e.prototype.consumeSimpleBlock=function(A){for(var t={type:A,values:[]},r=this.consumeToken();;){if(r.type===32||Z1(r,A))return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue()),r=this.consumeToken()}},e.prototype.consumeFunction=function(A){for(var t={name:A.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return t;this.reconsumeToken(r),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var A=this._tokens.shift();return typeof A>"u"?ho:A},e.prototype.reconsumeToken=function(A){this._tokens.unshift(A)},e}(),An=function(e){return e.type===15},hr=function(e){return e.type===17},PA=function(e){return e.type===20},z1=function(e){return e.type===0},wo=function(e,A){return PA(e)&&e.value===A},yu=function(e){return e.type!==31},wr=function(e){return e.type!==31&&e.type!==4},at=function(e){var A=[],t=[];return e.forEach(function(r){if(r.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");A.push(t),t=[];return}r.type!==31&&t.push(r)}),t.length&&A.push(t),A},Z1=function(e,A){return A===11&&e.type===12||A===28&&e.type===29?!0:A===2&&e.type===3},Et=function(e){return e.type===17||e.type===15},ue=function(e){return e.type===16||Et(e)},bu=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Ue={type:17,number:0,flags:zr},po={type:16,number:50,flags:zr},Ht={type:16,number:100,flags:zr},en=function(e,A,t){var r=e[0],n=e[1];return[ZA(r,A),ZA(typeof n<"u"?n:r,t)]},ZA=function(e,A){if(e.type===16)return e.number/100*A;if(An(e))switch(e.unit){case"rem":case"em":return 16*e.number;case"px":default:return e.number}return e.number},Eu="deg",Hu="grad",Iu="rad",Su="turn",Ei={name:"angle",parse:function(e,A){if(A.type===15)switch(A.unit){case Eu:return Math.PI*A.number/180;case Hu:return Math.PI/200*A.number;case Iu:return A.number;case Su:return Math.PI*2*A.number}throw new Error("Unsupported angle type")}},xu=function(e){return e.type===15&&(e.unit===Eu||e.unit===Hu||e.unit===Iu||e.unit===Su)},Lu=function(e){var A=e.filter(PA).map(function(t){return t.value}).join(" ");switch(A){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ue,Ue];case"to top":case"bottom":return Xe(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ue,Ht];case"to right":case"left":return Xe(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ht,Ht];case"to bottom":case"top":return Xe(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ht,Ue];case"to left":case"right":return Xe(270)}return 0},Xe=function(e){return Math.PI*e/180},It={name:"color",parse:function(e,A){if(A.type===18){var t=j1[A.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+A.name+'"');return t(e,A.values)}if(A.type===5){if(A.value.length===3){var r=A.value.substring(0,1),n=A.value.substring(1,2),i=A.value.substring(2,3);return xt(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),1)}if(A.value.length===4){var r=A.value.substring(0,1),n=A.value.substring(1,2),i=A.value.substring(2,3),s=A.value.substring(3,4);return xt(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),parseInt(s+s,16)/255)}if(A.value.length===6){var r=A.value.substring(0,2),n=A.value.substring(2,4),i=A.value.substring(4,6);return xt(parseInt(r,16),parseInt(n,16),parseInt(i,16),1)}if(A.value.length===8){var r=A.value.substring(0,2),n=A.value.substring(2,4),i=A.value.substring(4,6),s=A.value.substring(6,8);return xt(parseInt(r,16),parseInt(n,16),parseInt(i,16),parseInt(s,16)/255)}}if(A.type===20){var o=mt[A.value.toUpperCase()];if(typeof o<"u")return o}return mt.TRANSPARENT}},St=function(e){return(255&e)===0},pe=function(e){var A=255&e,t=255&e>>8,r=255&e>>16,n=255&e>>24;return A<255?"rgba("+n+","+r+","+t+","+A/255+")":"rgb("+n+","+r+","+t+")"},xt=function(e,A,t,r){return(e<<24|A<<16|t<<8|Math.round(r*255)<<0)>>>0},ku=function(e,A){if(e.type===17)return e.number;if(e.type===16){var t=A===3?1:255;return A===3?e.number/100*t:Math.round(e.number/100*t)}return 0},Ku=function(e,A){var t=A.filter(wr);if(t.length===3){var r=t.map(ku),n=r[0],i=r[1],s=r[2];return xt(n,i,s,1)}if(t.length===4){var o=t.map(ku),n=o[0],i=o[1],s=o[2],a=o[3];return xt(n,i,s,a)}return 0};function mo(e,A,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(A-e)*t*6+e:t<1/2?A:t<2/3?(A-e)*6*(2/3-t)+e:e}var Mu=function(e,A){var t=A.filter(wr),r=t[0],n=t[1],i=t[2],s=t[3],o=(r.type===17?Xe(r.number):Ei.parse(e,r))/(Math.PI*2),a=ue(n)?n.number/100:0,l=ue(i)?i.number/100:0,c=typeof s<"u"&&ue(s)?ZA(s,1):1;if(a===0)return xt(l*255,l*255,l*255,1);var u=l<=.5?l*(a+1):l+a-l*a,f=l*2-u,g=mo(f,u,o+1/3),d=mo(f,u,o),B=mo(f,u,o-1/3);return xt(g*255,d*255,B*255,c)},j1={hsl:Mu,hsla:Mu,rgb:Ku,rgba:Ku},tn=function(e,A){return It.parse(e,_u.create(A).parseComponentValue())},mt={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},$1={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,A){return A.map(function(t){if(PA(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},q1={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Hi=function(e,A){var t=It.parse(e,A[0]),r=A[1];return r&&ue(r)?{color:t,stop:r}:{color:t,stop:null}},Du=function(e,A){var t=e[0],r=e[e.length-1];t.stop===null&&(t.stop=Ue),r.stop===null&&(r.stop=Ht);for(var n=[],i=0,s=0;s<e.length;s++){var o=e[s].stop;if(o!==null){var a=ZA(o,A);a>i?n.push(a):n.push(i),i=a}else n.push(null)}for(var l=null,s=0;s<n.length;s++){var c=n[s];if(c===null)l===null&&(l=s);else if(l!==null){for(var u=s-l,f=n[l-1],g=(c-f)/(u+1),d=1;d<=u;d++)n[l+d-1]=g*d;l=null}}return e.map(function(B,w){var h=B.color;return{color:h,stop:Math.max(Math.min(1,n[w]/A),0)}})},Av=function(e,A,t){var r=A/2,n=t/2,i=ZA(e[0],A)-r,s=n-ZA(e[1],t);return(Math.atan2(s,i)+Math.PI*2)%(Math.PI*2)},ev=function(e,A,t){var r=typeof e=="number"?e:Av(e,A,t),n=Math.abs(A*Math.sin(r))+Math.abs(t*Math.cos(r)),i=A/2,s=t/2,o=n/2,a=Math.sin(r-Math.PI/2)*o,l=Math.cos(r-Math.PI/2)*o;return[n,i-l,i+l,s-a,s+a]},et=function(e,A){return Math.sqrt(e*e+A*A)},Tu=function(e,A,t,r,n){var i=[[0,0],[0,A],[e,0],[e,A]];return i.reduce(function(s,o){var a=o[0],l=o[1],c=et(t-a,r-l);return(n?c<s.optimumDistance:c>s.optimumDistance)?{optimumCorner:o,optimumDistance:c}:s},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},tv=function(e,A,t,r,n){var i=0,s=0;switch(e.size){case 0:e.shape===0?i=s=Math.min(Math.abs(A),Math.abs(A-r),Math.abs(t),Math.abs(t-n)):e.shape===1&&(i=Math.min(Math.abs(A),Math.abs(A-r)),s=Math.min(Math.abs(t),Math.abs(t-n)));break;case 2:if(e.shape===0)i=s=Math.min(et(A,t),et(A,t-n),et(A-r,t),et(A-r,t-n));else if(e.shape===1){var o=Math.min(Math.abs(t),Math.abs(t-n))/Math.min(Math.abs(A),Math.abs(A-r)),a=Tu(r,n,A,t,!0),l=a[0],c=a[1];i=et(l-A,(c-t)/o),s=o*i}break;case 1:e.shape===0?i=s=Math.max(Math.abs(A),Math.abs(A-r),Math.abs(t),Math.abs(t-n)):e.shape===1&&(i=Math.max(Math.abs(A),Math.abs(A-r)),s=Math.max(Math.abs(t),Math.abs(t-n)));break;case 3:if(e.shape===0)i=s=Math.max(et(A,t),et(A,t-n),et(A-r,t),et(A-r,t-n));else if(e.shape===1){var o=Math.max(Math.abs(t),Math.abs(t-n))/Math.max(Math.abs(A),Math.abs(A-r)),u=Tu(r,n,A,t,!1),l=u[0],c=u[1];i=et(l-A,(c-t)/o),s=o*i}break}return Array.isArray(e.size)&&(i=ZA(e.size[0],r),s=e.size.length===2?ZA(e.size[1],n):i),[i,s]},rv=function(e,A){var t=Xe(180),r=[];return at(A).forEach(function(n,i){if(i===0){var s=n[0];if(s.type===20&&s.value==="to"){t=Lu(n);return}else if(xu(s)){t=Ei.parse(e,s);return}}var o=Hi(e,n);r.push(o)}),{angle:t,stops:r,type:1}},Ii=function(e,A){var t=Xe(180),r=[];return at(A).forEach(function(n,i){if(i===0){var s=n[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){t=Lu(n);return}else if(xu(s)){t=(Ei.parse(e,s)+Xe(270))%Xe(360);return}}var o=Hi(e,n);r.push(o)}),{angle:t,stops:r,type:1}},nv=function(e,A){var t=Xe(180),r=[],n=1,i=0,s=3,o=[];return at(A).forEach(function(a,l){var c=a[0];if(l===0){if(PA(c)&&c.value==="linear"){n=1;return}else if(PA(c)&&c.value==="radial"){n=2;return}}if(c.type===18){if(c.name==="from"){var u=It.parse(e,c.values[0]);r.push({stop:Ue,color:u})}else if(c.name==="to"){var u=It.parse(e,c.values[0]);r.push({stop:Ht,color:u})}else if(c.name==="color-stop"){var f=c.values.filter(wr);if(f.length===2){var u=It.parse(e,f[1]),g=f[0];hr(g)&&r.push({stop:{type:16,number:g.number*100,flags:g.flags},color:u})}}}}),n===1?{angle:(t+Xe(180))%Xe(360),stops:r,type:n}:{size:s,shape:i,stops:r,position:o,type:n}},Ou="closest-side",Nu="farthest-side",Ru="closest-corner",Vu="farthest-corner",Gu="circle",Pu="ellipse",Xu="cover",Ju="contain",iv=function(e,A){var t=0,r=3,n=[],i=[];return at(A).forEach(function(s,o){var a=!0;if(o===0){var l=!1;a=s.reduce(function(u,f){if(l)if(PA(f))switch(f.value){case"center":return i.push(po),u;case"top":case"left":return i.push(Ue),u;case"right":case"bottom":return i.push(Ht),u}else(ue(f)||Et(f))&&i.push(f);else if(PA(f))switch(f.value){case Gu:return t=0,!1;case Pu:return t=1,!1;case"at":return l=!0,!1;case Ou:return r=0,!1;case Xu:case Nu:return r=1,!1;case Ju:case Ru:return r=2,!1;case Vu:return r=3,!1}else if(Et(f)||ue(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return u},a)}if(a){var c=Hi(e,s);n.push(c)}}),{size:r,shape:t,stops:n,position:i,type:2}},Si=function(e,A){var t=0,r=3,n=[],i=[];return at(A).forEach(function(s,o){var a=!0;if(o===0?a=s.reduce(function(c,u){if(PA(u))switch(u.value){case"center":return i.push(po),!1;case"top":case"left":return i.push(Ue),!1;case"right":case"bottom":return i.push(Ht),!1}else if(ue(u)||Et(u))return i.push(u),!1;return c},a):o===1&&(a=s.reduce(function(c,u){if(PA(u))switch(u.value){case Gu:return t=0,!1;case Pu:return t=1,!1;case Ju:case Ou:return r=0,!1;case Nu:return r=1,!1;case Ru:return r=2,!1;case Xu:case Vu:return r=3,!1}else if(Et(u)||ue(u))return Array.isArray(r)||(r=[]),r.push(u),!1;return c},a)),a){var l=Hi(e,s);n.push(l)}}),{size:r,shape:t,stops:n,position:i,type:2}},sv=function(e){return e.type===1},ov=function(e){return e.type===2},Qo={name:"image",parse:function(e,A){if(A.type===22){var t={url:A.value,type:0};return e.cache.addImage(A.value),t}if(A.type===18){var r=Yu[A.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+A.name+'"');return r(e,A.values)}throw new Error("Unsupported image type "+A.type)}};function av(e){return!(e.type===20&&e.value==="none")&&(e.type!==18||!!Yu[e.name])}var Yu={"linear-gradient":rv,"-moz-linear-gradient":Ii,"-ms-linear-gradient":Ii,"-o-linear-gradient":Ii,"-webkit-linear-gradient":Ii,"radial-gradient":iv,"-moz-radial-gradient":Si,"-ms-radial-gradient":Si,"-o-radial-gradient":Si,"-webkit-radial-gradient":Si,"-webkit-gradient":nv},lv={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,A){if(A.length===0)return[];var t=A[0];return t.type===20&&t.value==="none"?[]:A.filter(function(r){return wr(r)&&av(r)}).map(function(r){return Qo.parse(e,r)})}},cv={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,A){return A.map(function(t){if(PA(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},uv={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,A){return at(A).map(function(t){return t.filter(ue)}).map(bu)}},fv={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,A){return at(A).map(function(t){return t.filter(PA).map(function(r){return r.value}).join(" ")}).map(gv)}},gv=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},pr;(function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"})(pr||(pr={}));var Bv={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,A){return at(A).map(function(t){return t.filter(dv)})}},dv=function(e){return PA(e)||ue(e)},xi=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},hv=xi("top"),wv=xi("right"),pv=xi("bottom"),mv=xi("left"),Li=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(A,t){return bu(t.filter(ue))}}},Qv=Li("top-left"),Cv=Li("top-right"),vv=Li("bottom-right"),Uv=Li("bottom-left"),ki=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(A,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Fv=ki("top"),_v=ki("right"),yv=ki("bottom"),bv=ki("left"),Ki=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(A,t){return An(t)?t.number:0}}},Ev=Ki("top"),Hv=Ki("right"),Iv=Ki("bottom"),Sv=Ki("left"),xv={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Lv={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,A){switch(A){case"rtl":return 1;case"ltr":default:return 0}}},kv={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,A){return A.filter(PA).reduce(function(t,r){return t|Kv(r.value)},0)}},Kv=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Mv={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Dv={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,A){return A.type===20&&A.value==="normal"?0:A.type===17||A.type===15?A.number:0}},Mi;(function(e){e.NORMAL="normal",e.STRICT="strict"})(Mi||(Mi={}));var Tv={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"strict":return Mi.STRICT;case"normal":default:return Mi.NORMAL}}},Ov={name:"line-height",initialValue:"normal",prefix:!1,type:4},Wu=function(e,A){return PA(e)&&e.value==="normal"?1.2*A:e.type===17?A*e.number:ue(e)?ZA(e,A):A},Nv={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,A){return A.type===20&&A.value==="none"?null:Qo.parse(e,A)}},Rv={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,A){switch(A){case"inside":return 0;case"outside":default:return 1}}},Co={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},Di=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Vv=Di("top"),Gv=Di("right"),Pv=Di("bottom"),Xv=Di("left"),Jv={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,A){return A.filter(PA).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Yv={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"break-word":return"break-word";case"normal":default:return"normal"}}},Ti=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Wv=Ti("top"),zv=Ti("right"),Zv=Ti("bottom"),jv=Ti("left"),$v={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,A){switch(A){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},qv={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,A){switch(A){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},AU={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.length===1&&wo(A[0],"none")?[]:at(A).map(function(t){for(var r={color:mt.TRANSPARENT,offsetX:Ue,offsetY:Ue,blur:Ue},n=0,i=0;i<t.length;i++){var s=t[i];Et(s)?(n===0?r.offsetX=s:n===1?r.offsetY=s:r.blur=s,n++):r.color=It.parse(e,s)}return r})}},eU={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},tU={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,A){if(A.type===20&&A.value==="none")return null;if(A.type===18){var t=iU[A.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+A.name+'"');return t(A.values)}return null}},rU=function(e){var A=e.filter(function(t){return t.type===17}).map(function(t){return t.number});return A.length===6?A:null},nU=function(e){var A=e.filter(function(a){return a.type===17}).map(function(a){return a.number}),t=A[0],r=A[1];A[2],A[3];var n=A[4],i=A[5];A[6],A[7],A[8],A[9],A[10],A[11];var s=A[12],o=A[13];return A[14],A[15],A.length===16?[t,r,n,i,s,o]:null},iU={matrix:rU,matrix3d:nU},zu={type:16,number:50,flags:zr},sU=[zu,zu],oU={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,A){var t=A.filter(ue);return t.length!==2?sU:[t[0],t[1]]}},aU={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},rn;(function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"})(rn||(rn={}));for(var lU={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"break-all":return rn.BREAK_ALL;case"keep-all":return rn.KEEP_ALL;case"normal":default:return rn.NORMAL}}},cU={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,A){if(A.type===20)return{auto:!0,order:0};if(hr(A))return{auto:!1,order:A.number};throw new Error("Invalid z-index number parsed")}},Zu={name:"time",parse:function(e,A){if(A.type===15)switch(A.unit.toLowerCase()){case"s":return 1e3*A.number;case"ms":return A.number}throw new Error("Unsupported time type")}},uU={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,A){return hr(A)?A.number:1}},fU={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gU={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,A){return A.filter(PA).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},BU={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,A){var t=[],r=[];return A.forEach(function(n){switch(n.type){case 20:case 0:t.push(n.value);break;case 17:t.push(n.number.toString());break;case 4:r.push(t.join(" ")),t.length=0;break}}),t.length&&r.push(t.join(" ")),r.map(function(n){return n.indexOf(" ")===-1?n:"'"+n+"'"})}},dU={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},hU={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,A){if(hr(A))return A.number;if(PA(A))switch(A.value){case"bold":return 700;case"normal":default:return 400}return 400}},wU={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.filter(PA).map(function(t){return t.value})}},pU={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},we=function(e,A){return(e&A)!==0},mU={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,A){if(A.length===0)return[];var t=A[0];return t.type===20&&t.value==="none"?[]:A}},QU={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(A.length===0)return null;var t=A[0];if(t.type===20&&t.value==="none")return null;for(var r=[],n=A.filter(yu),i=0;i<n.length;i++){var s=n[i],o=n[i+1];if(s.type===20){var a=o&&hr(o)?o.number:1;r.push({counter:s.value,increment:a})}}return r}},CU={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(A.length===0)return[];for(var t=[],r=A.filter(yu),n=0;n<r.length;n++){var i=r[n],s=r[n+1];if(PA(i)&&i.value!=="none"){var o=s&&hr(s)?s.number:0;t.push({counter:i.value,reset:o})}}return t}},vU={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,A){return A.filter(An).map(function(t){return Zu.parse(e,t)})}},UU={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(A.length===0)return null;var t=A[0];if(t.type===20&&t.value==="none")return null;var r=[],n=A.filter(z1);if(n.length%2!==0)return null;for(var i=0;i<n.length;i+=2){var s=n[i].value,o=n[i+1].value;r.push({open:s,close:o})}return r}},ju=function(e,A,t){if(!e)return"";var r=e[Math.min(A,e.length-1)];return r?t?r.open:r.close:""},FU={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.length===1&&wo(A[0],"none")?[]:at(A).map(function(t){for(var r={color:255,offsetX:Ue,offsetY:Ue,blur:Ue,spread:Ue,inset:!1},n=0,i=0;i<t.length;i++){var s=t[i];wo(s,"inset")?r.inset=!0:Et(s)?(n===0?r.offsetX=s:n===1?r.offsetY=s:n===2?r.blur=s:r.spread=s,n++):r.color=It.parse(e,s)}return r})}},_U={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,A){var t=[0,1,2],r=[];return A.filter(PA).forEach(function(n){switch(n.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),t.forEach(function(n){r.indexOf(n)===-1&&r.push(n)}),r}},yU={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},bU={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,A){return An(A)?A.number:0}},EU=function(){function e(A,t){var r,n;this.animationDuration=aA(A,vU,t.animationDuration),this.backgroundClip=aA(A,$1,t.backgroundClip),this.backgroundColor=aA(A,q1,t.backgroundColor),this.backgroundImage=aA(A,lv,t.backgroundImage),this.backgroundOrigin=aA(A,cv,t.backgroundOrigin),this.backgroundPosition=aA(A,uv,t.backgroundPosition),this.backgroundRepeat=aA(A,fv,t.backgroundRepeat),this.backgroundSize=aA(A,Bv,t.backgroundSize),this.borderTopColor=aA(A,hv,t.borderTopColor),this.borderRightColor=aA(A,wv,t.borderRightColor),this.borderBottomColor=aA(A,pv,t.borderBottomColor),this.borderLeftColor=aA(A,mv,t.borderLeftColor),this.borderTopLeftRadius=aA(A,Qv,t.borderTopLeftRadius),this.borderTopRightRadius=aA(A,Cv,t.borderTopRightRadius),this.borderBottomRightRadius=aA(A,vv,t.borderBottomRightRadius),this.borderBottomLeftRadius=aA(A,Uv,t.borderBottomLeftRadius),this.borderTopStyle=aA(A,Fv,t.borderTopStyle),this.borderRightStyle=aA(A,_v,t.borderRightStyle),this.borderBottomStyle=aA(A,yv,t.borderBottomStyle),this.borderLeftStyle=aA(A,bv,t.borderLeftStyle),this.borderTopWidth=aA(A,Ev,t.borderTopWidth),this.borderRightWidth=aA(A,Hv,t.borderRightWidth),this.borderBottomWidth=aA(A,Iv,t.borderBottomWidth),this.borderLeftWidth=aA(A,Sv,t.borderLeftWidth),this.boxShadow=aA(A,FU,t.boxShadow),this.color=aA(A,xv,t.color),this.direction=aA(A,Lv,t.direction),this.display=aA(A,kv,t.display),this.float=aA(A,Mv,t.cssFloat),this.fontFamily=aA(A,BU,t.fontFamily),this.fontSize=aA(A,dU,t.fontSize),this.fontStyle=aA(A,pU,t.fontStyle),this.fontVariant=aA(A,wU,t.fontVariant),this.fontWeight=aA(A,hU,t.fontWeight),this.letterSpacing=aA(A,Dv,t.letterSpacing),this.lineBreak=aA(A,Tv,t.lineBreak),this.lineHeight=aA(A,Ov,t.lineHeight),this.listStyleImage=aA(A,Nv,t.listStyleImage),this.listStylePosition=aA(A,Rv,t.listStylePosition),this.listStyleType=aA(A,Co,t.listStyleType),this.marginTop=aA(A,Vv,t.marginTop),this.marginRight=aA(A,Gv,t.marginRight),this.marginBottom=aA(A,Pv,t.marginBottom),this.marginLeft=aA(A,Xv,t.marginLeft),this.opacity=aA(A,uU,t.opacity);var i=aA(A,Jv,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=aA(A,Yv,t.overflowWrap),this.paddingTop=aA(A,Wv,t.paddingTop),this.paddingRight=aA(A,zv,t.paddingRight),this.paddingBottom=aA(A,Zv,t.paddingBottom),this.paddingLeft=aA(A,jv,t.paddingLeft),this.paintOrder=aA(A,_U,t.paintOrder),this.position=aA(A,qv,t.position),this.textAlign=aA(A,$v,t.textAlign),this.textDecorationColor=aA(A,fU,(r=t.textDecorationColor)!==null&&r!==void 0?r:t.color),this.textDecorationLine=aA(A,gU,(n=t.textDecorationLine)!==null&&n!==void 0?n:t.textDecoration),this.textShadow=aA(A,AU,t.textShadow),this.textTransform=aA(A,eU,t.textTransform),this.transform=aA(A,tU,t.transform),this.transformOrigin=aA(A,oU,t.transformOrigin),this.visibility=aA(A,aU,t.visibility),this.webkitTextStrokeColor=aA(A,yU,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=aA(A,bU,t.webkitTextStrokeWidth),this.wordBreak=aA(A,lU,t.wordBreak),this.zIndex=aA(A,cU,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},e.prototype.isTransparent=function(){return St(this.backgroundColor)},e.prototype.isTransformed=function(){return this.transform!==null},e.prototype.isPositioned=function(){return this.position!==0},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return this.float!==0},e.prototype.isInlineLevel=function(){return we(this.display,4)||we(this.display,33554432)||we(this.display,268435456)||we(this.display,536870912)||we(this.display,67108864)||we(this.display,134217728)},e}(),HU=function(){function e(A,t){this.content=aA(A,mU,t.content),this.quotes=aA(A,UU,t.quotes)}return e}(),$u=function(){function e(A,t){this.counterIncrement=aA(A,QU,t.counterIncrement),this.counterReset=aA(A,CU,t.counterReset)}return e}(),aA=function(e,A,t){var r=new Fu,n=t!==null&&typeof t<"u"?t.toString():A.initialValue;r.write(n);var i=new _u(r.read());switch(A.type){case 2:var s=i.parseComponentValue();return A.parse(e,PA(s)?s.value:A.initialValue);case 0:return A.parse(e,i.parseComponentValue());case 1:return A.parse(e,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(A.format){case"angle":return Ei.parse(e,i.parseComponentValue());case"color":return It.parse(e,i.parseComponentValue());case"image":return Qo.parse(e,i.parseComponentValue());case"length":var o=i.parseComponentValue();return Et(o)?o:Ue;case"length-percentage":var a=i.parseComponentValue();return ue(a)?a:Ue;case"time":return Zu.parse(e,i.parseComponentValue())}break}},IU="data-html2canvas-debug",SU=function(e){var A=e.getAttribute(IU);switch(A){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},vo=function(e,A){var t=SU(e);return t===1||A===t},lt=function(){function e(A,t){if(this.context=A,this.textNodes=[],this.elements=[],this.flags=0,vo(t,3))debugger;this.styles=new EU(A,window.getComputedStyle(t,null)),Mo(t)&&(this.styles.animationDuration.some(function(r){return r>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=ai(this.context,t),vo(t,4)&&(this.flags|=16)}return e}(),xU="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",qu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nn=typeof Uint8Array>"u"?[]:new Uint8Array(256),Oi=0;Oi<qu.length;Oi++)nn[qu.charCodeAt(Oi)]=Oi;for(var LU=function(e){var A=e.length*.75,t=e.length,r,n=0,i,s,o,a;e[e.length-1]==="="&&(A--,e[e.length-2]==="="&&A--);var l=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(A):new Array(A),c=Array.isArray(l)?l:new Uint8Array(l);for(r=0;r<t;r+=4)i=nn[e.charCodeAt(r)],s=nn[e.charCodeAt(r+1)],o=nn[e.charCodeAt(r+2)],a=nn[e.charCodeAt(r+3)],c[n++]=i<<2|s>>4,c[n++]=(s&15)<<4|o>>2,c[n++]=(o&3)<<6|a&63;return l},kU=function(e){for(var A=e.length,t=[],r=0;r<A;r+=2)t.push(e[r+1]<<8|e[r]);return t},KU=function(e){for(var A=e.length,t=[],r=0;r<A;r+=4)t.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return t},Yt=5,Uo=6+5,Fo=2,MU=Uo-Yt,Af=65536>>Yt,DU=1<<Yt,_o=DU-1,TU=1024>>Yt,OU=Af+TU,NU=OU,RU=32,VU=NU+RU,GU=65536>>Uo,PU=1<<MU,XU=PU-1,ef=function(e,A,t){return e.slice?e.slice(A,t):new Uint16Array(Array.prototype.slice.call(e,A,t))},JU=function(e,A,t){return e.slice?e.slice(A,t):new Uint32Array(Array.prototype.slice.call(e,A,t))},YU=function(e,A){var t=LU(e),r=Array.isArray(t)?KU(t):new Uint32Array(t),n=Array.isArray(t)?kU(t):new Uint16Array(t),i=24,s=ef(n,i/2,r[4]/2),o=r[5]===2?ef(n,(i+r[4])/2):JU(r,Math.ceil((i+r[4])/4));return new WU(r[0],r[1],r[2],r[3],s,o)},WU=function(){function e(A,t,r,n,i,s){this.initialValue=A,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=s}return e.prototype.get=function(A){var t;if(A>=0){if(A<55296||A>56319&&A<=65535)return t=this.index[A>>Yt],t=(t<<Fo)+(A&_o),this.data[t];if(A<=65535)return t=this.index[Af+(A-55296>>Yt)],t=(t<<Fo)+(A&_o),this.data[t];if(A<this.highStart)return t=VU-GU+(A>>Uo),t=this.index[t],t+=A>>Yt&XU,t=this.index[t],t=(t<<Fo)+(A&_o),this.data[t];if(A<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",zU=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ni=0;Ni<tf.length;Ni++)zU[tf.charCodeAt(Ni)]=Ni;var ZU=1,yo=2,bo=3,rf=4,nf=5,jU=7,sf=8,Eo=9,Ho=10,of=11,af=12,lf=13,cf=14,Io=15,$U=function(e){for(var A=[],t=0,r=e.length;t<r;){var n=e.charCodeAt(t++);if(n>=55296&&n<=56319&&t<r){var i=e.charCodeAt(t++);(i&64512)===56320?A.push(((n&1023)<<10)+(i&1023)+65536):(A.push(n),t--)}else A.push(n)}return A},qU=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var r=[],n=-1,i="";++n<t;){var s=e[n];s<=65535?r.push(s):(s-=65536,r.push((s>>10)+55296,s%1024+56320)),(n+1===t||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},AF=YU(xU),Je="×",So="÷",eF=function(e){return AF.get(e)},tF=function(e,A,t){var r=t-2,n=A[r],i=A[t-1],s=A[t];if(i===yo&&s===bo)return Je;if(i===yo||i===bo||i===rf||s===yo||s===bo||s===rf)return So;if(i===sf&&[sf,Eo,of,af].indexOf(s)!==-1||(i===of||i===Eo)&&(s===Eo||s===Ho)||(i===af||i===Ho)&&s===Ho||s===lf||s===nf||s===jU||i===ZU)return Je;if(i===lf&&s===cf){for(;n===nf;)n=A[--r];if(n===cf)return Je}if(i===Io&&s===Io){for(var o=0;n===Io;)o++,n=A[--r];if(o%2===0)return Je}return So},rF=function(e){var A=$U(e),t=A.length,r=0,n=0,i=A.map(eF);return{next:function(){if(r>=t)return{done:!0,value:null};for(var s=Je;r<t&&(s=tF(A,i,++r))===Je;);if(s!==Je||r===t){var o=qU.apply(null,A.slice(n,r));return n=r,{value:o,done:!1}}return{done:!0,value:null}}}},nF=function(e){for(var A=rF(e),t=[],r;!(r=A.next()).done;)r.value&&t.push(r.value.slice());return t},iF=function(e){var A=123;if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=A+"px",r.style.display="block",e.body.appendChild(r),t.selectNode(r);var n=t.getBoundingClientRect(),i=Math.round(n.height);if(e.body.removeChild(r),i===A)return!0}}return!1},sF=function(e){var A=e.createElement("boundtest");A.style.width="50px",A.style.display="block",A.style.fontSize="12px",A.style.letterSpacing="0px",A.style.wordSpacing="0px",e.body.appendChild(A);var t=e.createRange();A.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=A.firstChild,n=li(r.data).map(function(a){return ae(a)}),i=0,s={},o=n.every(function(a,l){t.setStart(r,i),t.setEnd(r,i+a.length);var c=t.getBoundingClientRect();i+=a.length;var u=c.x>s.x||c.y>s.y;return s=c,l===0?!0:u});return e.body.removeChild(A),o},oF=function(){return typeof new Image().crossOrigin<"u"},aF=function(){return typeof new XMLHttpRequest().responseType=="string"},lF=function(e){var A=new Image,t=e.createElement("canvas"),r=t.getContext("2d");if(!r)return!1;A.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(A,0,0),t.toDataURL()}catch{return!1}return!0},uf=function(e){return e[0]===0&&e[1]===255&&e[2]===0&&e[3]===255},cF=function(e){var A=e.createElement("canvas"),t=100;A.width=t,A.height=t;var r=A.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,t,t);var n=new Image,i=A.toDataURL();n.src=i;var s=xo(t,t,0,0,n);return r.fillStyle="red",r.fillRect(0,0,t,t),ff(s).then(function(o){r.drawImage(o,0,0);var a=r.getImageData(0,0,t,t).data;r.fillStyle="red",r.fillRect(0,0,t,t);var l=e.createElement("div");return l.style.backgroundImage="url("+i+")",l.style.height=t+"px",uf(a)?ff(xo(t,t,0,0,l)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),uf(r.getImageData(0,0,t,t).data)}).catch(function(){return!1})},xo=function(e,A,t,r,n){var i="http://www.w3.org/2000/svg",s=document.createElementNS(i,"svg"),o=document.createElementNS(i,"foreignObject");return s.setAttributeNS(null,"width",e.toString()),s.setAttributeNS(null,"height",A.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(o),o.appendChild(n),s},ff=function(e){return new Promise(function(A,t){var r=new Image;r.onload=function(){return A(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},Fe={get SUPPORT_RANGE_BOUNDS(){var e=iF(document);return Object.defineProperty(Fe,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Fe.SUPPORT_RANGE_BOUNDS&&sF(document);return Object.defineProperty(Fe,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=lF(document);return Object.defineProperty(Fe,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e=typeof Array.from=="function"&&typeof window.fetch=="function"?cF(document):Promise.resolve(!1);return Object.defineProperty(Fe,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=oF();return Object.defineProperty(Fe,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=aF();return Object.defineProperty(Fe,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Fe,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Fe,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},sn=function(){function e(A,t){this.text=A,this.bounds=t}return e}(),uF=function(e,A,t,r){var n=BF(A,t),i=[],s=0;return n.forEach(function(o){if(t.textDecorationLine.length||o.trim().length>0)if(Fe.SUPPORT_RANGE_BOUNDS){var a=gf(r,s,o.length).getClientRects();if(a.length>1){var l=Lo(o),c=0;l.forEach(function(f){i.push(new sn(f,wt.fromDOMRectList(e,gf(r,c+s,f.length).getClientRects()))),c+=f.length})}else i.push(new sn(o,wt.fromDOMRectList(e,a)))}else{var u=r.splitText(o.length);i.push(new sn(o,fF(e,r))),r=u}else Fe.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));s+=o.length}),i},fF=function(e,A){var t=A.ownerDocument;if(t){var r=t.createElement("html2canvaswrapper");r.appendChild(A.cloneNode(!0));var n=A.parentNode;if(n){n.replaceChild(r,A);var i=ai(e,r);return r.firstChild&&n.replaceChild(r.firstChild,r),i}}return wt.EMPTY},gf=function(e,A,t){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var n=r.createRange();return n.setStart(e,A),n.setEnd(e,A+t),n},Lo=function(e){if(Fe.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(A.segment(e)).map(function(t){return t.segment})}return nF(e)},gF=function(e,A){if(Fe.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(e)).map(function(r){return r.segment})}return hF(e,A)},BF=function(e,A){return A.letterSpacing!==0?Lo(e):gF(e,A)},dF=[32,160,4961,65792,65793,4153,4241],hF=function(e,A){for(var t=GC(e,{lineBreak:A.lineBreak,wordBreak:A.overflowWrap==="break-word"?"break-word":A.wordBreak}),r=[],n,i=function(){if(n.value){var s=n.value.slice(),o=li(s),a="";o.forEach(function(l){dF.indexOf(l)===-1?a+=ae(l):(a.length&&r.push(a),r.push(ae(l)),a="")}),a.length&&r.push(a)}};!(n=t.next()).done;)i();return r},wF=function(){function e(A,t,r){this.text=pF(t.data,r.textTransform),this.textBounds=uF(A,this.text,r,t)}return e}(),pF=function(e,A){switch(A){case 1:return e.toLowerCase();case 3:return e.replace(mF,QF);case 2:return e.toUpperCase();default:return e}},mF=/(^|\s|:|-|\(|\))([a-z])/g,QF=function(e,A,t){return e.length>0?A+t.toUpperCase():e},Bf=function(e){At(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.src=r.currentSrc||r.src,n.intrinsicWidth=r.naturalWidth,n.intrinsicHeight=r.naturalHeight,n.context.cache.addImage(n.src),n}return A}(lt),df=function(e){At(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.canvas=r,n.intrinsicWidth=r.width,n.intrinsicHeight=r.height,n}return A}(lt),hf=function(e){At(A,e);function A(t,r){var n=e.call(this,t,r)||this,i=new XMLSerializer,s=ai(t,r);return r.setAttribute("width",s.width+"px"),r.setAttribute("height",s.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(r)),n.intrinsicWidth=r.width.baseVal.value,n.intrinsicHeight=r.height.baseVal.value,n.context.cache.addImage(n.svg),n}return A}(lt),wf=function(e){At(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return A}(lt),ko=function(e){At(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.start=r.start,n.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,n}return A}(lt),CF=[{type:15,flags:0,unit:"px",number:3}],vF=[{type:16,flags:0,number:50}],UF=function(e){return e.width>e.height?new wt(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new wt(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},FF=function(e){var A=e.type===_F?new Array(e.value.length+1).join("•"):e.value;return A.length===0?e.placeholder||"":A},Ri="checkbox",Vi="radio",_F="password",pf=707406591,Ko=function(e){At(A,e);function A(t,r){var n=e.call(this,t,r)||this;switch(n.type=r.type.toLowerCase(),n.checked=r.checked,n.value=FF(r),(n.type===Ri||n.type===Vi)&&(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=UF(n.bounds)),n.type){case Ri:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=CF;break;case Vi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=vF;break}return n}return A}(lt),mf=function(e){At(A,e);function A(t,r){var n=e.call(this,t,r)||this,i=r.options[r.selectedIndex||0];return n.value=i&&i.text||"",n}return A}(lt),Qf=function(e){At(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.value=r.value,n}return A}(lt),Cf=function(e){At(A,e);function A(t,r){var n=e.call(this,t,r)||this;n.src=r.src,n.width=parseInt(r.width,10)||0,n.height=parseInt(r.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){n.tree=Uf(t,r.contentWindow.document.documentElement);var i=r.contentWindow.document.documentElement?tn(t,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):mt.TRANSPARENT,s=r.contentWindow.document.body?tn(t,getComputedStyle(r.contentWindow.document.body).backgroundColor):mt.TRANSPARENT;n.backgroundColor=St(i)?St(s)?n.styles.backgroundColor:s:i}}catch{}return n}return A}(lt),yF=["OL","UL","MENU"],Gi=function(e,A,t,r){for(var n=A.firstChild,i=void 0;n;n=i)if(i=n.nextSibling,Ff(n)&&n.data.trim().length>0)t.textNodes.push(new wF(e,n,t.styles));else if(mr(n))if(If(n)&&n.assignedNodes)n.assignedNodes().forEach(function(o){return Gi(e,o,t,r)});else{var s=vf(e,n);s.styles.isVisible()&&(bF(n,s,r)?s.flags|=4:EF(s.styles)&&(s.flags|=2),yF.indexOf(n.tagName)!==-1&&(s.flags|=8),t.elements.push(s),n.slot,n.shadowRoot?Gi(e,n.shadowRoot,s,r):!Xi(n)&&!_f(n)&&!Ji(n)&&Gi(e,n,s,r))}},vf=function(e,A){return To(A)?new Bf(e,A):yf(A)?new df(e,A):_f(A)?new hf(e,A):HF(A)?new wf(e,A):IF(A)?new ko(e,A):SF(A)?new Ko(e,A):Ji(A)?new mf(e,A):Xi(A)?new Qf(e,A):Ef(A)?new Cf(e,A):new lt(e,A)},Uf=function(e,A){var t=vf(e,A);return t.flags|=4,Gi(e,A,t,t),t},bF=function(e,A,t){return A.styles.isPositionedWithZIndex()||A.styles.opacity<1||A.styles.isTransformed()||Do(e)&&t.styles.isTransparent()},EF=function(e){return e.isPositioned()||e.isFloating()},Ff=function(e){return e.nodeType===Node.TEXT_NODE},mr=function(e){return e.nodeType===Node.ELEMENT_NODE},Mo=function(e){return mr(e)&&typeof e.style<"u"&&!Pi(e)},Pi=function(e){return typeof e.className=="object"},HF=function(e){return e.tagName==="LI"},IF=function(e){return e.tagName==="OL"},SF=function(e){return e.tagName==="INPUT"},xF=function(e){return e.tagName==="HTML"},_f=function(e){return e.tagName==="svg"},Do=function(e){return e.tagName==="BODY"},yf=function(e){return e.tagName==="CANVAS"},bf=function(e){return e.tagName==="VIDEO"},To=function(e){return e.tagName==="IMG"},Ef=function(e){return e.tagName==="IFRAME"},Hf=function(e){return e.tagName==="STYLE"},LF=function(e){return e.tagName==="SCRIPT"},Xi=function(e){return e.tagName==="TEXTAREA"},Ji=function(e){return e.tagName==="SELECT"},If=function(e){return e.tagName==="SLOT"},Sf=function(e){return e.tagName.indexOf("-")>0},kF=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(A){var t=this.counters[A];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(A){var t=this.counters[A];return t||[]},e.prototype.pop=function(A){var t=this;A.forEach(function(r){return t.counters[r].pop()})},e.prototype.parse=function(A){var t=this,r=A.counterIncrement,n=A.counterReset,i=!0;r!==null&&r.forEach(function(o){var a=t.counters[o.counter];a&&o.increment!==0&&(i=!1,a.length||a.push(1),a[Math.max(0,a.length-1)]+=o.increment)});var s=[];return i&&n.forEach(function(o){var a=t.counters[o.counter];s.push(o.counter),a||(a=t.counters[o.counter]=[]),a.push(o.reset)}),s},e}(),xf={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Lf={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},KF={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},MF={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Qr=function(e,A,t,r,n,i){return e<A||e>t?an(e,n,i.length>0):r.integers.reduce(function(s,o,a){for(;e>=o;)e-=o,s+=r.values[a];return s},"")+i},kf=function(e,A,t,r){var n="";do t||e--,n=r(e)+n,e/=A;while(e*A>=A);return n},le=function(e,A,t,r,n){var i=t-A+1;return(e<0?"-":"")+(kf(Math.abs(e),i,r,function(s){return ae(Math.floor(s%i)+A)})+n)},Wt=function(e,A,t){t===void 0&&(t=". ");var r=A.length;return kf(Math.abs(e),r,!1,function(n){return A[Math.floor(n%r)]})+t},Cr=1,Lt=2,kt=4,on=8,Qt=function(e,A,t,r,n,i){if(e<-9999||e>9999)return an(e,4,n.length>0);var s=Math.abs(e),o=n;if(s===0)return A[0]+o;for(var a=0;s>0&&a<=4;a++){var l=s%10;l===0&&we(i,Cr)&&o!==""?o=A[l]+o:l>1||l===1&&a===0||l===1&&a===1&&we(i,Lt)||l===1&&a===1&&we(i,kt)&&e>100||l===1&&a>1&&we(i,on)?o=A[l]+(a>0?t[a-1]:"")+o:l===1&&a>0&&(o=t[a-1]+o),s=Math.floor(s/10)}return(e<0?r:"")+o},Kf="十百千萬",Mf="拾佰仟萬",Df="マイナス",Oo="마이너스",an=function(e,A,t){var r=t?". ":"",n=t?"、":"",i=t?", ":"",s=t?" ":"";switch(A){case 0:return"•"+s;case 1:return"◦"+s;case 2:return"◾"+s;case 5:var o=le(e,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Wt(e,"〇一二三四五六七八九",n);case 6:return Qr(e,1,3999,xf,3,r).toLowerCase();case 7:return Qr(e,1,3999,xf,3,r);case 8:return le(e,945,969,!1,r);case 9:return le(e,97,122,!1,r);case 10:return le(e,65,90,!1,r);case 11:return le(e,1632,1641,!0,r);case 12:case 49:return Qr(e,1,9999,Lf,3,r);case 35:return Qr(e,1,9999,Lf,3,r).toLowerCase();case 13:return le(e,2534,2543,!0,r);case 14:case 30:return le(e,6112,6121,!0,r);case 15:return Wt(e,"子丑寅卯辰巳午未申酉戌亥",n);case 16:return Wt(e,"甲乙丙丁戊己庚辛壬癸",n);case 17:case 48:return Qt(e,"零一二三四五六七八九",Kf,"負",n,Lt|kt|on);case 47:return Qt(e,"零壹貳參肆伍陸柒捌玖",Mf,"負",n,Cr|Lt|kt|on);case 42:return Qt(e,"零一二三四五六七八九",Kf,"负",n,Lt|kt|on);case 41:return Qt(e,"零壹贰叁肆伍陆柒捌玖",Mf,"负",n,Cr|Lt|kt|on);case 26:return Qt(e,"〇一二三四五六七八九","十百千万",Df,n,0);case 25:return Qt(e,"零壱弐参四伍六七八九","拾百千万",Df,n,Cr|Lt|kt);case 31:return Qt(e,"영일이삼사오육칠팔구","십백천만",Oo,i,Cr|Lt|kt);case 33:return Qt(e,"零一二三四五六七八九","十百千萬",Oo,i,0);case 32:return Qt(e,"零壹貳參四五六七八九","拾百千",Oo,i,Cr|Lt|kt);case 18:return le(e,2406,2415,!0,r);case 20:return Qr(e,1,19999,MF,3,r);case 21:return le(e,2790,2799,!0,r);case 22:return le(e,2662,2671,!0,r);case 22:return Qr(e,1,10999,KF,3,r);case 23:return Wt(e,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return Wt(e,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return le(e,3302,3311,!0,r);case 28:return Wt(e,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",n);case 29:return Wt(e,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",n);case 34:return le(e,3792,3801,!0,r);case 37:return le(e,6160,6169,!0,r);case 38:return le(e,4160,4169,!0,r);case 39:return le(e,2918,2927,!0,r);case 40:return le(e,1776,1785,!0,r);case 43:return le(e,3046,3055,!0,r);case 44:return le(e,3174,3183,!0,r);case 45:return le(e,3664,3673,!0,r);case 46:return le(e,3872,3881,!0,r);case 3:default:return le(e,48,57,!0,r)}},Tf="data-html2canvas-ignore",Of=function(){function e(A,t,r){if(this.context=A,this.options=r,this.scrolledElements=[],this.referenceElement=t,this.counters=new kF,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(A,t){var r=this,n=DF(A,t);if(!n.contentWindow)return Promise.reject("Unable to find iframe window");var i=A.defaultView.pageXOffset,s=A.defaultView.pageYOffset,o=n.contentWindow,a=o.document,l=NF(n).then(function(){return De(r,void 0,void 0,function(){var c,u;return Ee(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(PF),o&&(o.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==t.top||o.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-t.left,o.scrollY-t.top,0,0))),c=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:a.fonts&&a.fonts.ready?[4,a.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,OF(a)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(a,u)}).then(function(){return n})]:[2,n]}})})});return a.open(),a.write(VF(document.doctype)+"<html></html>"),GF(this.referenceElement.ownerDocument,i,s),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),l},e.prototype.createElementClone=function(A){if(vo(A,2))debugger;if(yf(A))return this.createCanvasClone(A);if(bf(A))return this.createVideoClone(A);if(Hf(A))return this.createStyleClone(A);var t=A.cloneNode(!1);return To(t)&&(To(A)&&A.currentSrc&&A.currentSrc!==A.src&&(t.src=A.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),Sf(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(A){var t=document.createElement("html2canvascustomelement");return No(A.style,t),t},e.prototype.createStyleClone=function(A){try{var t=A.sheet;if(t&&t.cssRules){var r=[].slice.call(t.cssRules,0).reduce(function(i,s){return s&&typeof s.cssText=="string"?i+s.cssText:i},""),n=A.cloneNode(!1);return n.textContent=r,n}}catch(i){if(this.context.logger.error("Unable to access cssRules property",i),i.name!=="SecurityError")throw i}return A.cloneNode(!1)},e.prototype.createCanvasClone=function(A){var t;if(this.options.inlineImages&&A.ownerDocument){var r=A.ownerDocument.createElement("img");try{return r.src=A.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",A)}}var n=A.cloneNode(!1);try{n.width=A.width,n.height=A.height;var i=A.getContext("2d"),s=n.getContext("2d");if(s)if(!this.options.allowTaint&&i)s.putImageData(i.getImageData(0,0,A.width,A.height),0,0);else{var o=(t=A.getContext("webgl2"))!==null&&t!==void 0?t:A.getContext("webgl");if(o){var a=o.getContextAttributes();(a==null?void 0:a.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",A)}s.drawImage(A,0,0)}return n}catch{this.context.logger.info("Unable to clone canvas as it is tainted",A)}return n},e.prototype.createVideoClone=function(A){var t=A.ownerDocument.createElement("canvas");t.width=A.offsetWidth,t.height=A.offsetHeight;var r=t.getContext("2d");try{return r&&(r.drawImage(A,0,0,t.width,t.height),this.options.allowTaint||r.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",A)}var n=A.ownerDocument.createElement("canvas");return n.width=A.offsetWidth,n.height=A.offsetHeight,n},e.prototype.appendChildNode=function(A,t,r){(!mr(t)||!LF(t)&&!t.hasAttribute(Tf)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!mr(t)||!Hf(t))&&A.appendChild(this.cloneNode(t,r))},e.prototype.cloneChildNodes=function(A,t,r){for(var n=this,i=A.shadowRoot?A.shadowRoot.firstChild:A.firstChild;i;i=i.nextSibling)if(mr(i)&&If(i)&&typeof i.assignedNodes=="function"){var s=i.assignedNodes();s.length&&s.forEach(function(o){return n.appendChildNode(t,o,r)})}else this.appendChildNode(t,i,r)},e.prototype.cloneNode=function(A,t){if(Ff(A))return document.createTextNode(A.data);if(!A.ownerDocument)return A.cloneNode(!1);var r=A.ownerDocument.defaultView;if(r&&mr(A)&&(Mo(A)||Pi(A))){var n=this.createElementClone(A);n.style.transitionProperty="none";var i=r.getComputedStyle(A),s=r.getComputedStyle(A,":before"),o=r.getComputedStyle(A,":after");this.referenceElement===A&&Mo(n)&&(this.clonedReferenceElement=n),Do(n)&&YF(n);var a=this.counters.parse(new $u(this.context,i)),l=this.resolvePseudoContent(A,n,s,ln.BEFORE);Sf(A)&&(t=!0),bf(A)||this.cloneChildNodes(A,n,t),l&&n.insertBefore(l,n.firstChild);var c=this.resolvePseudoContent(A,n,o,ln.AFTER);return c&&n.appendChild(c),this.counters.pop(a),(i&&(this.options.copyStyles||Pi(A))&&!Ef(A)||t)&&No(i,n),(A.scrollTop!==0||A.scrollLeft!==0)&&this.scrolledElements.push([n,A.scrollLeft,A.scrollTop]),(Xi(A)||Ji(A))&&(Xi(n)||Ji(n))&&(n.value=A.value),n}return A.cloneNode(!1)},e.prototype.resolvePseudoContent=function(A,t,r,n){var i=this;if(r){var s=r.content,o=t.ownerDocument;if(!(!o||!s||s==="none"||s==="-moz-alt-content"||r.display==="none")){this.counters.parse(new $u(this.context,r));var a=new HU(this.context,r),l=o.createElement("html2canvaspseudoelement");No(r,l),a.content.forEach(function(u){if(u.type===0)l.appendChild(o.createTextNode(u.value));else if(u.type===22){var f=o.createElement("img");f.src=u.value,f.style.opacity="1",l.appendChild(f)}else if(u.type===18){if(u.name==="attr"){var g=u.values.filter(PA);g.length&&l.appendChild(o.createTextNode(A.getAttribute(g[0].value)||""))}else if(u.name==="counter"){var d=u.values.filter(wr),B=d[0],w=d[1];if(B&&PA(B)){var h=i.counters.getCounterValue(B.value),F=w&&PA(w)?Co.parse(i.context,w.value):3;l.appendChild(o.createTextNode(an(h,F,!1)))}}else if(u.name==="counters"){var b=u.values.filter(wr),B=b[0],C=b[1],w=b[2];if(B&&PA(B)){var p=i.counters.getCounterValues(B.value),U=w&&PA(w)?Co.parse(i.context,w.value):3,y=C&&C.type===0?C.value:"",v=p.map(function(x){return an(x,U,!1)}).join(y);l.appendChild(o.createTextNode(v))}}}else if(u.type===20)switch(u.value){case"open-quote":l.appendChild(o.createTextNode(ju(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":l.appendChild(o.createTextNode(ju(a.quotes,--i.quoteDepth,!1)));break;default:l.appendChild(o.createTextNode(u.value))}}),l.className=Ro+" "+Vo;var c=n===ln.BEFORE?" "+Ro:" "+Vo;return Pi(t)?t.className.baseValue+=c:t.className+=c,l}}},e.destroy=function(A){return A.parentNode?(A.parentNode.removeChild(A),!0):!1},e}(),ln;(function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"})(ln||(ln={}));var DF=function(e,A){var t=e.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=A.width.toString(),t.height=A.height.toString(),t.scrolling="no",t.setAttribute(Tf,"true"),e.body.appendChild(t),t},TF=function(e){return new Promise(function(A){if(e.complete){A();return}if(!e.src){A();return}e.onload=A,e.onerror=A})},OF=function(e){return Promise.all([].slice.call(e.images,0).map(TF))},NF=function(e){return new Promise(function(A,t){var r=e.contentWindow;if(!r)return t("No window assigned for iframe");var n=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var i=setInterval(function(){n.body.childNodes.length>0&&n.readyState==="complete"&&(clearInterval(i),A(e))},50)}})},RF=["all","d","content"],No=function(e,A){for(var t=e.length-1;t>=0;t--){var r=e.item(t);RF.indexOf(r)===-1&&A.style.setProperty(r,e.getPropertyValue(r))}return A},VF=function(e){var A="";return e&&(A+="<!DOCTYPE ",e.name&&(A+=e.name),e.internalSubset&&(A+=e.internalSubset),e.publicId&&(A+='"'+e.publicId+'"'),e.systemId&&(A+='"'+e.systemId+'"'),A+=">"),A},GF=function(e,A,t){e&&e.defaultView&&(A!==e.defaultView.pageXOffset||t!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(A,t)},PF=function(e){var A=e[0],t=e[1],r=e[2];A.scrollLeft=t,A.scrollTop=r},XF=":before",JF=":after",Ro="___html2canvas___pseudoelement_before",Vo="___html2canvas___pseudoelement_after",Nf=`{
    content: "" !important;
    display: none !important;
}`,YF=function(e){WF(e,"."+Ro+XF+Nf+`
         .`+Vo+JF+Nf)},WF=function(e,A){var t=e.ownerDocument;if(t){var r=t.createElement("style");r.textContent=A,e.appendChild(r)}},Rf=function(){function e(){}return e.getOrigin=function(A){var t=e._link;return t?(t.href=A,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},e.isSameOrigin=function(A){return e.getOrigin(A)===e._origin},e.setContext=function(A){e._link=A.document.createElement("a"),e._origin=e.getOrigin(A.location.href)},e._origin="about:blank",e}(),zF=function(){function e(A,t){this.context=A,this._options=t,this._cache={}}return e.prototype.addImage=function(A){var t=Promise.resolve();return this.has(A)||(Po(A)||qF(A))&&(this._cache[A]=this.loadImage(A)).catch(function(){}),t},e.prototype.match=function(A){return this._cache[A]},e.prototype.loadImage=function(A){return De(this,void 0,void 0,function(){var t,r,n,i,s=this;return Ee(this,function(o){switch(o.label){case 0:return t=Rf.isSameOrigin(A),r=!Go(A)&&this._options.useCORS===!0&&Fe.SUPPORT_CORS_IMAGES&&!t,n=!Go(A)&&!t&&!Po(A)&&typeof this._options.proxy=="string"&&Fe.SUPPORT_CORS_XHR&&!r,!t&&this._options.allowTaint===!1&&!Go(A)&&!Po(A)&&!n&&!r?[2]:(i=A,n?[4,this.proxy(i)]:[3,2]);case 1:i=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+A.substring(0,256)),[4,new Promise(function(a,l){var c=new Image;c.onload=function(){return a(c)},c.onerror=l,(A_(i)||r)&&(c.crossOrigin="anonymous"),c.src=i,c.complete===!0&&setTimeout(function(){return a(c)},500),s._options.imageTimeout>0&&setTimeout(function(){return l("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},e.prototype.has=function(A){return typeof this._cache[A]<"u"},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(A){var t=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var n=A.substring(0,256);return new Promise(function(i,s){var o=Fe.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(a.status===200)if(o==="text")i(a.response);else{var u=new FileReader;u.addEventListener("load",function(){return i(u.result)},!1),u.addEventListener("error",function(f){return s(f)},!1),u.readAsDataURL(a.response)}else s("Failed to proxy resource "+n+" with status code "+a.status)},a.onerror=s;var l=r.indexOf("?")>-1?"&":"?";if(a.open("GET",""+r+l+"url="+encodeURIComponent(A)+"&responseType="+o),o!=="text"&&a instanceof XMLHttpRequest&&(a.responseType=o),t._options.imageTimeout){var c=t._options.imageTimeout;a.timeout=c,a.ontimeout=function(){return s("Timed out ("+c+"ms) proxying "+n)}}a.send()})},e}(),ZF=/^data:image\/svg\+xml/i,jF=/^data:image\/.*;base64,/i,$F=/^data:image\/.*/i,qF=function(e){return Fe.SUPPORT_SVG_DRAWING||!e_(e)},Go=function(e){return $F.test(e)},A_=function(e){return jF.test(e)},Po=function(e){return e.substr(0,4)==="blob"},e_=function(e){return e.substr(-3).toLowerCase()==="svg"||ZF.test(e)},oA=function(){function e(A,t){this.type=0,this.x=A,this.y=t}return e.prototype.add=function(A,t){return new e(this.x+A,this.y+t)},e}(),vr=function(e,A,t){return new oA(e.x+(A.x-e.x)*t,e.y+(A.y-e.y)*t)},Yi=function(){function e(A,t,r,n){this.type=1,this.start=A,this.startControl=t,this.endControl=r,this.end=n}return e.prototype.subdivide=function(A,t){var r=vr(this.start,this.startControl,A),n=vr(this.startControl,this.endControl,A),i=vr(this.endControl,this.end,A),s=vr(r,n,A),o=vr(n,i,A),a=vr(s,o,A);return t?new e(this.start,r,s,a):new e(a,o,i,this.end)},e.prototype.add=function(A,t){return new e(this.start.add(A,t),this.startControl.add(A,t),this.endControl.add(A,t),this.end.add(A,t))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Ye=function(e){return e.type===1},t_=function(){function e(A){var t=A.styles,r=A.bounds,n=en(t.borderTopLeftRadius,r.width,r.height),i=n[0],s=n[1],o=en(t.borderTopRightRadius,r.width,r.height),a=o[0],l=o[1],c=en(t.borderBottomRightRadius,r.width,r.height),u=c[0],f=c[1],g=en(t.borderBottomLeftRadius,r.width,r.height),d=g[0],B=g[1],w=[];w.push((i+a)/r.width),w.push((d+u)/r.width),w.push((s+B)/r.height),w.push((l+f)/r.height);var h=Math.max.apply(Math,w);h>1&&(i/=h,s/=h,a/=h,l/=h,u/=h,f/=h,d/=h,B/=h);var F=r.width-a,b=r.height-f,C=r.width-u,p=r.height-B,U=t.borderTopWidth,y=t.borderRightWidth,v=t.borderBottomWidth,E=t.borderLeftWidth,S=ZA(t.paddingTop,A.bounds.width),x=ZA(t.paddingRight,A.bounds.width),G=ZA(t.paddingBottom,A.bounds.width),R=ZA(t.paddingLeft,A.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||s>0?qA(r.left+E/3,r.top+U/3,i-E/3,s-U/3,VA.TOP_LEFT):new oA(r.left+E/3,r.top+U/3),this.topRightBorderDoubleOuterBox=i>0||s>0?qA(r.left+F,r.top+U/3,a-y/3,l-U/3,VA.TOP_RIGHT):new oA(r.left+r.width-y/3,r.top+U/3),this.bottomRightBorderDoubleOuterBox=u>0||f>0?qA(r.left+C,r.top+b,u-y/3,f-v/3,VA.BOTTOM_RIGHT):new oA(r.left+r.width-y/3,r.top+r.height-v/3),this.bottomLeftBorderDoubleOuterBox=d>0||B>0?qA(r.left+E/3,r.top+p,d-E/3,B-v/3,VA.BOTTOM_LEFT):new oA(r.left+E/3,r.top+r.height-v/3),this.topLeftBorderDoubleInnerBox=i>0||s>0?qA(r.left+E*2/3,r.top+U*2/3,i-E*2/3,s-U*2/3,VA.TOP_LEFT):new oA(r.left+E*2/3,r.top+U*2/3),this.topRightBorderDoubleInnerBox=i>0||s>0?qA(r.left+F,r.top+U*2/3,a-y*2/3,l-U*2/3,VA.TOP_RIGHT):new oA(r.left+r.width-y*2/3,r.top+U*2/3),this.bottomRightBorderDoubleInnerBox=u>0||f>0?qA(r.left+C,r.top+b,u-y*2/3,f-v*2/3,VA.BOTTOM_RIGHT):new oA(r.left+r.width-y*2/3,r.top+r.height-v*2/3),this.bottomLeftBorderDoubleInnerBox=d>0||B>0?qA(r.left+E*2/3,r.top+p,d-E*2/3,B-v*2/3,VA.BOTTOM_LEFT):new oA(r.left+E*2/3,r.top+r.height-v*2/3),this.topLeftBorderStroke=i>0||s>0?qA(r.left+E/2,r.top+U/2,i-E/2,s-U/2,VA.TOP_LEFT):new oA(r.left+E/2,r.top+U/2),this.topRightBorderStroke=i>0||s>0?qA(r.left+F,r.top+U/2,a-y/2,l-U/2,VA.TOP_RIGHT):new oA(r.left+r.width-y/2,r.top+U/2),this.bottomRightBorderStroke=u>0||f>0?qA(r.left+C,r.top+b,u-y/2,f-v/2,VA.BOTTOM_RIGHT):new oA(r.left+r.width-y/2,r.top+r.height-v/2),this.bottomLeftBorderStroke=d>0||B>0?qA(r.left+E/2,r.top+p,d-E/2,B-v/2,VA.BOTTOM_LEFT):new oA(r.left+E/2,r.top+r.height-v/2),this.topLeftBorderBox=i>0||s>0?qA(r.left,r.top,i,s,VA.TOP_LEFT):new oA(r.left,r.top),this.topRightBorderBox=a>0||l>0?qA(r.left+F,r.top,a,l,VA.TOP_RIGHT):new oA(r.left+r.width,r.top),this.bottomRightBorderBox=u>0||f>0?qA(r.left+C,r.top+b,u,f,VA.BOTTOM_RIGHT):new oA(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=d>0||B>0?qA(r.left,r.top+p,d,B,VA.BOTTOM_LEFT):new oA(r.left,r.top+r.height),this.topLeftPaddingBox=i>0||s>0?qA(r.left+E,r.top+U,Math.max(0,i-E),Math.max(0,s-U),VA.TOP_LEFT):new oA(r.left+E,r.top+U),this.topRightPaddingBox=a>0||l>0?qA(r.left+Math.min(F,r.width-y),r.top+U,F>r.width+y?0:Math.max(0,a-y),Math.max(0,l-U),VA.TOP_RIGHT):new oA(r.left+r.width-y,r.top+U),this.bottomRightPaddingBox=u>0||f>0?qA(r.left+Math.min(C,r.width-E),r.top+Math.min(b,r.height-v),Math.max(0,u-y),Math.max(0,f-v),VA.BOTTOM_RIGHT):new oA(r.left+r.width-y,r.top+r.height-v),this.bottomLeftPaddingBox=d>0||B>0?qA(r.left+E,r.top+Math.min(p,r.height-v),Math.max(0,d-E),Math.max(0,B-v),VA.BOTTOM_LEFT):new oA(r.left+E,r.top+r.height-v),this.topLeftContentBox=i>0||s>0?qA(r.left+E+R,r.top+U+S,Math.max(0,i-(E+R)),Math.max(0,s-(U+S)),VA.TOP_LEFT):new oA(r.left+E+R,r.top+U+S),this.topRightContentBox=a>0||l>0?qA(r.left+Math.min(F,r.width+E+R),r.top+U+S,F>r.width+E+R?0:a-E+R,l-(U+S),VA.TOP_RIGHT):new oA(r.left+r.width-(y+x),r.top+U+S),this.bottomRightContentBox=u>0||f>0?qA(r.left+Math.min(C,r.width-(E+R)),r.top+Math.min(b,r.height+U+S),Math.max(0,u-(y+x)),f-(v+G),VA.BOTTOM_RIGHT):new oA(r.left+r.width-(y+x),r.top+r.height-(v+G)),this.bottomLeftContentBox=d>0||B>0?qA(r.left+E+R,r.top+p,Math.max(0,d-(E+R)),B-(v+G),VA.BOTTOM_LEFT):new oA(r.left+E+R,r.top+r.height-(v+G))}return e}(),VA;(function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(VA||(VA={}));var qA=function(e,A,t,r,n){var i=4*((Math.sqrt(2)-1)/3),s=t*i,o=r*i,a=e+t,l=A+r;switch(n){case VA.TOP_LEFT:return new Yi(new oA(e,l),new oA(e,l-o),new oA(a-s,A),new oA(a,A));case VA.TOP_RIGHT:return new Yi(new oA(e,A),new oA(e+s,A),new oA(a,l-o),new oA(a,l));case VA.BOTTOM_RIGHT:return new Yi(new oA(a,A),new oA(a,A+o),new oA(e+s,l),new oA(e,l));case VA.BOTTOM_LEFT:default:return new Yi(new oA(a,l),new oA(a-s,l),new oA(e,A+o),new oA(e,A))}},Wi=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},r_=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},zi=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},n_=function(){function e(A,t,r){this.offsetX=A,this.offsetY=t,this.matrix=r,this.type=0,this.target=6}return e}(),Zi=function(){function e(A,t){this.path=A,this.target=t,this.type=1}return e}(),i_=function(){function e(A){this.opacity=A,this.type=2,this.target=6}return e}(),s_=function(e){return e.type===0},Vf=function(e){return e.type===1},o_=function(e){return e.type===2},Gf=function(e,A){return e.length===A.length?e.some(function(t,r){return t===A[r]}):!1},a_=function(e,A,t,r,n){return e.map(function(i,s){switch(s){case 0:return i.add(A,t);case 1:return i.add(A+r,t);case 2:return i.add(A+r,t+n);case 3:return i.add(A,t+n)}return i})},Pf=function(){function e(A){this.element=A,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Xf=function(){function e(A,t){if(this.container=A,this.parent=t,this.effects=[],this.curves=new t_(this.container),this.container.styles.opacity<1&&this.effects.push(new i_(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new n_(r,n,i))}if(this.container.styles.overflowX!==0){var s=Wi(this.curves),o=zi(this.curves);Gf(s,o)?this.effects.push(new Zi(s,6)):(this.effects.push(new Zi(s,2)),this.effects.push(new Zi(o,4)))}}return e.prototype.getEffects=function(A){for(var t=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,n=this.effects.slice(0);r;){var i=r.effects.filter(function(a){return!Vf(a)});if(t||r.container.styles.position!==0||!r.parent){if(n.unshift.apply(n,i),t=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var s=Wi(r.curves),o=zi(r.curves);Gf(s,o)||n.unshift(new Zi(o,6))}}else n.unshift.apply(n,i);r=r.parent}return n.filter(function(a){return we(a.target,A)})},e}(),Xo=function(e,A,t,r){e.container.elements.forEach(function(n){var i=we(n.flags,4),s=we(n.flags,2),o=new Xf(n,e);we(n.styles.display,2048)&&r.push(o);var a=we(n.flags,8)?[]:r;if(i||s){var l=i||n.styles.isPositioned()?t:A,c=new Pf(o);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var u=n.styles.zIndex.order;if(u<0){var f=0;l.negativeZIndex.some(function(d,B){return u>d.element.container.styles.zIndex.order?(f=B,!1):f>0}),l.negativeZIndex.splice(f,0,c)}else if(u>0){var g=0;l.positiveZIndex.some(function(d,B){return u>=d.element.container.styles.zIndex.order?(g=B+1,!1):g>0}),l.positiveZIndex.splice(g,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else n.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);Xo(o,c,i?c:t,a)}else n.styles.isInlineLevel()?A.inlineLevel.push(o):A.nonInlineLevel.push(o),Xo(o,A,t,a);we(n.flags,8)&&Jf(n,a)})},Jf=function(e,A){for(var t=e instanceof ko?e.start:1,r=e instanceof ko?e.reversed:!1,n=0;n<A.length;n++){var i=A[n];i.container instanceof wf&&typeof i.container.value=="number"&&i.container.value!==0&&(t=i.container.value),i.listValue=an(t,i.container.styles.listStyleType,!0),t+=r?-1:1}},l_=function(e){var A=new Xf(e,null),t=new Pf(A),r=[];return Xo(A,t,t,r),Jf(A.container,r),t},Yf=function(e,A){switch(A){case 0:return We(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return We(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return We(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);case 3:default:return We(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},c_=function(e,A){switch(A){case 0:return We(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return We(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return We(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);case 3:default:return We(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},u_=function(e,A){switch(A){case 0:return We(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return We(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return We(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);case 3:default:return We(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},f_=function(e,A){switch(A){case 0:return ji(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return ji(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return ji(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);case 3:default:return ji(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},ji=function(e,A){var t=[];return Ye(e)?t.push(e.subdivide(.5,!1)):t.push(e),Ye(A)?t.push(A.subdivide(.5,!0)):t.push(A),t},We=function(e,A,t,r){var n=[];return Ye(e)?n.push(e.subdivide(.5,!1)):n.push(e),Ye(t)?n.push(t.subdivide(.5,!0)):n.push(t),Ye(r)?n.push(r.subdivide(.5,!0).reverse()):n.push(r),Ye(A)?n.push(A.subdivide(.5,!1).reverse()):n.push(A),n},Wf=function(e){var A=e.bounds,t=e.styles;return A.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},$i=function(e){var A=e.styles,t=e.bounds,r=ZA(A.paddingLeft,t.width),n=ZA(A.paddingRight,t.width),i=ZA(A.paddingTop,t.width),s=ZA(A.paddingBottom,t.width);return t.add(r+A.borderLeftWidth,i+A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth+r+n),-(A.borderTopWidth+A.borderBottomWidth+i+s))},g_=function(e,A){return e===0?A.bounds:e===2?$i(A):Wf(A)},B_=function(e,A){return e===0?A.bounds:e===2?$i(A):Wf(A)},Jo=function(e,A,t){var r=g_(Fr(e.styles.backgroundOrigin,A),e),n=B_(Fr(e.styles.backgroundClip,A),e),i=d_(Fr(e.styles.backgroundSize,A),t,r),s=i[0],o=i[1],a=en(Fr(e.styles.backgroundPosition,A),r.width-s,r.height-o),l=h_(Fr(e.styles.backgroundRepeat,A),a,i,r,n),c=Math.round(r.left+a[0]),u=Math.round(r.top+a[1]);return[l,c,u,s,o]},Ur=function(e){return PA(e)&&e.value===pr.AUTO},qi=function(e){return typeof e=="number"},d_=function(e,A,t){var r=A[0],n=A[1],i=A[2],s=e[0],o=e[1];if(!s)return[0,0];if(ue(s)&&o&&ue(o))return[ZA(s,t.width),ZA(o,t.height)];var a=qi(i);if(PA(s)&&(s.value===pr.CONTAIN||s.value===pr.COVER)){if(qi(i)){var l=t.width/t.height;return l<i!=(s.value===pr.COVER)?[t.width,t.width/i]:[t.height*i,t.height]}return[t.width,t.height]}var c=qi(r),u=qi(n),f=c||u;if(Ur(s)&&(!o||Ur(o))){if(c&&u)return[r,n];if(!a&&!f)return[t.width,t.height];if(f&&a){var g=c?r:n*i,d=u?n:r/i;return[g,d]}var B=c?r:t.width,w=u?n:t.height;return[B,w]}if(a){var h=0,F=0;return ue(s)?h=ZA(s,t.width):ue(o)&&(F=ZA(o,t.height)),Ur(s)?h=F*i:(!o||Ur(o))&&(F=h/i),[h,F]}var b=null,C=null;if(ue(s)?b=ZA(s,t.width):o&&ue(o)&&(C=ZA(o,t.height)),b!==null&&(!o||Ur(o))&&(C=c&&u?b/r*n:t.height),C!==null&&Ur(s)&&(b=c&&u?C/n*r:t.width),b!==null&&C!==null)return[b,C];throw new Error("Unable to calculate background-size for element")},Fr=function(e,A){var t=e[A];return typeof t>"u"?e[0]:t},h_=function(e,A,t,r,n){var i=A[0],s=A[1],o=t[0],a=t[1];switch(e){case 2:return[new oA(Math.round(r.left),Math.round(r.top+s)),new oA(Math.round(r.left+r.width),Math.round(r.top+s)),new oA(Math.round(r.left+r.width),Math.round(a+r.top+s)),new oA(Math.round(r.left),Math.round(a+r.top+s))];case 3:return[new oA(Math.round(r.left+i),Math.round(r.top)),new oA(Math.round(r.left+i+o),Math.round(r.top)),new oA(Math.round(r.left+i+o),Math.round(r.height+r.top)),new oA(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new oA(Math.round(r.left+i),Math.round(r.top+s)),new oA(Math.round(r.left+i+o),Math.round(r.top+s)),new oA(Math.round(r.left+i+o),Math.round(r.top+s+a)),new oA(Math.round(r.left+i),Math.round(r.top+s+a))];default:return[new oA(Math.round(n.left),Math.round(n.top)),new oA(Math.round(n.left+n.width),Math.round(n.top)),new oA(Math.round(n.left+n.width),Math.round(n.height+n.top)),new oA(Math.round(n.left),Math.round(n.height+n.top))]}},w_="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",zf="Hidden Text",p_=function(){function e(A){this._data={},this._document=A}return e.prototype.parseMetrics=function(A,t){var r=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),s=this._document.body;r.style.visibility="hidden",r.style.fontFamily=A,r.style.fontSize=t,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",s.appendChild(r),n.src=w_,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=A,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(zf)),r.appendChild(i),r.appendChild(n);var o=n.offsetTop-i.offsetTop+2;r.removeChild(i),r.appendChild(this._document.createTextNode(zf)),r.style.lineHeight="normal",n.style.verticalAlign="super";var a=n.offsetTop-r.offsetTop+2;return s.removeChild(r),{baseline:o,middle:a}},e.prototype.getMetrics=function(A,t){var r=A+" "+t;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(A,t)),this._data[r]},e}(),Zf=function(){function e(A,t){this.context=A,this.options=t}return e}(),m_=1e4,Q_=function(e){At(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n._activeEffects=[],n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),r.canvas||(n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px"),n.fontMetrics=new p_(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),n}return A.prototype.applyEffects=function(t){for(var r=this;this._activeEffects.length;)this.popEffect();t.forEach(function(n){return r.applyEffect(n)})},A.prototype.applyEffect=function(t){this.ctx.save(),o_(t)&&(this.ctx.globalAlpha=t.opacity),s_(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),Vf(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},A.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},A.prototype.renderStack=function(t){return De(this,void 0,void 0,function(){var r;return Ee(this,function(n){switch(n.label){case 0:return r=t.element.container.styles,r.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},A.prototype.renderNode=function(t){return De(this,void 0,void 0,function(){return Ee(this,function(r){switch(r.label){case 0:if(we(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(t)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},A.prototype.renderTextWithLetterSpacing=function(t,r,n){var i=this;if(r===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+n);else{var s=Lo(t.text);s.reduce(function(o,a){return i.ctx.fillText(a,o,t.bounds.top+n),o+i.ctx.measureText(a).width},t.bounds.left)}},A.prototype.createFontStyle=function(t){var r=t.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),n=__(t.fontFamily).join(", "),i=An(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,r,t.fontWeight,i,n].join(" "),n,i]},A.prototype.renderTextNode=function(t,r){return De(this,void 0,void 0,function(){var n,i,s,o,a,l,c,u,f=this;return Ee(this,function(g){return n=this.createFontStyle(r),i=n[0],s=n[1],o=n[2],this.ctx.font=i,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(s,o),l=a.baseline,c=a.middle,u=r.paintOrder,t.textBounds.forEach(function(d){u.forEach(function(B){switch(B){case 0:f.ctx.fillStyle=pe(r.color),f.renderTextWithLetterSpacing(d,r.letterSpacing,l);var w=r.textShadow;w.length&&d.text.trim().length&&(w.slice(0).reverse().forEach(function(h){f.ctx.shadowColor=pe(h.color),f.ctx.shadowOffsetX=h.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=h.offsetY.number*f.options.scale,f.ctx.shadowBlur=h.blur.number,f.renderTextWithLetterSpacing(d,r.letterSpacing,l)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=pe(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(h){switch(h){case 1:f.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top+l),d.bounds.width,1);break;case 2:f.ctx.fillRect(d.bounds.left,Math.round(d.bounds.top),d.bounds.width,1);break;case 3:f.ctx.fillRect(d.bounds.left,Math.ceil(d.bounds.top+c),d.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&d.text.trim().length&&(f.ctx.strokeStyle=pe(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(d.text,d.bounds.left,d.bounds.top+l)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},A.prototype.renderReplacedElement=function(t,r,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=$i(t),s=zi(r);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},A.prototype.renderNodeContent=function(t){return De(this,void 0,void 0,function(){var r,n,i,s,o,a,F,F,l,c,u,f,C,g,d,p,B,w,h,F,b,C,p;return Ee(this,function(U){switch(U.label){case 0:this.applyEffects(t.getEffects(4)),r=t.container,n=t.curves,i=r.styles,s=0,o=r.textNodes,U.label=1;case 1:return s<o.length?(a=o[s],[4,this.renderTextNode(a,i)]):[3,4];case 2:U.sent(),U.label=3;case 3:return s++,[3,1];case 4:if(!(r instanceof Bf))return[3,8];U.label=5;case 5:return U.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return F=U.sent(),this.renderReplacedElement(r,n,F),[3,8];case 7:return U.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof df&&this.renderReplacedElement(r,n,r.canvas),!(r instanceof hf))return[3,12];U.label=9;case 9:return U.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return F=U.sent(),this.renderReplacedElement(r,n,F),[3,12];case 11:return U.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof Cf&&r.tree?(l=new A(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,l.render(r.tree)]):[3,14];case 13:c=U.sent(),r.width&&r.height&&this.ctx.drawImage(c,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),U.label=14;case 14:if(r instanceof Ko&&(u=Math.min(r.bounds.width,r.bounds.height),r.type===Ri?r.checked&&(this.ctx.save(),this.path([new oA(r.bounds.left+u*.39363,r.bounds.top+u*.79),new oA(r.bounds.left+u*.16,r.bounds.top+u*.5549),new oA(r.bounds.left+u*.27347,r.bounds.top+u*.44071),new oA(r.bounds.left+u*.39694,r.bounds.top+u*.5649),new oA(r.bounds.left+u*.72983,r.bounds.top+u*.23),new oA(r.bounds.left+u*.84,r.bounds.top+u*.34085),new oA(r.bounds.left+u*.39363,r.bounds.top+u*.79)]),this.ctx.fillStyle=pe(pf),this.ctx.fill(),this.ctx.restore()):r.type===Vi&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+u/2,r.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=pe(pf),this.ctx.fill(),this.ctx.restore())),C_(r)&&r.value.length){switch(f=this.createFontStyle(i),C=f[0],g=f[1],d=this.fontMetrics.getMetrics(C,g).baseline,this.ctx.font=C,this.ctx.fillStyle=pe(i.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=U_(r.styles.textAlign),p=$i(r),B=0,r.styles.textAlign){case 1:B+=p.width/2;break;case 2:B+=p.width;break}w=p.add(B,0,0,-p.height/2+1),this.ctx.save(),this.path([new oA(p.left,p.top),new oA(p.left+p.width,p.top),new oA(p.left+p.width,p.top+p.height),new oA(p.left,p.top+p.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new sn(r.value,w),i.letterSpacing,d),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!we(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(h=r.styles.listStyleImage,h.type!==0)return[3,18];F=void 0,b=h.url,U.label=15;case 15:return U.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return F=U.sent(),this.ctx.drawImage(F,r.bounds.left-(F.width+10),r.bounds.top),[3,18];case 17:return U.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:t.listValue&&r.styles.listStyleType!==-1&&(C=this.createFontStyle(i)[0],this.ctx.font=C,this.ctx.fillStyle=pe(i.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",p=new wt(r.bounds.left,r.bounds.top+ZA(r.styles.paddingTop,r.bounds.width),r.bounds.width,Wu(i.lineHeight,i.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new sn(t.listValue,p),i.letterSpacing,Wu(i.lineHeight,i.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),U.label=20;case 20:return[2]}})})},A.prototype.renderStackContent=function(t){return De(this,void 0,void 0,function(){var r,n,h,i,s,h,o,a,h,l,c,h,u,f,h,g,d,h,B,w,h;return Ee(this,function(F){switch(F.label){case 0:if(we(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:F.sent(),r=0,n=t.negativeZIndex,F.label=2;case 2:return r<n.length?(h=n[r],[4,this.renderStack(h)]):[3,5];case 3:F.sent(),F.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:F.sent(),i=0,s=t.nonInlineLevel,F.label=7;case 7:return i<s.length?(h=s[i],[4,this.renderNode(h)]):[3,10];case 8:F.sent(),F.label=9;case 9:return i++,[3,7];case 10:o=0,a=t.nonPositionedFloats,F.label=11;case 11:return o<a.length?(h=a[o],[4,this.renderStack(h)]):[3,14];case 12:F.sent(),F.label=13;case 13:return o++,[3,11];case 14:l=0,c=t.nonPositionedInlineLevel,F.label=15;case 15:return l<c.length?(h=c[l],[4,this.renderStack(h)]):[3,18];case 16:F.sent(),F.label=17;case 17:return l++,[3,15];case 18:u=0,f=t.inlineLevel,F.label=19;case 19:return u<f.length?(h=f[u],[4,this.renderNode(h)]):[3,22];case 20:F.sent(),F.label=21;case 21:return u++,[3,19];case 22:g=0,d=t.zeroOrAutoZIndexOrTransformedOrOpacity,F.label=23;case 23:return g<d.length?(h=d[g],[4,this.renderStack(h)]):[3,26];case 24:F.sent(),F.label=25;case 25:return g++,[3,23];case 26:B=0,w=t.positiveZIndex,F.label=27;case 27:return B<w.length?(h=w[B],[4,this.renderStack(h)]):[3,30];case 28:F.sent(),F.label=29;case 29:return B++,[3,27];case 30:return[2]}})})},A.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},A.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},A.prototype.formatPath=function(t){var r=this;t.forEach(function(n,i){var s=Ye(n)?n.start:n;i===0?r.ctx.moveTo(s.x,s.y):r.ctx.lineTo(s.x,s.y),Ye(n)&&r.ctx.bezierCurveTo(n.startControl.x,n.startControl.y,n.endControl.x,n.endControl.y,n.end.x,n.end.y)})},A.prototype.renderRepeat=function(t,r,n,i){this.path(t),this.ctx.fillStyle=r,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},A.prototype.resizeImage=function(t,r,n){var i;if(t.width===r&&t.height===n)return t;var s=(i=this.canvas.ownerDocument)!==null&&i!==void 0?i:document,o=s.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,n);var a=o.getContext("2d");return a.drawImage(t,0,0,t.width,t.height,0,0,r,n),o},A.prototype.renderBackgroundImage=function(t){return De(this,void 0,void 0,function(){var r,n,i,s,o,a;return Ee(this,function(l){switch(l.label){case 0:r=t.styles.backgroundImage.length-1,n=function(c){var u,f,g,S,k,W,R,I,v,d,S,k,W,R,I,B,w,h,F,b,C,p,U,y,v,E,S,x,G,R,I,D,k,W,M,J,P,rA,uA,BA,q,QA;return Ee(this,function(lA){switch(lA.label){case 0:if(c.type!==0)return[3,5];u=void 0,f=c.url,lA.label=1;case 1:return lA.trys.push([1,3,,4]),[4,i.context.cache.match(f)];case 2:return u=lA.sent(),[3,4];case 3:return lA.sent(),i.context.logger.error("Error loading background-image "+f),[3,4];case 4:return u&&(g=Jo(t,r,[u.width,u.height,u.width/u.height]),S=g[0],k=g[1],W=g[2],R=g[3],I=g[4],v=i.ctx.createPattern(i.resizeImage(u,R,I),"repeat"),i.renderRepeat(S,v,k,W)),[3,6];case 5:sv(c)?(d=Jo(t,r,[null,null,null]),S=d[0],k=d[1],W=d[2],R=d[3],I=d[4],B=ev(c.angle,R,I),w=B[0],h=B[1],F=B[2],b=B[3],C=B[4],p=document.createElement("canvas"),p.width=R,p.height=I,U=p.getContext("2d"),y=U.createLinearGradient(h,b,F,C),Du(c.stops,w).forEach(function(mA){return y.addColorStop(mA.stop,pe(mA.color))}),U.fillStyle=y,U.fillRect(0,0,R,I),R>0&&I>0&&(v=i.ctx.createPattern(p,"repeat"),i.renderRepeat(S,v,k,W))):ov(c)&&(E=Jo(t,r,[null,null,null]),S=E[0],x=E[1],G=E[2],R=E[3],I=E[4],D=c.position.length===0?[po]:c.position,k=ZA(D[0],R),W=ZA(D[D.length-1],I),M=tv(c,k,W,R,I),J=M[0],P=M[1],J>0&&P>0&&(rA=i.ctx.createRadialGradient(x+k,G+W,0,x+k,G+W,J),Du(c.stops,J*2).forEach(function(mA){return rA.addColorStop(mA.stop,pe(mA.color))}),i.path(S),i.ctx.fillStyle=rA,J!==P?(uA=t.bounds.left+.5*t.bounds.width,BA=t.bounds.top+.5*t.bounds.height,q=P/J,QA=1/q,i.ctx.save(),i.ctx.translate(uA,BA),i.ctx.transform(1,0,0,q,0,0),i.ctx.translate(-uA,-BA),i.ctx.fillRect(x,QA*(G-BA)+BA,R,I*QA),i.ctx.restore()):i.ctx.fill())),lA.label=6;case 6:return r--,[2]}})},i=this,s=0,o=t.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return s<o.length?(a=o[s],[5,n(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},A.prototype.renderSolidBorder=function(t,r,n){return De(this,void 0,void 0,function(){return Ee(this,function(i){return this.path(Yf(n,r)),this.ctx.fillStyle=pe(t),this.ctx.fill(),[2]})})},A.prototype.renderDoubleBorder=function(t,r,n,i){return De(this,void 0,void 0,function(){var s,o;return Ee(this,function(a){switch(a.label){case 0:return r<3?[4,this.renderSolidBorder(t,n,i)]:[3,2];case 1:return a.sent(),[2];case 2:return s=c_(i,n),this.path(s),this.ctx.fillStyle=pe(t),this.ctx.fill(),o=u_(i,n),this.path(o),this.ctx.fill(),[2]}})})},A.prototype.renderNodeBackgroundAndBorders=function(t){return De(this,void 0,void 0,function(){var r,n,i,s,o,a,l,c,u=this;return Ee(this,function(f){switch(f.label){case 0:return this.applyEffects(t.getEffects(2)),r=t.container.styles,n=!St(r.backgroundColor)||r.backgroundImage.length,i=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],s=v_(Fr(r.backgroundClip,0),t.curves),n||r.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),St(r.backgroundColor)||(this.ctx.fillStyle=pe(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(g){u.ctx.save();var d=Wi(t.curves),B=g.inset?0:m_,w=a_(d,-B+(g.inset?1:-1)*g.spread.number,(g.inset?1:-1)*g.spread.number,g.spread.number*(g.inset?-2:2),g.spread.number*(g.inset?-2:2));g.inset?(u.path(d),u.ctx.clip(),u.mask(w)):(u.mask(d),u.ctx.clip(),u.path(w)),u.ctx.shadowOffsetX=g.offsetX.number+B,u.ctx.shadowOffsetY=g.offsetY.number,u.ctx.shadowColor=pe(g.color),u.ctx.shadowBlur=g.blur.number,u.ctx.fillStyle=g.inset?pe(g.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),f.label=2;case 2:o=0,a=0,l=i,f.label=3;case 3:return a<l.length?(c=l[a],c.style!==0&&!St(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,3)];case 6:return f.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,t.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,t.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return a++,[3,3];case 13:return[2]}})})},A.prototype.renderDashedDottedBorder=function(t,r,n,i,s){return De(this,void 0,void 0,function(){var o,a,l,c,u,f,g,d,B,w,h,F,b,C,p,U,p,U;return Ee(this,function(y){return this.ctx.save(),o=f_(i,n),a=Yf(i,n),s===2&&(this.path(a),this.ctx.clip()),Ye(a[0])?(l=a[0].start.x,c=a[0].start.y):(l=a[0].x,c=a[0].y),Ye(a[1])?(u=a[1].end.x,f=a[1].end.y):(u=a[1].x,f=a[1].y),n===0||n===2?g=Math.abs(l-u):g=Math.abs(c-f),this.ctx.beginPath(),s===3?this.formatPath(o):this.formatPath(a.slice(0,2)),d=r<3?r*3:r*2,B=r<3?r*2:r,s===3&&(d=r,B=r),w=!0,g<=d*2?w=!1:g<=d*2+B?(h=g/(2*d+B),d*=h,B*=h):(F=Math.floor((g+B)/(d+B)),b=(g-F*d)/(F-1),C=(g-(F+1)*d)/F,B=C<=0||Math.abs(B-b)<Math.abs(B-C)?b:C),w&&(s===3?this.ctx.setLineDash([0,d+B]):this.ctx.setLineDash([d,B])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=pe(t),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(Ye(a[0])&&(p=a[3],U=a[0],this.ctx.beginPath(),this.formatPath([new oA(p.end.x,p.end.y),new oA(U.start.x,U.start.y)]),this.ctx.stroke()),Ye(a[1])&&(p=a[1],U=a[2],this.ctx.beginPath(),this.formatPath([new oA(p.end.x,p.end.y),new oA(U.start.x,U.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},A.prototype.render=function(t){return De(this,void 0,void 0,function(){var r;return Ee(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=pe(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=l_(t),[4,this.renderStack(r)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},A}(Zf),C_=function(e){return e instanceof Qf||e instanceof mf?!0:e instanceof Ko&&e.type!==Vi&&e.type!==Ri},v_=function(e,A){switch(e){case 0:return Wi(A);case 2:return r_(A);case 1:default:return zi(A)}},U_=function(e){switch(e){case 1:return"center";case 2:return"right";case 0:default:return"left"}},F_=["-apple-system","system-ui"],__=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(A){return F_.indexOf(A)===-1}):e},y_=function(e){At(A,e);function A(t,r){var n=e.call(this,t,r)||this;return n.canvas=r.canvas?r.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=r,n.canvas.width=Math.floor(r.width*r.scale),n.canvas.height=Math.floor(r.height*r.scale),n.canvas.style.width=r.width+"px",n.canvas.style.height=r.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-r.x,-r.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),n}return A.prototype.render=function(t){return De(this,void 0,void 0,function(){var r,n;return Ee(this,function(i){switch(i.label){case 0:return r=xo(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,b_(r)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=pe(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},A}(Zf),b_=function(e){return new Promise(function(A,t){var r=new Image;r.onload=function(){A(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(e))})},E_=function(){function e(A){var t=A.id,r=A.enabled;this.id=t,this.enabled=r,this.start=Date.now()}return e.prototype.debug=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,oi([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,oi([this.id,this.getTime()+"ms"],A))},e.prototype.warn=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,oi([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},e.prototype.error=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,oi([this.id,this.getTime()+"ms"],A)):this.info.apply(this,A))},e.instances={},e}(),H_=function(){function e(A,t){var r;this.windowBounds=t,this.instanceName="#"+e.instanceCount++,this.logger=new E_({id:this.instanceName,enabled:A.logging}),this.cache=(r=A.cache)!==null&&r!==void 0?r:new zF(this,A)}return e.instanceCount=1,e}(),I_=function(e,A){return A===void 0&&(A={}),S_(e,A)};typeof window<"u"&&Rf.setContext(window);var S_=function(e,A){return De(void 0,void 0,void 0,function(){var t,r,n,i,s,o,a,l,c,u,f,g,d,B,w,h,F,b,C,p,y,U,y,v,E,S,x,G,R,I,D,k,W,M,J,P,rA,uA,BA,q;return Ee(this,function(QA){switch(QA.label){case 0:if(!e||typeof e!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=e.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(r=t.defaultView,!r)throw new Error("Document is not attached to a Window");return n={allowTaint:(v=A.allowTaint)!==null&&v!==void 0?v:!1,imageTimeout:(E=A.imageTimeout)!==null&&E!==void 0?E:15e3,proxy:A.proxy,useCORS:(S=A.useCORS)!==null&&S!==void 0?S:!1},i=Zs({logging:(x=A.logging)!==null&&x!==void 0?x:!0,cache:A.cache},n),s={windowWidth:(G=A.windowWidth)!==null&&G!==void 0?G:r.innerWidth,windowHeight:(R=A.windowHeight)!==null&&R!==void 0?R:r.innerHeight,scrollX:(I=A.scrollX)!==null&&I!==void 0?I:r.pageXOffset,scrollY:(D=A.scrollY)!==null&&D!==void 0?D:r.pageYOffset},o=new wt(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),a=new H_(i,o),l=(k=A.foreignObjectRendering)!==null&&k!==void 0?k:!1,c={allowTaint:(W=A.allowTaint)!==null&&W!==void 0?W:!1,onclone:A.onclone,ignoreElements:A.ignoreElements,inlineImages:l,copyStyles:l},a.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),u=new Of(a,e,c),f=u.clonedReferenceElement,f?[4,u.toIFrame(t,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return g=QA.sent(),d=Do(f)||xF(f)?aC(f.ownerDocument):ai(a,f),B=d.width,w=d.height,h=d.left,F=d.top,b=x_(a,f,A.backgroundColor),C={canvas:A.canvas,backgroundColor:b,scale:(J=(M=A.scale)!==null&&M!==void 0?M:r.devicePixelRatio)!==null&&J!==void 0?J:1,x:((P=A.x)!==null&&P!==void 0?P:0)+h,y:((rA=A.y)!==null&&rA!==void 0?rA:0)+F,width:(uA=A.width)!==null&&uA!==void 0?uA:Math.ceil(B),height:(BA=A.height)!==null&&BA!==void 0?BA:Math.ceil(w)},l?(a.logger.debug("Document cloned, using foreign object rendering"),y=new y_(a,C),[4,y.render(f)]):[3,3];case 2:return p=QA.sent(),[3,5];case 3:return a.logger.debug("Document cloned, element located at "+h+","+F+" with size "+B+"x"+w+" using computed rendering"),a.logger.debug("Starting DOM parsing"),U=Uf(a,f),b===U.styles.backgroundColor&&(U.styles.backgroundColor=mt.TRANSPARENT),a.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),y=new Q_(a,C),[4,y.render(U)];case 4:p=QA.sent(),QA.label=5;case 5:return(!((q=A.removeContainer)!==null&&q!==void 0)||q)&&(Of.destroy(g)||a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),a.logger.debug("Finished rendering"),[2,p]}})})},x_=function(e,A,t){var r=A.ownerDocument,n=r.documentElement?tn(e,getComputedStyle(r.documentElement).backgroundColor):mt.TRANSPARENT,i=r.body?tn(e,getComputedStyle(r.body).backgroundColor):mt.TRANSPARENT,s=typeof t=="string"?tn(e,t):t===null?mt.TRANSPARENT:4294967295;return A===r.documentElement?St(n)?St(i)?s:i:n:s};function L_(e){let A,t,r,n;return{c(){A=_("button"),t=_("span"),t.innerHTML='<i class="fas fa-download"></i>',Q(t,"class","icon is-small p-0"),Q(A,"class","tag is-link"),Q(A,"title",j==="en"?"Download as PNG":"Télécharger en PNG")},m(i,s){O(i,A,s),m(A,t),r||(n=gA(A,"click",e[0]),r=!0)},p:$,i:$,o:$,d(i){i&&T(A),r=!1,n()}}}function k_(e){for(;e&&e!==document.body;){const A=getComputedStyle(e);if(/(auto|scroll|hidden)/.test(A.overflow+A.overflowX+A.overflowY))return e;e=e.parentElement}return null}function K_(e,A,t){let{targetId:r}=A,{filename:n="export.png"}=A;async function i(){await fs(async()=>{const s=document.getElementById(r);if(!s)return;const o=k_(s),a=o?{overflow:o.style.overflow,maxHeight:o.style.maxHeight,height:o.style.height}:null;try{o&&(o.style.overflow="visible",o.style.maxHeight="none",o.style.height="auto");const l=await I_(s,{backgroundColor:null,scale:2,logging:!1,useCORS:!0,scrollX:0,scrollY:0}),c=document.createElement("a");c.download=n,c.href=l.toDataURL("image/png"),c.click()}catch(l){await gt(`Error generating PNG: ${l}`,j==="en"?"Error":"Erreur")}finally{o&&a&&(o.style.overflow=a.overflow,o.style.maxHeight=a.maxHeight,o.style.height=a.height)}})}return e.$$set=s=>{"targetId"in s&&t(1,r=s.targetId),"filename"in s&&t(2,n=s.filename)},[i,r,n]}class jf extends DA{constructor(A){super(),MA(this,A,K_,L_,SA,{targetId:1,filename:2})}}const BE="",M_=e=>({}),$f=e=>({}),D_=e=>({}),qf=e=>({}),T_=e=>({}),Ag=e=>({}),O_=e=>({}),eg=e=>({}),N_=e=>({}),tg=e=>({}),R_=e=>({}),rg=e=>({}),V_=e=>({}),ng=e=>({}),G_=e=>({}),ig=e=>({});function P_(e){let A,t,r,n,i;const s=e[13]["right-title"],o=re(s,e,e[12],qf),a=e[13]["right-scroll"],l=re(a,e,e[12],$f);return{c(){A=_("div"),t=_("div"),o&&o.c(),r=V(),n=_("div"),l&&l.c(),Q(t,"class","mb-3"),Q(n,"class","scroll-area svelte-2buzj1"),Q(A,"class","box panel-box svelte-2buzj1")},m(c,u){O(c,A,u),m(A,t),o&&o.m(t,null),m(A,r),m(A,n),l&&l.m(n,null),i=!0},p(c,u){o&&o.p&&(!i||u&4096)&&ie(o,s,c,c[12],i?ne(s,c[12],u,D_):se(c[12]),qf),l&&l.p&&(!i||u&4096)&&ie(l,a,c,c[12],i?ne(a,c[12],u,M_):se(c[12]),$f)},i(c){i||(N(o,c),N(l,c),i=!0)},o(c){X(o,c),X(l,c),i=!1},d(c){c&&T(A),o&&o.d(c),l&&l.d(c)}}}function X_(e){let A,t,r,n,i,s,o,a,l,c,u,f,g,d;const B=e[13]["right-title"],w=re(B,e,e[12],rg),h=e[13]["right-scroll"],F=re(h,e,e[12],tg),b=e[13]["bottom-right-title"],C=re(b,e,e[12],eg),p=e[13]["bottom-right-scroll"],U=re(p,e,e[12],Ag);return{c(){A=_("div"),t=_("div"),w&&w.c(),r=V(),n=_("div"),F&&F.c(),i=V(),s=_("div"),o=V(),a=_("div"),l=_("div"),C&&C.c(),c=V(),u=_("div"),U&&U.c(),Q(t,"class","mb-3"),Q(n,"class","scroll-area svelte-2buzj1"),Q(A,"class","box panel-box svelte-2buzj1"),FA(A,"height",e[3]+"px"),Q(s,"class","split-divider v svelte-2buzj1"),Q(s,"role","separator"),Q(s,"tabindex","-1"),Q(l,"class","mb-3"),Q(u,"class","scroll-area svelte-2buzj1"),Q(a,"class","box panel-box svelte-2buzj1"),FA(a,"height",e[2]+"px")},m(y,v){O(y,A,v),m(A,t),w&&w.m(t,null),m(A,r),m(A,n),F&&F.m(n,null),O(y,i,v),O(y,s,v),O(y,o,v),O(y,a,v),m(a,l),C&&C.m(l,null),m(a,c),m(a,u),U&&U.m(u,null),f=!0,g||(d=[gA(s,"mousedown",e[6]("v")),gA(s,"touchstart",e[6]("v"))],g=!0)},p(y,v){w&&w.p&&(!f||v&4096)&&ie(w,B,y,y[12],f?ne(B,y[12],v,R_):se(y[12]),rg),F&&F.p&&(!f||v&4096)&&ie(F,h,y,y[12],f?ne(h,y[12],v,N_):se(y[12]),tg),(!f||v&8)&&FA(A,"height",y[3]+"px"),C&&C.p&&(!f||v&4096)&&ie(C,b,y,y[12],f?ne(b,y[12],v,O_):se(y[12]),eg),U&&U.p&&(!f||v&4096)&&ie(U,p,y,y[12],f?ne(p,y[12],v,T_):se(y[12]),Ag),(!f||v&4)&&FA(a,"height",y[2]+"px")},i(y){f||(N(w,y),N(F,y),N(C,y),N(U,y),f=!0)},o(y){X(w,y),X(F,y),X(C,y),X(U,y),f=!1},d(y){y&&T(A),w&&w.d(y),F&&F.d(y),y&&T(i),y&&T(s),y&&T(o),y&&T(a),C&&C.d(y),U&&U.d(y),g=!1,te(d)}}}function J_(e){let A,t,r,n,i,s,o,a,l,c,u,f,g,d,B;const w=e[13]["left-title"],h=re(w,e,e[12],ig),F=e[13]["left-scroll"],b=re(F,e,e[12],ng),C=[X_,P_],p=[];function U(y,v){return y[1]?0:1}return u=U(e),f=p[u]=C[u](e),{c(){A=_("div"),t=_("div"),r=_("div"),n=_("div"),h&&h.c(),i=V(),s=_("div"),b&&b.c(),o=V(),a=_("div"),l=V(),c=_("div"),f.c(),Q(n,"class","mb-3"),Q(s,"class","scroll-area svelte-2buzj1"),Q(r,"class","box panel-box svelte-2buzj1"),Q(t,"class","split-panel svelte-2buzj1"),FA(t,"width",e[5]+"px"),Q(a,"class","split-divider h svelte-2buzj1"),Q(a,"role","separator"),Q(a,"tabindex","-1"),Q(c,"class","split-panel svelte-2buzj1"),FA(c,"width",e[4]+"px"),Q(A,"class","split-container svelte-2buzj1")},m(y,v){O(y,A,v),m(A,t),m(t,r),m(r,n),h&&h.m(n,null),m(r,i),m(r,s),b&&b.m(s,null),m(A,o),m(A,a),m(A,l),m(A,c),p[u].m(c,null),e[14](A),g=!0,d||(B=[gA(a,"mousedown",e[6]("h")),gA(a,"touchstart",e[6]("h")),Zt(e[7].call(null,c))],d=!0)},p(y,[v]){h&&h.p&&(!g||v&4096)&&ie(h,w,y,y[12],g?ne(w,y[12],v,G_):se(y[12]),ig),b&&b.p&&(!g||v&4096)&&ie(b,F,y,y[12],g?ne(F,y[12],v,V_):se(y[12]),ng),(!g||v&32)&&FA(t,"width",y[5]+"px");let E=u;u=U(y),u===E?p[u].p(y,v):(kA(),X(p[E],1,1,()=>{p[E]=null}),KA(),f=p[u],f?f.p(y,v):(f=p[u]=C[u](y),f.c()),N(f,1),f.m(c,null)),(!g||v&16)&&FA(c,"width",y[4]+"px")},i(y){g||(N(h,y),N(b,y),N(f),g=!0)},o(y){X(h,y),X(b,y),X(f),g=!1},d(y){y&&T(A),h&&h.d(y),b&&b.d(y),p[u].d(),e[14](null),d=!1,te(B)}}}const sg=250,og=100;function Y_(e,A,t){let r,n,i,s,o,{$$slots:a={},$$scope:l}=A;const c=ea(a);let u,f,g=.5,d=.5,B=null,w=0,h=0,F;function b(v){return E=>{B=v,E.preventDefault()}}function C(v){var x,G,R,I;if(!B)return;const E=v.clientX??((G=(x=v.touches)==null?void 0:x[0])==null?void 0:G.clientX),S=v.clientY??((I=(R=v.touches)==null?void 0:R[0])==null?void 0:I.clientY);if(B==="h"&&u){const D=u.getBoundingClientRect();t(8,g=Math.max(.2,Math.min(.8,(E-D.left)/D.width)))}else if(B==="v"&&F){const D=F.getBoundingClientRect();t(9,d=Math.max(.2,Math.min(.8,(S-D.top)/D.height)))}}function p(){B=null}Dt(()=>{u&&(t(10,w=u.offsetWidth),f=new ResizeObserver(v=>{t(10,w=v[0].contentRect.width)}),f.observe(u)),window.addEventListener("mousemove",C),window.addEventListener("mouseup",p),window.addEventListener("touchmove",C),window.addEventListener("touchend",p)}),qt(()=>{f==null||f.disconnect(),window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",p),window.removeEventListener("touchmove",C),window.removeEventListener("touchend",p)});function U(v){const E=new ResizeObserver(S=>{t(11,h=S[0].contentRect.height)});return E.observe(v),F=v,{destroy:()=>E.disconnect()}}function y(v){Ne[v?"unshift":"push"](()=>{u=v,t(0,u)})}return e.$$set=v=>{"$$scope"in v&&t(12,l=v.$$scope)},e.$$.update=()=>{e.$$.dirty&1280&&t(5,r=Math.max(sg,w*g-4)),e.$$.dirty&1280&&t(4,n=Math.max(sg,w*(1-g)-4)),e.$$.dirty&2560&&t(3,i=Math.max(og,h*d-4)),e.$$.dirty&2560&&t(2,s=Math.max(og,h*(1-d)-4))},t(1,o=c["bottom-right-title"]||c["bottom-right-scroll"]),[u,o,s,i,n,r,b,U,g,d,w,h,l,a,y]}class W_ extends DA{constructor(A){super(),MA(this,A,Y_,J_,SA,{})}}const dE="",{Map:z_}=na;function ag(e,A,t){const r=e.slice();return r[19]=A[t],r}function lg(e,A,t){const r=e.slice();return r[22]=A[t],r}function cg(e,A){let t,r,n;return{key:e,first:null,c(){t=_("div"),r=_("span"),Q(r,"class","color-dot svelte-1c8lbc7"),FA(r,"background-color",A[22].color),Q(r,"title",n=A[22].title+" "+yn.Witness+" #"+A[22].witnessId),Q(t,"class","header-cell svelte-1c8lbc7"),this.first=t},m(i,s){O(i,t,s),m(t,r)},p(i,s){A=i,s&4&&FA(r,"background-color",A[22].color),s&4&&n!==(n=A[22].title+" "+yn.Witness+" #"+A[22].witnessId)&&Q(r,"title",n)},d(i){i&&T(t)}}}function ug(e){let A,t=[],r=new z_,n=e[2].docs;const i=s=>s[22].id;for(let s=0;s<n.length;s+=1){let o=lg(e,n,s),a=i(o);r.set(a,t[s]=cg(a,o))}return{c(){A=_("div");for(let s=0;s<t.length;s+=1)t[s].c();Q(A,"class",e[19]+"-headers svelte-1c8lbc7")},m(s,o){O(s,A,o);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(A,null)},p(s,o){o&4&&(n=s[2].docs,t=vn(t,o,i,1,s,n,r,A,ua,cg,null,lg))},d(s){s&&T(A);for(let o=0;o<t.length;o+=1)t[o].d()}}}function Z_(e){let A,t,r,n,i,s=["col","row"],o=[];for(let a=0;a<2;a+=1)o[a]=ug(ag(e,s,a));return{c(){A=_("div"),t=_("div"),r=V();for(let a=0;a<2;a+=1)o[a].c();n=V(),i=_("div"),Q(t,"class","matrix-corner svelte-1c8lbc7"),Q(i,"class","matrix-canvas svelte-1c8lbc7"),Q(A,"class","matrix-grid svelte-1c8lbc7"),FA(A,"--cell-size",e[0]+"px")},m(a,l){O(a,A,l),m(A,t),m(A,r);for(let c=0;c<2;c+=1)o[c]&&o[c].m(A,null);m(A,n),m(A,i),e[10](i)},p(a,[l]){if(l&4){s=["col","row"];let c;for(c=0;c<2;c+=1){const u=ag(a,s,c);o[c]?o[c].p(u,l):(o[c]=ug(u),o[c].c(),o[c].m(A,n))}for(;c<2;c+=1)o[c].d(1)}l&1&&FA(A,"--cell-size",a[0]+"px")},i:$,o:$,d(a){a&&T(A),ve(o,a),e[10](null)}}}function j_(e,A,t){let r,{documents:n=[]}=A,{scoreData:i=new Map}=A,{docStats:s=new Map}=A,{imageCountMap:o=new Map}=A,{normalize:a=!1}=A,{sortOrder:l="name"}=A,{cellSize:c=30}=A;const u=Tt(),f={score:{en:"Score",fr:"Score"},noPairs:{en:"No pairs",fr:"Aucune paire"}},g=U=>{var y,v;return((y=f[U])==null?void 0:y[j])||((v=f[U])==null?void 0:v.en)||U};let d,B=null;function w(U,y,v,E,S,x){var W;if(!U.length)return{docs:[],matrix:[],maxScore:0};U.forEach((M,J)=>{var P;M.index=J,M.count=((P=v==null?void 0:v.get(M.id))==null?void 0:P.count)||0});const R={name:Ln(U.length).sort((M,J)=>U[M].title.localeCompare(U[J].title)),score:Ln(U.length).sort((M,J)=>U[J].count-U[M].count)}[E].map(M=>U[M]),I=R.length,D=[];let k=0;for(let M=0;M<I;M++){const J=[];for(let P=0;P<I;P++)if(M!==P){const rA=R[M].id<R[P].id?`${R[M].id}-${R[P].id}`:`${R[P].id}-${R[M].id}`;let uA=((W=y==null?void 0:y.get(rA))==null?void 0:W.score)||0;if(S&&uA>0){const BA=x.get(R[M].id)||1,q=x.get(R[P].id)||1;uA/=Math.sqrt(BA*q)}uA>k&&(k=uA),J.push({x:P,y:M,z:uA,doc1:R[M],doc2:R[P]})}else J.push({x:P,y:M,z:0,diagonal:!0});D.push(J)}return{docs:R,matrix:D,maxScore:k}}function h(U){return B&&B.doc1.id===U.doc1.id&&B.doc2.id===U.doc2.id}function F(){if(!d||!r.docs.length)return;const{docs:U,matrix:y,maxScore:v}=r,E=U.length*c;oe(d).selectAll("*").remove();const S=oe(d).append("svg").attr("width",E).attr("height",E),x=fc().range([0,E]).domain(Ln(U.length)).padding(.02),G=oe("body").selectAll(".matrix-tooltip").data([0]).join("div").attr("class","matrix-tooltip").style("position","fixed").style("background","var(--bulma-scheme-main)").style("border","1px solid var(--bulma-border)").style("border-radius","4px").style("padding","8px").style("pointer-events","none").style("opacity",0).style("font-size","12px").style("box-shadow","0 2px 4px rgba(0,0,0,0.15)").style("z-index","9999").style("color","var(--bulma-text)");S.selectAll(".row").data(y).join("g").attr("class","row").attr("transform",(I,D)=>`translate(0,${x(D)})`).each(function(I){oe(this).selectAll(".cell").data(I.filter(D=>!D.diagonal)).join("rect").attr("class","cell").attr("x",D=>x(D.x)).attr("width",x.bandwidth()).attr("height",x.bandwidth()).attr("fill",D=>{if(D.z===0)return"var(--bulma-text)";const k=Vn(233,.951,.52);return k.opacity=v>0?.2+.8*(D.z/v):.2,k}).attr("stroke",D=>h(D)?"var(--bulma-text)":"var(--bulma-scheme-main)").attr("stroke-width",D=>h(D)?2:.5).style("cursor","pointer").on("mouseover",function(D,k){h(k)||oe(this).attr("stroke","var(--bulma-text)").attr("stroke-width",2),G.style("opacity",1)}).on("mousemove",function(D,k){const W=`<span style="color:${k.doc1.color}">●</span> ${k.doc1.title}<br/>↔<br/><span style="color:${k.doc2.color}">●</span> ${k.doc2.title}`,M=k.z===0?`${W}<br/><br/><em>${g("noPairs")}</em>`:`${W}<br/><br/>${g("score")}: ${k.z.toFixed(2)}`;G.html(M).style("left",D.clientX+15+"px").style("top",D.clientY+15+"px")}).on("mouseleave",function(D,k){h(k)||oe(this).attr("stroke","var(--bulma-scheme-main)").attr("stroke-width",.5),G.style("opacity",0)}).on("click",(D,k)=>{B={row:k.y,col:k.x,doc1:k.doc1,doc2:k.doc2},b(),u("cellselect",B)})}),S.selectAll(".row").selectAll(".cell-diagonal").data(I=>I.filter(D=>D.diagonal)).join("rect").attr("class","cell-diagonal").attr("x",I=>x(I.x)).attr("width",x.bandwidth()).attr("height",x.bandwidth()).attr("fill","var(--contrasted)")}function b(){d&&oe(d).selectAll(".cell").attr("stroke",U=>h(U)?"var(--bulma-text)":"var(--bulma-scheme-main)").attr("stroke-width",U=>h(U)?2:.5)}function C(){B=null,b()}function p(U){Ne[U?"unshift":"push"](()=>{d=U,t(1,d)})}return e.$$set=U=>{"documents"in U&&t(3,n=U.documents),"scoreData"in U&&t(4,i=U.scoreData),"docStats"in U&&t(5,s=U.docStats),"imageCountMap"in U&&t(6,o=U.imageCountMap),"normalize"in U&&t(7,a=U.normalize),"sortOrder"in U&&t(8,l=U.sortOrder),"cellSize"in U&&t(0,c=U.cellSize)},e.$$.update=()=>{e.$$.dirty&504&&t(2,r=w(n,i,s,l,a,o)),e.$$.dirty&6&&d&&r.docs.length&&F()},[c,d,r,n,i,s,o,a,l,C,p]}class $_ extends DA{constructor(A){super(),MA(this,A,j_,Z_,SA,{documents:3,scoreData:4,docStats:5,imageCountMap:6,normalize:7,sortOrder:8,cellSize:0,clearSelection:9})}get clearSelection(){return this.$$.ctx[9]}}const hE="";function q_(e){let A;return{c(){A=_("div"),Q(A,"class","scatter-container svelte-mb07rz")},m(t,r){O(t,A,r),e[8](A)},p:$,i:$,o:$,d(t){t&&T(A),e[8](null)}}}function Ay(e,A,t,r){return r==="image"?ty(e,A,t):ey(e,A,t)}function ey(e,A,t){const r=new Map;let n=1/0,i=-1/0;for(const o of t){const[a,l,c]=o.regions_id_1===e.id?[o.page_1,o.page_2,o.weightedScore||0]:[o.page_2,o.page_1,o.weightedScore||0],u=`${a}-${l}`;r.has(u)||r.set(u,{page1:a,page2:l,scores:[]}),r.get(u).scores.push(c),c<n&&(n=c),c>i&&(i=c)}return{mode:"page",points:Array.from(r.values()).map(({page1:o,page2:a,scores:l})=>({page1:o,page2:a,score:l.reduce((c,u)=>c+u,0)/l.length,count:l.length})),minScore:n,maxScore:i,doc1:e,doc2:A}}function ty(e,A,t){const r=e.images||[],n=A.images||[];if(!r.length||!n.length)return null;const i=new Map(r.map((c,u)=>[c.id,u])),s=new Map(n.map((c,u)=>[c.id,u])),o=new Map;let a=1/0,l=-1/0;return t.forEach(c=>{const[u,f,g]=c.regions_id_1===e.id?[c.id_1,c.id_2,c.weightedScore||0]:[c.id_2,c.id_1,c.weightedScore||0],d=i.get(u),B=s.get(f);d!==void 0&&B!==void 0&&(o.set(`${d}-${B}`,{idx1:d,idx2:B,imgId1:u,imgId2:f,score:g}),g<a&&(a=g),g>l&&(l=g))}),{mode:"image",images1:r,images2:n,pairScores:o,minScore:a,maxScore:l,doc1:e,doc2:A}}function fg(e){const A=[];let t=null,r=0;return e.forEach((n,i)=>{n.canvas!==t&&(t!==null&&A.push({start:r,end:i,page:t,count:i-r}),t=n.canvas,r=i)}),t!==null&&A.push({start:r,end:e.length,page:t,count:e.length-r}),A}function As(e,A,t,r,n,i){const s=(l,c)=>{const u=Math.floor(c/6);return l.length>u?l.slice(0,u-1)+"…":l},o=n==="x"?t:r,a=e.append("g").attr("transform",n==="x"?`translate(${t/2},-50)`:`translate(-68,${r/2}) rotate(-90)`);a.append("circle").attr("r",4).attr("cx",-o/2+4).attr("fill",A.color),a.append("text").attr("x",-o/2+14).attr("text-anchor","start").attr("dominant-baseline","middle").attr("font-size","11px").attr("fill","var(--bulma-text)").text(s(`${A.title} (${i})`,o-20))}function ry(e,A,t){let r,{doc1:n=null}=A,{doc2:i=null}=A,{pairs:s=[]}=A,{mode:o="page"}=A,{cellSize:a=5}=A;const l=Tt(),c={page:{en:"page",fr:"page"},image:{en:"image",fr:"image"},score:{en:"Score",fr:"Score"}},u=p=>{var U,y;return((U=c[p])==null?void 0:U[j])||((y=c[p])==null?void 0:y.en)||p};let f;function g(){!f||!r||(oe(f).selectAll("*").remove(),r.mode==="image"?B():d())}function d(){const{points:p,minScore:U,maxScore:y,doc1:v,doc2:E}=r;if(!p.length)return;const S={top:65,right:40,bottom:20,left:80},x=10,G=Math.max(...p.map(lA=>lA.page1)),R=Math.max(...p.map(lA=>lA.page2)),I=G*a,D=R*a,k=new Map(p.map(lA=>[`${lA.page1}-${lA.page2}`,lA])),M=oe(f).append("svg").attr("width",I+S.left+S.right).attr("height",D+S.top+S.bottom).append("g").attr("transform",`translate(${S.left},${S.top})`),J=Nr().domain([0,G]).range([0,I]),P=Nr().domain([0,R]).range([0,D]),rA=w(),uA=new Array(G).fill(0),BA=new Array(R).fill(0);p.forEach(lA=>{uA[lA.page1-1]++,BA[lA.page2-1]++});const q=Math.max(...uA),QA=Math.max(...BA);h(M,uA,q,v.color,"x",x,rA),h(M,BA,QA,E.color,"y",x,rA),M.append("g").call(el(J).ticks(Math.min(G,10))),M.append("g").call(tl(P).ticks(Math.min(R,10))),As(M,v,I,D,"x",u("page")),As(M,E,I,D,"y",u("page")),M.append("rect").attr("width",I).attr("height",D).attr("fill","transparent").style("cursor","pointer").on("mousemove",lA=>{const[mA,z]=he(lA,M.node()),AA=Math.floor(mA/a)+1,Y=Math.floor(z/a)+1;if(AA<1||AA>G||Y<1||Y>R){rA.style("opacity",0);return}const fA=k.get(`${AA}-${Y}`),iA=`<span style="color:${v.color}">●</span> ${u("page")} ${AA}<br/><span style="color:${E.color}">●</span> ${u("page")} ${Y}`;rA.style("opacity",1).html(fA?`${iA}<br/>${u("score")}: ${fA.score.toFixed(2)}`:iA).style("left",lA.clientX+10+"px").style("top",lA.clientY-40+"px")}).on("mouseleave",()=>rA.style("opacity",0)).on("click",lA=>{const[mA,z]=he(lA,M.node()),AA=Math.floor(mA/a)+1,Y=Math.floor(z/a)+1;AA>=1&&AA<=G&&Y>=1&&Y<=R&&l("cellclick",{idx1:AA-1,idx2:Y-1,mode:"page",data:r})}),M.selectAll(".cell").data(p).join("rect").attr("class","cell").attr("x",lA=>(lA.page1-1)*a).attr("y",lA=>(lA.page2-1)*a).attr("width",a).attr("height",a).attr("fill",Vn(233,.951,.52)).attr("opacity",lA=>y>U?.2+.8*(lA.score-U)/(y-U):.5).attr("pointer-events","none"),t(0,f.style.width=I+S.left+S.right+"px",f),t(0,f.style.height=D+S.top+S.bottom+"px",f)}function B(){const{images1:p,images2:U,pairScores:y,minScore:v,maxScore:E,doc1:S,doc2:x}=r;if(!p.length||!U.length)return;const G={top:65,right:40,bottom:20,left:80},R=10,I=p.length*a,D=U.length*a,W=oe(f).append("svg").attr("width",I+G.left+G.right).attr("height",D+G.top+G.bottom).append("g").attr("transform",`translate(${G.left},${G.top})`),M=Nr().domain([0,p.length]).range([0,I]),J=Nr().domain([0,U.length]).range([0,D]),P=w(),rA=fg(p),uA=fg(U);F(W,rA,S.color,"x",R,P),F(W,uA,x.color,"y",R,P),W.append("g").call(el(M).ticks(Math.min(p.length,10))),W.append("g").call(tl(J).ticks(Math.min(U.length,10))),As(W,S,I,D,"x",u("image")),As(W,x,I,D,"y",u("image")),W.append("rect").attr("width",I).attr("height",D).attr("fill","transparent").style("cursor","pointer").on("mousemove",BA=>{const[q,QA]=he(BA,W.node()),lA=Math.floor(q/a),mA=Math.floor(QA/a);if(lA<0||lA>=p.length||mA<0||mA>=U.length){P.style("opacity",0);return}const z=p[lA],AA=U[mA],Y=y.get(`${lA}-${mA}`),fA=`<span style="color:${S.color}">●</span> ${u("page")} ${z.canvas}, ${u("image")} ${lA+1}<br/><span style="color:${x.color}">●</span> ${u("page")} ${AA.canvas}, ${u("image")} ${mA+1}`;P.style("opacity",1).html(Y?`${fA}<br/>${u("score")}: ${Y.score.toFixed(2)}`:fA).style("left",BA.clientX+10+"px").style("top",BA.clientY-40+"px")}).on("mouseleave",()=>P.style("opacity",0)).on("click",BA=>{const[q,QA]=he(BA,W.node()),lA=Math.floor(q/a),mA=Math.floor(QA/a);lA>=0&&lA<p.length&&mA>=0&&mA<U.length&&l("cellclick",{idx1:lA,idx2:mA,mode:"image",data:r})}),W.selectAll(".cell").data(Array.from(y.values())).join("rect").attr("class","cell").attr("x",BA=>BA.idx1*a).attr("y",BA=>BA.idx2*a).attr("width",a).attr("height",a).attr("fill",Vn(233,.951,.52)).attr("opacity",BA=>E>v?.2+.8*(BA.score-v)/(E-v):.5).attr("pointer-events","none"),t(0,f.style.width=I+G.left+G.right+"px",f),t(0,f.style.height=D+G.top+G.bottom+"px",f)}function w(){return oe("body").selectAll(".scatter-tooltip").data([0]).join("div").attr("class","scatter-tooltip").style("position","fixed").style("background","var(--bulma-scheme-main)").style("border","1px solid var(--bulma-border)").style("border-radius","4px").style("padding","6px 10px").style("pointer-events","none").style("opacity",0).style("font-size","11px").style("box-shadow","0 2px 4px rgba(0,0,0,0.15)").style("z-index","9999").style("color","var(--bulma-text)")}function h(p,U,y,v,E,S,x){const G=p.append("g").attr("transform",E==="x"?`translate(0,${-22-S})`:"translate(-55,0)");U.forEach((R,I)=>{if(R===0)return;const D=G.append("rect").attr("fill",v).attr("opacity",.15+.85*(R/y)).style("cursor","default");E==="x"?D.attr("x",I*a).attr("width",a).attr("height",S):D.attr("x",0).attr("y",I*a).attr("width",S).attr("height",a),D.on("mouseover",()=>x.style("opacity",1)).on("mousemove",k=>x.html(`<strong>${R}</strong> image${R>1?"s":""}<br/>${u("page")} ${I+1}`).style("left",k.clientX+10+"px").style("top",k.clientY-30+"px")).on("mouseleave",()=>x.style("opacity",0))})}function F(p,U,y,v,E,S){const x=p.append("g").attr("transform",v==="x"?`translate(0,${-22-E})`:"translate(-55,0)");U.forEach(({start:G,end:R,page:I,count:D})=>{const k=x.append("rect").attr("fill",y).attr("opacity",.5).style("cursor","default");v==="x"?k.attr("x",G*a).attr("width",(R-G)*a).attr("height",E):k.attr("x",0).attr("y",G*a).attr("width",E).attr("height",(R-G)*a),k.on("mouseover",()=>S.style("opacity",1)).on("mousemove",W=>S.html(`${u("page")} ${I}<br/><strong>${D}</strong> image${D>1?"s":""}`).style("left",W.clientX+10+"px").style("top",W.clientY-30+"px")).on("mouseleave",()=>S.style("opacity",0))})}function b(){return r}function C(p){Ne[p?"unshift":"push"](()=>{f=p,t(0,f)})}return e.$$set=p=>{"doc1"in p&&t(1,n=p.doc1),"doc2"in p&&t(2,i=p.doc2),"pairs"in p&&t(3,s=p.pairs),"mode"in p&&t(4,o=p.mode),"cellSize"in p&&t(5,a=p.cellSize)},e.$$.update=()=>{e.$$.dirty&30&&t(7,r=n&&i&&s.length?Ay(n,i,s,o):null),e.$$.dirty&129&&f&&r&&g()},[f,n,i,s,o,a,b,r,C]}class ny extends DA{constructor(A){super(),MA(this,A,ry,q_,SA,{doc1:1,doc2:2,pairs:3,mode:4,cellSize:5,getScatterData:6})}get getScatterData(){return this.$$.ctx[6]}}const wE="";function gg(e,A,t){const r=e.slice();return r[16]=A[t],r[18]=t,r}function Bg(e,A,t){const r=e.slice();return r[16]=A[t],r}function dg(e){let A,t,r,n,i,s,o,a,l=e[2].items,c=[];for(let B=0;B<l.length;B+=1)c[B]=hg(Bg(e,l,B));let u=e[2].score!==void 0&&wg(e),f=e[2].items,g=[];for(let B=0;B<f.length;B+=1)g[B]=pg(gg(e,f,B));const d=B=>X(g[B],1,1,()=>{g[B]=null});return{c(){A=_("table"),t=_("thead"),r=_("tr");for(let B=0;B<c.length;B+=1)c[B].c();n=V(),i=_("tbody"),u&&u.c(),s=V(),o=_("tr");for(let B=0;B<g.length;B+=1)g[B].c();Q(A,"class","table is-fullwidth p-3 has-text-centered")},m(B,w){O(B,A,w),m(A,t),m(t,r);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(r,null);m(A,n),m(A,i),u&&u.m(i,null),m(i,s),m(i,o);for(let h=0;h<g.length;h+=1)g[h]&&g[h].m(o,null);a=!0},p(B,w){if(w&4){l=B[2].items;let h;for(h=0;h<l.length;h+=1){const F=Bg(B,l,h);c[h]?c[h].p(F,w):(c[h]=hg(F),c[h].c(),c[h].m(r,null))}for(;h<c.length;h+=1)c[h].d(1);c.length=l.length}if(B[2].score!==void 0?u?u.p(B,w):(u=wg(B),u.c(),u.m(i,s)):u&&(u.d(1),u=null),w&21){f=B[2].items;let h;for(h=0;h<f.length;h+=1){const F=gg(B,f,h);g[h]?(g[h].p(F,w),N(g[h],1)):(g[h]=pg(F),g[h].c(),N(g[h],1),g[h].m(o,null))}for(kA(),h=f.length;h<g.length;h+=1)d(h);KA()}},i(B){if(!a){for(let w=0;w<f.length;w+=1)N(g[w]);a=!0}},o(B){g=g.filter(Boolean);for(let w=0;w<g.length;w+=1)X(g[w]);a=!1},d(B){B&&T(A),ve(c,B),u&&u.d(),ve(g,B)}}}function hg(e){let A,t,r,n,i,s=e[16].doc.title+"",o,a,l,c=e[16].label+"",u,f;return{c(){A=_("th"),t=_("span"),r=sA("●"),n=V(),i=_("strong"),o=sA(s),a=V(),l=_("p"),u=sA(c),f=V(),FA(t,"color",e[16].doc.color),Q(l,"class","is-size-7 has-text-grey mt-2"),Q(A,"class","doc-title svelte-w9gey1")},m(g,d){O(g,A,d),m(A,t),m(t,r),m(A,n),m(A,i),m(i,o),m(A,a),m(A,l),m(l,u),m(A,f)},p(g,d){d&4&&FA(t,"color",g[16].doc.color),d&4&&s!==(s=g[16].doc.title+"")&&_A(o,s),d&4&&c!==(c=g[16].label+"")&&_A(u,c)},d(g){g&&T(A)}}}function wg(e){let A,t,r,n=e[3]("score")+"",i,s,o=e[2].score.toFixed(2)+"",a;return{c(){A=_("tr"),t=_("td"),r=_("span"),i=sA(n),s=V(),a=sA(o),Q(r,"class","tag is-small is-link is-bold"),Q(t,"colspan","2"),Q(t,"class","has-text-centered")},m(l,c){O(l,A,c),m(A,t),m(t,r),m(r,i),m(r,s),m(r,a)},p(l,c){c&4&&o!==(o=l[2].score.toFixed(2)+"")&&_A(a,o)},d(l){l&&T(A)}}}function pg(e){let A,t,r,n,i,s,o,a,l,c,u,f;return r=new fr({props:{direction:e[18]!==0?"up":"left",delta:-1,axis:e[18]!==0?"vertical":"horizontal",navigationFct:e[4]}}),c=new fr({props:{direction:e[18]!==0?"down":"right",delta:1,axis:e[18]!==0?"vertical":"horizontal",navigationFct:e[4]}}),{c(){var g;A=_("td"),t=_("div"),pA(r.$$.fragment),n=V(),i=_("figure"),s=_("img"),l=V(),pA(c.$$.fragment),u=V(),rt(s.src,o=e[16].imgUrl)||Q(s,"src",o),Q(s,"alt",a=(((g=e[0])==null?void 0:g.mode)==="image"?"Image":"Page")+" "+e[16].label),Q(s,"class","img-preview svelte-w9gey1"),Q(i,"class","image"),Q(t,"class","image-nav-container svelte-w9gey1"),Q(A,"class","modal-cell svelte-w9gey1")},m(g,d){O(g,A,d),m(A,t),hA(r,t,null),m(t,n),m(t,i),m(i,s),m(t,l),hA(c,t,null),m(A,u),f=!0},p(g,d){var B;(!f||d&4&&!rt(s.src,o=g[16].imgUrl))&&Q(s,"src",o),(!f||d&5&&a!==(a=(((B=g[0])==null?void 0:B.mode)==="image"?"Image":"Page")+" "+g[16].label))&&Q(s,"alt",a)},i(g){f||(N(r.$$.fragment,g),N(c.$$.fragment,g),f=!0)},o(g){X(r.$$.fragment,g),X(c.$$.fragment,g),f=!1},d(g){g&&T(A),wA(r),wA(c)}}}function iy(e){let A,t,r,n,i,s,o,a,l,c,u=e[2]&&dg(e);return{c(){A=_("div"),t=_("div"),r=V(),n=_("div"),i=_("div"),u&&u.c(),s=V(),o=_("button"),Q(t,"class","modal-background"),Q(i,"class","box p-5"),Q(n,"class","modal-content"),FA(n,"width","auto"),FA(n,"max-width","70vw"),Q(o,"class","modal-close is-large"),Q(o,"aria-label","close"),Q(A,"class","modal")},m(f,g){O(f,A,g),m(A,t),m(A,r),m(A,n),m(n,i),u&&u.m(i,null),m(A,s),m(A,o),e[9](A),a=!0,l||(c=[gA(t,"click",e[5]),gA(t,"keyup",null),gA(o,"click",e[5]),Zt(gs.call(null,A)),gA(A,"close",e[5])],l=!0)},p(f,[g]){f[2]?u?(u.p(f,g),g&4&&N(u,1)):(u=dg(f),u.c(),N(u,1),u.m(i,null)):u&&(kA(),X(u,1,1,()=>{u=null}),KA())},i(f){a||(N(u),a=!0)},o(f){X(u),a=!1},d(f){f&&T(A),u&&u.d(),e[9](null),l=!1,te(c)}}}function sy(e){if(e.mode==="image")return{max1:e.images1.length,max2:e.images2.length};const A=Math.max(...e.points.map(r=>r.page1)),t=Math.max(...e.points.map(r=>r.page2));return{max1:A,max2:t}}function oy(e,A,t){let r,n,{active:i=!1}=A,{scatterData:s=null}=A,{navState:o=null}=A;const a=Tt(),l={score:{en:"Score",fr:"Score"}},c=b=>{var C,p;return((C=l[b])==null?void 0:C[j])||((p=l[b])==null?void 0:p.en)||b};let u;function f(b,C){return nr(`wit${b.witnessId}_${b.digitizationRef}_${String(C).padStart(b.zeros,"0")}`,"full","600,")}function g(b){var C;return nr(b.ref,(C=b.xywh)==null?void 0:C.join(","),"600,")}function d(b,C,p){var x,G;if(!b||!C||!p)return null;const{doc1:U,doc2:y}=C;if(C.mode==="image"){const R=(x=C.images1)==null?void 0:x[b.idx1],I=(G=C.images2)==null?void 0:G[b.idx2];if(!R||!I)return null;const D=C.pairScores.get(`${b.idx1}-${b.idx2}`);return{items:[{doc:U,label:`Canvas ${R.canvas} — Image #${b.idx1+1}`,imgUrl:g(R)},{doc:y,label:`Canvas ${I.canvas} — Image #${b.idx2+1}`,imgUrl:g(I)}],score:D==null?void 0:D.score}}const v=b.idx1+1,E=b.idx2+1,S=C.points.find(R=>R.page1===v&&R.page2===E);return{items:[{doc:U,label:`Page ${v}`,imgUrl:f(U,v)},{doc:y,label:`Page ${E}`,imgUrl:f(y,E)}],score:S==null?void 0:S.score}}function B(b,C){!o||!s||(C==="horizontal"?t(6,o.idx1=(o.idx1+b+r.max1)%r.max1,o):t(6,o.idx2=(o.idx2+b+r.max2)%r.max2,o),a("navigate",o))}function w(b){if(!i||!o)return;const p={ArrowUp:[-1,"vertical"],ArrowDown:[1,"vertical"],ArrowLeft:[-1,"horizontal"],ArrowRight:[1,"horizontal"]}[b.key];p&&(b.preventDefault(),B(p[0],p[1]))}function h(){a("close")}Dt(()=>window.addEventListener("keydown",w)),qt(()=>window.removeEventListener("keydown",w));function F(b){Ne[b?"unshift":"push"](()=>{u=b,t(1,u)})}return e.$$set=b=>{"active"in b&&t(7,i=b.active),"scatterData"in b&&t(0,s=b.scatterData),"navState"in b&&t(6,o=b.navState)},e.$$.update=()=>{e.$$.dirty&1&&t(8,r=s?sy(s):{max1:0,max2:0}),e.$$.dirty&321&&t(2,n=o&&s&&r?d(o,s,r):null),e.$$.dirty&130&&u&&(i?u.classList.add("is-active"):u.classList.remove("is-active"))},[s,u,n,c,B,h,o,i,r,F]}class ay extends DA{constructor(A){super(),MA(this,A,oy,iy,SA,{active:7,scatterData:0,navState:6})}}function ly(e){let A,t;return A=new W_({props:{$$slots:{"right-scroll":[hy],"right-title":[gy],"left-scroll":[fy],"left-title":[uy]},$$scope:{ctx:e}}}),{c(){pA(A.$$.fragment)},m(r,n){hA(A,r,n),t=!0},p(r,n){const i={};n[0]&8141|n[1]&64&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(N(A.$$.fragment,r),t=!0)},o(r){X(A.$$.fragment,r),t=!1},d(r){wA(A,r)}}}function cy(e){let A,t;return{c(){A=_("div"),t=_("div"),t.textContent=`${e[21]("noDocuments")}`,Q(t,"class","notification is-info"),FA(t,"width","100%"),Q(A,"class","container")},m(r,n){O(r,A,n),m(A,t)},p:$,i:$,o:$,d(r){r&&T(A)}}}function uy(e){let A,t,r,n,i,s,o,a,l,c,u,f,g,d,B,w=e[21]("normalize")+"",h,F,b,C;return i=new jf({props:{targetId:"matrix-viz",filename:"document-matrix.png"}}),{c(){A=_("div"),t=_("h4"),t.textContent=`${e[21]("title")}`,r=V(),n=_("div"),pA(i.$$.fragment),s=V(),o=_("div"),a=_("div"),l=_("select"),c=_("option"),c.textContent=`${e[21]("byName")}`,u=_("option"),u.textContent=`${e[21]("byScore")}`,f=V(),g=_("label"),d=_("input"),B=V(),h=sA(w),Q(t,"class","title is-6 mb-0"),c.__value="name",c.value=c.__value,u.__value="score",u.value=u.__value,e[2]===void 0&&ze(()=>e[32].call(l)),Q(a,"class","select is-small"),Q(o,"class","control"),Q(d,"type","checkbox"),d.checked=e[12],Q(g,"title",e[21]("normalization")),Q(g,"class","checkbox is-size-7"),Q(n,"class","is-flex is-align-items-center"),FA(n,"gap","0.5rem"),Q(A,"slot","left-title"),Q(A,"class","is-flex is-justify-content-space-between")},m(p,U){O(p,A,U),m(A,t),m(A,r),m(A,n),hA(i,n,null),m(n,s),m(n,o),m(o,a),m(a,l),m(l,c),m(l,u),vt(l,e[2],!0),m(n,f),m(n,g),m(g,d),m(g,B),m(g,h),F=!0,b||(C=[gA(l,"change",e[32]),gA(d,"change",e[33])],b=!0)},p(p,U){U[0]&4&&vt(l,p[2]),(!F||U[0]&4096)&&(d.checked=p[12])},i(p){F||(N(i.$$.fragment,p),F=!0)},o(p){X(i.$$.fragment,p),F=!1},d(p){p&&T(A),wA(i),b=!1,te(C)}}}function fy(e){let A,t,r;return t=new $_({props:{documents:e[8],sortOrder:e[2],scoreData:e[9].scoreCount,docStats:e[10].scoreCount,imageCountMap:e[11],normalize:e[12]}}),t.$on("cellselect",e[22]),{c(){A=_("div"),pA(t.$$.fragment),Q(A,"slot","left-scroll"),Q(A,"id","matrix-viz")},m(n,i){O(n,A,i),hA(t,A,null),r=!0},p(n,i){const s={};i[0]&256&&(s.documents=n[8]),i[0]&4&&(s.sortOrder=n[2]),i[0]&512&&(s.scoreData=n[9].scoreCount),i[0]&1024&&(s.docStats=n[10].scoreCount),i[0]&2048&&(s.imageCountMap=n[11]),i[0]&4096&&(s.normalize=n[12]),t.$set(s)},i(n){r||(N(t.$$.fragment,n),r=!0)},o(n){X(t.$$.fragment,n),r=!1},d(n){n&&T(A),wA(t)}}}function mg(e){let A,t,r,n,i,s,o,a,l,c;return A=new jf({props:{targetId:"scatter-viz",filename:"document-comparison.png"}}),{c(){pA(A.$$.fragment),t=V(),r=_("div"),n=_("div"),i=_("select"),s=_("option"),s.textContent=`${e[21]("byPage")}`,o=_("option"),o.textContent=`${e[21]("byImage")}`,s.__value="page",s.value=s.__value,o.__value="image",o.value=o.__value,e[3]===void 0&&ze(()=>e[31].call(i)),Q(n,"class","select is-small"),Q(r,"class","control")},m(u,f){hA(A,u,f),O(u,t,f),O(u,r,f),m(r,n),m(n,i),m(i,s),m(i,o),vt(i,e[3],!0),a=!0,l||(c=gA(i,"change",e[31]),l=!0)},p(u,f){f[0]&8&&vt(i,u[3])},i(u){a||(N(A.$$.fragment,u),a=!0)},o(u){X(A.$$.fragment,u),a=!1},d(u){wA(A,u),u&&T(t),u&&T(r),l=!1,c()}}}function gy(e){let A,t,r,n,i,s=e[0]&&mg(e);return{c(){A=_("div"),t=_("h4"),t.textContent=`${e[21]("pageByPage")}`,r=V(),n=_("div"),s&&s.c(),Q(t,"class","title is-6 mb-0"),Q(n,"class","is-flex is-align-items-center"),FA(n,"gap","0.5rem"),Q(A,"slot","right-title"),Q(A,"class","is-flex is-justify-content-space-between")},m(o,a){O(o,A,a),m(A,t),m(A,r),m(A,n),s&&s.m(n,null),i=!0},p(o,a){o[0]?s?(s.p(o,a),a[0]&1&&N(s,1)):(s=mg(o),s.c(),N(s,1),s.m(n,null)):s&&(kA(),X(s,1,1,()=>{s=null}),KA())},i(o){i||(N(s),i=!0)},o(o){X(s),i=!1},d(o){o&&T(A),s&&s.d()}}}function By(e){let A;return{c(){A=_("p"),A.textContent=`${e[21]("selectCell")}`,Q(A,"class","has-text-grey is-size-7")},m(t,r){O(t,A,r)},p:$,i:$,o:$,d(t){t&&T(A)}}}function dy(e){let A,t,r={doc1:e[0].doc1,doc2:e[0].doc2,pairs:e[7],mode:e[3]};return A=new ny({props:r}),e[30](A),A.$on("cellclick",e[23]),{c(){pA(A.$$.fragment)},m(n,i){hA(A,n,i),t=!0},p(n,i){const s={};i[0]&1&&(s.doc1=n[0].doc1),i[0]&1&&(s.doc2=n[0].doc2),i[0]&128&&(s.pairs=n[7]),i[0]&8&&(s.mode=n[3]),A.$set(s)},i(n){t||(N(A.$$.fragment,n),t=!0)},o(n){X(A.$$.fragment,n),t=!1},d(n){e[30](null),wA(A,n)}}}function hy(e){let A,t,r,n;const i=[dy,By],s=[];function o(a,l){return a[0]?0:1}return t=o(e),r=s[t]=i[t](e),{c(){A=_("div"),r.c(),Q(A,"slot","right-scroll"),Q(A,"id","scatter-viz")},m(a,l){O(a,A,l),s[t].m(A,null),n=!0},p(a,l){let c=t;t=o(a),t===c?s[t].p(a,l):(kA(),X(s[c],1,1,()=>{s[c]=null}),KA(),r=s[t],r?r.p(a,l):(r=s[t]=i[t](a),r.c()),N(r,1),r.m(A,null))},i(a){n||(N(r),n=!0)},o(a){X(r),n=!1},d(a){a&&T(A),s[t].d()}}}function wy(e){var C;let A,t,r,n,i,s,o,a,l,c,u,f,g,d,B,w;const h=[cy,ly],F=[];function b(p,U){return p[8].length?1:0}return c=b(e),u=F[c]=h[c](e),g=new ay({props:{active:e[5],scatterData:(C=e[6])==null?void 0:C.getScatterData(),navState:e[4]}}),g.$on("navigate",e[24]),g.$on("close",e[25]),{c(){A=_("div"),t=_("label"),t.textContent=`${e[21]("filtering")}`,r=V(),n=_("div"),i=_("div"),s=_("select"),o=_("option"),o.textContent=`${e[21]("allPairs")}`,a=_("option"),a.textContent=`${e[21]("filteredPairs")}`,l=V(),u.c(),f=V(),pA(g.$$.fragment),Q(t,"class","label is-small"),Q(t,"for","matrix-mode"),o.__value="all",o.value=o.__value,a.__value="filtered",a.value=a.__value,Q(s,"id","matrix-mode"),e[1]===void 0&&ze(()=>e[29].call(s)),Q(i,"class","select is-small is-fullwidth"),Q(n,"class","control"),Q(A,"class","field mb-4")},m(p,U){O(p,A,U),m(A,t),m(A,r),m(A,n),m(n,i),m(i,s),m(s,o),m(s,a),vt(s,e[1],!0),O(p,l,U),F[c].m(p,U),O(p,f,U),hA(g,p,U),d=!0,B||(w=gA(s,"change",e[29]),B=!0)},p(p,U){var E;U[0]&2&&vt(s,p[1]);let y=c;c=b(p),c===y?F[c].p(p,U):(kA(),X(F[y],1,1,()=>{F[y]=null}),KA(),u=F[c],u?u.p(p,U):(u=F[c]=h[c](p),u.c()),N(u,1),u.m(f.parentNode,f));const v={};U[0]&32&&(v.active=p[5]),U[0]&64&&(v.scatterData=(E=p[6])==null?void 0:E.getScatterData()),U[0]&16&&(v.navState=p[4]),g.$set(v)},i(p){d||(N(u),N(g.$$.fragment,p),d=!0)},o(p){X(u),X(g.$$.fragment,p),d=!1},d(p){p&&T(A),p&&T(l),F[c].d(p),p&&T(f),wA(g,p),B=!1,w()}}}function py(e,A,t){let r,n,i,s,o,a,l,c,u,f,{documentSetStore:g}=A;const{documentNodes:d,pairIndex:B,activeDocPairStats:w,activeDocStats:h,imageCountMap:F,visiblePairIds:b,matrixMode:C,normalizeByImages:p}=g;vA(e,d,q=>t(28,a=q)),vA(e,B,q=>t(34,i=q)),vA(e,w,q=>t(9,l=q)),vA(e,h,q=>t(10,c=q)),vA(e,F,q=>t(11,u=q)),vA(e,b,q=>t(27,s=q)),vA(e,C,q=>t(1,o=q)),vA(e,p,q=>t(12,f=q));const U={title:{en:"Document Matrix",fr:"Matrice de documents"},byName:{en:"By title",fr:"Par titre"},byScore:{en:"By score",fr:"Par score"},noDocuments:{en:"No documents available",fr:"Aucun document disponible"},pageByPage:{en:"Page-by-page similarity",fr:"Similarité page par page"},selectCell:{en:"Click a cell to view page-by-page similarity",fr:"Cliquez sur une cellule pour voir la similarité page par page"},byPage:{en:"By page",fr:"Par page"},byImage:{en:"By image",fr:"Par image"},normalize:{en:"Normalize",fr:"Normaliser"},normalization:{en:"Normalization by document image counts",fr:"Normalisation par le nombre d'images des documents"},allPairs:{en:"All pairs in the document set",fr:"Toutes les paires du corpus"},filteredPairs:{en:"Filtered pairs",fr:"Paires après filtrage"},filtering:{en:"Source of image pairs for the visualizations",fr:"Source des paires d'images pour les visualisations"}},y=q=>{var QA,lA;return((QA=U[q])==null?void 0:QA[j])||((lA=U[q])==null?void 0:lA.en)||q};let v=null,E="name",S="page",x=null,G=!1,R;function I(q,QA,lA){const{doc1:mA,doc2:z}=q,AA=mA.id<z.id?`${mA.id}-${z.id}`:`${z.id}-${mA.id}`;let Y=i.byDocPair.get(AA)||[];return QA&&lA.size>0&&(Y=Y.filter(fA=>lA.has(`${fA.id_1}-${fA.id_2}`))),Y}function D(q){t(0,v=q.detail)}function k(q){t(4,x={idx1:q.detail.idx1,idx2:q.detail.idx2}),t(5,G=!0)}function W(q){t(4,x={...q.detail})}function M(){t(5,G=!1)}function J(){o=dn(this),C.set(o)}function P(q){Ne[q?"unshift":"push"](()=>{R=q,t(6,R)})}function rA(){S=dn(this),t(3,S)}function uA(){E=dn(this),t(2,E)}const BA=q=>p.set(q.target.checked);return e.$$set=q=>{"documentSetStore"in q&&t(26,g=q.documentSetStore)},e.$$.update=()=>{e.$$.dirty[0]&268435456&&t(8,r=Array.from((a==null?void 0:a.values())||[])),e.$$.dirty[0]&134217731&&t(7,n=v?I(v,o==="filtered",s):[])},[v,o,E,S,x,G,R,n,r,l,c,u,f,d,B,w,h,F,b,C,p,y,D,k,W,M,g,s,a,J,P,rA,uA,BA]}class my extends DA{constructor(A){super(),MA(this,A,py,wy,SA,{documentSetStore:26},null,[-1,-1])}}const Qy=1e4;async function Cy(e,A,t={}){const{onProgress:r,onError:n,signal:i}=t,s=await fetch(e,{signal:i});if(!s.ok){const g=await s.json().catch(()=>({error:s.statusText}));throw new Error(g.error||`HTTP ${s.status}`)}const o=s.body.getReader(),a=new TextDecoder;let l="",c=[],u=0,f=!1;try{for(;;){const{done:g,value:d}=await o.read();if(g){if(l.trim()){const w=Qg(l);w&&c.push(w)}return c.length>0?(u+=c.length,A.postMessage({type:"batch",pairs:c,isLast:!0})):A.postMessage({type:"done"}),r==null||r(u,!0),u}l+=a.decode(d,{stream:!0});const B=l.split(`
`);l=B.pop()||"";for(const w of B){if(!w)continue;const h=Qg(w);h&&(c.push(h),c.length>=Qy&&(f||(A.postMessage({type:"init"}),f=!0),u+=c.length,A.postMessage({type:"batch",pairs:c,isLast:!1}),c=[],r==null||r(u,!1)))}}}catch(g){throw g.name==="AbortError"?(A.postMessage({type:"abort"}),g):(n==null||n(g),g)}}function Qg(e){try{return JSON.parse(e)}catch{return console.warn("Parse error:",e.slice(0,50)),null}}const vy=()=>new Worker("/static/js/pairWorker.js",{type:"module"});function Uy(e){const A=NA(null),t=NA(!1),r=NA({loaded:0,done:!1}),n=NA([]),i=NA(new Set),s=NA([]),o=NA(0),a=NA(3),l=NA(!1),c=NA("threshold"),u=NA([]),f=NA(new Map);let g,d=null;const B=NA({byImage:new Map,byDocPair:new Map,byDoc:new Map}),w=NA(new Map),h=NA(new Map),F=NA({}),b=NA({}),C=NA({}),p=NA({}),U=NA({documents:0,pairs:null,images:0,categories:{}}),y=ce(n,(z,AA)=>{if(z.length===0){AA(Promise.resolve(0));return}g&&g.terminate()&&(g=null),d&&d.abort(),d=new AbortController;const Y=new Promise((fA,iA)=>{t.set(!0),r.set({loaded:0,done:!1}),A.set(null),(async()=>{try{g=vy(),g.onmessage=async bA=>{const{type:EA}=bA.data;if(EA==="progress"){r.set({loaded:bA.data.count,done:!1});return}if(EA!=="complete")return;const{allPairs:CA,imageNodes:HA,pairIndex:jA,categories:fe,stats:ge}=bA.data;B.set(jA),F.set(ge.pairStats),J(),b.set(ge.documentStats),C.set(ge.imageStats),p.set(ge.docPairStats);const $A=Array.from(ge.documentStats.scoreCount.keys());de(i).size===0&&i.set(new Set($A));const xA=await Promise.all($A.map(TA=>v(TA).then(RA=>({id:TA,info:RA})))),Ie=new Map;xA.forEach(({id:TA,info:RA})=>Ie.set(TA,RA)),f.set(Ie);const LA=new Map;$A.forEach((TA,RA)=>{const Ge=Ie.get(TA)||{};LA.set(TA,{id:TA,title:Ge.title||`Region Extraction ${TA}`,color:Ge.color||DB(RA),images:[],...Ge})}),HA.forEach(TA=>{const RA=LA.get(TA.regionId);RA&&(TA.color=RA.color,TA.title=`${RA.title} | Page ${TA.canvas}`,RA.images.push(TA))}),LA.forEach(TA=>TA.images.sort((RA,Ge)=>{var me,Qe;return RA.canvas!==Ge.canvas?RA.canvas-Ge.canvas:(parseInt((me=RA.xywh)==null?void 0:me[1])||0)-(parseInt((Qe=Ge.xywh)==null?void 0:Qe[1])||0)})),w.set(HA),h.set(LA),U.set({documents:$A.length,pairs:CA.length,images:HA.size,categories:fe}),u.set(CA),t.set(!1),r.set({loaded:CA.length,done:!0}),g.terminate(),g=null,fA(CA.length)},g.onerror=bA=>{console.error("Worker error",bA),A.set(`Worker error: ${bA.message}`),t.set(!1),iA(bA)};const UA=`${_n}/document-set/${e}/pairs/stream?category=${z.join(",")}`;await Cy(UA,g,{signal:d.signal,onProgress:(bA,EA)=>{r.set({loaded:bA,done:EA})},onError:bA=>{A.set(`Stream error: ${bA.message}`)}})}catch(UA){if(UA.name==="AbortError"){console.log("Request aborted");return}A.set(`Fetch error: ${UA.message}`),t.set(!1),iA(UA)}})()});AA(Y)});async function v(z){try{const AA=await fetch(`${_n}/search/regions/?id=${z}`);if(!AA.ok)throw new Error(`HTTP ${AA.status}`);const{results:Y}=await AA.json();if(!(Y!=null&&Y.length))return{title:`Region Extraction ${z}`};const fA=Y[0],[,...iA]=fA.title.split(" | "),[yA,UA]=(fA.ref||"_").split("_");return{title:iA.join(" | "),ref:fA.ref,witnessId:SB(yA),digitizationRef:UA,zeros:fA.zeros,img_nb:fA.img_nb,url:fA.url}}catch(AA){return A.set(`Error fetching region #${z}: ${AA.message}`),{title:`Region Extraction ${z}`}}}const E=ce([u,o,a,l,i],([z,AA,Y,fA,iA])=>{if(!z)return[];const yA=[],UA=de(c);for(let bA=0;bA<z.length;bA++){const EA=z[bA];if(UA==="threshold"&&EA.weightedScore<AA)break;if(!(!iA.has(EA.regions_id_1)||!iA.has(EA.regions_id_2))){if(UA==="topk"&&Y!==null){const CA=EA.rank_1??1/0,HA=EA.rank_2??1/0;if(fA){if(CA>Y||HA>Y)continue}else if(CA>Y&&HA>Y)continue}yA.push(EA)}}return yA}),S=ce([E,h],([z,AA])=>{if(!z.length||AA.size===0)return[];const Y=new Set;for(const iA of z)Y.add(iA.regions_id_1),Y.add(iA.regions_id_2);const fA=[];return Y.forEach(iA=>{const yA=AA.get(iA);yA&&fA.push(yA)}),fA.sort((iA,yA)=>yA.id-iA.id)});function x(z,AA,Y=10,fA=200,iA=2,yA=25){if(!AA)return{strength:.5,distance:100,width:2};const{min:UA,_:bA,range:EA}=AA,CA=EA===0?.5:(z-UA)/EA,HA=fA-CA*(fA-Y),jA=iA+CA*(yA-iA);return{strength:CA,distance:HA,width:jA}}function G(z,AA,Y=10,fA=60){if(!AA)return Y;const{min:iA,_:yA,range:UA}=AA;return UA===0?(Y+fA)/2:Y+(z-iA)/UA*(fA-Y)}const R=ce([E],([z])=>{var bA;const AA=de(w),Y=de(C),fA=de(F),iA=new Set,yA=[];for(const EA of z){const{strength:CA,distance:HA,width:jA}=x(EA.weightedScore,fA.scoreRange);yA.push({source:EA.id_1,target:EA.id_2,strength:CA,distance:HA,width:jA}),iA.has(EA.id_1)||iA.add(EA.id_1),iA.has(EA.id_2)||iA.add(EA.id_2)}const UA=[];for(const EA of iA){const CA=AA.get(EA);if(CA){const HA=(bA=Y.scoreCount)==null?void 0:bA.get(EA),{count:jA,score:fe}=HA;UA.push({...CA,radius:G(fe,Y.scoreRange),label:`Region: ${CA.regionId}
Page: ${CA.canvas}
Connections: ${jA}
Total score: ${fe.toFixed(2)}`})}}return{nodes:UA,links:yA}}),I=ce(S,z=>{const AA=de(p),Y=de(b);if(z.size===0)return{nodes:[],links:[]};const fA=Array.from(z.values()).map(yA=>{var CA;const UA=(CA=Y.scoreCount)==null?void 0:CA.get(yA.id),{count:bA,score:EA}=UA;return{...yA,radius:G(bA,Y.countRange),label:`${yA.title}
Images: ${bA}
Total score: ${EA.toFixed(2)}`}}),iA=Array.from(AA.scoreCount.entries()).map(([yA,UA])=>{const[bA,EA]=yA.split("-").map(Number),{strength:CA,distance:HA,width:jA}=x(UA.score,AA.scoreRange);return{source:bA,target:EA,strength:CA,distance:HA,width:jA}});return{nodes:fA,links:iA}});function D(z){if(!z.length)return{regions:[],rows:[]};const AA=de(h),Y=de(B),fA=z[0],iA=AA.get(fA);if(!(iA!=null&&iA.images))return{regions:z,rows:[]};const yA=iA.images,UA=(HA,jA,fe)=>{const{r1:ge,r2:$A}={r1:jA,r2:fe},xA=ge<$A?`${ge}-${$A}`:`${$A}-${ge}`;return(Y.byDocPair.get(xA)||[]).map(LA=>LA.id_1===HA&&LA.regions_id_1===jA?{id:LA.id_2,page:LA.page_2}:LA.id_2===HA&&LA.regions_id_2===jA?{id:LA.id_1,page:LA.page_1}:null).filter(Boolean)},bA=[];for(const HA of yA){let jA=[{[fA]:{id:HA.id,page:HA.canvas}}];for(let fe=1;fe<z.length;fe++){const ge=z[fe],$A=[];for(const xA of jA){const Ie=[];for(let LA=0;LA<fe;LA++){const TA=z[LA];if(xA[TA]){const RA=UA(xA[TA].id,TA,ge);Ie.push(...RA)}}if(Ie.length===0)$A.push(xA);else{const LA=new Map;Ie.forEach(TA=>{LA.has(TA.id)||LA.set(TA.id,TA)});for(const TA of LA.values()){const RA={...xA,[ge]:TA};$A.push(RA)}}}jA=$A}bA.push(...jA)}const EA=[],CA=new Set;for(const HA of bA){const jA=z.map(fe=>{var ge;return((ge=HA[fe])==null?void 0:ge.id)||""}).join("|");CA.has(jA)||(CA.add(jA),EA.push(HA))}return{regions:z,rows:EA}}function k(z){n.update(AA=>AA.indexOf(z)>-1?AA.filter(fA=>fA!==z):[...AA,z].sort((fA,iA)=>fA-iA))}function W(z){i.update(AA=>{const Y=new Set(AA);return Y.has(z)?Y.delete(z):Y.add(z),Y})}function M(){const z=Array.from(de(h).keys());i.set(new Set(z))}function J(){if(!de(n).includes(0))return;const{min:z,max:AA}=de(F).scoreRange||{};z==null||AA==null||de(o)===z&&o.set((z+AA)/2)}const P=NA("filtered"),rA=NA(!1),uA=ce(E,z=>{const AA=new Set;for(const Y of z)AA.add(`${Y.id_1}-${Y.id_2}`);return AA}),BA=ce(E,z=>{const AA=new Map;if(!(z!=null&&z.length))return{scoreCount:AA,scoreRange:{min:0,max:0,range:0}};let Y=1/0,fA=-1/0;for(const iA of z){const yA=iA.regions_id_1<iA.regions_id_2?`${iA.regions_id_1}-${iA.regions_id_2}`:`${iA.regions_id_2}-${iA.regions_id_1}`,UA=AA.get(yA)||{score:0,count:0};UA.score+=iA.weightedScore||0,UA.count++,AA.set(yA,UA)}for(const{score:iA}of AA.values())iA<Y&&(Y=iA),iA>fA&&(fA=iA);return Y===1/0&&(Y=fA=0),{scoreCount:AA,scoreRange:{min:Y,max:fA,range:fA-Y}}}),q=ce(E,z=>{const AA=new Map;if(!(z!=null&&z.length))return{scoreCount:AA,countRange:{min:0,max:0,range:0}};for(const iA of z)for(const yA of[iA.regions_id_1,iA.regions_id_2]){const UA=AA.get(yA)||{score:0,count:0};UA.score+=iA.weightedScore||0,UA.count++,AA.set(yA,UA)}let Y=1/0,fA=-1/0;for(const{count:iA}of AA.values())iA<Y&&(Y=iA),iA>fA&&(fA=iA);return Y===1/0&&(Y=fA=0),{scoreCount:AA,countRange:{min:Y,max:fA,range:fA-Y}}}),QA=ce([P,p,BA],([z,AA,Y])=>z==="filtered"?Y:AA),lA=ce([P,b,q],([z,AA,Y])=>z==="filtered"?Y:AA),mA=ce(h,z=>{var Y;const AA=new Map;for(const[fA,iA]of z)AA.set(fA,Math.max(1,((Y=iA.images)==null?void 0:Y.length)||iA.img_nb||1));return AA});return{error:A,loadingProgress:r,cancelLoading:()=>{d&&(d.abort(),t.set(!1))},allPairs:u,visiblePairs:E,pairIndex:B,documentNodes:h,imageNodes:w,fetchPairs:y,imageNetwork:R,documentNetwork:I,selectedCategories:n,pairStats:F,documentStats:b,imageStats:C,docPairStats:p,docSetNumber:U,selectedNodes:s,selectedRegions:i,updateSelectedNodes:z=>s.set(z),toggleCategory:k,toggleRegion:W,selectAllRegions:M,buildAlignedImageMatrix:D,threshold:o,setThreshold:z=>o.set(z),topK:a,setTopK:z=>a.set(z),mutualTopK:l,setMutualTopK:z=>l.set(z),scoreMode:c,setScoreMode:z=>c.set(z),matrixMode:P,setMatrixMode:z=>P.set(z),normalizeByImages:rA,activeDocPairStats:QA,activeDocStats:lA,imageCountMap:mA,visiblePairIds:uA}}function Fy(e){let A,t,r;const n=e[1].default,i=re(n,e,e[0],null);return{c(){A=_("table"),t=_("tbody"),i&&i.c(),Q(A,"class","table is-fullwidth")},m(s,o){O(s,A,o),m(A,t),i&&i.m(t,null),r=!0},p(s,[o]){i&&i.p&&(!r||o&1)&&ie(i,n,s,s[0],r?ne(n,s[0],o,null):se(s[0]),null)},i(s){r||(N(i,s),r=!0)},o(s){X(i,s),r=!1},d(s){s&&T(A),i&&i.d(s)}}}function _y(e,A,t){let{$$slots:r={},$$scope:n}=A;return e.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,r]}class yy extends DA{constructor(A){super(),MA(this,A,_y,Fy,SA,{})}}const by=e=>({}),Cg=e=>({}),Ey=e=>({}),vg=e=>({}),Hy=e=>({}),Ug=e=>({});function Iy(e){let A;const t=e[4]["row-body"],r=re(t,e,e[3],Cg);return{c(){r&&r.c()},m(n,i){r&&r.m(n,i),A=!0},p(n,i){r&&r.p&&(!A||i&8)&&ie(r,t,n,n[3],A?ne(t,n[3],i,by):se(n[3]),Cg)},i(n){A||(N(r,n),A=!0)},o(n){X(r,n),A=!1},d(n){r&&r.d(n)}}}function Sy(e){let A,t,r,n;const i=e[4]["row-body"],s=re(i,e,e[3],vg);return{c(){A=_("div"),t=_("div"),s&&s.c(),Q(t,"class","grid is-gap-2"),Q(A,"class",r="fixed-grid has-"+e[2]+"-cols")},m(o,a){O(o,A,a),m(A,t),s&&s.m(t,null),n=!0},p(o,a){s&&s.p&&(!n||a&8)&&ie(s,i,o,o[3],n?ne(i,o[3],a,Ey):se(o[3]),vg),(!n||a&4&&r!==(r="fixed-grid has-"+o[2]+"-cols"))&&Q(A,"class",r)},i(o){n||(N(s,o),n=!0)},o(o){X(s,o),n=!1},d(o){o&&T(A),s&&s.d(o)}}}function xy(e){let A,t,r,n,i,s,o,a,l,c;ze(e[5]);const u=e[4]["row-header"],f=re(u,e,e[3],Ug),g=[Sy,Iy],d=[];function B(w,h){return w[0]?0:1}return s=B(e),o=d[s]=g[s](e),{c(){A=_("tr"),t=_("th"),r=_("div"),f&&f.c(),n=V(),i=_("td"),o.c(),Q(r,"class","content-wrapper py-5"),Q(t,"class","is-3 center-flex is-narrow"),FA(t,"width","15vw"),Q(i,"class","p-5 is-fullwidth")},m(w,h){O(w,A,h),m(A,t),m(t,r),f&&f.m(r,null),m(A,n),m(A,i),d[s].m(i,null),a=!0,l||(c=gA(window,"resize",e[5]),l=!0)},p(w,[h]){f&&f.p&&(!a||h&8)&&ie(f,u,w,w[3],a?ne(u,w[3],h,Hy):se(w[3]),Ug);let F=s;s=B(w),s===F?d[s].p(w,h):(kA(),X(d[F],1,1,()=>{d[F]=null}),KA(),o=d[s],o?o.p(w,h):(o=d[s]=g[s](w),o.c()),N(o,1),o.m(i,null))},i(w){a||(N(f,w),N(o),a=!0)},o(w){X(f,w),X(o),a=!1},d(w){w&&T(A),f&&f.d(w),d[s].d(),l=!1,c()}}}function Ly(e,A,t){let r,{$$slots:n={},$$scope:i}=A,{useGrid:s=!0}=A,o=0;function a(){t(1,o=window.innerWidth)}return e.$$set=l=>{"useGrid"in l&&t(0,s=l.useGrid),"$$scope"in l&&t(3,i=l.$$scope)},e.$$.update=()=>{e.$$.dirty&2&&t(2,r=TB(o))},[s,o,r,i,n,a]}class ky extends DA{constructor(A){super(),MA(this,A,Ly,xy,SA,{useGrid:0})}}const pE="",Ky=e=>({}),Fg=e=>({}),My=e=>({}),_g=e=>({});function yg(e){let A,t,r,n,i,s,o,a,l,c,u,f=e[1]&&bg(e);return a=new ws({props:{tooltipText:e[2][e[1]][j]}}),{c(){f&&f.c(),A=V(),t=_("div"),r=_("button"),n=ct("svg"),i=ct("path"),o=V(),pA(a.$$.fragment),Q(i,"fill","none"),Q(i,"stroke","currentColor"),Q(i,"stroke-linecap","round"),Q(i,"stroke-linejoin","round"),Q(i,"stroke-width","1.5"),Q(i,"d","M12 3v18m0 0l8.5-8.5M12 21l-8.5-8.5"),Q(n,"style",s=`transform: rotate(${e[1]?"180":"0"}deg)`),Q(n,"xmlns","http://www.w3.org/2000/svg"),Q(n,"width","24"),Q(n,"height","24"),Q(n,"viewBox","0 0 24 24"),Q(n,"class","svelte-jbs1sd"),Q(r,"class","button is-link svelte-jbs1sd"),Q(t,"class","ctrl-toggle svelte-jbs1sd")},m(g,d){f&&f.m(g,d),O(g,A,d),O(g,t,d),m(t,r),m(r,n),m(n,i),m(r,o),hA(a,r,null),l=!0,c||(u=gA(r,"click",Ct(e[3])),c=!0)},p(g,d){g[1]?f?(f.p(g,d),d&2&&N(f,1)):(f=bg(g),f.c(),N(f,1),f.m(A.parentNode,A)):f&&(kA(),X(f,1,1,()=>{f=null}),KA()),(!l||d&2&&s!==(s=`transform: rotate(${g[1]?"180":"0"}deg)`))&&Q(n,"style",s);const B={};d&2&&(B.tooltipText=g[2][g[1]][j]),a.$set(B)},i(g){l||(N(f),N(a.$$.fragment,g),l=!0)},o(g){X(f),X(a.$$.fragment,g),l=!1},d(g){f&&f.d(g),g&&T(A),g&&T(t),wA(a),c=!1,u()}}}function bg(e){let A,t,r;const n=e[5]["toolbar-hidden"],i=re(n,e,e[4],Fg);return{c(){A=_("div"),i&&i.c(),Q(A,"class","ctrl-extra")},m(s,o){O(s,A,o),i&&i.m(A,null),r=!0},p(s,o){i&&i.p&&(!r||o&16)&&ie(i,n,s,s[4],r?ne(n,s[4],o,Ky):se(s[4]),Fg)},i(s){r||(N(i,s),ze(()=>{r&&(t||(t=Qn(A,wa,{axis:"y"},!0)),t.run(1))}),r=!0)},o(s){X(i,s),t||(t=Qn(A,wa,{axis:"y"},!1)),t.run(0),r=!1},d(s){s&&T(A),i&&i.d(s),s&&t&&t.end()}}}function Dy(e){let A,t,r,n,i,s,o,a;const l=e[5]["toolbar-visible"],c=re(l,e,e[4],_g);let u=e[0]&&yg(e);return{c(){A=_("div"),t=_("form"),r=_("div"),n=_("div"),i=_("div"),c&&c.c(),s=V(),u&&u.c(),Q(i,"class","ctrl-block svelte-jbs1sd"),Q(n,"class","ctrl-block-wrapper svelte-jbs1sd"),Q(r,"class","ctrl-base"),Q(t,"class","ctrl svelte-jbs1sd"),Q(A,"id","toolbar"),Q(A,"class",o="ctrl-wrapper is-flex is-justify-content-center is-align-items-center "+(e[1]?"toolbar-expanded":"toolbar-collapsed")+" svelte-jbs1sd")},m(f,g){O(f,A,g),m(A,t),m(t,r),m(r,n),m(n,i),c&&c.m(i,null),m(t,s),u&&u.m(t,null),a=!0},p(f,[g]){c&&c.p&&(!a||g&16)&&ie(c,l,f,f[4],a?ne(l,f[4],g,My):se(f[4]),_g),f[0]?u?(u.p(f,g),g&1&&N(u,1)):(u=yg(f),u.c(),N(u,1),u.m(t,null)):u&&(kA(),X(u,1,1,()=>{u=null}),KA()),(!a||g&2&&o!==(o="ctrl-wrapper is-flex is-justify-content-center is-align-items-center "+(f[1]?"toolbar-expanded":"toolbar-collapsed")+" svelte-jbs1sd"))&&Q(A,"class",o)},i(f){a||(N(c,f),N(u),a=!0)},o(f){X(c,f),X(u),a=!1},d(f){f&&T(A),c&&c.d(f),u&&u.d()}}}function Ty(e,A,t){let r,{$$slots:n={},$$scope:i}=A,{expandable:s=!0}=A;const o={true:{en:"Collapse the toolbar",fr:"Refermer le menu"},false:{en:"Expand the toolbar",fr:"Ouvrir le menu"}},a=()=>t(1,r=!r);return e.$$set=l=>{"expandable"in l&&t(0,s=l.expandable),"$$scope"in l&&t(4,i=l.$$scope)},t(1,r=!1),[s,r,o,a,i,n]}class Oy extends DA{constructor(A){super(),MA(this,A,Ty,Dy,SA,{expandable:0})}}function Eg(e){let A,t,r,n,i,s,o,a,l,c=e[5]>1&&Hg(e),u=e[5]<e[3]&&xg(e);return{c(){A=_("nav"),t=_("ul"),c&&c.c(),r=V(),n=_("li"),i=_("a"),s=sA(e[5]),o=V(),u&&u.c(),Q(i,"class","pagination-link is-current"),Q(i,"href",null),Q(t,"class","pagination-list ml-0"),Q(A,"class","pagination is-centered mb-2"),Q(A,"aria-label","pagination")},m(f,g){O(f,A,g),m(A,t),c&&c.m(t,null),m(t,r),m(t,n),m(n,i),m(i,s),m(t,o),u&&u.m(t,null),a||(l=gA(i,"click",Ct(e[9])),a=!0)},p(f,g){f[5]>1?c?c.p(f,g):(c=Hg(f),c.c(),c.m(t,r)):c&&(c.d(1),c=null),g&32&&_A(s,f[5]),f[5]<f[3]?u?u.p(f,g):(u=xg(f),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},d(f){f&&T(A),c&&c.d(),u&&u.d(),a=!1,l()}}}function Hg(e){let A,t,r,n,i,s,o=e[5]-1>1&&Ig(e);return{c(){A=_("li"),t=_("a"),t.textContent="1",r=V(),o&&o.c(),n=ye(),Q(t,"class","pagination-link"),Q(t,"href",null)},m(a,l){O(a,A,l),m(A,t),O(a,r,l),o&&o.m(a,l),O(a,n,l),i||(s=gA(t,"click",Ct(e[7])),i=!0)},p(a,l){a[5]-1>1?o?o.p(a,l):(o=Ig(a),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(a){a&&T(A),a&&T(r),o&&o.d(a),a&&T(n),i=!1,s()}}}function Ig(e){let A,t,r,n=e[5]-1+"",i,s,o,a=e[5]-1>2&&Sg();return{c(){a&&a.c(),A=V(),t=_("li"),r=_("a"),i=sA(n),Q(r,"class","pagination-link"),Q(r,"href",null)},m(l,c){a&&a.m(l,c),O(l,A,c),O(l,t,c),m(t,r),m(r,i),s||(o=gA(r,"click",Ct(e[8])),s=!0)},p(l,c){l[5]-1>2?a||(a=Sg(),a.c(),a.m(A.parentNode,A)):a&&(a.d(1),a=null),c&32&&n!==(n=l[5]-1+"")&&_A(i,n)},d(l){a&&a.d(l),l&&T(A),l&&T(t),s=!1,o()}}}function Sg(e){let A;return{c(){A=_("li"),A.innerHTML='<span class="pagination-ellipsis">…</span>'},m(t,r){O(t,A,r)},d(t){t&&T(A)}}}function xg(e){let A,t,r,n,i,s,o=e[5]+1<e[3]&&Lg(e);return{c(){o&&o.c(),A=V(),t=_("li"),r=_("a"),n=sA(e[3]),Q(r,"class","pagination-link"),Q(r,"href",null)},m(a,l){o&&o.m(a,l),O(a,A,l),O(a,t,l),m(t,r),m(r,n),i||(s=gA(r,"click",Ct(e[11])),i=!0)},p(a,l){a[5]+1<a[3]?o?o.p(a,l):(o=Lg(a),o.c(),o.m(A.parentNode,A)):o&&(o.d(1),o=null),l&8&&_A(n,a[3])},d(a){o&&o.d(a),a&&T(A),a&&T(t),i=!1,s()}}}function Lg(e){let A,t,r=e[5]+1+"",n,i,s,o,a,l=e[5]+2<e[3]&&kg();return{c(){A=_("li"),t=_("a"),n=sA(r),i=V(),l&&l.c(),s=ye(),Q(t,"class","pagination-link"),Q(t,"href",null)},m(c,u){O(c,A,u),m(A,t),m(t,n),O(c,i,u),l&&l.m(c,u),O(c,s,u),o||(a=gA(t,"click",Ct(e[10])),o=!0)},p(c,u){u&32&&r!==(r=c[5]+1+"")&&_A(n,r),c[5]+2<c[3]?l||(l=kg(),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d(c){c&&T(A),c&&T(i),l&&l.d(c),c&&T(s),o=!1,a()}}}function kg(e){let A;return{c(){A=_("li"),A.innerHTML='<span class="pagination-ellipsis">…</span>'},m(t,r){O(t,A,r)},d(t){t&&T(A)}}}function Ny(e){let A,t,r=e[5]*e[2]-e[2]+1+"",n,i,s=Math.min(e[5]*e[2],e[1])+"",o,a,l,c,u=e[4]&&Eg(e);return{c(){u&&u.c(),A=V(),t=_("div"),n=sA(r),i=sA(" - "),o=sA(s),a=sA(" / "),l=sA(e[1]),Q(t,"class",c="is-size-7 is-center mb-4 "+(e[4]?"":"mt-4"))},m(f,g){u&&u.m(f,g),O(f,A,g),O(f,t,g),m(t,n),m(t,i),m(t,o),m(t,a),m(t,l)},p(f,[g]){f[4]?u?u.p(f,g):(u=Eg(f),u.c(),u.m(A.parentNode,A)):u&&(u.d(1),u=null),g&36&&r!==(r=f[5]*f[2]-f[2]+1+"")&&_A(n,r),g&38&&s!==(s=Math.min(f[5]*f[2],f[1])+"")&&_A(o,s),g&2&&_A(l,f[1]),g&16&&c!==(c="is-size-7 is-center mb-4 "+(f[4]?"":"mt-4"))&&Q(t,"class",c)},i:$,o:$,d(f){u&&u.d(f),f&&T(A),f&&T(t)}}}function Ry(e,A,t){let r,n,i,{store:s}=A;const{currentPage:o}=s;vA(e,o,B=>t(5,i=B));let{nbOfItems:a}=A,{pageLength:l=HB}=A;const c=()=>s.handlePageUpdate(1),u=()=>s.handlePageUpdate(i-1),f=()=>s.handlePageUpdate(i),g=()=>s.handlePageUpdate(i+1),d=()=>s.handlePageUpdate(r);return e.$$set=B=>{"store"in B&&t(0,s=B.store),"nbOfItems"in B&&t(1,a=B.nbOfItems),"pageLength"in B&&t(2,l=B.pageLength)},e.$$.update=()=>{e.$$.dirty&6&&t(3,r=l>0?Math.ceil(a/l):1),e.$$.dirty&14&&t(4,n=r>1||a>l)},[s,a,l,r,n,i,o,c,u,f,g,d]}class Kg extends DA{constructor(A){super(),MA(this,A,Ry,Ny,SA,{store:0,nbOfItems:1,pageLength:2})}}function Vy(e){let A,t,r,n,i=j==="en"?"Save selection":"Sauvegarder la sélection",s,o,a;return{c(){A=_("button"),t=_("span"),r=_("i"),n=V(),s=sA(i),Q(r,"class","fa-solid fa-floppy-disk"),Q(A,"class","button is-link")},m(l,c){O(l,A,c),m(A,t),m(t,r),m(t,n),m(t,s),o||(a=gA(A,"click",e[7]),o=!0)},p:$,d(l){l&&T(A),o=!1,a()}}}function Gy(e){let A,t,r,n,i=j==="en"?"Go to treatment":"Accéder au traitement",s,o;return{c(){var a;A=_("a"),t=_("span"),r=_("i"),n=V(),s=sA(i),Q(r,"class","fa-solid fa-gear"),Q(A,"class","button is-link"),Q(A,"href",o="/"+nt+"/treatment/add/?document_set="+((a=e[3])==null?void 0:a.id))},m(a,l){O(a,A,l),m(A,t),m(t,r),m(t,n),m(t,s)},p(a,l){var c;l&8&&o!==(o="/"+nt+"/treatment/add/?document_set="+((c=a[3])==null?void 0:c.id))&&Q(A,"href",o)},d(a){a&&T(A)}}}function Mg(e){let A,t,r,n,i,s,o;return{c(){var a,l;A=_("a"),t=_("span"),t.innerHTML='<i class="fa-solid fa-file-export"></i> JSON',n=V(),i=_("a"),s=_("span"),s.innerHTML='<i class="fa-solid fa-file-zipper"></i> ZIP',Q(A,"class","button is-link is-dark"),Q(A,"href",r="/"+nt+"/document-set/"+((a=e[3])==null?void 0:a.id)+"/json"),Q(A,"target","_blank"),Q(i,"class","button is-link is-dark"),Q(i,"href",o="/"+nt+"/document-set/"+((l=e[3])==null?void 0:l.id)+"/zip"),Q(i,"target","_blank")},m(a,l){O(a,A,l),m(A,t),O(a,n,l),O(a,i,l),m(i,s)},p(a,l){var c,u;l&8&&r!==(r="/"+nt+"/document-set/"+((c=a[3])==null?void 0:c.id)+"/json")&&Q(A,"href",r),l&8&&o!==(o="/"+nt+"/document-set/"+((u=a[3])==null?void 0:u.id)+"/zip")&&Q(i,"href",o)},d(a){a&&T(A),a&&T(n),a&&T(i)}}}function Py(e){let A,t,r,n,i,s,o;function a(f,g){return f[2]&&!f[1]?Gy:Vy}let l=a(e),c=l(e),u=!e[1]&&Mg(e);return{c(){A=_("footer"),t=_("div"),r=_("button"),r.textContent=`${j==="en"?"Clear selection":"Vider la sélection"}`,n=V(),c.c(),i=V(),u&&u.c(),Q(r,"class","button button-close is-link is-light"),Q(t,"class","buttons"),Q(A,"class","modal-card-foot is-center")},m(f,g){O(f,A,g),m(A,t),m(t,r),m(t,n),c.m(t,null),m(t,i),u&&u.m(t,null),s||(o=gA(r,"click",e[6]),s=!0)},p(f,[g]){l===(l=a(f))&&c?c.p(f,g):(c.d(1),c=l(f),c&&(c.c(),c.m(t,i))),f[1]?u&&(u.d(1),u=null):u?u.p(f,g):(u=Mg(f),u.c(),u.m(t,null))},i:$,o:$,d(f){f&&T(A),c.d(),u&&u.d(),s=!1,o()}}}function Xy(e,A,t){let r,n,{selectionStore:i}=A;const{isSaved:s,selection:o}=i;vA(e,s,u=>t(2,r=u)),vA(e,o,u=>t(3,n=u));let{isRegion:a=i.type!=="documentSet"}=A;const l=()=>i.empty(),c=()=>i.save();return e.$$set=u=>{"selectionStore"in u&&t(0,i=u.selectionStore),"isRegion"in u&&t(1,a=u.isRegion)},[i,a,r,n,s,o,l,c]}class Jy extends DA{constructor(A){super(),MA(this,A,Xy,Py,SA,{selectionStore:0,isRegion:1})}}const mE="";function Dg(e,A,t){const r=e.slice();return r[31]=A[t],r}function Tg(e,A,t){const r=e.slice();return r[31]=A[t],r}function Yy(e){let A,t,r,n,i,s;return{c(){A=_("span"),t=sA(e[10]),r=V(),n=_("span"),n.innerHTML='<i class="fas fa-edit"></i>',Q(n,"class","pl-3 smaller has-text-link")},m(o,a){O(o,A,a),m(A,t),m(A,r),m(A,n),i||(s=[gA(A,"click",e[14]),gA(A,"keyup",null)],i=!0)},p(o,a){a[0]&1024&&_A(t,o[10])},d(o){o&&T(A),i=!1,te(s)}}}function Wy(e){let A,t,r;return{c(){A=_("input"),Q(A,"class","input selection-title svelte-fumu7c")},m(n,i){O(n,A,i),e[23](A),Bn(A,e[5]),t||(r=[gA(A,"input",e[24]),gA(A,"keydown",e[15]),gA(A,"blur",e[16])],t=!0)},p(n,i){i[0]&32&&A.value!==n[5]&&Bn(A,n[5])},d(n){n&&T(A),e[23](null),t=!1,te(r)}}}function Og(e){let A,t,r;function n(){return e[25](e[31])}return{c(){A=_("button"),Q(A,"class","tag is-delete is-link ml-0")},m(i,s){O(i,A,s),t||(r=gA(A,"click",n),t=!0)},p(i,s){e=i},d(i){i&&T(A),t=!1,r()}}}function Ng(e,A){let t,r,n=A[31].username+"",i,s,o,a=A[9]&&Og(A);return{key:e,first:null,c(){t=_("div"),r=_("span"),i=sA(n),s=V(),a&&a.c(),o=V(),Q(r,"class","tag"),Q(t,"class","tags has-addons svelte-fumu7c"),this.first=t},m(l,c){O(l,t,c),m(t,r),m(r,i),m(t,s),a&&a.m(t,null),m(t,o)},p(l,c){A=l,c[0]&256&&n!==(n=A[31].username+"")&&_A(i,n),A[9]?a?a.p(A,c):(a=Og(A),a.c(),a.m(t,o)):a&&(a.d(1),a=null)},d(l){l&&T(t),a&&a.d()}}}function Rg(e){let A,t,r,n,i,s,o,a,l,c,u,f,g,d,B=j==="en"?"Make public":"Rendre public",w,h,F,b=e[7].length>0&&Vg(e);return{c(){var C;A=_("div"),t=_("div"),r=_("div"),n=_("p"),i=_("input"),s=V(),o=_("span"),o.innerHTML='<i class="fas fa-search"></i>',a=V(),b&&b.c(),l=V(),c=_("div"),u=_("label"),f=_("input"),d=V(),w=sA(B),Q(i,"class","input svelte-fumu7c"),Q(i,"placeholder","Search users…"),Q(o,"class","icon is-small is-right"),Q(n,"class","control is-expanded has-icons-right"),Q(r,"class","field"),Q(t,"class","dropdown-trigger"),Q(A,"class","dropdown is-active"),Q(f,"type","checkbox"),f.checked=g=(C=e[2])==null?void 0:C.is_public,Q(u,"class","checkbox"),Q(c,"class","field mt-3 is-right")},m(C,p){O(C,A,p),m(A,t),m(t,r),m(r,n),m(n,i),Bn(i,e[6]),m(n,s),m(n,o),m(A,a),b&&b.m(A,null),O(C,l,p),O(C,c,p),m(c,u),m(u,f),m(u,d),m(u,w),h||(F=[gA(i,"input",e[26]),gA(i,"input",e[17]),gA(f,"change",e[28])],h=!0)},p(C,p){var U;p[0]&64&&i.value!==C[6]&&Bn(i,C[6]),C[7].length>0?b?b.p(C,p):(b=Vg(C),b.c(),b.m(A,null)):b&&(b.d(1),b=null),p[0]&4&&g!==(g=(U=C[2])==null?void 0:U.is_public)&&(f.checked=g)},d(C){C&&T(A),b&&b.d(),C&&T(l),C&&T(c),h=!1,te(F)}}}function Vg(e){let A,t,r=e[7],n=[];for(let i=0;i<r.length;i+=1)n[i]=Gg(Dg(e,r,i));return{c(){A=_("div"),t=_("div");for(let i=0;i<n.length;i+=1)n[i].c();Q(t,"class","dropdown-content"),Q(A,"class","dropdown-menu"),Q(A,"id","dropdown-menu"),Q(A,"role","menu")},m(i,s){O(i,A,s),m(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s[0]&262272){r=i[7];let o;for(o=0;o<r.length;o+=1){const a=Dg(i,r,o);n[o]?n[o].p(a,s):(n[o]=Gg(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&T(A),ve(n,i)}}}function Gg(e){let A,t=e[31].username+"",r,n,i,s;function o(){return e[27](e[31])}return{c(){A=_("div"),r=sA(t),n=V(),Q(A,"class","dropdown-item")},m(a,l){O(a,A,l),m(A,r),m(A,n),i||(s=[gA(A,"click",o),gA(A,"keydown",null)],i=!0)},p(a,l){e=a,l[0]&128&&t!==(t=e[31].username+"")&&_A(r,t)},d(a){a&&T(A),i=!1,te(s)}}}function zy(e){let A,t,r,n,i,s,o,a,l,c,u,f,g,d,B,w,h,F,b,C=[],p=new Map,U,y,v,E,S,x;function G(P,rA){return P[3]?Wy:Yy}let R=G(e),I=R(e);const D=e[22].default,k=re(D,e,e[21],null);let W=e[8];const M=P=>P[31].id;for(let P=0;P<W.length;P+=1){let rA=Tg(e,W,P),uA=M(rA);p.set(uA,C[P]=Ng(uA,rA))}let J=e[9]&&Rg(e);return v=new Jy({props:{selectionStore:e[0]}}),{c(){A=_("div"),t=_("div"),r=V(),n=_("div"),i=_("div"),s=_("div"),o=_("i"),a=V(),I.c(),l=sA(`

                (`),c=sA(e[1]),u=sA(")"),f=V(),g=_("button"),d=V(),B=_("section"),k&&k.c(),w=V(),h=_("h4"),h.textContent=`${j==="en"?"Shared with":"Partagé avec"}`,F=V(),b=_("div");for(let P=0;P<C.length;P+=1)C[P].c();U=V(),J&&J.c(),y=V(),pA(v.$$.fragment),Q(t,"class","modal-background"),Q(o,"class","fa-solid fa-book-bookmark"),Q(s,"class","title is-4 mb-0 media-content"),Q(g,"class","delete media-left"),Q(g,"aria-label","close"),Q(i,"class","modal-card-head media mb-0 is-middle"),Q(b,"class","field is-grouped is-grouped-multiline"),Q(B,"class","modal-card-body"),Q(n,"class","modal-content"),Q(A,"id","selection-modal"),Q(A,"class","modal fade"),Q(A,"tabindex","-1"),Q(A,"aria-labelledby","selection-modal-label"),Q(A,"aria-hidden","true")},m(P,rA){O(P,A,rA),m(A,t),m(A,r),m(A,n),m(n,i),m(i,s),m(s,o),m(s,a),I.m(s,null),m(s,l),m(s,c),m(s,u),m(i,f),m(i,g),m(n,d),m(n,B),k&&k.m(B,null),m(B,w),m(B,h),m(B,F),m(B,b);for(let uA=0;uA<C.length;uA+=1)C[uA]&&C[uA].m(b,null);m(B,U),J&&J.m(B,null),m(n,y),hA(v,n,null),E=!0,S||(x=Zt(gs.call(null,A)),S=!0)},p(P,rA){R===(R=G(P))&&I?I.p(P,rA):(I.d(1),I=R(P),I&&(I.c(),I.m(s,l))),(!E||rA[0]&2)&&_A(c,P[1]),k&&k.p&&(!E||rA[0]&2097152)&&ie(k,D,P,P[21],E?ne(D,P[21],rA,null):se(P[21]),null),rA[0]&525056&&(W=P[8],C=vn(C,rA,M,1,P,W,p,b,ua,Ng,null,Tg)),P[9]?J?J.p(P,rA):(J=Rg(P),J.c(),J.m(B,null)):J&&(J.d(1),J=null);const uA={};rA[0]&1&&(uA.selectionStore=P[0]),v.$set(uA)},i(P){E||(N(k,P),N(v.$$.fragment,P),E=!0)},o(P){X(k,P),X(v.$$.fragment,P),E=!1},d(P){P&&T(A),I.d(),k&&k.d(P);for(let rA=0;rA<C.length;rA+=1)C[rA].d();J&&J.d(),wA(v),S=!1,x()}}}function Zy(e,A,t){let r,n,i,s,o,{$$slots:a={},$$scope:l}=A;const{selected:c}=dQ;vA(e,c,M=>t(2,s=M));let{selectionStore:u}=A,{selectionLength:f=!1}=A;const{selectionTitle:g,updateTitle:d,updatePublic:B,save:w}=u;vA(e,g,M=>t(10,o=M));let h=!1,F,b;function C(){t(3,h=!0),t(5,b=o),setTimeout(()=>F==null?void 0:F.focus(),0)}function p(M){M.key==="Enter"&&U()}function U(){t(3,h=!1),d(b),w()}let y="",v=[];async function E(){if(y.trim().length<1){t(7,v=[]);return}const J=await(await fetch(`${window.location.origin}/search/user?q=${encodeURIComponent(y)}`)).json();t(7,v=J.users||[])}function S(M){u.add({id:M.id,class:"User",title:M.username}),t(6,y=""),t(7,v=[])}function x(M){u.remove(M,"User")}function G(M){Ne[M?"unshift":"push"](()=>{F=M,t(4,F)})}function R(){b=this.value,t(5,b)}const I=M=>x(M.id);function D(){y=this.value,t(6,y)}const k=M=>S(M),W=M=>B(M.target.checked);return e.$$set=M=>{"selectionStore"in M&&t(0,u=M.selectionStore),"selectionLength"in M&&t(1,f=M.selectionLength),"$$scope"in M&&t(21,l=M.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&4&&t(20,r=s==null?void 0:s.owner_id),e.$$.dirty[0]&1048576&&t(9,n=Fn||r===_B),e.$$.dirty[0]&4&&t(8,i=Object.entries((s==null?void 0:s.User)||{}).map(([M,J])=>({id:Number(M),username:J.title})))},[u,f,s,h,F,b,y,v,i,n,o,c,g,B,C,p,U,E,S,x,r,l,a,G,R,I,D,k,W]}class jy extends DA{constructor(A){super(),MA(this,A,Zy,zy,SA,{selectionStore:0,selectionLength:1},null,[-1,-1])}}const QE="";function $y(e){let A,t,r,n,i,s=j==="en"?"Selection":"Sélection",o,a,l,c,u,f;return{c(){A=_("div"),t=_("button"),r=_("span"),n=_("i"),i=V(),o=sA(s),a=sA(`
            (`),l=sA(e[0]),c=sA(")"),Q(n,"class","fa-solid fa-book-bookmark"),Q(r,"id","btn-content"),Q(t,"id","set-btn"),Q(t,"class","button px-5 py-4 is-link svelte-gmt9z5"),Q(t,"data-target","selection-modal"),Q(A,"class","set-container svelte-gmt9z5")},m(g,d){O(g,A,d),m(A,t),m(t,r),m(r,n),m(r,i),m(r,o),m(r,a),m(r,l),m(r,c),u||(f=Zt(da.call(null,t)),u=!0)},p(g,[d]){d&1&&_A(l,g[0])},i:$,o:$,d(g){g&&T(A),u=!1,f()}}}function qy(e,A,t){let{selectionLength:r=0}=A,n=r;return e.$$set=i=>{"selectionLength"in i&&t(0,r=i.selectionLength)},e.$$.update=()=>{if(e.$$.dirty&3&&r!==n){const i=r>n;t(1,n=r);const s=document.getElementById("btn-content");s&&s.animate([{transform:i?"translateY(-7px)":"translateX(-5px)"},{transform:i?"translateY(7px)":"translateX(5px)"},{transform:"translate(0)"}],{duration:300,easing:"cubic-bezier(0.65, 0, 0.35, 1)"})}},[r,n]}class Ab extends DA{constructor(A){super(),MA(this,A,qy,$y,SA,{selectionLength:0})}}const CE="";function Pg(e,A,t){const r=e.slice();return r[7]=A[t][0],r[8]=A[t][1],r}function eb(e){let A;return{c(){A=_("div"),A.textContent=`${j==="en"?"No regions in selection":"Aucune région sélectionnée"}`},m(t,r){O(t,A,r)},p:$,d(t){t&&T(A)}}}function tb(e){let A,t,r=Object.entries(e[2]),n=[];for(let i=0;i<r.length;i+=1)n[i]=Xg(Pg(e,r,i));return{c(){A=_("div"),t=_("div");for(let i=0;i<n.length;i+=1)n[i].c();Q(t,"class","grid is-gap-2"),Q(A,"class","fixed-grid has-6-cols")},m(i,s){O(i,A,s),m(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s&13){r=Object.entries(i[2]);let o;for(o=0;o<r.length;o+=1){const a=Pg(i,r,o);n[o]?n[o].p(a,s):(n[o]=Xg(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&T(A),ve(n,i)}}}function Xg(e){let A,t,r,n,i,s,o,a=e[8].title+"",l,c,u,f,g,d;function B(){return e[6](e[7])}return{c(){A=_("div"),t=_("figure"),r=_("img"),i=V(),s=_("div"),o=_("span"),l=sA(a),c=V(),u=_("button"),f=V(),rt(r.src,n=nr(e[8].img,e[8].xywh,"96,"))||Q(r,"src",n),Q(r,"alt","Extracted region"),Q(o,"class","overlay-desc"),Q(s,"class","overlay is-center svelte-g8ij5d"),Q(t,"class","image is-64x64 card"),Q(u,"class","delete region-btn svelte-g8ij5d"),Q(u,"aria-label","remove from selection"),Q(A,"class","selection cell svelte-g8ij5d")},m(w,h){O(w,A,h),m(A,t),m(t,r),m(t,i),m(t,s),m(s,o),m(o,l),m(A,c),m(A,u),m(A,f),g||(d=gA(u,"click",B),g=!0)},p(w,h){e=w,h&4&&!rt(r.src,n=nr(e[8].img,e[8].xywh,"96,"))&&Q(r,"src",n),h&4&&a!==(a=e[8].title+"")&&_A(l,a)},d(w){w&&T(A),g=!1,d()}}}function rb(e){let A;function t(i,s){return i[4]?tb:eb}let r=t(e),n=r(e);return{c(){n.c(),A=ye()},m(i,s){n.m(i,s),O(i,A,s)},p(i,s){r===(r=t(i))&&n?n.p(i,s):(n.d(1),n=r(i),n&&(n.c(),n.m(A.parentNode,A)))},d(i){n.d(i),i&&T(A)}}}function nb(e){let A,t,r,n;return A=new Ab({props:{selectionLength:e[1]}}),r=new jy({props:{selectionLength:e[1],selectionStore:e[0],$$slots:{default:[rb]},$$scope:{ctx:e}}}),{c(){pA(A.$$.fragment),t=V(),pA(r.$$.fragment)},m(i,s){hA(A,i,s),O(i,t,s),hA(r,i,s),n=!0},p(i,[s]){const o={};s&2&&(o.selectionLength=i[1]),A.$set(o);const a={};s&2&&(a.selectionLength=i[1]),s&1&&(a.selectionStore=i[0]),s&2077&&(a.$$scope={dirty:s,ctx:i}),r.$set(a)},i(i){n||(N(A.$$.fragment,i),N(r.$$.fragment,i),n=!0)},o(i){X(A.$$.fragment,i),X(r.$$.fragment,i),n=!1},d(i){wA(A,i),i&&T(t),wA(r,i)}}}function ib(e,A,t){let r,n,i,s,{selectionStore:o}=A;const{selected:a}=o;vA(e,a,c=>t(3,s=c));const l=c=>o.remove(c,Object.keys(s)[0]);return e.$$set=c=>{"selectionStore"in c&&t(0,o=c.selectionStore)},e.$$.update=()=>{e.$$.dirty&8&&t(2,r=Object.values(s)[0]||{}),e.$$.dirty&4&&t(1,n=Object.keys(r).length),e.$$.dirty&2&&t(4,i=n>0)},[o,n,r,s,i,a,l]}class sb extends DA{constructor(A){super(),MA(this,A,ib,nb,SA,{selectionStore:0})}}const vE="",{Map:ob}=na;function Jg(e,A,t){const r=e.slice();return r[18]=A[t],r}function Yg(e,A,t){const r=e.slice();return r[21]=A[t],r}function ab(e){let A,t;return A=new Oy({props:{expandable:!1,$$slots:{"toolbar-visible":[lb]},$$scope:{ctx:e}}}),{c(){pA(A.$$.fragment)},m(r,n){hA(A,r,n),t=!0},p(r,n){const i={};n&16777216&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(N(A.$$.fragment,r),t=!0)},o(r){X(A.$$.fragment,r),t=!1},d(r){wA(A,r)}}}function Wg(e){let A,t,r,n,i,s=e[21].title+"",o,a,l,c=e[21].shortcut+"",u,f,g,d;return{c(){A=_("p"),t=_("button"),r=_("span"),n=_("i"),i=V(),o=sA(s),a=V(),l=_("span"),u=sA(c),f=V(),Q(n,"class","fas "+e[21].icon+" svelte-7vjt6f"),Q(r,"class","icon is-small"),Q(l,"class","shortcut svelte-7vjt6f"),Q(t,"class","button pl-5"),Q(t,"title",e[21].desc),Q(A,"class","control")},m(B,w){O(B,A,w),m(A,t),m(t,r),m(r,n),m(t,i),m(t,o),m(t,a),m(t,l),m(l,u),m(A,f),g||(d=gA(t,"click",Ct(e[21].fct)),g=!0)},p(B,w){e=B},d(B){B&&T(A),g=!1,d()}}}function lb(e){let A,t,r,n,i,s,o,a=Object.values(e[10]),l=[];for(let c=0;c<a.length;c+=1)l[c]=Wg(Yg(e,a,c));return{c(){A=_("div"),t=_("div"),r=_("div"),n=_("span"),n.textContent=`${j==="en"?"Process selection":"Agir sur la sélection"}`,i=V(),s=_("div"),o=_("div");for(let c=0;c<l.length;c+=1)l[c].c();Q(n,"class","tag is-medium is-link mr-5"),Q(r,"class","column is-narrow mr-5"),Q(o,"class","field has-addons"),Q(s,"class","column"),Q(t,"class","columns is-vcentered is-mobile py-4"),Q(A,"slot","toolbar-visible")},m(c,u){O(c,A,u),m(A,t),m(t,r),m(r,n),m(t,i),m(t,s),m(s,o);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null)},p(c,u){if(u&1024){a=Object.values(c[10]);let f;for(f=0;f<a.length;f+=1){const g=Yg(c,a,f);l[f]?l[f].p(g,u):(l[f]=Wg(g),l[f].c(),l[f].m(o,null))}for(;f<l.length;f+=1)l[f].d(1);l.length=a.length}},d(c){c&&T(A),ve(l,c)}}}function cb(e){let A,t=e[9].title+"",r;return{c(){A=_("span"),r=sA(t),Q(A,"class","button is-small is-success"),Q(A,"title",e[9].desc)},m(n,i){O(n,A,i),m(A,r)},p:$,d(n){n&&T(A)}}}function ub(e){let A,t=e[8].title+"",r,n,i;function s(){return e[13](e[18])}return{c(){A=_("button"),r=sA(t),Q(A,"class","button is-small is-warning"),Q(A,"title",e[8].desc)},m(o,a){O(o,A,a),m(A,r),n||(i=gA(A,"click",s),n=!0)},p(o,a){e=o},d(o){o&&T(A),n=!1,i()}}}function fb(e){let A,t,r=e[18].size+"",n,i,s,o,a,l;function c(g,d){return g[18].fullyConnected?cb:ub}let u=c(e),f=u(e);return{c(){A=_("div"),t=_("span"),n=sA(r),i=sA(" images"),s=V(),o=_("hr"),a=V(),f.c(),l=V(),Q(t,"class","cluster-size"),Q(A,"class","cluster-info is-center is-fullwidth")},m(g,d){O(g,A,d),m(A,t),m(t,n),m(t,i),m(A,s),m(A,o),m(A,a),f.m(A,null),O(g,l,d)},p(g,d){d&2&&r!==(r=g[18].size+"")&&_A(n,r),u===(u=c(g))&&f?f.p(g,d):(f.d(1),f=u(g),f&&(f.c(),f.m(A,null)))},d(g){g&&T(A),f.d(),g&&T(l)}}}function gb(e){let A,t,r;return A=new Jc({props:{items:e[2].get(e[18].id),copyable:!1,selectionStore:ii}}),{c(){pA(A.$$.fragment),t=V()},m(n,i){hA(A,n,i),O(n,t,i),r=!0},p(n,i){const s={};i&6&&(s.items=n[2].get(n[18].id)),A.$set(s)},i(n){r||(N(A.$$.fragment,n),r=!0)},o(n){X(A.$$.fragment,n),r=!1},d(n){wA(A,n),n&&T(t)}}}function zg(e,A){let t,r,n;return r=new ky({props:{$$slots:{"row-body":[gb],"row-header":[fb]},$$scope:{ctx:A}}}),{key:e,first:null,c(){t=ye(),pA(r.$$.fragment),this.first=t},m(i,s){O(i,t,s),hA(r,i,s),n=!0},p(i,s){A=i;const o={};s&16777222&&(o.$$scope={dirty:s,ctx:A}),r.$set(o)},i(i){n||(N(r.$$.fragment,i),n=!0)},o(i){X(r.$$.fragment,i),n=!1},d(i){i&&T(t),wA(r,i)}}}function Bb(e){let A=[],t=new ob,r,n,i=e[1];const s=o=>o[18].id;for(let o=0;o<i.length;o+=1){let a=Jg(e,i,o),l=s(a);t.set(l,A[o]=zg(l,a))}return{c(){for(let o=0;o<A.length;o+=1)A[o].c();r=ye()},m(o,a){for(let l=0;l<A.length;l+=1)A[l]&&A[l].m(o,a);O(o,r,a),n=!0},p(o,a){a&774&&(i=o[1],kA(),A=vn(A,a,s,1,o,i,t,r.parentNode,fa,zg,r,Jg),KA())},i(o){if(!n){for(let a=0;a<i.length;a+=1)N(A[a]);n=!0}},o(o){for(let a=0;a<A.length;a+=1)X(A[a]);n=!1},d(o){for(let a=0;a<A.length;a+=1)A[a].d(o);o&&T(r)}}}function db(e){let A,t,r,n,i,s,o,a,l,c=Fn&&ab(e);return t=new Kg({props:{store:e[0],nbOfItems:e[3],pageLength:e[7]}}),n=new sb({props:{selectionStore:ii}}),s=new yy({props:{$$slots:{default:[Bb]},$$scope:{ctx:e}}}),a=new Kg({props:{store:e[0],nbOfItems:e[3],pageLength:e[7]}}),{c(){c&&c.c(),A=V(),pA(t.$$.fragment),r=V(),pA(n.$$.fragment),i=V(),pA(s.$$.fragment),o=V(),pA(a.$$.fragment)},m(u,f){c&&c.m(u,f),O(u,A,f),hA(t,u,f),O(u,r,f),hA(n,u,f),O(u,i,f),hA(s,u,f),O(u,o,f),hA(a,u,f),l=!0},p(u,[f]){Fn&&c.p(u,f);const g={};f&1&&(g.store=u[0]),f&8&&(g.nbOfItems=u[3]),t.$set(g);const d={};f&16777222&&(d.$$scope={dirty:f,ctx:u}),s.$set(d);const B={};f&1&&(B.store=u[0]),f&8&&(B.nbOfItems=u[3]),a.$set(B)},i(u){l||(N(c),N(t.$$.fragment,u),N(n.$$.fragment,u),N(s.$$.fragment,u),N(a.$$.fragment,u),l=!0)},o(u){X(c),X(t.$$.fragment,u),X(n.$$.fragment,u),X(s.$$.fragment,u),X(a.$$.fragment,u),l=!1},d(u){c&&c.d(u),u&&T(A),wA(t,u),u&&T(r),wA(n,u),u&&T(i),wA(s,u),u&&T(o),wA(a,u)}}}function hb(e,A,t){let r,n,i,s,{documentSetStore:o}=A;const{imageNodes:a}=o;vA(e,a,p=>t(12,n=p));let{clusterStore:l}=A;const{clusterNb:c,paginatedClusters:u,pageLength:f,validateCluster:g,newCluster:d,removeFromClusters:B}=l;vA(e,c,p=>t(3,s=p)),vA(e,u,p=>t(1,i=p));const w={create:{title:j==="en"?"New cluster":"Nouveau cluster",desc:j==="en"?"Create a new validated cluster from the selected regions":"Créer un nouveau cluster valide à partir des régions sélectionnées",icon:"fa-object-group",shortcut:"Shift + C",fct:d},remove:{title:j==="en"?"Remove from cluster":"Retirer du cluster",desc:j==="en"?"Remove the selected regions from their cluster":"Retirer les régions sélectionnées de leur cluster",icon:"fa-chain-broken",shortcut:"Shift + D",fct:B},validate:{title:j==="en"?"Validate cluster":"Valider le cluster",desc:j==="en"?"Set as exact match all the pairs of regions in the cluster":"Définir comme correspondance exacte toutes les paires de régions dans le cluster",icon:"fa-check",fct:g},validated:{title:j==="en"?"Validated cluster":"Cluster valide",desc:j==="en"?"All pairs of regions have be categorized as exact matches":"Toutes les paires de régions ont été catégorisées comme des correspondances exactes",icon:"fa-check"}},{validate:h,validated:F,...b}=w,C=p=>h.fct(p);return e.$$set=p=>{"documentSetStore"in p&&t(11,o=p.documentSetStore),"clusterStore"in p&&t(0,l=p.clusterStore)},e.$$.update=()=>{e.$$.dirty&4098&&t(2,r=new Map(i.map(p=>[p.id,p.members.map(U=>({...n.get(U),clusterId:p.id}))])))},[l,i,r,s,a,c,u,f,h,F,b,o,n,C]}class wb extends DA{constructor(A){super(),MA(this,A,hb,db,SA,{documentSetStore:11,clusterStore:0})}}function pb(e,A){const r=NA(1),{visiblePairs:n,imageNodes:i}=e;ga(r,"p");function s(C){Ba(C,r,"p")}function o(C){if(C.length===0)return[];const p=new Map;console.log(C);const U=S=>p.has(S)?(p.get(S)!==S&&p.set(S,U(p.get(S))),p.get(S)):(p.set(S,S),S),y=(S,x)=>{const G=U(S),R=U(x);G!==R&&p.set(R,G)},v=new Set;C.forEach(S=>{y(S.id_1,S.id_2),v.add(S.id_1),v.add(S.id_2)});const E=new Map;return v.forEach(S=>{const x=U(S);E.has(x)||E.set(x,[]),E.get(x).push(S)}),Array.from(E.values()).map(S=>{const x=S.length,G=x*(x-1)/2,R=new Set(S),I=C.filter(D=>R.has(D.id_1)&&R.has(D.id_2)).length;return{id:crypto.randomUUID(),members:S,size:x,fullyConnected:I===G}}).filter(S=>S.size>1).sort((S,x)=>x.size-S.size)}const a=ce(n,C=>C.length?o(C):[]),l=NA([]);a.subscribe(C=>{l.set(C)});const c=ce([l,r],([C,p])=>{const U=(p-1)*10,y=U+10;return C.slice(U,y)}),u=(C,p)=>{const U=de(i).get(C),y=de(i).get(p);return{img_1:C,img_2:p,regions_id_1:U==null?void 0:U.regionId,regions_id_2:y==null?void 0:y.regionId}},f=(C,p)=>(l.update(U=>U.map(y=>{if(!p[y.id])return y;const v=y.members.filter(E=>!C.has(E));return{...y,members:v,size:v.length}}).filter(y=>y.size>0)),!0),g=async C=>{const p=Array.isArray(C)?C:Object.keys(C),U=new Set(p),y={};de(l).forEach(E=>{const S=E.members.filter(x=>U.has(x));S.length>0&&(y[E.id]=S)});const v=Object.entries(y).flatMap(([E,S])=>{const x=de(l).find(R=>R.id===E);if(!x)return[];const G=x.members.filter(R=>!U.has(R));return S.flatMap(R=>G.map(I=>u(R,I)))});if(v.length===0)return f(U,y),!0;try{const E=await fs(()=>fetch(`${window.location.origin}/${nt}/uncategorize-pair-batch`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":cs},body:JSON.stringify({pairs:v})}));return E.ok?(f(U,y),!0):(console.log(E),await gt(j==="en"?"Batch un-categorization failed":"La dé-catégorisation par lot a échoué",j==="en"?"Error":"Erreur"),!1)}catch(E){return await gt(E,j==="en"?"Error":"Erreur"),!1}},d=async C=>{const p=C.flatMap((U,y)=>C.slice(y+1).map(v=>u(U,v)));try{const U=await fs(()=>fetch(`${window.location.origin}/${nt}/exact-match-batch`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":cs},body:JSON.stringify({pairs:p})}));return U.ok?!0:(console.log(U),await gt(j==="en"?"Batch validation failed":"La validation par lot a échoué",j==="en"?"Error":"Erreur"),!1)}catch(U){return await gt(U,j==="en"?"Error":"Erreur"),console.error("Error:",U),!1}},B=async C=>{if(!Fn)return await gt(j==="en"?"You do not have permission to validate clusters":"Vous n'avez pas la permission, de valider les clusters.",j==="en"?"Permission Denied":"Permission refusée"),!1;const p=await d(C.members);return p&&l.update(U=>U.map(y=>y.id===C.id?{...y,fullyConnected:!0}:y)),p},w=async C=>{if(C.length<2)return!1;const p=await d(C);return p&&l.update(U=>[{id:crypto.randomUUID(),members:C,size:C.length,fullyConnected:!0},...U].sort((v,E)=>E.size-v.size)),p},h=()=>Object.values(de(A).selected)[0]||{},F=async()=>{if(!await gt(j==="en"?"Do you want to create a cluster out of these images?":"Voulez-vous créer un cluster à partir de ces images ?",j==="en"?"Confirm creation":"Confirmer la création",!0))return;const p=h(),U=Object.keys(p);return U.length<2?(await gt(j==="en"?"Cluster creation requires at least 2 images":"La création d'un nouveau cluster nécessite a minima 2 images",j==="en"?"Impossible creation":"Création impossible"),!1):!await g(U)||!await w(U)?!1:(A.empty(),!0)},b=async()=>{if(!await gt(j==="en"?"Do you want to remove these images from their clusters?":"Voulez-vous supprimer ces images de leurs clusters ?",j==="en"?"Confirm deletion":"Confirmer la suppression",!0))return;const p=h();return await g(Object.keys(p))?(A.empty(),!0):!1};return{imageClusters:a,interfaceClusters:l,clusterNb:ce(l,C=>C.length),validateCluster:B,removeFromClusters:b,newCluster:F,paginatedClusters:c,handlePageUpdate:s,pageLength:10,currentPage:r}}const mb=e=>({}),Zg=e=>({});function Qb(e){let A,t,r,n,i,s,o,a,l,c,u,f,g,d,B,w,h,F,b,C,p;const U=e[1].content,y=re(U,e,e[0],Zg);return{c(){A=_("button"),t=V(),r=_("div"),n=_("div"),i=V(),s=_("div"),o=_("div"),o.innerHTML=`<div class="title is-4 mb-0 media-content"><span id="modal-title" class="mb-0"></span></div>
            <button class="delete media-left" aria-label="close"></button>`,a=V(),l=_("section"),c=_("div"),u=V(),f=_("div"),y&&y.c(),g=V(),d=_("footer"),B=_("div"),w=_("button"),w.textContent=`${j==="en"?"Abort":"Retour"}`,h=V(),F=_("button"),F.textContent="OK",Q(A,"id","hidden-msg-btn"),Q(A,"data-target","msg-modal"),A.hidden=!0,Q(n,"id","modal-bkg"),Q(n,"class","modal-background"),Q(o,"class","modal-card-head media mb-0"),Q(c,"id","modal-msg"),Q(f,"class","py-3"),Q(l,"id","modal-body"),Q(l,"class","modal-card-body"),Q(w,"id","cancel-btn"),Q(w,"class","button is-link is-light button-close"),Q(F,"id","ok-btn"),Q(F,"class","button is-link button-close"),Q(B,"class","buttons"),Q(d,"id","modal-footer"),Q(d,"class","modal-card-foot is-center pt-3"),d.hidden=!0,Q(s,"class","modal-content"),Q(r,"id","msg-modal"),Q(r,"class","modal fade"),Q(r,"tabindex","-1"),Q(r,"aria-labelledby","selection-modal-label"),Q(r,"aria-hidden","true")},m(v,E){O(v,A,E),O(v,t,E),O(v,r,E),m(r,n),m(r,i),m(r,s),m(s,o),m(s,a),m(s,l),m(l,c),m(l,u),m(l,f),y&&y.m(f,null),m(s,g),m(s,d),m(d,B),m(B,w),m(B,h),m(B,F),b=!0,C||(p=[Zt(da.call(null,A)),Zt(gs.call(null,r))],C=!0)},p(v,[E]){y&&y.p&&(!b||E&1)&&ie(y,U,v,v[0],b?ne(U,v[0],E,mb):se(v[0]),Zg)},i(v){b||(N(y,v),b=!0)},o(v){X(y,v),b=!1},d(v){v&&T(A),v&&T(t),v&&T(r),y&&y.d(v),C=!1,te(p)}}}function Cb(e,A,t){let{$$slots:r={},$$scope:n}=A;return e.$$set=i=>{"$$scope"in i&&t(0,n=i.$$scope)},[n,r]}class vb extends DA{constructor(A){super(),MA(this,A,Cb,Qb,SA,{})}}function jg(e,A,t){const r=e.slice();return r[25]=A[t],r}function Ub(e){let A,t,r;return t=new sh({props:{docSet:e[0],documentSetStore:e[5],clusterStore:e[9]}}),{c(){A=_("div"),pA(t.$$.fragment),Q(A,"slot","sidebar")},m(n,i){O(n,A,i),hA(t,A,null),r=!0},p(n,i){const s={};i&1&&(s.docSet=n[0]),t.$set(s)},i(n){r||(N(t.$$.fragment,n),r=!0)},o(n){X(t.$$.fragment,n),r=!1},d(n){n&&T(A),wA(t)}}}function $g(e){let A,t,r,n,i,s,o,a=e[25].title+"",l,c;return{c(){A=_("div"),t=_("figure"),r=_("img"),i=V(),s=_("div"),o=_("span"),l=sA(a),c=V(),rt(r.src,n=nr(e[25].img,e[25].xywh,"96,"))||Q(r,"src",n),Q(r,"alt","Extracted region"),Q(o,"class","overlay-desc"),Q(s,"class","overlay is-center"),Q(t,"class","image is-64x64 card"),Q(A,"class","selection cell")},m(u,f){O(u,A,f),m(A,t),m(t,r),m(t,i),m(t,s),m(s,o),m(o,l),m(A,c)},p(u,f){f&2&&!rt(r.src,n=nr(u[25].img,u[25].xywh,"96,"))&&Q(r,"src",n),f&2&&a!==(a=u[25].title+"")&&_A(l,a)},d(u){u&&T(A)}}}function Fb(e){let A,t,r=Object.values(Object.values(e[1])[0]||{}),n=[];for(let i=0;i<r.length;i+=1)n[i]=$g(jg(e,r,i));return{c(){A=_("div"),t=_("div");for(let i=0;i<n.length;i+=1)n[i].c();Q(t,"class","grid is-gap-2"),Q(A,"slot","content"),Q(A,"class","fixed-grid has-6-cols")},m(i,s){O(i,A,s),m(A,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(i,s){if(s&2){r=Object.values(Object.values(i[1])[0]||{});let o;for(o=0;o<r.length;o+=1){const a=jg(i,r,o);n[o]?n[o].p(a,s):(n[o]=$g(a),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(i){i&&T(A),ve(n,i)}}}function _b(e){let A,t,r,n={ctx:e,current:null,token:null,hasCatch:!1,pending:kb,then:Eb,catch:bb,value:24,blocks:[,,,]};return Cn(t=e[3],n),{c(){A=ye(),n.block.c()},m(i,s){O(i,A,s),n.block.m(i,n.anchor=s),n.mount=()=>A.parentNode,n.anchor=A,r=!0},p(i,s){e=i,n.ctx=e,s&8&&t!==(t=e[3])&&Cn(t,n)||ca(n,e,s)},i(i){r||(N(n.block),r=!0)},o(i){for(let s=0;s<3;s+=1){const o=n.blocks[s];X(o)}r=!1},d(i){i&&T(A),n.block.d(i),n.token=null,n=null}}}function yb(e){let A,t,r;return{c(){A=_("article"),t=_("div"),r=sA(e[2]),Q(t,"class","message-body"),Q(A,"class","message is-danger")},m(n,i){O(n,A,i),m(A,t),m(t,r)},p(n,i){i&4&&_A(r,n[2])},i:$,o:$,d(n){n&&T(A)}}}function bb(e){return{c:$,m:$,p:$,i:$,o:$,d:$}}function Eb(e){let A,t,r,n;const i=[Ib,Hb],s=[];function o(a,l){return a[24]===0?0:1}return A=o(e),t=s[A]=i[A](e),{c(){t.c(),r=ye()},m(a,l){s[A].m(a,l),O(a,r,l),n=!0},p(a,l){let c=A;A=o(a),A===c?s[A].p(a,l):(kA(),X(s[c],1,1,()=>{s[c]=null}),KA(),t=s[A],t?t.p(a,l):(t=s[A]=i[A](a),t.c()),N(t,1),t.m(r.parentNode,r))},i(a){n||(N(t),n=!0)},o(a){X(t),n=!1},d(a){s[A].d(a),a&&T(r)}}}function Hb(e){let A,t,r=e[10][e[4]]+"",n,i,s,o,a;const l=[Lb,xb,Sb],c=[];function u(f,g){return f[4]==="img"||f[4]==="doc"?0:f[4]==="sim"?1:f[4]==="mat"?2:-1}return~(s=u(e))&&(o=c[s]=l[s](e)),{c(){A=_("div"),t=_("h2"),n=sA(r),i=V(),o&&o.c(),Q(t,"class","title is-3 has-text-link")},m(f,g){O(f,A,g),m(A,t),m(t,n),m(A,i),~s&&c[s].m(A,null),a=!0},p(f,g){(!a||g&16)&&r!==(r=f[10][f[4]]+"")&&_A(n,r);let d=s;s=u(f),s===d?~s&&c[s].p(f,g):(o&&(kA(),X(c[d],1,1,()=>{c[d]=null}),KA()),~s?(o=c[s],o?o.p(f,g):(o=c[s]=l[s](f),o.c()),N(o,1),o.m(A,null)):o=null)},i(f){a||(N(o),a=!0)},o(f){X(o),a=!1},d(f){f&&T(A),~s&&c[s].d()}}}function Ib(e){let A;return{c(){A=_("article"),A.innerHTML=`<div class="message-body">No document pairs found for this configuration.
                            Please adjust your selection criteria in the sidebar to include more documents or
                            categories.</div>`,Q(A,"class","message is-warning")},m(t,r){O(t,A,r)},p:$,i:$,o:$,d(t){t&&T(A)}}}function Sb(e){let A,t;return A=new my({props:{documentSetStore:e[5]}}),{c(){pA(A.$$.fragment)},m(r,n){hA(A,r,n),t=!0},p:$,i(r){t||(N(A.$$.fragment,r),t=!0)},o(r){X(A.$$.fragment,r),t=!1},d(r){wA(A,r)}}}function xb(e){let A,t;return A=new wb({props:{documentSetStore:e[5],clusterStore:e[9]}}),{c(){pA(A.$$.fragment)},m(r,n){hA(A,r,n),t=!0},p:$,i(r){t||(N(A.$$.fragment,r),t=!0)},o(r){X(A.$$.fragment,r),t=!1},d(r){wA(A,r)}}}function Lb(e){let A,t;return A=new oC({props:{documentSetStore:e[5],type:e[4]}}),{c(){pA(A.$$.fragment)},m(r,n){hA(A,r,n),t=!0},p(r,n){const i={};n&16&&(i.type=r[4]),A.$set(i)},i(r){t||(N(A.$$.fragment,r),t=!0)},o(r){X(A.$$.fragment,r),t=!1},d(r){wA(A,r)}}}function kb(e){let A;return{c(){A=_("progress"),A.textContent="Loading...",Q(A,"class","progress is-link"),Q(A,"max","100")},m(t,r){O(t,A,r)},p:$,i:$,o:$,d(t){t&&T(A)}}}function Kb(e){let A,t,r,n,i,s;t=new vb({props:{$$slots:{content:[Fb]},$$scope:{ctx:e}}});const o=[yb,_b],a=[];function l(c,u){return c[2]?0:1}return n=l(e),i=a[n]=o[n](e),{c(){A=_("div"),pA(t.$$.fragment),r=V(),i.c(),Q(A,"slot","content")},m(c,u){O(c,A,u),hA(t,A,null),m(A,r),a[n].m(A,null),s=!0},p(c,u){const f={};u&268435458&&(f.$$scope={dirty:u,ctx:c}),t.$set(f);let g=n;n=l(c),n===g?a[n].p(c,u):(kA(),X(a[g],1,1,()=>{a[g]=null}),KA(),i=a[n],i?i.p(c,u):(i=a[n]=o[n](c),i.c()),N(i,1),i.m(A,null))},i(c){s||(N(t.$$.fragment,c),N(i),s=!0)},o(c){X(t.$$.fragment,c),X(i),s=!1},d(c){c&&T(A),wA(t),a[n].d()}}}function Mb(e){let A,t;return A=new jB({props:{tabList:e[10],$$slots:{content:[Kb],sidebar:[Ub]},$$scope:{ctx:e}}}),{c(){pA(A.$$.fragment)},m(r,n){hA(A,r,n),t=!0},p(r,[n]){const i={};n&268435487&&(i.$$scope={dirty:n,ctx:r}),A.$set(i)},i(r){t||(N(A.$$.fragment,r),t=!0)},o(r){X(A.$$.fragment,r),t=!1},d(r){wA(A,r)}}}function Db(e,A,t){var x;let r,n,i,s;vA(e,Ot,G=>t(4,s=G));let{docSet:o}=A;const a=Uy(o.id),{error:l,fetchPairs:c,selectedRegions:u,selectedCategories:f,threshold:g,topK:d,mutualTopK:B,scoreMode:w}=a;vA(e,l,G=>t(2,n=G)),vA(e,c,G=>t(3,i=G));let h,F,b,C,p,U;Dt(()=>{h=ir(u,"regions","set"),F=ir(f,"categories","array",[1]),b=ir(g,"threshold","number"),C=ir(d,"topk","number"),p=ir(B,"mutual","boolean"),U=ir(w,"mode","string");const G=u.subscribe(h),R=f.subscribe(F),I=g.subscribe(b),D=d.subscribe(C),k=B.subscribe(p),W=w.subscribe(U);return()=>{G(),R(),I(),D(),k(),W()}});const{selected:y}=ii;vA(e,y,G=>t(1,r=G));const v=pb(a,ii),E={sim:j==="en"?"Copy Clusters":"Groupe de copies",mat:j==="en"?"Document Matrix":"Matrice de documents",img:j==="en"?"Image Network":"Réseau d'images",doc:j==="en"?"Document Network":"Réseau de documents"},S=((x=o==null?void 0:o.selection)==null?void 0:x.selected)||{Witness:{},Series:{},Work:{}};return BB("selectedDocuments",S),e.$$set=G=>{"docSet"in G&&t(0,o=G.docSet)},[o,r,n,i,s,a,l,c,y,v,E]}class Tb extends DA{constructor(A){super(),MA(this,A,Db,Mb,SA,{docSet:0})}}new Tb({target:document.getElementById("document-set"),props:{docSet}})})();
//# sourceMappingURL=documentSet.js.map

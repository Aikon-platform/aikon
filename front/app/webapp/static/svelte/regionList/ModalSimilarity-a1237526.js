import{S as e,i as t,s as a,I as i,x as r,G as s,e as l,j as n,c as m,a as o,H as c,k as u,J as p,b as g,l as f,m as d,n as $,t as v,d as y,f as I,g as h,K as w,F as x,E as z,v as b,A as q,L as D,q as V,u as S,r as U}from"./region-list-b29cfa16.js";function O(e){let t,a,w,x,z,b,q,D,V,S,U,O,j,T,k,F,B,C,R,H,L,M,A,E,G,J,K,Q,N,P,W,X,Y,Z,_,ee,te,ae;return D=new i({props:{minVal:0,maxVal:1,start:e[5],emitOnUpdate:!0,title:"fr"===r?"Opacité":"Opacity"}}),D.$on("updateSlider",e[9]),U=new i({props:{minVal:0,maxVal:360,start:e[6],step:1,emitOnUpdate:!0,title:"Rotation"}}),U.$on("updateSlider",e[10]),T=new i({props:{minVal:0,maxVal:200,step:1,start:e[7],emitOnUpdate:!0,title:"fr"===r?"Redimensionner":"Scale"}}),T.$on("updateSlider",e[11]),B=new i({props:{minVal:-100,maxVal:100,step:1,start:e[8][0],emitOnUpdate:!0,title:"fr"===r?"Translation horizontale":"Horizontal translate"}}),B.$on("updateSlider",e[12]),H=new i({props:{minVal:-100,maxVal:100,step:1,start:e[8][1],emitOnUpdate:!0,title:"fr"===r?"Translation verticale":"Vertical translate"}}),H.$on("updateSlider",e[13]),A=new s({props:{choicesItems:e[4],start:[],lightDisplay:!0,placeholder:"fr"===r?"Séléctionner":"Select",title:"fr"===r?"Basculer":"Flip"}}),A.$on("updateValues",e[14]),{c(){t=l("div"),a=l("div"),w=l("div"),x=l("div"),x.innerHTML="<strong>Transform query image</strong>",z=n(),b=l("div"),q=l("div"),m(D.$$.fragment),V=n(),S=l("div"),m(U.$$.fragment),O=n(),j=l("div"),m(T.$$.fragment),k=n(),F=l("div"),m(B.$$.fragment),C=n(),R=l("div"),m(H.$$.fragment),L=n(),M=l("div"),m(A.$$.fragment),E=n(),G=l("div"),J=l("button"),J.textContent=""+("fr"===r?"Réinitialiser":"Reset"),K=n(),Q=l("div"),N=l("img"),X=n(),Y=l("img"),o(x,"class","toolbar-title mt-0 mb-2 svelte-nzei31"),o(q,"class"," svelte-nzei31"),o(S,"class"," svelte-nzei31"),o(j,"class"," svelte-nzei31"),o(F,"class"," svelte-nzei31"),o(R,"class"," svelte-nzei31"),o(M,"class"," svelte-nzei31"),o(J,"class","button is-link"),o(G,"class","mt-2 is-flex is-flex-direction-column is-justify-content-center is-align-items-flex-end svelte-nzei31"),o(b,"class","toolbar-controls is-flex is-flex-direction-column is-align-items-start is-justify-content-center svelte-nzei31"),o(w,"class","toolbar svelte-nzei31"),o(a,"class","toolbar-wrapper is-flex is-flex-direction-column is-justify-content-center is-align-items-center svelte-nzei31"),o(N,"class","compare-img svelte-nzei31"),c(N.src,P=e[0].queryImage.href)||o(N,"src",P),o(N,"alt",W=e[0].queryImage.title),o(Y,"class","main-img svelte-nzei31"),c(Y.src,Z=e[0].similarityImage.href)||o(Y,"src",Z),o(Y,"alt",_=e[0].similarityImage.title),u(Y,"overlay-reset",e[2]),p(Y,"opacity",e[1]),p(Y,"transform",e[3]),o(Q,"class","overlay-wrapper svelte-nzei31"),o(t,"class","similarity-overlay-wrapper svelte-nzei31")},m(i,r){g(i,t,r),f(t,a),f(a,w),f(w,x),f(w,z),f(w,b),f(b,q),d(D,q,null),f(b,V),f(b,S),d(U,S,null),f(b,O),f(b,j),d(T,j,null),f(b,k),f(b,F),d(B,F,null),f(b,C),f(b,R),d(H,R,null),f(b,L),f(b,M),d(A,M,null),f(b,E),f(b,G),f(G,J),f(t,K),f(t,Q),f(Q,N),f(Q,X),f(Q,Y),ee=!0,te||(ae=$(J,"click",e[15]),te=!0)},p(e,[t]){(!ee||1&t&&!c(N.src,P=e[0].queryImage.href))&&o(N,"src",P),(!ee||1&t&&W!==(W=e[0].queryImage.title))&&o(N,"alt",W),(!ee||1&t&&!c(Y.src,Z=e[0].similarityImage.href))&&o(Y,"src",Z),(!ee||1&t&&_!==(_=e[0].similarityImage.title))&&o(Y,"alt",_),(!ee||4&t)&&u(Y,"overlay-reset",e[2]),2&t&&p(Y,"opacity",e[1]),8&t&&p(Y,"transform",e[3])},i(e){ee||(v(D.$$.fragment,e),v(U.$$.fragment,e),v(T.$$.fragment,e),v(B.$$.fragment,e),v(H.$$.fragment,e),v(A.$$.fragment,e),ee=!0)},o(e){y(D.$$.fragment,e),y(U.$$.fragment,e),y(T.$$.fragment,e),y(B.$$.fragment,e),y(H.$$.fragment,e),y(A.$$.fragment,e),ee=!1},d(e){e&&I(t),h(D),h(U),h(T),h(B),h(H),h(A),te=!1,ae()}}}function j(e,t,a){let i,{imgData:s}=t;const l=[{value:"h",label:"fr"===r?"Basculer horizontalement":"Flip horizontally"},{value:"v",label:"fr"===r?"Basculer verticalement":"Flip vertically"},{value:"hv",label:"fr"===r?"Basculer horizontalement et verticalement":"Flip horizontally and vertically"}];let n=.5;const m=n;let o=0;const c=o;let u=100;const p=u;let g=[1,1];const f=structuredClone(g);let d=[0,0];const $=structuredClone(d);let v=!1;const y=w(window.crypto.randomUUID());x("resetTrigger",y);return e.$$set=e=>{"imgData"in e&&a(0,s=e.imgData)},e.$$.update=()=>{983040&e.$$.dirty&&a(3,i=`translate(${d[0]-50}%, ${d[1]}%)\n                        rotate(${o}deg)\n                        scale(${g.map((e=>e*(u/100))).join()})`)},[s,n,v,i,l,m,c,p,$,e=>a(1,n=e.detail),e=>a(16,o=e.detail),e=>a(17,u=e.detail),e=>a(19,d=[e.detail,d[1]]),e=>a(19,d=[d[0],e.detail]),e=>{let t=e.detail[0];a(18,g="hv"===t?[-1,-1]:"h"===t?[-1,1]:"v"===t?[1,-1]:[1,1])},()=>{a(1,n=m),a(16,o=c),a(17,u=p),a(18,g=f),a(19,d=$),y.set(window.crypto.randomUUID()),a(2,v=!0),setTimeout((()=>a(2,v=!1)),1e3)},o,u,g,d]}class T extends e{constructor(e){super(),t(this,e,j,O,a,{imgData:0})}}function k(e,t,a){const i=e.slice();return i[1]=t[a],i}function F(e){let t,a,i,s,m,u,p,d,$="queryImage"===e[1]&&"fr"===r?"Image requête":"similarityImage"===e[1]&&"fr"===r?"Similarité":"queryImage"===e[1]&&"en"===r?"Query image":"Similarity";return{c(){t=l("div"),a=l("span"),i=q($),s=n(),m=l("img"),d=n(),c(m.src,u=e[0][e[1]].href)||o(m,"src",u),o(m,"alt",p=e[0][e[1]].title),o(t,"class","img-legend-wrapper column is-flex is-flex-direction-column is-justify-content-center is-align-items-center")},m(e,r){g(e,t,r),f(t,a),f(a,i),f(t,s),f(t,m),f(t,d)},p(e,t){1&t&&!c(m.src,u=e[0][e[1]].href)&&o(m,"src",u),1&t&&p!==(p=e[0][e[1]].title)&&o(m,"alt",p)},d(e){e&&I(t)}}}function B(e){let t,a=["queryImage","similarityImage"],i=[];for(let t=0;t<2;t+=1)i[t]=F(k(e,a,t));return{c(){t=l("div");for(let e=0;e<2;e+=1)i[e].c();o(t,"class","side-by-side columns")},m(e,a){g(e,t,a);for(let e=0;e<2;e+=1)i[e]&&i[e].m(t,null)},p(e,[r]){if(1&r){let s;for(a=["queryImage","similarityImage"],s=0;s<2;s+=1){const l=k(e,a,s);i[s]?i[s].p(l,r):(i[s]=F(l),i[s].c(),i[s].m(t,null))}for(;s<2;s+=1)i[s].d(1)}},i:z,o:z,d(e){e&&I(t),b(i,e)}}}function C(e,t,a){let{imgData:i}=t;return e.$$set=e=>{"imgData"in e&&a(0,i=e.imgData)},[i]}class R extends e{constructor(e){super(),t(this,e,C,B,a,{imgData:0})}}function H(e){let t,a;return t=new R({props:{imgData:e[1]}}),{c(){m(t.$$.fragment)},m(e,i){d(t,e,i),a=!0},p:z,i(e){a||(v(t.$$.fragment,e),a=!0)},o(e){y(t.$$.fragment,e),a=!1},d(e){h(t,e)}}}function L(e){let t,a;return t=new T({props:{imgData:e[1]}}),{c(){m(t.$$.fragment)},m(e,i){d(t,e,i),a=!0},p:z,i(e){a||(v(t.$$.fragment,e),a=!0)},o(e){y(t.$$.fragment,e),a=!1},d(e){h(t,e)}}}function M(e){let t,a,i,s,c,u,p,$,w;const x=[L,H],z=[];function b(e,t){return e[0]?0:1}return i=b(e),s=z[i]=x[i](e),$=new D({props:{start:!1,buttonDisplay:!0,checkboxLabel:"en"===r?"Overlay view":"Vue superposée"}}),$.$on("updateChecked",e[2]),{c(){t=l("div"),a=l("div"),s.c(),u=n(),p=l("div"),m($.$$.fragment),o(a,"class",c="modal-similarity-images "+(e[0]?"overlay-wrapper":"side-by-side-wrapper")+" svelte-1qvtan5"),o(t,"class","modal-similarity svelte-1qvtan5")},m(e,r){g(e,t,r),f(t,a),z[i].m(a,null),f(t,u),f(t,p),d($,p,null),w=!0},p(e,[t]){let r=i;i=b(e),i===r?z[i].p(e,t):(V(),y(z[r],1,1,(()=>{z[r]=null})),S(),s=z[i],s?s.p(e,t):(s=z[i]=x[i](e),s.c()),v(s,1),s.m(a,null)),(!w||1&t&&c!==(c="modal-similarity-images "+(e[0]?"overlay-wrapper":"side-by-side-wrapper")+" svelte-1qvtan5"))&&o(a,"class",c)},i(e){w||(v(s),v($.$$.fragment,e),w=!0)},o(e){y(s),y($.$$.fragment,e),w=!1},d(e){e&&I(t),z[i].d(),h($)}}}function A(e,t,a){let{mainImg:i}=t,{compareImg:s}=t;const l={similarityImage:{href:U(i),title:m(i)},queryImage:{href:U(s),title:m(s)}};let n=!1;function m(e){return"fr"===r?`Vue principale de la région ${e}`:`Main view of region ${e}`}return e.$$set=e=>{"mainImg"in e&&a(3,i=e.mainImg),"compareImg"in e&&a(4,s=e.compareImg)},[n,l,()=>a(0,n=!n),i,s]}class E extends e{constructor(e){super(),t(this,e,A,M,a,{mainImg:3,compareImg:4})}}export{E as default};
//# sourceMappingURL=ModalSimilarity-a1237526.js.map

import{S as e,i as t,s as a,I as i,w as r,F as l,e as s,j as n,c as m,a as o,G as c,k as u,H as g,b as f,l as p,m as $,n as d,t as v,d as y,f as I,g as h,J as w,E as z,q as x,r as b,u as q,R as D,z as V,K as S,L as U,D as O}from"./region-list-5f7bc2f9.js";function j(e){let t,a,w,z,x,b,q,D,V,S,U,O,j,T,k,B,F,R,C,H,L,M,E,G,J,K,Q,A,N,P,W,X,Y,Z,_,ee,te,ae;return D=new i({props:{minVal:0,maxVal:1,start:e[5],emitOnUpdate:!0,title:"fr"===r?"Opacité":"Opacity"}}),D.$on("updateSlider",e[9]),U=new i({props:{minVal:0,maxVal:360,start:e[6],step:1,emitOnUpdate:!0,title:"Rotation"}}),U.$on("updateSlider",e[10]),T=new i({props:{minVal:0,maxVal:200,step:1,start:e[7],emitOnUpdate:!0,title:"fr"===r?"Redimensionner":"Scale"}}),T.$on("updateSlider",e[11]),F=new i({props:{minVal:-100,maxVal:100,step:1,start:e[8][0],emitOnUpdate:!0,title:"fr"===r?"Translation horizontale":"Horizontal translate"}}),F.$on("updateSlider",e[12]),H=new i({props:{minVal:-100,maxVal:100,step:1,start:e[8][1],emitOnUpdate:!0,title:"fr"===r?"Translation verticale":"Vertical translate"}}),H.$on("updateSlider",e[13]),E=new l({props:{choicesItems:e[4],start:[],lightDisplay:!0,placeholder:"fr"===r?"Séléctionner":"Select",title:"fr"===r?"Basculer":"Flip"}}),E.$on("updateValues",e[14]),{c(){t=s("div"),a=s("div"),w=s("div"),z=s("div"),z.innerHTML="<strong>Transform query image</strong>",x=n(),b=s("div"),q=s("div"),m(D.$$.fragment),V=n(),S=s("div"),m(U.$$.fragment),O=n(),j=s("div"),m(T.$$.fragment),k=n(),B=s("div"),m(F.$$.fragment),R=n(),C=s("div"),m(H.$$.fragment),L=n(),M=s("div"),m(E.$$.fragment),G=n(),J=s("div"),K=s("button"),K.textContent=""+("fr"===r?"Réinitialiser":"Reset"),Q=n(),A=s("div"),N=s("img"),X=n(),Y=s("img"),o(z,"class","toolbar-title mt-0 mb-2 svelte-nzei31"),o(q,"class"," svelte-nzei31"),o(S,"class"," svelte-nzei31"),o(j,"class"," svelte-nzei31"),o(B,"class"," svelte-nzei31"),o(C,"class"," svelte-nzei31"),o(M,"class"," svelte-nzei31"),o(K,"class","button is-link"),o(J,"class","mt-2 is-flex is-flex-direction-column is-justify-content-center is-align-items-flex-end svelte-nzei31"),o(b,"class","toolbar-controls is-flex is-flex-direction-column is-align-items-start is-justify-content-center svelte-nzei31"),o(w,"class","toolbar svelte-nzei31"),o(a,"class","toolbar-wrapper is-flex is-flex-direction-column is-justify-content-center is-align-items-center svelte-nzei31"),o(N,"class","compare-img svelte-nzei31"),c(N.src,P=e[0].queryImage.href)||o(N,"src",P),o(N,"alt",W=e[0].queryImage.title),o(Y,"class","main-img svelte-nzei31"),c(Y.src,Z=e[0].similarityImage.href)||o(Y,"src",Z),o(Y,"alt",_=e[0].similarityImage.title),u(Y,"overlay-reset",e[2]),g(Y,"opacity",e[1]),g(Y,"transform",e[3]),o(A,"class","overlay-wrapper svelte-nzei31"),o(t,"class","similarity-overlay-wrapper svelte-nzei31")},m(i,r){f(i,t,r),p(t,a),p(a,w),p(w,z),p(w,x),p(w,b),p(b,q),$(D,q,null),p(b,V),p(b,S),$(U,S,null),p(b,O),p(b,j),$(T,j,null),p(b,k),p(b,B),$(F,B,null),p(b,R),p(b,C),$(H,C,null),p(b,L),p(b,M),$(E,M,null),p(b,G),p(b,J),p(J,K),p(t,Q),p(t,A),p(A,N),p(A,X),p(A,Y),ee=!0,te||(ae=d(K,"click",e[15]),te=!0)},p(e,[t]){(!ee||1&t&&!c(N.src,P=e[0].queryImage.href))&&o(N,"src",P),(!ee||1&t&&W!==(W=e[0].queryImage.title))&&o(N,"alt",W),(!ee||1&t&&!c(Y.src,Z=e[0].similarityImage.href))&&o(Y,"src",Z),(!ee||1&t&&_!==(_=e[0].similarityImage.title))&&o(Y,"alt",_),(!ee||4&t)&&u(Y,"overlay-reset",e[2]),2&t&&g(Y,"opacity",e[1]),8&t&&g(Y,"transform",e[3])},i(e){ee||(v(D.$$.fragment,e),v(U.$$.fragment,e),v(T.$$.fragment,e),v(F.$$.fragment,e),v(H.$$.fragment,e),v(E.$$.fragment,e),ee=!0)},o(e){y(D.$$.fragment,e),y(U.$$.fragment,e),y(T.$$.fragment,e),y(F.$$.fragment,e),y(H.$$.fragment,e),y(E.$$.fragment,e),ee=!1},d(e){e&&I(t),h(D),h(U),h(T),h(F),h(H),h(E),te=!1,ae()}}}function T(e,t,a){let i,{imgData:l}=t;const s=[{value:"h",label:"fr"===r?"Basculer horizontalement":"Flip horizontally"},{value:"v",label:"fr"===r?"Basculer verticalement":"Flip vertically"},{value:"hv",label:"fr"===r?"Basculer horizontalement et verticalement":"Flip horizontally and vertically"}];let n=.5;const m=n;let o=0;const c=o;let u=100;const g=u;let f=[1,1];const p=structuredClone(f);let $=[0,0];const d=structuredClone($);let v=!1;const y=w(window.crypto.randomUUID());z("resetTrigger",y);return e.$$set=e=>{"imgData"in e&&a(0,l=e.imgData)},e.$$.update=()=>{983040&e.$$.dirty&&a(3,i=`translate(${$[0]-50}%, ${$[1]}%)\n                        rotate(${o}deg)\n                        scale(${f.map((e=>e*(u/100))).join()})`)},[l,n,v,i,s,m,c,g,d,e=>a(1,n=e.detail),e=>a(16,o=e.detail),e=>a(17,u=e.detail),e=>a(19,$=[e.detail,$[1]]),e=>a(19,$=[$[0],e.detail]),e=>{let t=e.detail[0];a(18,f="hv"===t?[-1,-1]:"h"===t?[-1,1]:"v"===t?[1,-1]:[1,1])},()=>{a(1,n=m),a(16,o=c),a(17,u=g),a(18,f=p),a(19,$=d),y.set(window.crypto.randomUUID()),a(2,v=!0),setTimeout((()=>a(2,v=!1)),1e3)},o,u,f,$]}class k extends e{constructor(e){super(),t(this,e,T,j,a,{imgData:0})}}function B(e,t,a){const i=e.slice();return i[1]=t[a],i}function F(e){let t,a,i,l,c,u,g,d="queryImage"===e[1]&&"fr"===r?"Image requête":"similarityImage"===e[1]&&"fr"===r?"Similarité":"queryImage"===e[1]&&"en"===r?"Query image":"Similarity";return c=new D({props:{item:e[0][e[1]],height:"full"}}),{c(){t=s("div"),a=s("span"),i=V(d),l=n(),m(c.$$.fragment),u=n(),o(t,"class","img-legend-wrapper column is-flex is-flex-direction-column is-justify-content-center is-align-items-center")},m(e,r){f(e,t,r),p(t,a),p(a,i),p(t,l),$(c,t,null),p(t,u),g=!0},p(e,t){const a={};1&t&&(a.item=e[0][e[1]]),c.$set(a)},i(e){g||(v(c.$$.fragment,e),g=!0)},o(e){y(c.$$.fragment,e),g=!1},d(e){e&&I(t),h(c)}}}function R(e){let t,a,i=["queryImage","similarityImage"],r=[];for(let t=0;t<2;t+=1)r[t]=F(B(e,i,t));const l=e=>y(r[e],1,1,(()=>{r[e]=null}));return{c(){t=s("div");for(let e=0;e<2;e+=1)r[e].c();o(t,"class","side-by-side columns")},m(e,i){f(e,t,i);for(let e=0;e<2;e+=1)r[e]&&r[e].m(t,null);a=!0},p(e,[a]){if(1&a){let s;for(i=["queryImage","similarityImage"],s=0;s<2;s+=1){const l=B(e,i,s);r[s]?(r[s].p(l,a),v(r[s],1)):(r[s]=F(l),r[s].c(),v(r[s],1),r[s].m(t,null))}for(x(),s=2;s<2;s+=1)l(s);b()}},i(e){if(!a){for(let e=0;e<2;e+=1)v(r[e]);a=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<2;e+=1)y(r[e]);a=!1},d(e){e&&I(t),q(r,e)}}}function C(e,t,a){let{imgData:i}=t;return e.$$set=e=>{"imgData"in e&&a(0,i=e.imgData)},[i]}class H extends e{constructor(e){super(),t(this,e,C,R,a,{imgData:0})}}function L(e){let t,a;return t=new H({props:{imgData:e[2]}}),{c(){m(t.$$.fragment)},m(e,i){$(t,e,i),a=!0},p:O,i(e){a||(v(t.$$.fragment,e),a=!0)},o(e){y(t.$$.fragment,e),a=!1},d(e){h(t,e)}}}function M(e){let t,a;return t=new k({props:{imgData:e[1]}}),{c(){m(t.$$.fragment)},m(e,i){$(t,e,i),a=!0},p:O,i(e){a||(v(t.$$.fragment,e),a=!0)},o(e){y(t.$$.fragment,e),a=!1},d(e){h(t,e)}}}function E(e){let t,a,i,l,c,u,g,d,w;const z=[M,L],q=[];function D(e,t){return e[0]?0:1}return i=D(e),l=q[i]=z[i](e),d=new S({props:{start:!1,buttonDisplay:!0,checkboxLabel:"en"===r?"Overlay view":"Vue superposée"}}),d.$on("updateChecked",e[3]),{c(){t=s("div"),a=s("div"),l.c(),u=n(),g=s("div"),m(d.$$.fragment),o(a,"class",c="modal-similarity-images "+(e[0]?"overlay-wrapper":"side-by-side-wrapper")+" svelte-1qvtan5"),o(t,"class","modal-similarity svelte-1qvtan5")},m(e,r){f(e,t,r),p(t,a),q[i].m(a,null),p(t,u),p(t,g),$(d,g,null),w=!0},p(e,[t]){let r=i;i=D(e),i===r?q[i].p(e,t):(x(),y(q[r],1,1,(()=>{q[r]=null})),b(),l=q[i],l?l.p(e,t):(l=q[i]=z[i](e),l.c()),v(l,1),l.m(a,null)),(!w||1&t&&c!==(c="modal-similarity-images "+(e[0]?"overlay-wrapper":"side-by-side-wrapper")+" svelte-1qvtan5"))&&o(a,"class",c)},i(e){w||(v(l),v(d.$$.fragment,e),w=!0)},o(e){y(l),y(d.$$.fragment,e),w=!1},d(e){e&&I(t),q[i].d(),h(d)}}}function G(e,t,a){let{mainImgItem:i}=t,{compareImgItem:l}=t;const s={similarityImage:{href:U(i.img),title:o(i.title)},queryImage:{href:U(l.img),title:o(l.title)}},n={similarityImage:i,queryImage:l};let m=!1;function o(e){return"fr"===r?`Vue principale de la région ${e}`:`Main view of region ${e}`}return e.$$set=e=>{"mainImgItem"in e&&a(4,i=e.mainImgItem),"compareImgItem"in e&&a(5,l=e.compareImgItem)},[m,s,n,()=>a(0,m=!m),i,l]}class J extends e{constructor(e){super(),t(this,e,G,E,a,{mainImgItem:4,compareImgItem:5})}}export{J as default};
//# sourceMappingURL=ModalSimilarity-80b9e50e.js.map

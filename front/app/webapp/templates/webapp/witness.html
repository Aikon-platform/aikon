{% extends "admin/base_site.html" %}
{% load shared_tags static %}

{% block title %}
    {{ view_title }}
{% endblock %}

{% block extrahead %}
    <link rel="stylesheet" href="{% static 'svelte/witnessView/witness.css' %}">
{% endblock %}

{% block content %}
<div class="columns">
    <div class="column is-one-third">
        <div id="witness-panel"></div>
    </div>
    <div class="column is-two-thirds">
        {% if witness.img %}
            <div id="witness-viewer"></div>
        {% else %}
            <div class="notification is-warning">
                <p>
                    {% if APP_LANG == "en" %}
                        This witness has no digitization yet
                    {% else %}
                        Ce témoin ne dispose pas de numérisation
                    {% endif %}
                </p>
            </div>
        {% endif %}
    </div>
</div>

{% endblock %}

{% block extra_js %}
    <script>
      const witness = {{ witness|js|safe }};
      const viewTitle = "{{ view_title }}";
      const editUrl = "{{ witness.edit_url }}";
      const manifest = "{{ manifest }}";
      const manifests = {{ manifests|js|safe }};
    </script>
    <script type="module" src="{% static 'svelte/witnessView/witness.js' %}"></script>
{% endblock %}
